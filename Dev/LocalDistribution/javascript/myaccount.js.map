{"version":3,"sources":["underscore.js","jquery-1.11.1.custom.js","backbone.custom.js","empty_myaccount.js","GlobalViews.Message.View.js","PluginContainer.js","SC.CancelableEvents.js","Backbone.View.js","String.format.js","backbone-validation.js","Utils.js","SC.Configuration.js","Wizard.Module.js","GlobalViews.Pagination.View.js","GlobalViews.ShowingCurrent.View.js","jQuery.ajaxSetup.js","AjaxRequestsKiller.js","Backbone.CompositeView.js","bootstrap.js","bootstrap-datepicker.js","UrlHelper.js","ListHeader.View.js","Backbone.CachedSync.js","Backbone.CachedModel.js","Session.js","Item.KeyMapping.js","ProductLine.Option.Model.js","Item.Option.Model.js","ProductLine.Option.Collection.js","Item.Option.Collection.js","Address.Model.js","Address.Collection.js","CreditCard.Model.js","CreditCard.Collection.js","Singleton.js","bignumber.js","Profile.Model.js","Item.Model.js","Transaction.Line.Option.Model.js","Transaction.Line.Option.Collection.js","ProductLine.Common.Url.js","ProductLine.Common.Image.js","ProductLine.Common.js","Transaction.Line.Model.js","Transaction.Line.Collection.js","Transaction.Shipmethod.Model.js","Transaction.Shipmethod.Collection.js","Transaction.Paymentmethod.Model.js","Transaction.Paymentmethod.Collection.js","Transaction.Model.js","Transaction.Collection.js","Invoice.Model.js","Invoice.Collection.js","backbone.stickit.js","Backbone.FormView.js","handlebars.runtime-v4.0.10.js","PaymentWizard.EditAmount.View.js","HandlebarsExtras.js","Backbone.View.render.js","Backbone.CollectionView.js","RecordViews.View.js","RecordViews.SelectableActionable.View.js","PaymentWizard.Module.Invoice.Subject.View.js","PaymentWizard.Module.Invoice.Action.View.js","PaymentWizard.Module.Invoice.js","PaymentWizard.Module.Summary.js","PaymentWizard.Module.ShowInvoices.js","PaymentWizard.Module.CreditTransaction.Edit.Action.View.js","PaymentWizard.CreditTransaction.Model.js","PaymentWizard.CreditTransaction.Collection.js","LivePayment.Model.js","PaymentWizard.Module.CreditTransaction.js","OrderWizard.Module.PaymentMethod.js","CreditCard.Edit.Form.SecurityCode.Tooltip.View.js","CreditCard.Edit.Form.SecurityCode.View.js","CreditCard.Edit.Form.View.js","LiveOrder.Line.Model.js","LiveOrder.Line.Collection.js","Tracker.js","LiveOrder.Model.js","CreditCard.Edit.View.js","CreditCard.View.js","GlobalViews.Confirmation.View.js","OrderWizard.Module.PaymentMethod.Creditcard.js","PaymentWizard.Module.PaymentMethod.Creditcard.js","GlobalViews.CountriesDropdown.View.js","GlobalViews.States.View.js","Address.Edit.Fields.View.js","Address.Edit.View.js","Address.Details.View.js","OrderWizard.Module.Address.js","OrderWizard.Module.Address.Billing.js","PaymentWizard.Module.Addresses.js","PaymentWizard.Module.Confirmation.js","PaymentWizard.Module.ShowCreditTransaction.js","GlobalViews.FormatPaymentMethod.View.js","OrderWizard.Module.ShowPayments.js","PaymentWizard.Module.ShowPayments.js","PaymentWizard.Module.ConfirmationSummary.js","OrderWizard.Module.PaymentMethod.Invoice.js","OrderWizard.Module.PaymentMethod.PayPal.js","OrderWizard.Module.PaymentMethod.External.js","OrderWizard.Module.PaymentMethod.Selector.js","PaymentWizard.Module.PaymentMethod.Selector.js","Cart.Promocode.List.Item.View.js","Cart.Promocode.List.View.js","OrderWizard.Module.CartSummary.js","Transaction.Line.Views.Option.View.js","Transaction.Line.Views.Options.Selected.View.js","ProductLine.Stock.View.js","Transaction.Line.Views.Price.View.js","ProductLine.Sku.View.js","ProductLine.StockDescription.View.js","Transaction.Line.Views.Tax.js","Transaction.Line.Views.Cell.Navigable.View.js","OrderWizard.Module.CartItems.js","OrderWizard.Module.CartItems.Ship.js","OrderWizard.Module.ShowShipments.js","OrderWizard.Module.TermsAndConditions.js","OrderWizard.Module.SubmitButton.js","QuoteToSalesOrderWizard.Module.QuoteDetails.js","QuoteToSalesOrderWizard.Module.Confirmation.js","QuoteToSalesOrderWizard.Module.PaymentMethod.Selector.js","Header.Logo.View.js","Header.MiniCartSummary.View.js","Header.MiniCartItemCell.View.js","Header.MiniCart.View.js","Product.Option.Model.js","Product.Option.Collection.js","Product.Model.js","ProductList.Item.Model.js","Product.Collection.js","ProductList.Item.Collection.js","ProductList.Model.js","ProductList.Collection.js","ProductList.ControlItem.View.js","ProductList.ControlNewItem.View.js","MenuTree.Node.View.js","MenuTree.View.js","ProductList.Control.View.js","ProductList.ControlSingle.View.js","ErrorManagement.View.js","ErrorManagement.ExpiredLink.View.js","ErrorManagement.ForbiddenError.View.js","ErrorManagement.InternalError.View.js","ErrorManagement.LoggedOut.View.js","ErrorManagement.PageNotFound.View.js","ErrorManagement.ResponseErrorParser.js","ErrorManagement.js","ProductViews.Price.View.js","ProductList.DetailsMinQuantity.View.js","ProductList.DetailsLaterMacro.View.js","ProductList.Edit.View.js","GlobalViews.StarRating.View.js","ProductList.DisplayFull.View.js","ProductList.AddedToCart.View.js","ProductList.ListDetails.View.js","ProductList.Lists.View.js","ProductViews.Option.View.js","ProductDetails.Options.Selector.Pusher.View.js","ProductDetails.Options.Selector.View.js","ProductList.Item.Edit.View.js","ProductList.BulkActions.View.js","ProductList.Details.View.js","ProductList.Deletion.View.js","ProductList.DetailsLater.View.js","Cart.Lines.View.js","Cart.Lines.Free.View.js","Cart.Promocode.Notifications.View.js","Cart.PromocodeForm.View.js","Cart.Promocode.Reason.View.js","Cart.Item.Summary.View.js","Cart.Summary.View.js","Cart.Item.Actions.View.js","jQuery.scStickyButton.js","Cart.Detailed.View.js","jQuery.scPush.js","ProductList.CartSaveForLater.View.js","ProductList.Utils.js","Header.Menu.MyAccount.View.js","Header.Profile.View.js","GlobalViews.HostSelector.View.js","GlobalViews.CurrencySelector.View.js","jQuery.sidebarMenu.js","Header.Menu.View.js","ItemsSearcher.Utils.js","Backbone.CachedCollection.js","Item.Collection.js","typeahead.bundle.js","ItemsSearcher.Collection.js","ItemsSearcher.Item.View.js","ItemsSearcher.View.js","SiteSearch.View.js","Header.View.js","SC.MyAccount.Configuration.js","GlobalViews.Modal.View.js","GlobalViews.BackToTop.View.js","Footer.View.js","GlobalViews.Breadcrumb.View.js","Notifications.Order.Promocodes.View.js","Notifications.Order.View.js","Notifications.Profile.View.js","Notifications.View.js","ApplicationSkeleton.Layout.js","SC.MyAccount.Layout.js","SC.ComponentContainer.js","SC.ComponentErrors.js","SC.BaseComponent.js","SC.BaseComponent.ChildViewsComponent.js","SC.BaseComponent.Plugin.RecollectDataViewSelectors.js","SC.VisualComponent.js","SC.LayoutComponent.js","Console.Polyfill.js","json2.js","ApplicationSkeleton.js","Application.js","Backbone.Model.js","Backbone.Sync.js","Backbone.Validation.callbacks.js","Backbone.Validation.patterns.js","Backbone.View.saveForm.js","Backbone.View.toggleReset.js","Bootstrap.Slider.js","jQuery.serializeObject.js","SC.MyAccount.js","Backbone.View.Plugin.ApplyPermissions.js","Backbone.View.Plugin.Bootstrap.js","Backbone.View.Plugin.DatePicker.js","Backbone.View.Plugin.DebugTemplateName.js","Backbone.View.Plugin.OldIEFix.js","Backbone.View.Plugin.PageGeneratorImages.js","Backbone.View.Plugins.js","Location.Model.js","Location.Collection.js","jquery.cookie.js","Location.ProductLine.js","Location.js","Cart.Confirmation.View.js","Cart.Confirmation.Helpers.js","Cart.AddToCart.Button.View.js","ProductDetails.Information.View.js","ProductDetails.Quantity.View.js","Utilities.ResizeImage.js","SocialSharing.Flyout.Hover.View.js","jquery.zoom.js","jquery.bxslider.custom.js","ProductDetails.ImageGallery.View.js","ProductDetails.AddToProductList.View.js","RecentlyViewedItems.Collection.js","ProductDetails.Base.View.js","ProductDetails.Details.View.js","ProductDetails.Specification.View.js","Accessories.Model.js","Accessories.View.js","ItemRelations.RelatedItem.View.js","ItemRelations.Related.Collection.js","ItemRelations.Related.View.js","ItemRelations.Correlated.Collection.js","ItemRelations.Correlated.View.js","SocialSharing.Flyout.View.js","ProductDetails.Full.View.js","Cart.QuickAddToCart.View.js","Facets.ItemCell.View.js","StoreLocator.Search.View.js","StoreLocator.Model.js","StoreLocator.Collection.js","Location.VenueDetails.View.js","PickupInStore.StoreSelector.List.Row.View.js","PickupInStore.StoreSelector.ItemDetail.View.js","PickupInStore.StoreSelector.List.View.js","PickupInStore.StoreSelector.View.js","ReferenceMap.Configuration.js","ReferenceMap.js","PickupInStore.View.js","PickupInStore.FulfillmentOptions.View.js","PickupInStore.AddToCart.Button.js","PickupInStore.js","jQuery.html.js","Profile.UpdatePassword.View.js","Profile.ChangeEmailAddress.Model.js","Profile.ChangeEmailAddress.View.js","Profile.Information.View.js","Profile.EmailPreferences.View.js","ReturnAuthorization.Model.js","ReturnAuthorization.Collection.js","OrderHistory.Line.Model.js","OrderHistory.Line.Collection.js","OrderHistory.Model.js","OrderHistory.Collection.js","Profile.UpdatePassword.Model.js","Profile.Router.js","MyAccount.Profile.js","Overview.Banner.View.js","Overview.Profile.View.js","Overview.Payment.View.js","Overview.Shipping.View.js","TrackingServices.js","OrderHistory.List.Tracking.Number.View.js","Overview.Home.View.js","Overview.Router.js","Overview.js","Item.js","ProductViews.js","Transaction.Line.Views.js","Cart.Router.js","ICart.Component.js","Cart.Component.js","Cart.js","Address.List.View.js","Address.Router.js","Address.js","Content.DataModels.js","Content.EnhancedViews.js","Content.LandingPages.View.js","Content.LandingPages.Router.js","Content.js","CreditCard.List.View.js","CreditCard.Router.js","CreditCard.js","Categories.Utils.js","Categories.js","ExternalPayment.js","RecordViews.Actionable.View.js","OrderHistory.List.View.js","Transaction.Line.Views.Cell.Actionable.View.js","OrderHistory.Item.Actions.View.js","Transaction.Line.Views.QuantityAmount.View.js","OrderHistory.Payments.View.js","OrderHistory.Other.Payments.View.js","OrderHistory.ReturnAutorization.View.js","OrderHistory.Packages.View.js","ReturnAuthorization.GetReturnableLines.js","OrderHistory.Cancel.View.js","OrderHistory.Summary.View.js","OrderHistory.Details.View.js","OrderHistory.Router.js","OrderHistory.js","ReturnAuthorization.Cancel.View.js","ReturnAuthorization.Detail.View.js","ReturnAuthorization.List.View.js","Transaction.Line.Views.Cell.SelectableActionableNavigable.View.js","ReturnAuthorization.Form.Item.Summary.View.js","ReturnAuthorization.Form.Item.Actions.View.js","ReturnAuthorization.Form.View.js","ReturnAuthorization.Confirmation.View.js","ReturnAuthorization.Router.js","ReturnAuthorization.js","ReorderItems.Actions.Quantity.View.js","ReorderItems.Actions.AddToCart.View.js","ReorderItems.List.View.js","ReorderItems.Model.js","ReorderItems.Collection.js","ReorderItems.Router.js","ReorderItems.js","Receipt.Details.Item.Summary.View.js","Receipt.Details.Item.Actions.View.js","Receipt.Details.View.js","Receipt.Model.js","Receipt.Router.js","Receipt.js","NavigationHelper.js","NavigationHelper.Plugins.Standard.js","NavigationHelper.Plugins.DataTouchPoint.js","NavigationHelper.Plugins.Modals.js","NavigationHelper.Plugins.Pushers.js","GoogleUniversalAnalytics.js","GoogleTagManager.NavigationHelper.Plugins.Standard.js","GoogleTagManager.js","Merchandising.Item.Collection.js","Merchandising.Rule.js","Merchandising.Context.js","Merchandising.View.js","Merchandising.Zone.js","Merchandising.jQueryPlugin.js","Merchandising.js","Balance.View.js","Balance.Router.js","Balance.js","Invoice.Date.View.js","RecordViews.Selectable.View.js","Invoice.OpenList.View.js","Invoice.PaidList.View.js","Invoice.Details.View.js","Invoice.Router.js","Invoice.js","LivePayment.js","Wizard.StepNavigation.View.js","Wizard.View.js","Wizard.Step.js","Wizard.StepGroup.js","Wizard.Router.js","PaymentWizard.View.js","Header.Simplified.View.js","Footer.Simplified.View.js","PaymentWizard.Step.js","PaymentWizard.Router.js","PaymentWizard.js","TransactionHistory.Model.js","TransactionHistory.Collection.js","TransactionHistory.List.View.js","Deposit.Model.js","Deposit.Details.DepositApplication.Link.View.js","Deposit.Details.View.js","DepositApplication.Model.js","DepositApplication.Details.View.js","CreditMemo.Model.js","CreditMemo.Details.View.js","CustomerPayment.Model.js","CustomerPayment.Details.View.js","TransactionHistory.Router.js","TransactionHistory.js","ProductList.Router.js","ProductList.js","PrintStatement.View.js","PrintStatement.Model.js","PrintStatement.Router.js","PrintStatement.js","Quote.Model.js","Quote.Collection.js","Quote.ListExpirationDate.View.js","Quote.List.View.js","Quote.Details.View.js","Quote.Router.js","Quote.js","QuoteToSalesOrderWizard.View.js","QuoteToSalesOrderWizard.Step.js","QuoteToSalesOrderWizard.Router.js","QuoteToSalesOrder.Model.js","QuoteToSalesOrderWizard.js","RequestQuoteAccessPoints.HeaderLink.View.js","RequestQuoteAccessPoints.js","QuickOrderAccessPoints.HeaderLink.View.js","QuickOrderAccessPoints.js","RequestQuoteWizard.View.js","RequestQuoteWizard.Step.js","RequestQuoteWizard.Permission.Error.View.js","RequestQuoteWizard.Router.js","RequestQuoteWizard.Module.Header.js","RequestQuoteWizard.Module.Message.js","QuickAdd.Model.js","QuickAdd.Item.View.js","QuickAdd.ItemsSearcher.Plugins.js","QuickAdd.View.js","RequestQuoteWizard.Module.QuickAdd.js","RequestQuoteWizard.Module.Comments.js","Transaction.Line.Views.Cell.Actionable.Expanded.View.js","RequestQuoteWizard.Module.Items.Line.Actions.View.js","RequestQuoteWizard.Module.Items.Line.Quantity.View.js","RequestQuoteWizard.Module.Items.js","OrderWizard.Module.Address.Shipping.js","OrderWizard.Module.Title.js","RequestQuoteWizard.Module.Confirmation.js","RequestQuoteWizard.Configuration.js","RequestQuoteWizard.js","Case.Model.js","Case.Collection.js","Case.Fields.Model.js","Case.Detail.View.js","Case.Create.View.js","Case.List.View.js","Case.Router.js","Case.js","BrontoIntegration.js","CMSadapter.Landing.View.js","CMSadapter.Page.Model.js","CMSadapter.Page.Collection.js","CMSadapter.Page.Router.js","CMSadapter.Impl.Enhanced.js","CustomContentType.Container.View.js","CMSadapter.Component.js","CMSadapter.js","CMSadapter.Impl.Core.js","CMSadapter.Impl.Core.v2.js","CMSadapter.Impl.Landing.js","CMSadapter.Impl.Landing.v2.js","Facets.Model.js","Facets.Translator.js","Facets.Helper.js","Facets.FacetedNavigationItem.View.js","Facets.FacetedNavigation.View.js","Facets.FacetsDisplay.View.js","Facets.ItemListDisplaySelector.View.js","Facets.ItemListSortSelector.View.js","Facets.ItemListShowSelector.View.js","Facets.Empty.View.js","Facets.Browse.CategoryHeading.View.js","Facets.CategoryCell.View.js","Facets.FacetedNavigationItemCategory.View.js","Facets.Browse.View.js","Categories.Model.js","Facets.Router.js","Categories.Collection.js","CMSadapter.Impl.Categories.js","CMSadapter.Impl.Categories.v2.js","CMSadapter.Impl.Merchandising.js","CMSadapter.Impl.Merchandising.v2.js","CMSadapter.v2.js","CMSadapter.Impl.Core.v3.js","CMSadapter.Impl.Landing.v3.js","CMSadapter.Impl.Categories.v3.js","CMSadapter.Impl.CustomContentType.js","Url.js","sass.js","CMSadapter.Impl.ThemeCustomizerPreview.js","CMSadapter.Impl.Merchandising.v3.js","CMSadapter.Plugin.RecollectCMSSelectors.js","CMSadapter.Plugin.PostRender.js","CMSadapter.v3.js","CMSadapterInstaller.js","Sensors.DataExtractor.js","Sensors.js","QuantityPricing.Utils.js","QuantityPricing.View.js","ProductDetails.QuickView.View.js","QuantityPricing.js","QuickOrder.View.js","QuickOrder.EmptyCart.View.js","QuickOrder.js","StoreLocator.Tooltip.View.js","ReferenceMap.Promise.Handler.js","GoogleMap.js","GoogleMap.Configuration.js","StoreLocatorAccessPoints.HeaderLink.View.js","StoreLocatorAccessPoints.js","CustomContentType.Base.View.js","SC.CCT.Html.View.js","SC.CCT.Html.js","SC.MyAccount.Starter.Dependencies.js","SC.Extensions.js","SC.MyAccount.Starter.js","SC.MyAccount.Starter.index.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACx8CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3tPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7jDA;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AJvOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AKAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrgBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACh1BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AR3NA;ASAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AT/HA;AUAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AVvGA;AWAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AbzEA;AcAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzpBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACryDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5/CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvgBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7oEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC/DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC1FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AjDvIA;AkDAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClqBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC/MA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnrBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC1HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5MA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AxD1MA;AyDAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AzD3FA;A0DAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A1DtEA;A2DAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A3DlCA;A4DAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A5D1BA;A6DAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A7DlTA;A8DAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A9DnFA;A+DAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A/D1DA;AgEAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AhExBA;AiEAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACdA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3OA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ArElBA;AAAA;AsEAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AvEtCA;AwEAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AxE3GA;AyEAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC/XA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A7E3NA;A8EAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A9EzEA;A+EAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A/E3GA;AAAA;AAAA;AgFAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5aA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AjFvCA;AAAA;AAAA;AkFAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AlFvCA;AmFAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ArFvGA;AsFAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AtF1FA;AAAA;AAAA;AuFAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC/fA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AzF1DA;A0FAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A1F9CA;A2FAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A3F/DA;A4FAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A5FnEA;A6FAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A9FhCA;A+FAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A/FvCA;AgGAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AhGlEA;AiGAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AjGvDA;AkGAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AlGrEA;AmGAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ApGnDA;AqGAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ArGvEA;AsGAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AtGvFA;AAAA;AuGAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AxGzHA;AyGAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AzGhDA;A0GAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A1G7CA;A2GAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A3G7DA;A4GAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A5GzCA;A6GAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A7GjCA;A8GAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A9GlCA;A+GAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A/GlGA;AgHAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AhH/EA;AiHAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AjHpHA;AkHAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AlHhIA;AmHAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AnHtFA;AoHAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ApHxCA;AqHAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ArH9BA;AsHAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AvH7BA;AwHAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AxH3CA;AyHAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AzHjDA;A0HAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A1HlDA;A2HAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A3H1FA;A4HAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AnIvBA;AAAA;AoIAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ApI5FA;AqIAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ArIzEA;AsIAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AtI9CA;AuIAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AxIhUA;AyIAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AzI9FA;A0IAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A3IhDA;A4IAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A5IxCA;A6IAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A7IjDA;A8IAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A9I3CA;A+IAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AjJvNA;AAAA;AkJAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AlJlGA;AmJAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AnJpCA;AoJAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ApJrEA;AqJAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ArJlGA;AsJAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AtJ/DA;AuJAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AvJtFA;AwJAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AxJ9EA;AAAA;AyJAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A3JhHA;A4JAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A5JpCA;A6JAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A7JnFA;A8JAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A9JpPA;AAAA;A+JAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AhKhbA;AiKAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AjKhEA;AkKAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AlK9JA;AmKAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AnKnHA;AoKAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ApKvJA;AqKAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ArKxGA;AsKAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AtKpHA;AuKAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AvK7CA;AwKAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AxK1HA;AyKAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AzKrLA;A0KAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A1K7CA;A2KAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC1ZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9KA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AhL/EA;AiLAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AjLxDA;AkLAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AlLlHA;AmLAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AnL9DA;AoLAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC1uDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A1L3CA;A2LAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A3L3DA;A4LAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A5L1UA;A6LAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A7L7KA;A8LAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A/LrTA;AgMAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AhMrCA;AiMAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AjMtBA;AkMAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AlMhDA;AmMAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AnM5CA;AoMAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ApMlHA;AqMAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ArM9DA;AsMAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AtM/EA;AuMAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AxM/eA;AyMAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC1EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3KA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC1BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AzOlFA;A0OAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A3OhGA;A4OAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A5OxHA;A6OAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A7O7FA;A8OAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A/OrBA;AgPAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AhPrBA;AiPAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC/KA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnzCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AnPtJA;AoPAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AtPvVA;AuPAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AvPhCA;AwPAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AxPxjBA;AyPAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A1P3BA;A2PAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC1EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A5P9CA;AAAA;AAAA;A6PAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A9PvCA;A+PAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A/P5DA;AgQAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AhQrBA;AiQAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AjQrGA;AkQAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AnQhHA;AAAA;AAAA;AoQAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ApQnLA;AqQAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AtQrBA;AAAA;AuQAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AxQ7FA;AyQAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A9Q9LA;A+QAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AlR7CA;AmRAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ApRxCA;AqRAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ArRhDA;AsRAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AtRpHA;AuRAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACdA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACfA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC/GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AhSnGA;AiSAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AjSvCA;AkSAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AlS5CA;AmSAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AnStCA;AoSAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC1CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ArS1KA;AsSAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AtS7DA;AuSAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A1S1CA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;A2SAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChmBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACziBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AhTlEA;AiTAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7MA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ArT5JA;AAAA;AsTAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AxT7FA;AyTAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC/EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A9TvEA;A+TAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A/ThEA;AgUAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AhUxNA;AiUAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AjUrHA;AkUAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AlU1CA;AmUAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AnU/BA;AoUAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ApUpEA;AqUAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ArUnCA;AsUAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AtUpDA;AuUAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC1IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AxUhGA;AyUAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AzUhCA;A0UAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A1UxIA;A2UAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACthBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A7UxCA;A8UAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A9U/BA;A+UAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A/U5MA;AgVAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AhVrKA;AiVAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AjVvGA;AkVAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AlV/BA;AmVAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AnV3CA;AoVAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ApVlTA;AqVAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AvV/BA;AwVAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AxV/DA;AyVAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AzV1CA;A0VAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5SA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC1CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A9V/BA;A+VAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A/VzCA;AgWAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AhWvCA;AiWAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACfA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7KA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A/W9HA;AAAA;AAAA;AgXAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9KA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC1BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AnXtEA;AoXAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AtX9BA;AuXAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AvX7BA;AwXAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AxX/DA;AyXAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AzX9VA;A0XAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A1X3KA;A2XAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC1BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A9XhBA;AAAA;A+XAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AhYtFA;AiYAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC/cA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AnYlUA;AoYAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ApYpCA;AqYAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ArY7BA;AsYAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AtY7CA;AuYAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A3YnBA;A4YAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A7YzBA;A8YAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A9Y9BA;A+YAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AhZ1BA;AiZAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AlZvEA;AmZAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC1IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ApZfA;AqZAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AzZ9CA;A0ZAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A/Z/CA;AgaAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;Aha1BA;AiaAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;Aja7MA;AkaAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7LA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;Apa/BA;AqaAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;Ara9BA;AsaAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;Aza1BA;A0aAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A3atCA;A4aAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A7atCA;A8aAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A9a/CA;A+aAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A/a1CA;AgbAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AjbrDA;AkbAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AlblDA;AmbAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC/BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;Atb/DA;AAAA;AubAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AvbnSA;AwbAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AxblGA;AybAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;Azb5DA;A0bAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A1b3FA;A2bAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A3b9BA;A4bAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A5bvGA;A6bAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A9bnFA;A+bAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A/b/GA;AgcAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ArcrBA;AscAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;Atc1FA;AucAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AvcxFA;AwcAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A3czCA;A4cAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACdA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AhdnGA;AidAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9XA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC/CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpgBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A1d9BA;A2dAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A3djMA;A4dAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A5d/EA;A6dAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A7dhDA;A8dAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A9drCA;A+dAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A/d9CA;AgeAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AhetCA;AieAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;Aje1BA;AkeAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AlehCA;AmeAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AnejCA;AoeAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ApelFA;AAAA;AAAA;AAAA;AqeAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxiBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACplBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC/BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A5fxGA;A6fAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A7fjEA;A8fAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A/fjFA;AggBAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AhgBrEA;AigBAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AlgBvCA;AmgBAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AtgBxDA;AugBAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AzgBxFA;A0gBAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"myaccount.js","sourcesContent":["//     Underscore.js 1.8.3\n//     http://underscorejs.org\n//     (c) 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n//     Underscore may be freely distributed under the MIT license.\n(function () {\n    // Baseline setup\n    // --------------\n    // Establish the root object, `window` in the browser, or `exports` on the server.\n    var root = this;\n    // Save the previous value of the `_` variable.\n    var previousUnderscore = root._;\n    // Save bytes in the minified (but not gzipped) version:\n    var ArrayProto = Array.prototype, ObjProto = Object.prototype, FuncProto = Function.prototype;\n    // Create quick reference variables for speed access to core prototypes.\n    var push = ArrayProto.push, slice = ArrayProto.slice, toString = ObjProto.toString, hasOwnProperty = ObjProto.hasOwnProperty;\n    // All **ECMAScript 5** native function implementations that we hope to use\n    // are declared here.\n    var nativeIsArray = Array.isArray, nativeKeys = Object.keys, nativeBind = FuncProto.bind, nativeCreate = Object.create;\n    // Naked function reference for surrogate-prototype-swapping.\n    var Ctor = function () {\n    };\n    // Create a safe reference to the Underscore object for use below.\n    var _ = function (obj) {\n        if (obj instanceof _)\n            return obj;\n        if (!(this instanceof _))\n            return new _(obj);\n        this._wrapped = obj;\n    };\n    // Export the Underscore object for **Node.js**, with\n    // backwards-compatibility for the old `require()` API. If we're in\n    // the browser, add `_` as a global object.\n    if (typeof exports !== 'undefined') {\n        if (typeof module !== 'undefined' && module.exports) {\n            exports = module.exports = _;\n        }\n        exports._ = _;\n    } else {\n        root._ = _;\n    }\n    // Current version.\n    _.VERSION = '1.8.3';\n    // Internal function that returns an efficient (for current engines) version\n    // of the passed-in callback, to be repeatedly applied in other Underscore\n    // functions.\n    var optimizeCb = function (func, context, argCount) {\n        if (context === void 0)\n            return func;\n        switch (argCount == null ? 3 : argCount) {\n        case 1:\n            return function (value) {\n                return func.call(context, value);\n            };\n        case 2:\n            return function (value, other) {\n                return func.call(context, value, other);\n            };\n        case 3:\n            return function (value, index, collection) {\n                return func.call(context, value, index, collection);\n            };\n        case 4:\n            return function (accumulator, value, index, collection) {\n                return func.call(context, accumulator, value, index, collection);\n            };\n        }\n        return function () {\n            return func.apply(context, arguments);\n        };\n    };\n    // A mostly-internal function to generate callbacks that can be applied\n    // to each element in a collection, returning the desired result — either\n    // identity, an arbitrary callback, a property matcher, or a property accessor.\n    var cb = function (value, context, argCount) {\n        if (value == null)\n            return _.identity;\n        if (_.isFunction(value))\n            return optimizeCb(value, context, argCount);\n        if (_.isObject(value))\n            return _.matcher(value);\n        return _.property(value);\n    };\n    _.iteratee = function (value, context) {\n        return cb(value, context, Infinity);\n    };\n    // An internal function for creating assigner functions.\n    var createAssigner = function (keysFunc, undefinedOnly) {\n        return function (obj) {\n            var length = arguments.length;\n            if (length < 2 || obj == null)\n                return obj;\n            for (var index = 1; index < length; index++) {\n                var source = arguments[index], keys = keysFunc(source), l = keys.length;\n                for (var i = 0; i < l; i++) {\n                    var key = keys[i];\n                    if (!undefinedOnly || obj[key] === void 0)\n                        obj[key] = source[key];\n                }\n            }\n            return obj;\n        };\n    };\n    // An internal function for creating a new object that inherits from another.\n    var baseCreate = function (prototype) {\n        if (!_.isObject(prototype))\n            return {};\n        if (nativeCreate)\n            return nativeCreate(prototype);\n        Ctor.prototype = prototype;\n        var result = new Ctor();\n        Ctor.prototype = null;\n        return result;\n    };\n    var property = function (key) {\n        return function (obj) {\n            return obj == null ? void 0 : obj[key];\n        };\n    };\n    // Helper for collection methods to determine whether a collection\n    // should be iterated as an array or as an object\n    // Related: http://people.mozilla.org/~jorendorff/es6-draft.html#sec-tolength\n    // Avoids a very nasty iOS 8 JIT bug on ARM-64. #2094\n    var MAX_ARRAY_INDEX = Math.pow(2, 53) - 1;\n    var getLength = property('length');\n    var isArrayLike = function (collection) {\n        var length = getLength(collection);\n        return typeof length == 'number' && length >= 0 && length <= MAX_ARRAY_INDEX;\n    };\n    // Collection Functions\n    // --------------------\n    // The cornerstone, an `each` implementation, aka `forEach`.\n    // Handles raw objects in addition to array-likes. Treats all\n    // sparse array-likes as if they were dense.\n    _.each = _.forEach = function (obj, iteratee, context) {\n        iteratee = optimizeCb(iteratee, context);\n        var i, length;\n        if (isArrayLike(obj)) {\n            for (i = 0, length = obj.length; i < length; i++) {\n                iteratee(obj[i], i, obj);\n            }\n        } else {\n            var keys = _.keys(obj);\n            for (i = 0, length = keys.length; i < length; i++) {\n                iteratee(obj[keys[i]], keys[i], obj);\n            }\n        }\n        return obj;\n    };\n    // Return the results of applying the iteratee to each element.\n    _.map = _.collect = function (obj, iteratee, context) {\n        iteratee = cb(iteratee, context);\n        var keys = !isArrayLike(obj) && _.keys(obj), length = (keys || obj).length, results = Array(length);\n        for (var index = 0; index < length; index++) {\n            var currentKey = keys ? keys[index] : index;\n            results[index] = iteratee(obj[currentKey], currentKey, obj);\n        }\n        return results;\n    };\n    // Create a reducing function iterating left or right.\n    function createReduce(dir) {\n        // Optimized iterator function as using arguments.length\n        // in the main function will deoptimize the, see #1991.\n        function iterator(obj, iteratee, memo, keys, index, length) {\n            for (; index >= 0 && index < length; index += dir) {\n                var currentKey = keys ? keys[index] : index;\n                memo = iteratee(memo, obj[currentKey], currentKey, obj);\n            }\n            return memo;\n        }\n        return function (obj, iteratee, memo, context) {\n            iteratee = optimizeCb(iteratee, context, 4);\n            var keys = !isArrayLike(obj) && _.keys(obj), length = (keys || obj).length, index = dir > 0 ? 0 : length - 1;\n            // Determine the initial value if none is provided.\n            if (arguments.length < 3) {\n                memo = obj[keys ? keys[index] : index];\n                index += dir;\n            }\n            return iterator(obj, iteratee, memo, keys, index, length);\n        };\n    }\n    // **Reduce** builds up a single result from a list of values, aka `inject`,\n    // or `foldl`.\n    _.reduce = _.foldl = _.inject = createReduce(1);\n    // The right-associative version of reduce, also known as `foldr`.\n    _.reduceRight = _.foldr = createReduce(-1);\n    // Return the first value which passes a truth test. Aliased as `detect`.\n    _.find = _.detect = function (obj, predicate, context) {\n        var key;\n        if (isArrayLike(obj)) {\n            key = _.findIndex(obj, predicate, context);\n        } else {\n            key = _.findKey(obj, predicate, context);\n        }\n        if (key !== void 0 && key !== -1)\n            return obj[key];\n    };\n    // Return all the elements that pass a truth test.\n    // Aliased as `select`.\n    _.filter = _.select = function (obj, predicate, context) {\n        var results = [];\n        predicate = cb(predicate, context);\n        _.each(obj, function (value, index, list) {\n            if (predicate(value, index, list))\n                results.push(value);\n        });\n        return results;\n    };\n    // Return all the elements for which a truth test fails.\n    _.reject = function (obj, predicate, context) {\n        return _.filter(obj, _.negate(cb(predicate)), context);\n    };\n    // Determine whether all of the elements match a truth test.\n    // Aliased as `all`.\n    _.every = _.all = function (obj, predicate, context) {\n        predicate = cb(predicate, context);\n        var keys = !isArrayLike(obj) && _.keys(obj), length = (keys || obj).length;\n        for (var index = 0; index < length; index++) {\n            var currentKey = keys ? keys[index] : index;\n            if (!predicate(obj[currentKey], currentKey, obj))\n                return false;\n        }\n        return true;\n    };\n    // Determine if at least one element in the object matches a truth test.\n    // Aliased as `any`.\n    _.some = _.any = function (obj, predicate, context) {\n        predicate = cb(predicate, context);\n        var keys = !isArrayLike(obj) && _.keys(obj), length = (keys || obj).length;\n        for (var index = 0; index < length; index++) {\n            var currentKey = keys ? keys[index] : index;\n            if (predicate(obj[currentKey], currentKey, obj))\n                return true;\n        }\n        return false;\n    };\n    // Determine if the array or object contains a given item (using `===`).\n    // Aliased as `includes` and `include`.\n    _.contains = _.includes = _.include = function (obj, item, fromIndex, guard) {\n        if (!isArrayLike(obj))\n            obj = _.values(obj);\n        if (typeof fromIndex != 'number' || guard)\n            fromIndex = 0;\n        return _.indexOf(obj, item, fromIndex) >= 0;\n    };\n    // Invoke a method (with arguments) on every item in a collection.\n    _.invoke = function (obj, method) {\n        var args = slice.call(arguments, 2);\n        var isFunc = _.isFunction(method);\n        return _.map(obj, function (value) {\n            var func = isFunc ? method : value[method];\n            return func == null ? func : func.apply(value, args);\n        });\n    };\n    // Convenience version of a common use case of `map`: fetching a property.\n    _.pluck = function (obj, key) {\n        return _.map(obj, _.property(key));\n    };\n    // Convenience version of a common use case of `filter`: selecting only objects\n    // containing specific `key:value` pairs.\n    _.where = function (obj, attrs) {\n        return _.filter(obj, _.matcher(attrs));\n    };\n    // Convenience version of a common use case of `find`: getting the first object\n    // containing specific `key:value` pairs.\n    _.findWhere = function (obj, attrs) {\n        return _.find(obj, _.matcher(attrs));\n    };\n    // Return the maximum element (or element-based computation).\n    _.max = function (obj, iteratee, context) {\n        var result = -Infinity, lastComputed = -Infinity, value, computed;\n        if (iteratee == null && obj != null) {\n            obj = isArrayLike(obj) ? obj : _.values(obj);\n            for (var i = 0, length = obj.length; i < length; i++) {\n                value = obj[i];\n                if (value > result) {\n                    result = value;\n                }\n            }\n        } else {\n            iteratee = cb(iteratee, context);\n            _.each(obj, function (value, index, list) {\n                computed = iteratee(value, index, list);\n                if (computed > lastComputed || computed === -Infinity && result === -Infinity) {\n                    result = value;\n                    lastComputed = computed;\n                }\n            });\n        }\n        return result;\n    };\n    // Return the minimum element (or element-based computation).\n    _.min = function (obj, iteratee, context) {\n        var result = Infinity, lastComputed = Infinity, value, computed;\n        if (iteratee == null && obj != null) {\n            obj = isArrayLike(obj) ? obj : _.values(obj);\n            for (var i = 0, length = obj.length; i < length; i++) {\n                value = obj[i];\n                if (value < result) {\n                    result = value;\n                }\n            }\n        } else {\n            iteratee = cb(iteratee, context);\n            _.each(obj, function (value, index, list) {\n                computed = iteratee(value, index, list);\n                if (computed < lastComputed || computed === Infinity && result === Infinity) {\n                    result = value;\n                    lastComputed = computed;\n                }\n            });\n        }\n        return result;\n    };\n    // Shuffle a collection, using the modern version of the\n    // [Fisher-Yates shuffle](http://en.wikipedia.org/wiki/Fisher–Yates_shuffle).\n    _.shuffle = function (obj) {\n        var set = isArrayLike(obj) ? obj : _.values(obj);\n        var length = set.length;\n        var shuffled = Array(length);\n        for (var index = 0, rand; index < length; index++) {\n            rand = _.random(0, index);\n            if (rand !== index)\n                shuffled[index] = shuffled[rand];\n            shuffled[rand] = set[index];\n        }\n        return shuffled;\n    };\n    // Sample **n** random values from a collection.\n    // If **n** is not specified, returns a single random element.\n    // The internal `guard` argument allows it to work with `map`.\n    _.sample = function (obj, n, guard) {\n        if (n == null || guard) {\n            if (!isArrayLike(obj))\n                obj = _.values(obj);\n            return obj[_.random(obj.length - 1)];\n        }\n        return _.shuffle(obj).slice(0, Math.max(0, n));\n    };\n    // Sort the object's values by a criterion produced by an iteratee.\n    _.sortBy = function (obj, iteratee, context) {\n        iteratee = cb(iteratee, context);\n        return _.pluck(_.map(obj, function (value, index, list) {\n            return {\n                value: value,\n                index: index,\n                criteria: iteratee(value, index, list)\n            };\n        }).sort(function (left, right) {\n            var a = left.criteria;\n            var b = right.criteria;\n            if (a !== b) {\n                if (a > b || a === void 0)\n                    return 1;\n                if (a < b || b === void 0)\n                    return -1;\n            }\n            return left.index - right.index;\n        }), 'value');\n    };\n    // An internal function used for aggregate \"group by\" operations.\n    var group = function (behavior) {\n        return function (obj, iteratee, context) {\n            var result = {};\n            iteratee = cb(iteratee, context);\n            _.each(obj, function (value, index) {\n                var key = iteratee(value, index, obj);\n                behavior(result, value, key);\n            });\n            return result;\n        };\n    };\n    // Groups the object's values by a criterion. Pass either a string attribute\n    // to group by, or a function that returns the criterion.\n    _.groupBy = group(function (result, value, key) {\n        if (_.has(result, key))\n            result[key].push(value);\n        else\n            result[key] = [value];\n    });\n    // Indexes the object's values by a criterion, similar to `groupBy`, but for\n    // when you know that your index values will be unique.\n    _.indexBy = group(function (result, value, key) {\n        result[key] = value;\n    });\n    // Counts instances of an object that group by a certain criterion. Pass\n    // either a string attribute to count by, or a function that returns the\n    // criterion.\n    _.countBy = group(function (result, value, key) {\n        if (_.has(result, key))\n            result[key]++;\n        else\n            result[key] = 1;\n    });\n    // Safely create a real, live array from anything iterable.\n    _.toArray = function (obj) {\n        if (!obj)\n            return [];\n        if (_.isArray(obj))\n            return slice.call(obj);\n        if (isArrayLike(obj))\n            return _.map(obj, _.identity);\n        return _.values(obj);\n    };\n    // Return the number of elements in an object.\n    _.size = function (obj) {\n        if (obj == null)\n            return 0;\n        return isArrayLike(obj) ? obj.length : _.keys(obj).length;\n    };\n    // Split a collection into two arrays: one whose elements all satisfy the given\n    // predicate, and one whose elements all do not satisfy the predicate.\n    _.partition = function (obj, predicate, context) {\n        predicate = cb(predicate, context);\n        var pass = [], fail = [];\n        _.each(obj, function (value, key, obj) {\n            (predicate(value, key, obj) ? pass : fail).push(value);\n        });\n        return [\n            pass,\n            fail\n        ];\n    };\n    // Array Functions\n    // ---------------\n    // Get the first element of an array. Passing **n** will return the first N\n    // values in the array. Aliased as `head` and `take`. The **guard** check\n    // allows it to work with `_.map`.\n    _.first = _.head = _.take = function (array, n, guard) {\n        if (array == null)\n            return void 0;\n        if (n == null || guard)\n            return array[0];\n        return _.initial(array, array.length - n);\n    };\n    // Returns everything but the last entry of the array. Especially useful on\n    // the arguments object. Passing **n** will return all the values in\n    // the array, excluding the last N.\n    _.initial = function (array, n, guard) {\n        return slice.call(array, 0, Math.max(0, array.length - (n == null || guard ? 1 : n)));\n    };\n    // Get the last element of an array. Passing **n** will return the last N\n    // values in the array.\n    _.last = function (array, n, guard) {\n        if (array == null)\n            return void 0;\n        if (n == null || guard)\n            return array[array.length - 1];\n        return _.rest(array, Math.max(0, array.length - n));\n    };\n    // Returns everything but the first entry of the array. Aliased as `tail` and `drop`.\n    // Especially useful on the arguments object. Passing an **n** will return\n    // the rest N values in the array.\n    _.rest = _.tail = _.drop = function (array, n, guard) {\n        return slice.call(array, n == null || guard ? 1 : n);\n    };\n    // Trim out all falsy values from an array.\n    _.compact = function (array) {\n        return _.filter(array, _.identity);\n    };\n    // Internal implementation of a recursive `flatten` function.\n    var flatten = function (input, shallow, strict, startIndex) {\n        var output = [], idx = 0;\n        for (var i = startIndex || 0, length = getLength(input); i < length; i++) {\n            var value = input[i];\n            if (isArrayLike(value) && (_.isArray(value) || _.isArguments(value))) {\n                //flatten current level of array or arguments object\n                if (!shallow)\n                    value = flatten(value, shallow, strict);\n                var j = 0, len = value.length;\n                output.length += len;\n                while (j < len) {\n                    output[idx++] = value[j++];\n                }\n            } else if (!strict) {\n                output[idx++] = value;\n            }\n        }\n        return output;\n    };\n    // Flatten out an array, either recursively (by default), or just one level.\n    _.flatten = function (array, shallow) {\n        return flatten(array, shallow, false);\n    };\n    // Return a version of the array that does not contain the specified value(s).\n    _.without = function (array) {\n        return _.difference(array, slice.call(arguments, 1));\n    };\n    // Produce a duplicate-free version of the array. If the array has already\n    // been sorted, you have the option of using a faster algorithm.\n    // Aliased as `unique`.\n    _.uniq = _.unique = function (array, isSorted, iteratee, context) {\n        if (!_.isBoolean(isSorted)) {\n            context = iteratee;\n            iteratee = isSorted;\n            isSorted = false;\n        }\n        if (iteratee != null)\n            iteratee = cb(iteratee, context);\n        var result = [];\n        var seen = [];\n        for (var i = 0, length = getLength(array); i < length; i++) {\n            var value = array[i], computed = iteratee ? iteratee(value, i, array) : value;\n            if (isSorted) {\n                if (!i || seen !== computed)\n                    result.push(value);\n                seen = computed;\n            } else if (iteratee) {\n                if (!_.contains(seen, computed)) {\n                    seen.push(computed);\n                    result.push(value);\n                }\n            } else if (!_.contains(result, value)) {\n                result.push(value);\n            }\n        }\n        return result;\n    };\n    // Produce an array that contains the union: each distinct element from all of\n    // the passed-in arrays.\n    _.union = function () {\n        return _.uniq(flatten(arguments, true, true));\n    };\n    // Produce an array that contains every item shared between all the\n    // passed-in arrays.\n    _.intersection = function (array) {\n        var result = [];\n        var argsLength = arguments.length;\n        for (var i = 0, length = getLength(array); i < length; i++) {\n            var item = array[i];\n            if (_.contains(result, item))\n                continue;\n            for (var j = 1; j < argsLength; j++) {\n                if (!_.contains(arguments[j], item))\n                    break;\n            }\n            if (j === argsLength)\n                result.push(item);\n        }\n        return result;\n    };\n    // Take the difference between one array and a number of other arrays.\n    // Only the elements present in just the first array will remain.\n    _.difference = function (array) {\n        var rest = flatten(arguments, true, true, 1);\n        return _.filter(array, function (value) {\n            return !_.contains(rest, value);\n        });\n    };\n    // Zip together multiple lists into a single array -- elements that share\n    // an index go together.\n    _.zip = function () {\n        return _.unzip(arguments);\n    };\n    // Complement of _.zip. Unzip accepts an array of arrays and groups\n    // each array's elements on shared indices\n    _.unzip = function (array) {\n        var length = array && _.max(array, getLength).length || 0;\n        var result = Array(length);\n        for (var index = 0; index < length; index++) {\n            result[index] = _.pluck(array, index);\n        }\n        return result;\n    };\n    // Converts lists into objects. Pass either a single array of `[key, value]`\n    // pairs, or two parallel arrays of the same length -- one of keys, and one of\n    // the corresponding values.\n    _.object = function (list, values) {\n        var result = {};\n        for (var i = 0, length = getLength(list); i < length; i++) {\n            if (values) {\n                result[list[i]] = values[i];\n            } else {\n                result[list[i][0]] = list[i][1];\n            }\n        }\n        return result;\n    };\n    // Generator function to create the findIndex and findLastIndex functions\n    function createPredicateIndexFinder(dir) {\n        return function (array, predicate, context) {\n            predicate = cb(predicate, context);\n            var length = getLength(array);\n            var index = dir > 0 ? 0 : length - 1;\n            for (; index >= 0 && index < length; index += dir) {\n                if (predicate(array[index], index, array))\n                    return index;\n            }\n            return -1;\n        };\n    }\n    // Returns the first index on an array-like that passes a predicate test\n    _.findIndex = createPredicateIndexFinder(1);\n    _.findLastIndex = createPredicateIndexFinder(-1);\n    // Use a comparator function to figure out the smallest index at which\n    // an object should be inserted so as to maintain order. Uses binary search.\n    _.sortedIndex = function (array, obj, iteratee, context) {\n        iteratee = cb(iteratee, context, 1);\n        var value = iteratee(obj);\n        var low = 0, high = getLength(array);\n        while (low < high) {\n            var mid = Math.floor((low + high) / 2);\n            if (iteratee(array[mid]) < value)\n                low = mid + 1;\n            else\n                high = mid;\n        }\n        return low;\n    };\n    // Generator function to create the indexOf and lastIndexOf functions\n    function createIndexFinder(dir, predicateFind, sortedIndex) {\n        return function (array, item, idx) {\n            var i = 0, length = getLength(array);\n            if (typeof idx == 'number') {\n                if (dir > 0) {\n                    i = idx >= 0 ? idx : Math.max(idx + length, i);\n                } else {\n                    length = idx >= 0 ? Math.min(idx + 1, length) : idx + length + 1;\n                }\n            } else if (sortedIndex && idx && length) {\n                idx = sortedIndex(array, item);\n                return array[idx] === item ? idx : -1;\n            }\n            if (item !== item) {\n                idx = predicateFind(slice.call(array, i, length), _.isNaN);\n                return idx >= 0 ? idx + i : -1;\n            }\n            for (idx = dir > 0 ? i : length - 1; idx >= 0 && idx < length; idx += dir) {\n                if (array[idx] === item)\n                    return idx;\n            }\n            return -1;\n        };\n    }\n    // Return the position of the first occurrence of an item in an array,\n    // or -1 if the item is not included in the array.\n    // If the array is large and already in sort order, pass `true`\n    // for **isSorted** to use binary search.\n    _.indexOf = createIndexFinder(1, _.findIndex, _.sortedIndex);\n    _.lastIndexOf = createIndexFinder(-1, _.findLastIndex);\n    // Generate an integer Array containing an arithmetic progression. A port of\n    // the native Python `range()` function. See\n    // [the Python documentation](http://docs.python.org/library/functions.html#range).\n    _.range = function (start, stop, step) {\n        if (stop == null) {\n            stop = start || 0;\n            start = 0;\n        }\n        step = step || 1;\n        var length = Math.max(Math.ceil((stop - start) / step), 0);\n        var range = Array(length);\n        for (var idx = 0; idx < length; idx++, start += step) {\n            range[idx] = start;\n        }\n        return range;\n    };\n    // Function (ahem) Functions\n    // ------------------\n    // Determines whether to execute a function as a constructor\n    // or a normal function with the provided arguments\n    var executeBound = function (sourceFunc, boundFunc, context, callingContext, args) {\n        if (!(callingContext instanceof boundFunc))\n            return sourceFunc.apply(context, args);\n        var self = baseCreate(sourceFunc.prototype);\n        var result = sourceFunc.apply(self, args);\n        if (_.isObject(result))\n            return result;\n        return self;\n    };\n    // Create a function bound to a given object (assigning `this`, and arguments,\n    // optionally). Delegates to **ECMAScript 5**'s native `Function.bind` if\n    // available.\n    _.bind = function (func, context) {\n        if (nativeBind && func.bind === nativeBind)\n            return nativeBind.apply(func, slice.call(arguments, 1));\n        if (!_.isFunction(func))\n            throw new TypeError('Bind must be called on a function');\n        var args = slice.call(arguments, 2);\n        var bound = function () {\n            return executeBound(func, bound, context, this, args.concat(slice.call(arguments)));\n        };\n        return bound;\n    };\n    // Partially apply a function by creating a version that has had some of its\n    // arguments pre-filled, without changing its dynamic `this` context. _ acts\n    // as a placeholder, allowing any combination of arguments to be pre-filled.\n    _.partial = function (func) {\n        var boundArgs = slice.call(arguments, 1);\n        var bound = function () {\n            var position = 0, length = boundArgs.length;\n            var args = Array(length);\n            for (var i = 0; i < length; i++) {\n                args[i] = boundArgs[i] === _ ? arguments[position++] : boundArgs[i];\n            }\n            while (position < arguments.length)\n                args.push(arguments[position++]);\n            return executeBound(func, bound, this, this, args);\n        };\n        return bound;\n    };\n    // Bind a number of an object's methods to that object. Remaining arguments\n    // are the method names to be bound. Useful for ensuring that all callbacks\n    // defined on an object belong to it.\n    _.bindAll = function (obj) {\n        var i, length = arguments.length, key;\n        if (length <= 1)\n            throw new Error('bindAll must be passed function names');\n        for (i = 1; i < length; i++) {\n            key = arguments[i];\n            obj[key] = _.bind(obj[key], obj);\n        }\n        return obj;\n    };\n    // Memoize an expensive function by storing its results.\n    _.memoize = function (func, hasher) {\n        var memoize = function (key) {\n            var cache = memoize.cache;\n            var address = '' + (hasher ? hasher.apply(this, arguments) : key);\n            if (!_.has(cache, address))\n                cache[address] = func.apply(this, arguments);\n            return cache[address];\n        };\n        memoize.cache = {};\n        return memoize;\n    };\n    // Delays a function for the given number of milliseconds, and then calls\n    // it with the arguments supplied.\n    _.delay = function (func, wait) {\n        var args = slice.call(arguments, 2);\n        return setTimeout(function () {\n            return func.apply(null, args);\n        }, wait);\n    };\n    // Defers a function, scheduling it to run after the current call stack has\n    // cleared.\n    _.defer = _.partial(_.delay, _, 1);\n    // Returns a function, that, when invoked, will only be triggered at most once\n    // during a given window of time. Normally, the throttled function will run\n    // as much as it can, without ever going more than once per `wait` duration;\n    // but if you'd like to disable the execution on the leading edge, pass\n    // `{leading: false}`. To disable execution on the trailing edge, ditto.\n    _.throttle = function (func, wait, options) {\n        var context, args, result;\n        var timeout = null;\n        var previous = 0;\n        if (!options)\n            options = {};\n        var later = function () {\n            previous = options.leading === false ? 0 : _.now();\n            timeout = null;\n            result = func.apply(context, args);\n            if (!timeout)\n                context = args = null;\n        };\n        return function () {\n            var now = _.now();\n            if (!previous && options.leading === false)\n                previous = now;\n            var remaining = wait - (now - previous);\n            context = this;\n            args = arguments;\n            if (remaining <= 0 || remaining > wait) {\n                if (timeout) {\n                    clearTimeout(timeout);\n                    timeout = null;\n                }\n                previous = now;\n                result = func.apply(context, args);\n                if (!timeout)\n                    context = args = null;\n            } else if (!timeout && options.trailing !== false) {\n                timeout = setTimeout(later, remaining);\n            }\n            return result;\n        };\n    };\n    // Returns a function, that, as long as it continues to be invoked, will not\n    // be triggered. The function will be called after it stops being called for\n    // N milliseconds. If `immediate` is passed, trigger the function on the\n    // leading edge, instead of the trailing.\n    _.debounce = function (func, wait, immediate) {\n        var timeout, args, context, timestamp, result;\n        var later = function () {\n            var last = _.now() - timestamp;\n            if (last < wait && last >= 0) {\n                timeout = setTimeout(later, wait - last);\n            } else {\n                timeout = null;\n                if (!immediate) {\n                    result = func.apply(context, args);\n                    if (!timeout)\n                        context = args = null;\n                }\n            }\n        };\n        return function () {\n            context = this;\n            args = arguments;\n            timestamp = _.now();\n            var callNow = immediate && !timeout;\n            if (!timeout)\n                timeout = setTimeout(later, wait);\n            if (callNow) {\n                result = func.apply(context, args);\n                context = args = null;\n            }\n            return result;\n        };\n    };\n    // Returns the first function passed as an argument to the second,\n    // allowing you to adjust arguments, run code before and after, and\n    // conditionally execute the original function.\n    _.wrap = function (func, wrapper) {\n        return _.partial(wrapper, func);\n    };\n    // Returns a negated version of the passed-in predicate.\n    _.negate = function (predicate) {\n        return function () {\n            return !predicate.apply(this, arguments);\n        };\n    };\n    // Returns a function that is the composition of a list of functions, each\n    // consuming the return value of the function that follows.\n    _.compose = function () {\n        var args = arguments;\n        var start = args.length - 1;\n        return function () {\n            var i = start;\n            var result = args[start].apply(this, arguments);\n            while (i--)\n                result = args[i].call(this, result);\n            return result;\n        };\n    };\n    // Returns a function that will only be executed on and after the Nth call.\n    _.after = function (times, func) {\n        return function () {\n            if (--times < 1) {\n                return func.apply(this, arguments);\n            }\n        };\n    };\n    // Returns a function that will only be executed up to (but not including) the Nth call.\n    _.before = function (times, func) {\n        var memo;\n        return function () {\n            if (--times > 0) {\n                memo = func.apply(this, arguments);\n            }\n            if (times <= 1)\n                func = null;\n            return memo;\n        };\n    };\n    // Returns a function that will be executed at most one time, no matter how\n    // often you call it. Useful for lazy initialization.\n    _.once = _.partial(_.before, 2);\n    // Object Functions\n    // ----------------\n    // Keys in IE < 9 that won't be iterated by `for key in ...` and thus missed.\n    var hasEnumBug = !{ toString: null }.propertyIsEnumerable('toString');\n    var nonEnumerableProps = [\n        'valueOf',\n        'isPrototypeOf',\n        'toString',\n        'propertyIsEnumerable',\n        'hasOwnProperty',\n        'toLocaleString'\n    ];\n    function collectNonEnumProps(obj, keys) {\n        var nonEnumIdx = nonEnumerableProps.length;\n        var constructor = obj.constructor;\n        var proto = _.isFunction(constructor) && constructor.prototype || ObjProto;\n        // Constructor is a special case.\n        var prop = 'constructor';\n        if (_.has(obj, prop) && !_.contains(keys, prop))\n            keys.push(prop);\n        while (nonEnumIdx--) {\n            prop = nonEnumerableProps[nonEnumIdx];\n            if (prop in obj && obj[prop] !== proto[prop] && !_.contains(keys, prop)) {\n                keys.push(prop);\n            }\n        }\n    }\n    // Retrieve the names of an object's own properties.\n    // Delegates to **ECMAScript 5**'s native `Object.keys`\n    _.keys = function (obj) {\n        if (!_.isObject(obj))\n            return [];\n        if (nativeKeys)\n            return nativeKeys(obj);\n        var keys = [];\n        for (var key in obj)\n            if (_.has(obj, key))\n                keys.push(key);\n        // Ahem, IE < 9.\n        if (hasEnumBug)\n            collectNonEnumProps(obj, keys);\n        return keys;\n    };\n    // Retrieve all the property names of an object.\n    _.allKeys = function (obj) {\n        if (!_.isObject(obj))\n            return [];\n        var keys = [];\n        for (var key in obj)\n            keys.push(key);\n        // Ahem, IE < 9.\n        if (hasEnumBug)\n            collectNonEnumProps(obj, keys);\n        return keys;\n    };\n    // Retrieve the values of an object's properties.\n    _.values = function (obj) {\n        var keys = _.keys(obj);\n        var length = keys.length;\n        var values = Array(length);\n        for (var i = 0; i < length; i++) {\n            values[i] = obj[keys[i]];\n        }\n        return values;\n    };\n    // Returns the results of applying the iteratee to each element of the object\n    // In contrast to _.map it returns an object\n    _.mapObject = function (obj, iteratee, context) {\n        iteratee = cb(iteratee, context);\n        var keys = _.keys(obj), length = keys.length, results = {}, currentKey;\n        for (var index = 0; index < length; index++) {\n            currentKey = keys[index];\n            results[currentKey] = iteratee(obj[currentKey], currentKey, obj);\n        }\n        return results;\n    };\n    // Convert an object into a list of `[key, value]` pairs.\n    _.pairs = function (obj) {\n        var keys = _.keys(obj);\n        var length = keys.length;\n        var pairs = Array(length);\n        for (var i = 0; i < length; i++) {\n            pairs[i] = [\n                keys[i],\n                obj[keys[i]]\n            ];\n        }\n        return pairs;\n    };\n    // Invert the keys and values of an object. The values must be serializable.\n    _.invert = function (obj) {\n        var result = {};\n        var keys = _.keys(obj);\n        for (var i = 0, length = keys.length; i < length; i++) {\n            result[obj[keys[i]]] = keys[i];\n        }\n        return result;\n    };\n    // Return a sorted list of the function names available on the object.\n    // Aliased as `methods`\n    _.functions = _.methods = function (obj) {\n        var names = [];\n        for (var key in obj) {\n            if (_.isFunction(obj[key]))\n                names.push(key);\n        }\n        return names.sort();\n    };\n    // Extend a given object with all the properties in passed-in object(s).\n    _.extend = createAssigner(_.allKeys);\n    // Assigns a given object with all the own properties in the passed-in object(s)\n    // (https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object/assign)\n    _.extendOwn = _.assign = createAssigner(_.keys);\n    // Returns the first key on an object that passes a predicate test\n    _.findKey = function (obj, predicate, context) {\n        predicate = cb(predicate, context);\n        var keys = _.keys(obj), key;\n        for (var i = 0, length = keys.length; i < length; i++) {\n            key = keys[i];\n            if (predicate(obj[key], key, obj))\n                return key;\n        }\n    };\n    // Return a copy of the object only containing the whitelisted properties.\n    _.pick = function (object, oiteratee, context) {\n        var result = {}, obj = object, iteratee, keys;\n        if (obj == null)\n            return result;\n        if (_.isFunction(oiteratee)) {\n            keys = _.allKeys(obj);\n            iteratee = optimizeCb(oiteratee, context);\n        } else {\n            keys = flatten(arguments, false, false, 1);\n            iteratee = function (value, key, obj) {\n                return key in obj;\n            };\n            obj = Object(obj);\n        }\n        for (var i = 0, length = keys.length; i < length; i++) {\n            var key = keys[i];\n            var value = obj[key];\n            if (iteratee(value, key, obj))\n                result[key] = value;\n        }\n        return result;\n    };\n    // Return a copy of the object without the blacklisted properties.\n    _.omit = function (obj, iteratee, context) {\n        if (_.isFunction(iteratee)) {\n            iteratee = _.negate(iteratee);\n        } else {\n            var keys = _.map(flatten(arguments, false, false, 1), String);\n            iteratee = function (value, key) {\n                return !_.contains(keys, key);\n            };\n        }\n        return _.pick(obj, iteratee, context);\n    };\n    // Fill in a given object with default properties.\n    _.defaults = createAssigner(_.allKeys, true);\n    // Creates an object that inherits from the given prototype object.\n    // If additional properties are provided then they will be added to the\n    // created object.\n    _.create = function (prototype, props) {\n        var result = baseCreate(prototype);\n        if (props)\n            _.extendOwn(result, props);\n        return result;\n    };\n    // Create a (shallow-cloned) duplicate of an object.\n    _.clone = function (obj) {\n        if (!_.isObject(obj))\n            return obj;\n        return _.isArray(obj) ? obj.slice() : _.extend({}, obj);\n    };\n    // Invokes interceptor with the obj, and then returns obj.\n    // The primary purpose of this method is to \"tap into\" a method chain, in\n    // order to perform operations on intermediate results within the chain.\n    _.tap = function (obj, interceptor) {\n        interceptor(obj);\n        return obj;\n    };\n    // Returns whether an object has a given set of `key:value` pairs.\n    _.isMatch = function (object, attrs) {\n        var keys = _.keys(attrs), length = keys.length;\n        if (object == null)\n            return !length;\n        var obj = Object(object);\n        for (var i = 0; i < length; i++) {\n            var key = keys[i];\n            if (attrs[key] !== obj[key] || !(key in obj))\n                return false;\n        }\n        return true;\n    };\n    // Internal recursive comparison function for `isEqual`.\n    var eq = function (a, b, aStack, bStack) {\n        // Identical objects are equal. `0 === -0`, but they aren't identical.\n        // See the [Harmony `egal` proposal](http://wiki.ecmascript.org/doku.php?id=harmony:egal).\n        if (a === b)\n            return a !== 0 || 1 / a === 1 / b;\n        // A strict comparison is necessary because `null == undefined`.\n        if (a == null || b == null)\n            return a === b;\n        // Unwrap any wrapped objects.\n        if (a instanceof _)\n            a = a._wrapped;\n        if (b instanceof _)\n            b = b._wrapped;\n        // Compare `[[Class]]` names.\n        var className = toString.call(a);\n        if (className !== toString.call(b))\n            return false;\n        switch (className) {\n        // Strings, numbers, regular expressions, dates, and booleans are compared by value.\n        case '[object RegExp]':\n        // RegExps are coerced to strings for comparison (Note: '' + /a/i === '/a/i')\n        case '[object String]':\n            // Primitives and their corresponding object wrappers are equivalent; thus, `\"5\"` is\n            // equivalent to `new String(\"5\")`.\n            return '' + a === '' + b;\n        case '[object Number]':\n            // `NaN`s are equivalent, but non-reflexive.\n            // Object(NaN) is equivalent to NaN\n            if (+a !== +a)\n                return +b !== +b;\n            // An `egal` comparison is performed for other numeric values.\n            return +a === 0 ? 1 / +a === 1 / b : +a === +b;\n        case '[object Date]':\n        case '[object Boolean]':\n            // Coerce dates and booleans to numeric primitive values. Dates are compared by their\n            // millisecond representations. Note that invalid dates with millisecond representations\n            // of `NaN` are not equivalent.\n            return +a === +b;\n        }\n        var areArrays = className === '[object Array]';\n        if (!areArrays) {\n            if (typeof a != 'object' || typeof b != 'object')\n                return false;\n            // Objects with different constructors are not equivalent, but `Object`s or `Array`s\n            // from different frames are.\n            var aCtor = a.constructor, bCtor = b.constructor;\n            if (aCtor !== bCtor && !(_.isFunction(aCtor) && aCtor instanceof aCtor && _.isFunction(bCtor) && bCtor instanceof bCtor) && ('constructor' in a && 'constructor' in b)) {\n                return false;\n            }\n        }\n        // Assume equality for cyclic structures. The algorithm for detecting cyclic\n        // structures is adapted from ES 5.1 section 15.12.3, abstract operation `JO`.\n        // Initializing stack of traversed objects.\n        // It's done here since we only need them for objects and arrays comparison.\n        aStack = aStack || [];\n        bStack = bStack || [];\n        var length = aStack.length;\n        while (length--) {\n            // Linear search. Performance is inversely proportional to the number of\n            // unique nested structures.\n            if (aStack[length] === a)\n                return bStack[length] === b;\n        }\n        // Add the first object to the stack of traversed objects.\n        aStack.push(a);\n        bStack.push(b);\n        // Recursively compare objects and arrays.\n        if (areArrays) {\n            // Compare array lengths to determine if a deep comparison is necessary.\n            length = a.length;\n            if (length !== b.length)\n                return false;\n            // Deep compare the contents, ignoring non-numeric properties.\n            while (length--) {\n                if (!eq(a[length], b[length], aStack, bStack))\n                    return false;\n            }\n        } else {\n            // Deep compare objects.\n            var keys = _.keys(a), key;\n            length = keys.length;\n            // Ensure that both objects contain the same number of properties before comparing deep equality.\n            if (_.keys(b).length !== length)\n                return false;\n            while (length--) {\n                // Deep compare each member\n                key = keys[length];\n                if (!(_.has(b, key) && eq(a[key], b[key], aStack, bStack)))\n                    return false;\n            }\n        }\n        // Remove the first object from the stack of traversed objects.\n        aStack.pop();\n        bStack.pop();\n        return true;\n    };\n    // Perform a deep comparison to check if two objects are equal.\n    _.isEqual = function (a, b) {\n        return eq(a, b);\n    };\n    // Is a given array, string, or object empty?\n    // An \"empty\" object has no enumerable own-properties.\n    _.isEmpty = function (obj) {\n        if (obj == null)\n            return true;\n        if (isArrayLike(obj) && (_.isArray(obj) || _.isString(obj) || _.isArguments(obj)))\n            return obj.length === 0;\n        return _.keys(obj).length === 0;\n    };\n    // Is a given value a DOM element?\n    _.isElement = function (obj) {\n        return !!(obj && obj.nodeType === 1);\n    };\n    // Is a given value an array?\n    // Delegates to ECMA5's native Array.isArray\n    _.isArray = nativeIsArray || function (obj) {\n        return toString.call(obj) === '[object Array]';\n    };\n    // Is a given variable an object?\n    _.isObject = function (obj) {\n        var type = typeof obj;\n        return type === 'function' || type === 'object' && !!obj;\n    };\n    // Add some isType methods: isArguments, isFunction, isString, isNumber, isDate, isRegExp, isError.\n    _.each([\n        'Arguments',\n        'Function',\n        'String',\n        'Number',\n        'Date',\n        'RegExp',\n        'Error'\n    ], function (name) {\n        _['is' + name] = function (obj) {\n            return toString.call(obj) === '[object ' + name + ']';\n        };\n    });\n    // Define a fallback version of the method in browsers (ahem, IE < 9), where\n    // there isn't any inspectable \"Arguments\" type.\n    if (!_.isArguments(arguments)) {\n        _.isArguments = function (obj) {\n            return _.has(obj, 'callee');\n        };\n    }\n    // Optimize `isFunction` if appropriate. Work around some typeof bugs in old v8,\n    // IE 11 (#1621), and in Safari 8 (#1929).\n    if (typeof /./ != 'function' && typeof Int8Array != 'object') {\n        _.isFunction = function (obj) {\n            return typeof obj == 'function' || false;\n        };\n    }\n    // Is a given object a finite number?\n    _.isFinite = function (obj) {\n        return isFinite(obj) && !isNaN(parseFloat(obj));\n    };\n    // Is the given value `NaN`? (NaN is the only number which does not equal itself).\n    _.isNaN = function (obj) {\n        return _.isNumber(obj) && obj !== +obj;\n    };\n    // Is a given value a boolean?\n    _.isBoolean = function (obj) {\n        return obj === true || obj === false || toString.call(obj) === '[object Boolean]';\n    };\n    // Is a given value equal to null?\n    _.isNull = function (obj) {\n        return obj === null;\n    };\n    // Is a given variable undefined?\n    _.isUndefined = function (obj) {\n        return obj === void 0;\n    };\n    // Shortcut function for checking if an object has a given property directly\n    // on itself (in other words, not on a prototype).\n    _.has = function (obj, key) {\n        return obj != null && hasOwnProperty.call(obj, key);\n    };\n    // Utility Functions\n    // -----------------\n    // Run Underscore.js in *noConflict* mode, returning the `_` variable to its\n    // previous owner. Returns a reference to the Underscore object.\n    _.noConflict = function () {\n        root._ = previousUnderscore;\n        return this;\n    };\n    // Keep the identity function around for default iteratees.\n    _.identity = function (value) {\n        return value;\n    };\n    // Predicate-generating functions. Often useful outside of Underscore.\n    _.constant = function (value) {\n        return function () {\n            return value;\n        };\n    };\n    _.noop = function () {\n    };\n    _.property = property;\n    // Generates a function for a given object that returns a given property.\n    _.propertyOf = function (obj) {\n        return obj == null ? function () {\n        } : function (key) {\n            return obj[key];\n        };\n    };\n    // Returns a predicate for checking whether an object has a given set of\n    // `key:value` pairs.\n    _.matcher = _.matches = function (attrs) {\n        attrs = _.extendOwn({}, attrs);\n        return function (obj) {\n            return _.isMatch(obj, attrs);\n        };\n    };\n    // Run a function **n** times.\n    _.times = function (n, iteratee, context) {\n        var accum = Array(Math.max(0, n));\n        iteratee = optimizeCb(iteratee, context, 1);\n        for (var i = 0; i < n; i++)\n            accum[i] = iteratee(i);\n        return accum;\n    };\n    // Return a random integer between min and max (inclusive).\n    _.random = function (min, max) {\n        if (max == null) {\n            max = min;\n            min = 0;\n        }\n        return min + Math.floor(Math.random() * (max - min + 1));\n    };\n    // A (possibly faster) way to get the current timestamp as an integer.\n    _.now = Date.now || function () {\n        return new Date().getTime();\n    };\n    // List of HTML entities for escaping.\n    var escapeMap = {\n        '&': '&amp;',\n        '<': '&lt;',\n        '>': '&gt;',\n        '\"': '&quot;',\n        '\\'': '&#x27;',\n        '`': '&#x60;'\n    };\n    var unescapeMap = _.invert(escapeMap);\n    // Functions for escaping and unescaping strings to/from HTML interpolation.\n    var createEscaper = function (map) {\n        var escaper = function (match) {\n            return map[match];\n        };\n        // Regexes for identifying a key that needs to be escaped\n        var source = '(?:' + _.keys(map).join('|') + ')';\n        var testRegexp = RegExp(source);\n        var replaceRegexp = RegExp(source, 'g');\n        return function (string) {\n            string = string == null ? '' : '' + string;\n            return testRegexp.test(string) ? string.replace(replaceRegexp, escaper) : string;\n        };\n    };\n    _.escape = createEscaper(escapeMap);\n    _.unescape = createEscaper(unescapeMap);\n    // If the value of the named `property` is a function then invoke it with the\n    // `object` as context; otherwise, return it.\n    _.result = function (object, property, fallback) {\n        var value = object == null ? void 0 : object[property];\n        if (value === void 0) {\n            value = fallback;\n        }\n        return _.isFunction(value) ? value.call(object) : value;\n    };\n    // Generate a unique integer id (unique within the entire client session).\n    // Useful for temporary DOM ids.\n    var idCounter = 0;\n    _.uniqueId = function (prefix) {\n        var id = ++idCounter + '';\n        return prefix ? prefix + id : id;\n    };\n    // By default, Underscore uses ERB-style template delimiters, change the\n    // following template settings to use alternative delimiters.\n    _.templateSettings = {\n        evaluate: /<%([\\s\\S]+?)%>/g,\n        interpolate: /<%=([\\s\\S]+?)%>/g,\n        escape: /<%-([\\s\\S]+?)%>/g\n    };\n    // When customizing `templateSettings`, if you don't want to define an\n    // interpolation, evaluation or escaping regex, we need one that is\n    // guaranteed not to match.\n    var noMatch = /(.)^/;\n    // Certain characters need to be escaped so that they can be put into a\n    // string literal.\n    var escapes = {\n        '\\'': '\\'',\n        '\\\\': '\\\\',\n        '\\r': 'r',\n        '\\n': 'n',\n        '\\u2028': 'u2028',\n        '\\u2029': 'u2029'\n    };\n    var escaper = /\\\\|'|\\r|\\n|\\u2028|\\u2029/g;\n    var escapeChar = function (match) {\n        return '\\\\' + escapes[match];\n    };\n    // JavaScript micro-templating, similar to John Resig's implementation.\n    // Underscore templating handles arbitrary delimiters, preserves whitespace,\n    // and correctly escapes quotes within interpolated code.\n    // NB: `oldSettings` only exists for backwards compatibility.\n    _.template = function (text, settings, oldSettings) {\n        if (!settings && oldSettings)\n            settings = oldSettings;\n        settings = _.defaults({}, settings, _.templateSettings);\n        // Combine delimiters into one regular expression via alternation.\n        var matcher = RegExp([\n            (settings.escape || noMatch).source,\n            (settings.interpolate || noMatch).source,\n            (settings.evaluate || noMatch).source\n        ].join('|') + '|$', 'g');\n        // Compile the template source, escaping string literals appropriately.\n        var index = 0;\n        var source = '__p+=\\'';\n        text.replace(matcher, function (match, escape, interpolate, evaluate, offset) {\n            source += text.slice(index, offset).replace(escaper, escapeChar);\n            index = offset + match.length;\n            if (escape) {\n                source += '\\'+\\n((__t=(' + escape + '))==null?\\'\\':_.escape(__t))+\\n\\'';\n            } else if (interpolate) {\n                source += '\\'+\\n((__t=(' + interpolate + '))==null?\\'\\':__t)+\\n\\'';\n            } else if (evaluate) {\n                source += '\\';\\n' + evaluate + '\\n__p+=\\'';\n            }\n            // Adobe VMs need the match returned to produce the correct offest.\n            return match;\n        });\n        source += '\\';\\n';\n        // If a variable is not specified, place data values in local scope.\n        if (!settings.variable)\n            source = 'with(obj||{}){\\n' + source + '}\\n';\n        source = 'var __t,__p=\\'\\',__j=Array.prototype.join,' + 'print=function(){__p+=__j.call(arguments,\\'\\');};\\n' + source + 'return __p;\\n';\n        try {\n            var render = new Function(settings.variable || 'obj', '_', source);\n        } catch (e) {\n            e.source = source;\n            throw e;\n        }\n        var template = function (data) {\n            return render.call(this, data, _);\n        };\n        // Provide the compiled source as a convenience for precompilation.\n        var argument = settings.variable || 'obj';\n        template.source = 'function(' + argument + '){\\n' + source + '}';\n        return template;\n    };\n    // Add a \"chain\" function. Start chaining a wrapped Underscore object.\n    _.chain = function (obj) {\n        var instance = _(obj);\n        instance._chain = true;\n        return instance;\n    };\n    // OOP\n    // ---------------\n    // If Underscore is called as a function, it returns a wrapped object that\n    // can be used OO-style. This wrapper holds altered versions of all the\n    // underscore functions. Wrapped objects may be chained.\n    // Helper function to continue chaining intermediate results.\n    var result = function (instance, obj) {\n        return instance._chain ? _(obj).chain() : obj;\n    };\n    // Add your own custom functions to the Underscore object.\n    _.mixin = function (obj) {\n        _.each(_.functions(obj), function (name) {\n            var func = _[name] = obj[name];\n            _.prototype[name] = function () {\n                var args = [this._wrapped];\n                push.apply(args, arguments);\n                return result(this, func.apply(_, args));\n            };\n        });\n    };\n    // Add all of the Underscore functions to the wrapper object.\n    _.mixin(_);\n    // Add all mutator Array functions to the wrapper.\n    _.each([\n        'pop',\n        'push',\n        'reverse',\n        'shift',\n        'sort',\n        'splice',\n        'unshift'\n    ], function (name) {\n        var method = ArrayProto[name];\n        _.prototype[name] = function () {\n            var obj = this._wrapped;\n            method.apply(obj, arguments);\n            if ((name === 'shift' || name === 'splice') && obj.length === 0)\n                delete obj[0];\n            return result(this, obj);\n        };\n    });\n    // Add all accessor Array functions to the wrapper.\n    _.each([\n        'concat',\n        'join',\n        'slice'\n    ], function (name) {\n        var method = ArrayProto[name];\n        _.prototype[name] = function () {\n            return result(this, method.apply(this._wrapped, arguments));\n        };\n    });\n    // Extracts the result from a wrapped and chained object.\n    _.prototype.value = function () {\n        return this._wrapped;\n    };\n    // Provide unwrapping proxy for some methods used in engine operations\n    // such as arithmetic and JSON stringification.\n    _.prototype.valueOf = _.prototype.toJSON = _.prototype.value;\n    _.prototype.toString = function () {\n        return '' + this._wrapped;\n    };\n    // AMD registration happens at the end for compatibility with AMD loaders\n    // that may not enforce next-turn semantics on modules. Even though general\n    // practice for AMD registration is to be anonymous, underscore registers\n    // as a named module because, like jQuery, it is a base library that is\n    // popular enough to be bundled in a third party lib, but not be part of\n    // an AMD load request. Those cases could generate an error when an\n    // anonymous define() is called outside of a loader request.\n    if (typeof define === 'function' && define.amd) {\n        define('underscore', [], function () {\n            return _;\n        });\n    }\n}.call(this));","/*!\n * jQuery JavaScript Library v1.11.1\n * http://jquery.com/\n *\n * Includes Sizzle.js\n * http://sizzlejs.com/\n *\n * Copyright 2005, 2014 jQuery Foundation, Inc. and other contributors\n * Released under the MIT license\n * http://jquery.org/license\n *\n * Date: 2014-05-01T17:42Z\n */\ndefine('jQuery', [], function () {\n    (function (global, factory) {\n        if (typeof module === 'object' && typeof module.exports === 'object') {\n            // For CommonJS and CommonJS-like environments where a proper window is present,\n            // execute the factory and get jQuery\n            // For environments that do not inherently posses a window with a document\n            // (such as Node.js), expose a jQuery-making factory as module.exports\n            // This accentuates the need for the creation of a real window\n            // e.g. var jQuery = require(\"jquery\")(window);\n            // See ticket #14549 for more info\n            module.exports = global.document ? factory(global, true) : function (w) {\n                if (!w.document) {\n                    throw new Error('jQuery requires a window with a document');\n                }\n                return factory(w);\n            };\n        } else {\n            factory(global);\n        }    // Pass this if window is not defined yet\n    }(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n        // Can't do this because several apps including ASP.NET trace\n        // the stack via arguments.caller.callee and Firefox dies if\n        // you try to trace through \"use strict\" call chains. (#13335)\n        // Support: Firefox 18+\n        //\n        var deletedIds = [];\n        var slice = deletedIds.slice;\n        var concat = deletedIds.concat;\n        var push = deletedIds.push;\n        var indexOf = deletedIds.indexOf;\n        var class2type = {};\n        var toString = class2type.toString;\n        var hasOwn = class2type.hasOwnProperty;\n        var support = {};\n        var version = '1.11.1',\n            // Define a local copy of jQuery\n            jQuery = function (selector, context) {\n                // The jQuery object is actually just the init constructor 'enhanced'\n                // Need init if jQuery is called (just allow error to be thrown if not included)\n                return new jQuery.fn.init(selector, context);\n            },\n            // Support: Android<4.1, IE<9\n            // Make sure we trim BOM and NBSP\n            rtrim = /^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g,\n            // Matches dashed string for camelizing\n            rmsPrefix = /^-ms-/, rdashAlpha = /-([\\da-z])/gi,\n            // Used by jQuery.camelCase as callback to replace()\n            fcamelCase = function (all, letter) {\n                return letter.toUpperCase();\n            };\n        jQuery.fn = jQuery.prototype = {\n            // The current version of jQuery being used\n            jquery: version,\n            constructor: jQuery,\n            // Start with an empty selector\n            selector: '',\n            // The default length of a jQuery object is 0\n            length: 0,\n            toArray: function () {\n                return slice.call(this);\n            },\n            // Get the Nth element in the matched element set OR\n            // Get the whole matched element set as a clean array\n            get: function (num) {\n                return num != null ? // Return just the one element from the set\n                num < 0 ? this[num + this.length] : this[num] : // Return all the elements in a clean array\n                slice.call(this);\n            },\n            // Take an array of elements and push it onto the stack\n            // (returning the new matched element set)\n            pushStack: function (elems) {\n                // Build a new jQuery matched element set\n                var ret = jQuery.merge(this.constructor(), elems);\n                // Add the old object onto the stack (as a reference)\n                ret.prevObject = this;\n                ret.context = this.context;\n                // Return the newly-formed element set\n                return ret;\n            },\n            // Execute a callback for every element in the matched set.\n            // (You can seed the arguments with an array of args, but this is\n            // only used internally.)\n            each: function (callback, args) {\n                return jQuery.each(this, callback, args);\n            },\n            map: function (callback) {\n                return this.pushStack(jQuery.map(this, function (elem, i) {\n                    return callback.call(elem, i, elem);\n                }));\n            },\n            slice: function () {\n                return this.pushStack(slice.apply(this, arguments));\n            },\n            first: function () {\n                return this.eq(0);\n            },\n            last: function () {\n                return this.eq(-1);\n            },\n            eq: function (i) {\n                var len = this.length, j = +i + (i < 0 ? len : 0);\n                return this.pushStack(j >= 0 && j < len ? [this[j]] : []);\n            },\n            end: function () {\n                return this.prevObject || this.constructor(null);\n            },\n            // For internal use only.\n            // Behaves like an Array's method, not like a jQuery method.\n            push: push,\n            sort: deletedIds.sort,\n            splice: deletedIds.splice\n        };\n        jQuery.extend = jQuery.fn.extend = function () {\n            var src, copyIsArray, copy, name, options, clone, target = arguments[0] || {}, i = 1, length = arguments.length, deep = false;\n            // Handle a deep copy situation\n            if (typeof target === 'boolean') {\n                deep = target;\n                // skip the boolean and the target\n                target = arguments[i] || {};\n                i++;\n            }\n            // Handle case when target is a string or something (possible in deep copy)\n            if (typeof target !== 'object' && !jQuery.isFunction(target)) {\n                target = {};\n            }\n            // extend jQuery itself if only one argument is passed\n            if (i === length) {\n                target = this;\n                i--;\n            }\n            for (; i < length; i++) {\n                // Only deal with non-null/undefined values\n                if ((options = arguments[i]) != null) {\n                    // Extend the base object\n                    for (name in options) {\n                        src = target[name];\n                        copy = options[name];\n                        // Prevent never-ending loop\n                        if (target === copy) {\n                            continue;\n                        }\n                        // Recurse if we're merging plain objects or arrays\n                        if (deep && copy && (jQuery.isPlainObject(copy) || (copyIsArray = jQuery.isArray(copy)))) {\n                            if (copyIsArray) {\n                                copyIsArray = false;\n                                clone = src && jQuery.isArray(src) ? src : [];\n                            } else {\n                                clone = src && jQuery.isPlainObject(src) ? src : {};\n                            }\n                            // Never move original objects, clone them\n                            target[name] = jQuery.extend(deep, clone, copy);    // Don't bring in undefined values\n                        } else if (copy !== undefined) {\n                            target[name] = copy;\n                        }\n                    }\n                }\n            }\n            // Return the modified object\n            return target;\n        };\n        jQuery.extend({\n            // Unique for each copy of jQuery on the page\n            expando: 'jQuery' + (version + Math.random()).replace(/\\D/g, ''),\n            // Assume jQuery is ready without the ready module\n            isReady: true,\n            error: function (msg) {\n                throw new Error(msg);\n            },\n            noop: function () {\n            },\n            // See test/unit/core.js for details concerning isFunction.\n            // Since version 1.3, DOM methods and functions like alert\n            // aren't supported. They return false on IE (#2968).\n            isFunction: function (obj) {\n                return jQuery.type(obj) === 'function';\n            },\n            isArray: Array.isArray || function (obj) {\n                return jQuery.type(obj) === 'array';\n            },\n            isWindow: function (obj) {\n                /* jshint eqeqeq: false */\n                return obj != null && obj == obj.window;\n            },\n            isNumeric: function (obj) {\n                // parseFloat NaNs numeric-cast false positives (null|true|false|\"\")\n                // ...but misinterprets leading-number strings, particularly hex literals (\"0x...\")\n                // subtraction forces infinities to NaN\n                return !jQuery.isArray(obj) && obj - parseFloat(obj) >= 0;\n            },\n            isEmptyObject: function (obj) {\n                var name;\n                for (name in obj) {\n                    return false;\n                }\n                return true;\n            },\n            isPlainObject: function (obj) {\n                var key;\n                // Must be an Object.\n                // Because of IE, we also have to check the presence of the constructor property.\n                // Make sure that DOM nodes and window objects don't pass through, as well\n                if (!obj || jQuery.type(obj) !== 'object' || obj.nodeType || jQuery.isWindow(obj)) {\n                    return false;\n                }\n                try {\n                    // Not own constructor property must be Object\n                    if (obj.constructor && !hasOwn.call(obj, 'constructor') && !hasOwn.call(obj.constructor.prototype, 'isPrototypeOf')) {\n                        return false;\n                    }\n                } catch (e) {\n                    // IE8,9 Will throw exceptions on certain host objects #9897\n                    return false;\n                }\n                // Support: IE<9\n                // Handle iteration over inherited properties before own properties.\n                if (support.ownLast) {\n                    for (key in obj) {\n                        return hasOwn.call(obj, key);\n                    }\n                }\n                // Own properties are enumerated firstly, so to speed up,\n                // if last one is own, then all properties are own.\n                for (key in obj) {\n                }\n                return key === undefined || hasOwn.call(obj, key);\n            },\n            type: function (obj) {\n                if (obj == null) {\n                    return obj + '';\n                }\n                return typeof obj === 'object' || typeof obj === 'function' ? class2type[toString.call(obj)] || 'object' : typeof obj;\n            },\n            // Evaluates a script in a global context\n            // Workarounds based on findings by Jim Driscoll\n            // http://weblogs.java.net/blog/driscoll/archive/2009/09/08/eval-javascript-global-context\n            globalEval: function (data) {\n                if (data && jQuery.trim(data)) {\n                    // We use execScript on Internet Explorer\n                    // We use an anonymous function so that context is window\n                    // rather than jQuery in Firefox\n                    (window.execScript || function (data) {\n                        window['eval'].call(window, data);\n                    })(data);\n                }\n            },\n            // Convert dashed to camelCase; used by the css and data modules\n            // Microsoft forgot to hump their vendor prefix (#9572)\n            camelCase: function (string) {\n                return string.replace(rmsPrefix, 'ms-').replace(rdashAlpha, fcamelCase);\n            },\n            nodeName: function (elem, name) {\n                return elem.nodeName && elem.nodeName.toLowerCase() === name.toLowerCase();\n            },\n            // args is for internal usage only\n            each: function (obj, callback, args) {\n                var value, i = 0, length = obj.length, isArray = isArraylike(obj);\n                if (args) {\n                    if (isArray) {\n                        for (; i < length; i++) {\n                            value = callback.apply(obj[i], args);\n                            if (value === false) {\n                                break;\n                            }\n                        }\n                    } else {\n                        for (i in obj) {\n                            value = callback.apply(obj[i], args);\n                            if (value === false) {\n                                break;\n                            }\n                        }\n                    }    // A special, fast, case for the most common use of each\n                } else {\n                    if (isArray) {\n                        for (; i < length; i++) {\n                            value = callback.call(obj[i], i, obj[i]);\n                            if (value === false) {\n                                break;\n                            }\n                        }\n                    } else {\n                        for (i in obj) {\n                            value = callback.call(obj[i], i, obj[i]);\n                            if (value === false) {\n                                break;\n                            }\n                        }\n                    }\n                }\n                return obj;\n            },\n            // Support: Android<4.1, IE<9\n            trim: function (text) {\n                return text == null ? '' : (text + '').replace(rtrim, '');\n            },\n            // results is for internal usage only\n            makeArray: function (arr, results) {\n                var ret = results || [];\n                if (arr != null) {\n                    if (isArraylike(Object(arr))) {\n                        jQuery.merge(ret, typeof arr === 'string' ? [arr] : arr);\n                    } else {\n                        push.call(ret, arr);\n                    }\n                }\n                return ret;\n            },\n            inArray: function (elem, arr, i) {\n                var len;\n                if (arr) {\n                    if (indexOf) {\n                        return indexOf.call(arr, elem, i);\n                    }\n                    len = arr.length;\n                    i = i ? i < 0 ? Math.max(0, len + i) : i : 0;\n                    for (; i < len; i++) {\n                        // Skip accessing in sparse arrays\n                        if (i in arr && arr[i] === elem) {\n                            return i;\n                        }\n                    }\n                }\n                return -1;\n            },\n            merge: function (first, second) {\n                var len = +second.length, j = 0, i = first.length;\n                while (j < len) {\n                    first[i++] = second[j++];\n                }\n                // Support: IE<9\n                // Workaround casting of .length to NaN on otherwise arraylike objects (e.g., NodeLists)\n                if (len !== len) {\n                    while (second[j] !== undefined) {\n                        first[i++] = second[j++];\n                    }\n                }\n                first.length = i;\n                return first;\n            },\n            grep: function (elems, callback, invert) {\n                var callbackInverse, matches = [], i = 0, length = elems.length, callbackExpect = !invert;\n                // Go through the array, only saving the items\n                // that pass the validator function\n                for (; i < length; i++) {\n                    callbackInverse = !callback(elems[i], i);\n                    if (callbackInverse !== callbackExpect) {\n                        matches.push(elems[i]);\n                    }\n                }\n                return matches;\n            },\n            // arg is for internal usage only\n            map: function (elems, callback, arg) {\n                var value, i = 0, length = elems.length, isArray = isArraylike(elems), ret = [];\n                // Go through the array, translating each of the items to their new values\n                if (isArray) {\n                    for (; i < length; i++) {\n                        value = callback(elems[i], i, arg);\n                        if (value != null) {\n                            ret.push(value);\n                        }\n                    }    // Go through every key on the object,\n                } else {\n                    for (i in elems) {\n                        value = callback(elems[i], i, arg);\n                        if (value != null) {\n                            ret.push(value);\n                        }\n                    }\n                }\n                // Flatten any nested arrays\n                return concat.apply([], ret);\n            },\n            // A global GUID counter for objects\n            guid: 1,\n            // Bind a function to a context, optionally partially applying any\n            // arguments.\n            proxy: function (fn, context) {\n                var args, proxy, tmp;\n                if (typeof context === 'string') {\n                    tmp = fn[context];\n                    context = fn;\n                    fn = tmp;\n                }\n                // Quick check to determine if target is callable, in the spec\n                // this throws a TypeError, but we will just return undefined.\n                if (!jQuery.isFunction(fn)) {\n                    return undefined;\n                }\n                // Simulated bind\n                args = slice.call(arguments, 2);\n                proxy = function () {\n                    return fn.apply(context || this, args.concat(slice.call(arguments)));\n                };\n                // Set the guid of unique handler to the same of original handler, so it can be removed\n                proxy.guid = fn.guid = fn.guid || jQuery.guid++;\n                return proxy;\n            },\n            now: function () {\n                return +new Date();\n            },\n            // jQuery.support is not used in Core but other projects attach their\n            // properties to it so it needs to exist.\n            support: support\n        });\n        // Populate the class2type map\n        jQuery.each('Boolean Number String Function Array Date RegExp Object Error'.split(' '), function (i, name) {\n            class2type['[object ' + name + ']'] = name.toLowerCase();\n        });\n        function isArraylike(obj) {\n            var length = obj.length, type = jQuery.type(obj);\n            if (type === 'function' || jQuery.isWindow(obj)) {\n                return false;\n            }\n            if (obj.nodeType === 1 && length) {\n                return true;\n            }\n            return type === 'array' || length === 0 || typeof length === 'number' && length > 0 && length - 1 in obj;\n        }\n        var Sizzle = /*!\n * Sizzle CSS Selector Engine v1.10.19\n * http://sizzlejs.com/\n *\n * Copyright 2013 jQuery Foundation, Inc. and other contributors\n * Released under the MIT license\n * http://jquery.org/license\n *\n * Date: 2014-04-18\n */\n        function (window) {\n            var i, support, Expr, getText, isXML, tokenize, compile, select, outermostContext, sortInput, hasDuplicate,\n                // Local document vars\n                setDocument, document, docElem, documentIsHTML, rbuggyQSA, rbuggyMatches, matches, contains,\n                // Instance-specific data\n                expando = 'sizzle' + -new Date(), preferredDoc = window.document, dirruns = 0, done = 0, classCache = createCache(), tokenCache = createCache(), compilerCache = createCache(), sortOrder = function (a, b) {\n                    if (a === b) {\n                        hasDuplicate = true;\n                    }\n                    return 0;\n                },\n                // General-purpose constants\n                strundefined = typeof undefined, MAX_NEGATIVE = 1 << 31,\n                // Instance methods\n                hasOwn = {}.hasOwnProperty, arr = [], pop = arr.pop, push_native = arr.push, push = arr.push, slice = arr.slice,\n                // Use a stripped-down indexOf if we can't use a native one\n                indexOf = arr.indexOf || function (elem) {\n                    var i = 0, len = this.length;\n                    for (; i < len; i++) {\n                        if (this[i] === elem) {\n                            return i;\n                        }\n                    }\n                    return -1;\n                }, booleans = 'checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped',\n                // Regular expressions\n                // Whitespace characters http://www.w3.org/TR/css3-selectors/#whitespace\n                whitespace = '[\\\\x20\\\\t\\\\r\\\\n\\\\f]',\n                // http://www.w3.org/TR/css3-syntax/#characters\n                characterEncoding = '(?:\\\\\\\\.|[\\\\w-]|[^\\\\x00-\\\\xa0])+',\n                // Loosely modeled on CSS identifier characters\n                // An unquoted value should be a CSS identifier http://www.w3.org/TR/css3-selectors/#attribute-selectors\n                // Proper syntax: http://www.w3.org/TR/CSS21/syndata.html#value-def-identifier\n                identifier = characterEncoding.replace('w', 'w#'),\n                // Attribute selectors: http://www.w3.org/TR/selectors/#attribute-selectors\n                attributes = '\\\\[' + whitespace + '*(' + characterEncoding + ')(?:' + whitespace + // Operator (capture 2)\n                '*([*^$|!~]?=)' + whitespace + // \"Attribute values must be CSS identifiers [capture 5] or strings [capture 3 or capture 4]\"\n                '*(?:\\'((?:\\\\\\\\.|[^\\\\\\\\\\'])*)\\'|\"((?:\\\\\\\\.|[^\\\\\\\\\"])*)\"|(' + identifier + '))|)' + whitespace + '*\\\\]', pseudos = ':(' + characterEncoding + ')(?:\\\\((' + // To reduce the number of selectors needing tokenize in the preFilter, prefer arguments:\n                // 1. quoted (capture 3; capture 4 or capture 5)\n                '(\\'((?:\\\\\\\\.|[^\\\\\\\\\\'])*)\\'|\"((?:\\\\\\\\.|[^\\\\\\\\\"])*)\")|' + // 2. simple (capture 6)\n                '((?:\\\\\\\\.|[^\\\\\\\\()[\\\\]]|' + attributes + ')*)|' + // 3. anything else (capture 2)\n                '.*' + ')\\\\)|)',\n                // Leading and non-escaped trailing whitespace, capturing some non-whitespace characters preceding the latter\n                rtrim = new RegExp('^' + whitespace + '+|((?:^|[^\\\\\\\\])(?:\\\\\\\\.)*)' + whitespace + '+$', 'g'), rcomma = new RegExp('^' + whitespace + '*,' + whitespace + '*'), rcombinators = new RegExp('^' + whitespace + '*([>+~]|' + whitespace + ')' + whitespace + '*'), rattributeQuotes = new RegExp('=' + whitespace + '*([^\\\\]\\'\"]*?)' + whitespace + '*\\\\]', 'g'), rpseudo = new RegExp(pseudos), ridentifier = new RegExp('^' + identifier + '$'), matchExpr = {\n                    'ID': new RegExp('^#(' + characterEncoding + ')'),\n                    'CLASS': new RegExp('^\\\\.(' + characterEncoding + ')'),\n                    'TAG': new RegExp('^(' + characterEncoding.replace('w', 'w*') + ')'),\n                    'ATTR': new RegExp('^' + attributes),\n                    'PSEUDO': new RegExp('^' + pseudos),\n                    'CHILD': new RegExp('^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\\\(' + whitespace + '*(even|odd|(([+-]|)(\\\\d*)n|)' + whitespace + '*(?:([+-]|)' + whitespace + '*(\\\\d+)|))' + whitespace + '*\\\\)|)', 'i'),\n                    'bool': new RegExp('^(?:' + booleans + ')$', 'i'),\n                    // For use in libraries implementing .is()\n                    // We use this for POS matching in `select`\n                    'needsContext': new RegExp('^' + whitespace + '*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\\\(' + whitespace + '*((?:-\\\\d)?\\\\d*)' + whitespace + '*\\\\)|)(?=[^-]|$)', 'i')\n                }, rinputs = /^(?:input|select|textarea|button)$/i, rheader = /^h\\d$/i, rnative = /^[^{]+\\{\\s*\\[native \\w/,\n                // Easily-parseable/retrievable ID or TAG or CLASS selectors\n                rquickExpr = /^(?:#([\\w-]+)|(\\w+)|\\.([\\w-]+))$/, rsibling = /[+~]/, rescape = /'|\\\\/g,\n                // CSS escapes http://www.w3.org/TR/CSS21/syndata.html#escaped-characters\n                runescape = new RegExp('\\\\\\\\([\\\\da-f]{1,6}' + whitespace + '?|(' + whitespace + ')|.)', 'ig'), funescape = function (_, escaped, escapedWhitespace) {\n                    var high = '0x' + escaped - 65536;\n                    // NaN means non-codepoint\n                    // Support: Firefox<24\n                    // Workaround erroneous numeric interpretation of +\"0x\"\n                    return high !== high || escapedWhitespace ? escaped : high < 0 ? // BMP codepoint\n                    String.fromCharCode(high + 65536) : // Supplemental Plane codepoint (surrogate pair)\n                    String.fromCharCode(high >> 10 | 55296, high & 1023 | 56320);\n                };\n            // Optimize for push.apply( _, NodeList )\n            try {\n                push.apply(arr = slice.call(preferredDoc.childNodes), preferredDoc.childNodes);\n                // Support: Android<4.0\n                // Detect silently failing push.apply\n                arr[preferredDoc.childNodes.length].nodeType;\n            } catch (e) {\n                push = {\n                    apply: arr.length ? // Leverage slice if possible\n                    function (target, els) {\n                        push_native.apply(target, slice.call(els));\n                    } : // Support: IE<9\n                    // Otherwise append directly\n                    function (target, els) {\n                        var j = target.length, i = 0;\n                        // Can't trust NodeList.length\n                        while (target[j++] = els[i++]) {\n                        }\n                        target.length = j - 1;\n                    }\n                };\n            }\n            function Sizzle(selector, context, results, seed) {\n                var match, elem, m, nodeType,\n                    // QSA vars\n                    i, groups, old, nid, newContext, newSelector;\n                if ((context ? context.ownerDocument || context : preferredDoc) !== document) {\n                    setDocument(context);\n                }\n                context = context || document;\n                results = results || [];\n                if (!selector || typeof selector !== 'string') {\n                    return results;\n                }\n                if ((nodeType = context.nodeType) !== 1 && nodeType !== 9) {\n                    return [];\n                }\n                if (documentIsHTML && !seed) {\n                    // Shortcuts\n                    if (match = rquickExpr.exec(selector)) {\n                        // Speed-up: Sizzle(\"#ID\")\n                        if (m = match[1]) {\n                            if (nodeType === 9) {\n                                elem = context.getElementById(m);\n                                // Check parentNode to catch when Blackberry 4.6 returns\n                                // nodes that are no longer in the document (jQuery #6963)\n                                if (elem && elem.parentNode) {\n                                    // Handle the case where IE, Opera, and Webkit return items\n                                    // by name instead of ID\n                                    if (elem.id === m) {\n                                        results.push(elem);\n                                        return results;\n                                    }\n                                } else {\n                                    return results;\n                                }\n                            } else {\n                                // Context is not a document\n                                if (context.ownerDocument && (elem = context.ownerDocument.getElementById(m)) && contains(context, elem) && elem.id === m) {\n                                    results.push(elem);\n                                    return results;\n                                }\n                            }    // Speed-up: Sizzle(\"TAG\")\n                        } else if (match[2]) {\n                            push.apply(results, context.getElementsByTagName(selector));\n                            return results;    // Speed-up: Sizzle(\".CLASS\")\n                        } else if ((m = match[3]) && support.getElementsByClassName && context.getElementsByClassName) {\n                            push.apply(results, context.getElementsByClassName(m));\n                            return results;\n                        }\n                    }\n                    // QSA path\n                    if (support.qsa && (!rbuggyQSA || !rbuggyQSA.test(selector))) {\n                        nid = old = expando;\n                        newContext = context;\n                        newSelector = nodeType === 9 && selector;\n                        // qSA works strangely on Element-rooted queries\n                        // We can work around this by specifying an extra ID on the root\n                        // and working up from there (Thanks to Andrew Dupont for the technique)\n                        // IE 8 doesn't work on object elements\n                        if (nodeType === 1 && context.nodeName.toLowerCase() !== 'object') {\n                            groups = tokenize(selector);\n                            if (old = context.getAttribute('id')) {\n                                nid = old.replace(rescape, '\\\\$&');\n                            } else {\n                                context.setAttribute('id', nid);\n                            }\n                            nid = '[id=\\'' + nid + '\\'] ';\n                            i = groups.length;\n                            while (i--) {\n                                groups[i] = nid + toSelector(groups[i]);\n                            }\n                            newContext = rsibling.test(selector) && testContext(context.parentNode) || context;\n                            newSelector = groups.join(',');\n                        }\n                        if (newSelector) {\n                            try {\n                                push.apply(results, newContext.querySelectorAll(newSelector));\n                                return results;\n                            } catch (qsaError) {\n                            } finally {\n                                if (!old) {\n                                    context.removeAttribute('id');\n                                }\n                            }\n                        }\n                    }\n                }\n                // All others\n                return select(selector.replace(rtrim, '$1'), context, results, seed);\n            }\n            /**\n * Create key-value caches of limited size\n * @returns {Function(string, Object)} Returns the Object data after storing it on itself with\n *\tproperty name the (space-suffixed) string and (if the cache is larger than Expr.cacheLength)\n *\tdeleting the oldest entry\n */\n            function createCache() {\n                var keys = [];\n                function cache(key, value) {\n                    // Use (key + \" \") to avoid collision with native prototype properties (see Issue #157)\n                    if (keys.push(key + ' ') > Expr.cacheLength) {\n                        // Only keep the most recent entries\n                        delete cache[keys.shift()];\n                    }\n                    return cache[key + ' '] = value;\n                }\n                return cache;\n            }\n            /**\n * Mark a function for special use by Sizzle\n * @param {Function} fn The function to mark\n */\n            function markFunction(fn) {\n                fn[expando] = true;\n                return fn;\n            }\n            /**\n * Support testing using an element\n * @param {Function} fn Passed the created div and expects a boolean result\n */\n            function assert(fn) {\n                var div = document.createElement('div');\n                try {\n                    return !!fn(div);\n                } catch (e) {\n                    return false;\n                } finally {\n                    // Remove from its parent by default\n                    if (div.parentNode) {\n                        div.parentNode.removeChild(div);\n                    }\n                    // release memory in IE\n                    div = null;\n                }\n            }\n            /**\n * Adds the same handler for all of the specified attrs\n * @param {String} attrs Pipe-separated list of attributes\n * @param {Function} handler The method that will be applied\n */\n            function addHandle(attrs, handler) {\n                var arr = attrs.split('|'), i = attrs.length;\n                while (i--) {\n                    Expr.attrHandle[arr[i]] = handler;\n                }\n            }\n            /**\n * Checks document order of two siblings\n * @param {Element} a\n * @param {Element} b\n * @returns {Number} Returns less than 0 if a precedes b, greater than 0 if a follows b\n */\n            function siblingCheck(a, b) {\n                var cur = b && a, diff = cur && a.nodeType === 1 && b.nodeType === 1 && (~b.sourceIndex || MAX_NEGATIVE) - (~a.sourceIndex || MAX_NEGATIVE);\n                // Use IE sourceIndex if available on both nodes\n                if (diff) {\n                    return diff;\n                }\n                // Check if b follows a\n                if (cur) {\n                    while (cur = cur.nextSibling) {\n                        if (cur === b) {\n                            return -1;\n                        }\n                    }\n                }\n                return a ? 1 : -1;\n            }\n            /**\n * Returns a function to use in pseudos for input types\n * @param {String} type\n */\n            function createInputPseudo(type) {\n                return function (elem) {\n                    var name = elem.nodeName.toLowerCase();\n                    return name === 'input' && elem.type === type;\n                };\n            }\n            /**\n * Returns a function to use in pseudos for buttons\n * @param {String} type\n */\n            function createButtonPseudo(type) {\n                return function (elem) {\n                    var name = elem.nodeName.toLowerCase();\n                    return (name === 'input' || name === 'button') && elem.type === type;\n                };\n            }\n            /**\n * Returns a function to use in pseudos for positionals\n * @param {Function} fn\n */\n            function createPositionalPseudo(fn) {\n                return markFunction(function (argument) {\n                    argument = +argument;\n                    return markFunction(function (seed, matches) {\n                        var j, matchIndexes = fn([], seed.length, argument), i = matchIndexes.length;\n                        // Match elements found at the specified indexes\n                        while (i--) {\n                            if (seed[j = matchIndexes[i]]) {\n                                seed[j] = !(matches[j] = seed[j]);\n                            }\n                        }\n                    });\n                });\n            }\n            /**\n * Checks a node for validity as a Sizzle context\n * @param {Element|Object=} context\n * @returns {Element|Object|Boolean} The input node if acceptable, otherwise a falsy value\n */\n            function testContext(context) {\n                return context && typeof context.getElementsByTagName !== strundefined && context;\n            }\n            // Expose support vars for convenience\n            support = Sizzle.support = {};\n            /**\n * Detects XML nodes\n * @param {Element|Object} elem An element or a document\n * @returns {Boolean} True iff elem is a non-HTML XML node\n */\n            isXML = Sizzle.isXML = function (elem) {\n                // documentElement is verified for cases where it doesn't yet exist\n                // (such as loading iframes in IE - #4833)\n                var documentElement = elem && (elem.ownerDocument || elem).documentElement;\n                return documentElement ? documentElement.nodeName !== 'HTML' : false;\n            };\n            /**\n * Sets document-related variables once based on the current document\n * @param {Element|Object} [doc] An element or document object to use to set the document\n * @returns {Object} Returns the current document\n */\n            setDocument = Sizzle.setDocument = function (node) {\n                var hasCompare, doc = node ? node.ownerDocument || node : preferredDoc, parent = doc.defaultView;\n                // If no document and documentElement is available, return\n                if (doc === document || doc.nodeType !== 9 || !doc.documentElement) {\n                    return document;\n                }\n                // Set our document\n                document = doc;\n                docElem = doc.documentElement;\n                // Support tests\n                documentIsHTML = !isXML(doc);\n                // Support: IE>8\n                // If iframe document is assigned to \"document\" variable and if iframe has been reloaded,\n                // IE will throw \"permission denied\" error when accessing \"document\" variable, see jQuery #13936\n                // IE6-8 do not support the defaultView property so parent will be undefined\n                if (parent && parent !== parent.top) {\n                    // IE11 does not have attachEvent, so all must suffer\n                    if (parent.addEventListener) {\n                        parent.addEventListener('unload', function () {\n                            setDocument();\n                        }, false);\n                    } else if (parent.attachEvent) {\n                        parent.attachEvent('onunload', function () {\n                            setDocument();\n                        });\n                    }\n                }\n                /* Attributes\n\t---------------------------------------------------------------------- */\n                // Support: IE<8\n                // Verify that getAttribute really returns attributes and not properties (excepting IE8 booleans)\n                support.attributes = assert(function (div) {\n                    div.className = 'i';\n                    return !div.getAttribute('className');\n                });\n                /* getElement(s)By*\n\t---------------------------------------------------------------------- */\n                // Check if getElementsByTagName(\"*\") returns only elements\n                support.getElementsByTagName = assert(function (div) {\n                    div.appendChild(doc.createComment(''));\n                    return !div.getElementsByTagName('*').length;\n                });\n                // Check if getElementsByClassName can be trusted\n                support.getElementsByClassName = rnative.test(doc.getElementsByClassName) && assert(function (div) {\n                    div.innerHTML = '<div class=\\'a\\'></div><div class=\\'a i\\'></div>';\n                    // Support: Safari<4\n                    // Catch class over-caching\n                    div.firstChild.className = 'i';\n                    // Support: Opera<10\n                    // Catch gEBCN failure to find non-leading classes\n                    return div.getElementsByClassName('i').length === 2;\n                });\n                // Support: IE<10\n                // Check if getElementById returns elements by name\n                // The broken getElementById methods don't pick up programatically-set names,\n                // so use a roundabout getElementsByName test\n                support.getById = assert(function (div) {\n                    docElem.appendChild(div).id = expando;\n                    return !doc.getElementsByName || !doc.getElementsByName(expando).length;\n                });\n                // ID find and filter\n                if (support.getById) {\n                    Expr.find['ID'] = function (id, context) {\n                        if (typeof context.getElementById !== strundefined && documentIsHTML) {\n                            var m = context.getElementById(id);\n                            // Check parentNode to catch when Blackberry 4.6 returns\n                            // nodes that are no longer in the document #6963\n                            return m && m.parentNode ? [m] : [];\n                        }\n                    };\n                    Expr.filter['ID'] = function (id) {\n                        var attrId = id.replace(runescape, funescape);\n                        return function (elem) {\n                            return elem.getAttribute('id') === attrId;\n                        };\n                    };\n                } else {\n                    // Support: IE6/7\n                    // getElementById is not reliable as a find shortcut\n                    delete Expr.find['ID'];\n                    Expr.filter['ID'] = function (id) {\n                        var attrId = id.replace(runescape, funescape);\n                        return function (elem) {\n                            var node = typeof elem.getAttributeNode !== strundefined && elem.getAttributeNode('id');\n                            return node && node.value === attrId;\n                        };\n                    };\n                }\n                // Tag\n                Expr.find['TAG'] = support.getElementsByTagName ? function (tag, context) {\n                    if (typeof context.getElementsByTagName !== strundefined) {\n                        return context.getElementsByTagName(tag);\n                    }\n                } : function (tag, context) {\n                    var elem, tmp = [], i = 0, results = context.getElementsByTagName(tag);\n                    // Filter out possible comments\n                    if (tag === '*') {\n                        while (elem = results[i++]) {\n                            if (elem.nodeType === 1) {\n                                tmp.push(elem);\n                            }\n                        }\n                        return tmp;\n                    }\n                    return results;\n                };\n                // Class\n                Expr.find['CLASS'] = support.getElementsByClassName && function (className, context) {\n                    if (typeof context.getElementsByClassName !== strundefined && documentIsHTML) {\n                        return context.getElementsByClassName(className);\n                    }\n                };\n                /* QSA/matchesSelector\n\t---------------------------------------------------------------------- */\n                // QSA and matchesSelector support\n                // matchesSelector(:active) reports false when true (IE9/Opera 11.5)\n                rbuggyMatches = [];\n                // qSa(:focus) reports false when true (Chrome 21)\n                // We allow this because of a bug in IE8/9 that throws an error\n                // whenever `document.activeElement` is accessed on an iframe\n                // So, we allow :focus to pass through QSA all the time to avoid the IE error\n                // See http://bugs.jquery.com/ticket/13378\n                rbuggyQSA = [];\n                if (support.qsa = rnative.test(doc.querySelectorAll)) {\n                    // Build QSA regex\n                    // Regex strategy adopted from Diego Perini\n                    assert(function (div) {\n                        // Select is set to empty string on purpose\n                        // This is to test IE's treatment of not explicitly\n                        // setting a boolean content attribute,\n                        // since its presence should be enough\n                        // http://bugs.jquery.com/ticket/12359\n                        div.innerHTML = '<select msallowclip=\\'\\'><option selected=\\'\\'></option></select>';\n                        // Support: IE8, Opera 11-12.16\n                        // Nothing should be selected when empty strings follow ^= or $= or *=\n                        // The test attribute must be unknown in Opera but \"safe\" for WinRT\n                        // http://msdn.microsoft.com/en-us/library/ie/hh465388.aspx#attribute_section\n                        if (div.querySelectorAll('[msallowclip^=\\'\\']').length) {\n                            rbuggyQSA.push('[*^$]=' + whitespace + '*(?:\\'\\'|\"\")');\n                        }\n                        // Support: IE8\n                        // Boolean attributes and \"value\" are not treated correctly\n                        if (!div.querySelectorAll('[selected]').length) {\n                            rbuggyQSA.push('\\\\[' + whitespace + '*(?:value|' + booleans + ')');\n                        }\n                        // Webkit/Opera - :checked should return selected option elements\n                        // http://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked\n                        // IE8 throws error here and will not see later tests\n                        if (!div.querySelectorAll(':checked').length) {\n                            rbuggyQSA.push(':checked');\n                        }\n                    });\n                    assert(function (div) {\n                        // Support: Windows 8 Native Apps\n                        // The type and name attributes are restricted during .innerHTML assignment\n                        var input = doc.createElement('input');\n                        input.setAttribute('type', 'hidden');\n                        div.appendChild(input).setAttribute('name', 'D');\n                        // Support: IE8\n                        // Enforce case-sensitivity of name attribute\n                        if (div.querySelectorAll('[name=d]').length) {\n                            rbuggyQSA.push('name' + whitespace + '*[*^$|!~]?=');\n                        }\n                        // FF 3.5 - :enabled/:disabled and hidden elements (hidden elements are still enabled)\n                        // IE8 throws error here and will not see later tests\n                        if (!div.querySelectorAll(':enabled').length) {\n                            rbuggyQSA.push(':enabled', ':disabled');\n                        }\n                        // Opera 10-11 does not throw on post-comma invalid pseudos\n                        div.querySelectorAll('*,:x');\n                        rbuggyQSA.push(',.*:');\n                    });\n                }\n                if (support.matchesSelector = rnative.test(matches = docElem.matches || docElem.webkitMatchesSelector || docElem.mozMatchesSelector || docElem.oMatchesSelector || docElem.msMatchesSelector)) {\n                    assert(function (div) {\n                        // Check to see if it's possible to do matchesSelector\n                        // on a disconnected node (IE 9)\n                        support.disconnectedMatch = matches.call(div, 'div');\n                        // This should fail with an exception\n                        // Gecko does not error, returns false instead\n                        matches.call(div, '[s!=\\'\\']:x');\n                        rbuggyMatches.push('!=', pseudos);\n                    });\n                }\n                rbuggyQSA = rbuggyQSA.length && new RegExp(rbuggyQSA.join('|'));\n                rbuggyMatches = rbuggyMatches.length && new RegExp(rbuggyMatches.join('|'));\n                /* Contains\n\t---------------------------------------------------------------------- */\n                hasCompare = rnative.test(docElem.compareDocumentPosition);\n                // Element contains another\n                // Purposefully does not implement inclusive descendent\n                // As in, an element does not contain itself\n                contains = hasCompare || rnative.test(docElem.contains) ? function (a, b) {\n                    var adown = a.nodeType === 9 ? a.documentElement : a, bup = b && b.parentNode;\n                    return a === bup || !!(bup && bup.nodeType === 1 && (adown.contains ? adown.contains(bup) : a.compareDocumentPosition && a.compareDocumentPosition(bup) & 16));\n                } : function (a, b) {\n                    if (b) {\n                        while (b = b.parentNode) {\n                            if (b === a) {\n                                return true;\n                            }\n                        }\n                    }\n                    return false;\n                };\n                /* Sorting\n\t---------------------------------------------------------------------- */\n                // Document order sorting\n                sortOrder = hasCompare ? function (a, b) {\n                    // Flag for duplicate removal\n                    if (a === b) {\n                        hasDuplicate = true;\n                        return 0;\n                    }\n                    // Sort on method existence if only one input has compareDocumentPosition\n                    var compare = !a.compareDocumentPosition - !b.compareDocumentPosition;\n                    if (compare) {\n                        return compare;\n                    }\n                    // Calculate position if both inputs belong to the same document\n                    compare = (a.ownerDocument || a) === (b.ownerDocument || b) ? a.compareDocumentPosition(b) : // Otherwise we know they are disconnected\n                    1;\n                    // Disconnected nodes\n                    if (compare & 1 || !support.sortDetached && b.compareDocumentPosition(a) === compare) {\n                        // Choose the first element that is related to our preferred document\n                        if (a === doc || a.ownerDocument === preferredDoc && contains(preferredDoc, a)) {\n                            return -1;\n                        }\n                        if (b === doc || b.ownerDocument === preferredDoc && contains(preferredDoc, b)) {\n                            return 1;\n                        }\n                        // Maintain original order\n                        return sortInput ? indexOf.call(sortInput, a) - indexOf.call(sortInput, b) : 0;\n                    }\n                    return compare & 4 ? -1 : 1;\n                } : function (a, b) {\n                    // Exit early if the nodes are identical\n                    if (a === b) {\n                        hasDuplicate = true;\n                        return 0;\n                    }\n                    var cur, i = 0, aup = a.parentNode, bup = b.parentNode, ap = [a], bp = [b];\n                    // Parentless nodes are either documents or disconnected\n                    if (!aup || !bup) {\n                        return a === doc ? -1 : b === doc ? 1 : aup ? -1 : bup ? 1 : sortInput ? indexOf.call(sortInput, a) - indexOf.call(sortInput, b) : 0;    // If the nodes are siblings, we can do a quick check\n                    } else if (aup === bup) {\n                        return siblingCheck(a, b);\n                    }\n                    // Otherwise we need full lists of their ancestors for comparison\n                    cur = a;\n                    while (cur = cur.parentNode) {\n                        ap.unshift(cur);\n                    }\n                    cur = b;\n                    while (cur = cur.parentNode) {\n                        bp.unshift(cur);\n                    }\n                    // Walk down the tree looking for a discrepancy\n                    while (ap[i] === bp[i]) {\n                        i++;\n                    }\n                    return i ? // Do a sibling check if the nodes have a common ancestor\n                    siblingCheck(ap[i], bp[i]) : // Otherwise nodes in our document sort first\n                    ap[i] === preferredDoc ? -1 : bp[i] === preferredDoc ? 1 : 0;\n                };\n                return doc;\n            };\n            Sizzle.matches = function (expr, elements) {\n                return Sizzle(expr, null, null, elements);\n            };\n            Sizzle.matchesSelector = function (elem, expr) {\n                // Set document vars if needed\n                if ((elem.ownerDocument || elem) !== document) {\n                    setDocument(elem);\n                }\n                // Make sure that attribute selectors are quoted\n                expr = expr.replace(rattributeQuotes, '=\\'$1\\']');\n                if (support.matchesSelector && documentIsHTML && (!rbuggyMatches || !rbuggyMatches.test(expr)) && (!rbuggyQSA || !rbuggyQSA.test(expr))) {\n                    try {\n                        var ret = matches.call(elem, expr);\n                        // IE 9's matchesSelector returns false on disconnected nodes\n                        if (ret || support.disconnectedMatch || // As well, disconnected nodes are said to be in a document\n                            // fragment in IE 9\n                            elem.document && elem.document.nodeType !== 11) {\n                            return ret;\n                        }\n                    } catch (e) {\n                    }\n                }\n                return Sizzle(expr, document, null, [elem]).length > 0;\n            };\n            Sizzle.contains = function (context, elem) {\n                // Set document vars if needed\n                if ((context.ownerDocument || context) !== document) {\n                    setDocument(context);\n                }\n                return contains(context, elem);\n            };\n            Sizzle.attr = function (elem, name) {\n                // Set document vars if needed\n                if ((elem.ownerDocument || elem) !== document) {\n                    setDocument(elem);\n                }\n                var fn = Expr.attrHandle[name.toLowerCase()],\n                    // Don't get fooled by Object.prototype properties (jQuery #13807)\n                    val = fn && hasOwn.call(Expr.attrHandle, name.toLowerCase()) ? fn(elem, name, !documentIsHTML) : undefined;\n                return val !== undefined ? val : support.attributes || !documentIsHTML ? elem.getAttribute(name) : (val = elem.getAttributeNode(name)) && val.specified ? val.value : null;\n            };\n            Sizzle.error = function (msg) {\n                throw new Error('Syntax error, unrecognized expression: ' + msg);\n            };\n            /**\n * Document sorting and removing duplicates\n * @param {ArrayLike} results\n */\n            Sizzle.uniqueSort = function (results) {\n                var elem, duplicates = [], j = 0, i = 0;\n                // Unless we *know* we can detect duplicates, assume their presence\n                hasDuplicate = !support.detectDuplicates;\n                sortInput = !support.sortStable && results.slice(0);\n                results.sort(sortOrder);\n                if (hasDuplicate) {\n                    while (elem = results[i++]) {\n                        if (elem === results[i]) {\n                            j = duplicates.push(i);\n                        }\n                    }\n                    while (j--) {\n                        results.splice(duplicates[j], 1);\n                    }\n                }\n                // Clear input after sorting to release objects\n                // See https://github.com/jquery/sizzle/pull/225\n                sortInput = null;\n                return results;\n            };\n            /**\n * Utility function for retrieving the text value of an array of DOM nodes\n * @param {Array|Element} elem\n */\n            getText = Sizzle.getText = function (elem) {\n                var node, ret = '', i = 0, nodeType = elem.nodeType;\n                if (!nodeType) {\n                    // If no nodeType, this is expected to be an array\n                    while (node = elem[i++]) {\n                        // Do not traverse comment nodes\n                        ret += getText(node);\n                    }\n                } else if (nodeType === 1 || nodeType === 9 || nodeType === 11) {\n                    // Use textContent for elements\n                    // innerText usage removed for consistency of new lines (jQuery #11153)\n                    if (typeof elem.textContent === 'string') {\n                        return elem.textContent;\n                    } else {\n                        // Traverse its children\n                        for (elem = elem.firstChild; elem; elem = elem.nextSibling) {\n                            ret += getText(elem);\n                        }\n                    }\n                } else if (nodeType === 3 || nodeType === 4) {\n                    return elem.nodeValue;\n                }\n                // Do not include comment or processing instruction nodes\n                return ret;\n            };\n            Expr = Sizzle.selectors = {\n                // Can be adjusted by the user\n                cacheLength: 50,\n                createPseudo: markFunction,\n                match: matchExpr,\n                attrHandle: {},\n                find: {},\n                relative: {\n                    '>': {\n                        dir: 'parentNode',\n                        first: true\n                    },\n                    ' ': { dir: 'parentNode' },\n                    '+': {\n                        dir: 'previousSibling',\n                        first: true\n                    },\n                    '~': { dir: 'previousSibling' }\n                },\n                preFilter: {\n                    'ATTR': function (match) {\n                        match[1] = match[1].replace(runescape, funescape);\n                        // Move the given value to match[3] whether quoted or unquoted\n                        match[3] = (match[3] || match[4] || match[5] || '').replace(runescape, funescape);\n                        if (match[2] === '~=') {\n                            match[3] = ' ' + match[3] + ' ';\n                        }\n                        return match.slice(0, 4);\n                    },\n                    'CHILD': function (match) {\n                        /* matches from matchExpr[\"CHILD\"]\n\t\t\t\t1 type (only|nth|...)\n\t\t\t\t2 what (child|of-type)\n\t\t\t\t3 argument (even|odd|\\d*|\\d*n([+-]\\d+)?|...)\n\t\t\t\t4 xn-component of xn+y argument ([+-]?\\d*n|)\n\t\t\t\t5 sign of xn-component\n\t\t\t\t6 x of xn-component\n\t\t\t\t7 sign of y-component\n\t\t\t\t8 y of y-component\n\t\t\t*/\n                        match[1] = match[1].toLowerCase();\n                        if (match[1].slice(0, 3) === 'nth') {\n                            // nth-* requires argument\n                            if (!match[3]) {\n                                Sizzle.error(match[0]);\n                            }\n                            // numeric x and y parameters for Expr.filter.CHILD\n                            // remember that false/true cast respectively to 0/1\n                            match[4] = +(match[4] ? match[5] + (match[6] || 1) : 2 * (match[3] === 'even' || match[3] === 'odd'));\n                            match[5] = +(match[7] + match[8] || match[3] === 'odd');    // other types prohibit arguments\n                        } else if (match[3]) {\n                            Sizzle.error(match[0]);\n                        }\n                        return match;\n                    },\n                    'PSEUDO': function (match) {\n                        var excess, unquoted = !match[6] && match[2];\n                        if (matchExpr['CHILD'].test(match[0])) {\n                            return null;\n                        }\n                        // Accept quoted arguments as-is\n                        if (match[3]) {\n                            match[2] = match[4] || match[5] || '';    // Strip excess characters from unquoted arguments\n                        } else if (unquoted && rpseudo.test(unquoted) && // Get excess from tokenize (recursively)\n                            (excess = tokenize(unquoted, true)) && // advance to the next closing parenthesis\n                            (excess = unquoted.indexOf(')', unquoted.length - excess) - unquoted.length)) {\n                            // excess is a negative index\n                            match[0] = match[0].slice(0, excess);\n                            match[2] = unquoted.slice(0, excess);\n                        }\n                        // Return only captures needed by the pseudo filter method (type and argument)\n                        return match.slice(0, 3);\n                    }\n                },\n                filter: {\n                    'TAG': function (nodeNameSelector) {\n                        var nodeName = nodeNameSelector.replace(runescape, funescape).toLowerCase();\n                        return nodeNameSelector === '*' ? function () {\n                            return true;\n                        } : function (elem) {\n                            return elem.nodeName && elem.nodeName.toLowerCase() === nodeName;\n                        };\n                    },\n                    'CLASS': function (className) {\n                        var pattern = classCache[className + ' '];\n                        return pattern || (pattern = new RegExp('(^|' + whitespace + ')' + className + '(' + whitespace + '|$)')) && classCache(className, function (elem) {\n                            return pattern.test(typeof elem.className === 'string' && elem.className || typeof elem.getAttribute !== strundefined && elem.getAttribute('class') || '');\n                        });\n                    },\n                    'ATTR': function (name, operator, check) {\n                        return function (elem) {\n                            var result = Sizzle.attr(elem, name);\n                            if (result == null) {\n                                return operator === '!=';\n                            }\n                            if (!operator) {\n                                return true;\n                            }\n                            result += '';\n                            return operator === '=' ? result === check : operator === '!=' ? result !== check : operator === '^=' ? check && result.indexOf(check) === 0 : operator === '*=' ? check && result.indexOf(check) > -1 : operator === '$=' ? check && result.slice(-check.length) === check : operator === '~=' ? (' ' + result + ' ').indexOf(check) > -1 : operator === '|=' ? result === check || result.slice(0, check.length + 1) === check + '-' : false;\n                        };\n                    },\n                    'CHILD': function (type, what, argument, first, last) {\n                        var simple = type.slice(0, 3) !== 'nth', forward = type.slice(-4) !== 'last', ofType = what === 'of-type';\n                        return first === 1 && last === 0 ? // Shortcut for :nth-*(n)\n                        function (elem) {\n                            return !!elem.parentNode;\n                        } : function (elem, context, xml) {\n                            var cache, outerCache, node, diff, nodeIndex, start, dir = simple !== forward ? 'nextSibling' : 'previousSibling', parent = elem.parentNode, name = ofType && elem.nodeName.toLowerCase(), useCache = !xml && !ofType;\n                            if (parent) {\n                                // :(first|last|only)-(child|of-type)\n                                if (simple) {\n                                    while (dir) {\n                                        node = elem;\n                                        while (node = node[dir]) {\n                                            if (ofType ? node.nodeName.toLowerCase() === name : node.nodeType === 1) {\n                                                return false;\n                                            }\n                                        }\n                                        // Reverse direction for :only-* (if we haven't yet done so)\n                                        start = dir = type === 'only' && !start && 'nextSibling';\n                                    }\n                                    return true;\n                                }\n                                start = [forward ? parent.firstChild : parent.lastChild];\n                                // non-xml :nth-child(...) stores cache data on `parent`\n                                if (forward && useCache) {\n                                    // Seek `elem` from a previously-cached index\n                                    outerCache = parent[expando] || (parent[expando] = {});\n                                    cache = outerCache[type] || [];\n                                    nodeIndex = cache[0] === dirruns && cache[1];\n                                    diff = cache[0] === dirruns && cache[2];\n                                    node = nodeIndex && parent.childNodes[nodeIndex];\n                                    while (node = ++nodeIndex && node && node[dir] || // Fallback to seeking `elem` from the start\n                                        (diff = nodeIndex = 0) || start.pop()) {\n                                        // When found, cache indexes on `parent` and break\n                                        if (node.nodeType === 1 && ++diff && node === elem) {\n                                            outerCache[type] = [\n                                                dirruns,\n                                                nodeIndex,\n                                                diff\n                                            ];\n                                            break;\n                                        }\n                                    }    // Use previously-cached element index if available\n                                } else if (useCache && (cache = (elem[expando] || (elem[expando] = {}))[type]) && cache[0] === dirruns) {\n                                    diff = cache[1];    // xml :nth-child(...) or :nth-last-child(...) or :nth(-last)?-of-type(...)\n                                } else {\n                                    // Use the same loop as above to seek `elem` from the start\n                                    while (node = ++nodeIndex && node && node[dir] || (diff = nodeIndex = 0) || start.pop()) {\n                                        if ((ofType ? node.nodeName.toLowerCase() === name : node.nodeType === 1) && ++diff) {\n                                            // Cache the index of each encountered element\n                                            if (useCache) {\n                                                (node[expando] || (node[expando] = {}))[type] = [\n                                                    dirruns,\n                                                    diff\n                                                ];\n                                            }\n                                            if (node === elem) {\n                                                break;\n                                            }\n                                        }\n                                    }\n                                }\n                                // Incorporate the offset, then check against cycle size\n                                diff -= last;\n                                return diff === first || diff % first === 0 && diff / first >= 0;\n                            }\n                        };\n                    },\n                    'PSEUDO': function (pseudo, argument) {\n                        // pseudo-class names are case-insensitive\n                        // http://www.w3.org/TR/selectors/#pseudo-classes\n                        // Prioritize by case sensitivity in case custom pseudos are added with uppercase letters\n                        // Remember that setFilters inherits from pseudos\n                        var args, fn = Expr.pseudos[pseudo] || Expr.setFilters[pseudo.toLowerCase()] || Sizzle.error('unsupported pseudo: ' + pseudo);\n                        // The user may use createPseudo to indicate that\n                        // arguments are needed to create the filter function\n                        // just as Sizzle does\n                        if (fn[expando]) {\n                            return fn(argument);\n                        }\n                        // But maintain support for old signatures\n                        if (fn.length > 1) {\n                            args = [\n                                pseudo,\n                                pseudo,\n                                '',\n                                argument\n                            ];\n                            return Expr.setFilters.hasOwnProperty(pseudo.toLowerCase()) ? markFunction(function (seed, matches) {\n                                var idx, matched = fn(seed, argument), i = matched.length;\n                                while (i--) {\n                                    idx = indexOf.call(seed, matched[i]);\n                                    seed[idx] = !(matches[idx] = matched[i]);\n                                }\n                            }) : function (elem) {\n                                return fn(elem, 0, args);\n                            };\n                        }\n                        return fn;\n                    }\n                },\n                pseudos: {\n                    // Potentially complex pseudos\n                    'not': markFunction(function (selector) {\n                        // Trim the selector passed to compile\n                        // to avoid treating leading and trailing\n                        // spaces as combinators\n                        var input = [], results = [], matcher = compile(selector.replace(rtrim, '$1'));\n                        return matcher[expando] ? markFunction(function (seed, matches, context, xml) {\n                            var elem, unmatched = matcher(seed, null, xml, []), i = seed.length;\n                            // Match elements unmatched by `matcher`\n                            while (i--) {\n                                if (elem = unmatched[i]) {\n                                    seed[i] = !(matches[i] = elem);\n                                }\n                            }\n                        }) : function (elem, context, xml) {\n                            input[0] = elem;\n                            matcher(input, null, xml, results);\n                            return !results.pop();\n                        };\n                    }),\n                    'has': markFunction(function (selector) {\n                        return function (elem) {\n                            return Sizzle(selector, elem).length > 0;\n                        };\n                    }),\n                    'contains': markFunction(function (text) {\n                        return function (elem) {\n                            return (elem.textContent || elem.innerText || getText(elem)).indexOf(text) > -1;\n                        };\n                    }),\n                    // \"Whether an element is represented by a :lang() selector\n                    // is based solely on the element's language value\n                    // being equal to the identifier C,\n                    // or beginning with the identifier C immediately followed by \"-\".\n                    // The matching of C against the element's language value is performed case-insensitively.\n                    // The identifier C does not have to be a valid language name.\"\n                    // http://www.w3.org/TR/selectors/#lang-pseudo\n                    'lang': markFunction(function (lang) {\n                        // lang value must be a valid identifier\n                        if (!ridentifier.test(lang || '')) {\n                            Sizzle.error('unsupported lang: ' + lang);\n                        }\n                        lang = lang.replace(runescape, funescape).toLowerCase();\n                        return function (elem) {\n                            var elemLang;\n                            do {\n                                if (elemLang = documentIsHTML ? elem.lang : elem.getAttribute('xml:lang') || elem.getAttribute('lang')) {\n                                    elemLang = elemLang.toLowerCase();\n                                    return elemLang === lang || elemLang.indexOf(lang + '-') === 0;\n                                }\n                            } while ((elem = elem.parentNode) && elem.nodeType === 1);\n                            return false;\n                        };\n                    }),\n                    // Miscellaneous\n                    'target': function (elem) {\n                        var hash = window.location && window.location.hash;\n                        return hash && hash.slice(1) === elem.id;\n                    },\n                    'root': function (elem) {\n                        return elem === docElem;\n                    },\n                    'focus': function (elem) {\n                        return elem === document.activeElement && (!document.hasFocus || document.hasFocus()) && !!(elem.type || elem.href || ~elem.tabIndex);\n                    },\n                    // Boolean properties\n                    'enabled': function (elem) {\n                        return elem.disabled === false;\n                    },\n                    'disabled': function (elem) {\n                        return elem.disabled === true;\n                    },\n                    'checked': function (elem) {\n                        // In CSS3, :checked should return both checked and selected elements\n                        // http://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked\n                        var nodeName = elem.nodeName.toLowerCase();\n                        return nodeName === 'input' && !!elem.checked || nodeName === 'option' && !!elem.selected;\n                    },\n                    'selected': function (elem) {\n                        // Accessing this property makes selected-by-default\n                        // options in Safari work properly\n                        if (elem.parentNode) {\n                            elem.parentNode.selectedIndex;\n                        }\n                        return elem.selected === true;\n                    },\n                    // Contents\n                    'empty': function (elem) {\n                        // http://www.w3.org/TR/selectors/#empty-pseudo\n                        // :empty is negated by element (1) or content nodes (text: 3; cdata: 4; entity ref: 5),\n                        //   but not by others (comment: 8; processing instruction: 7; etc.)\n                        // nodeType < 6 works because attributes (2) do not appear as children\n                        for (elem = elem.firstChild; elem; elem = elem.nextSibling) {\n                            if (elem.nodeType < 6) {\n                                return false;\n                            }\n                        }\n                        return true;\n                    },\n                    'parent': function (elem) {\n                        return !Expr.pseudos['empty'](elem);\n                    },\n                    // Element/input types\n                    'header': function (elem) {\n                        return rheader.test(elem.nodeName);\n                    },\n                    'input': function (elem) {\n                        return rinputs.test(elem.nodeName);\n                    },\n                    'button': function (elem) {\n                        var name = elem.nodeName.toLowerCase();\n                        return name === 'input' && elem.type === 'button' || name === 'button';\n                    },\n                    'text': function (elem) {\n                        var attr;\n                        return elem.nodeName.toLowerCase() === 'input' && elem.type === 'text' && // Support: IE<8\n                        // New HTML5 attribute values (e.g., \"search\") appear with elem.type === \"text\"\n                        ((attr = elem.getAttribute('type')) == null || attr.toLowerCase() === 'text');\n                    },\n                    // Position-in-collection\n                    'first': createPositionalPseudo(function () {\n                        return [0];\n                    }),\n                    'last': createPositionalPseudo(function (matchIndexes, length) {\n                        return [length - 1];\n                    }),\n                    'eq': createPositionalPseudo(function (matchIndexes, length, argument) {\n                        return [argument < 0 ? argument + length : argument];\n                    }),\n                    'even': createPositionalPseudo(function (matchIndexes, length) {\n                        var i = 0;\n                        for (; i < length; i += 2) {\n                            matchIndexes.push(i);\n                        }\n                        return matchIndexes;\n                    }),\n                    'odd': createPositionalPseudo(function (matchIndexes, length) {\n                        var i = 1;\n                        for (; i < length; i += 2) {\n                            matchIndexes.push(i);\n                        }\n                        return matchIndexes;\n                    }),\n                    'lt': createPositionalPseudo(function (matchIndexes, length, argument) {\n                        var i = argument < 0 ? argument + length : argument;\n                        for (; --i >= 0;) {\n                            matchIndexes.push(i);\n                        }\n                        return matchIndexes;\n                    }),\n                    'gt': createPositionalPseudo(function (matchIndexes, length, argument) {\n                        var i = argument < 0 ? argument + length : argument;\n                        for (; ++i < length;) {\n                            matchIndexes.push(i);\n                        }\n                        return matchIndexes;\n                    })\n                }\n            };\n            Expr.pseudos['nth'] = Expr.pseudos['eq'];\n            // Add button/input type pseudos\n            for (i in {\n                    radio: true,\n                    checkbox: true,\n                    file: true,\n                    password: true,\n                    image: true\n                }) {\n                Expr.pseudos[i] = createInputPseudo(i);\n            }\n            for (i in {\n                    submit: true,\n                    reset: true\n                }) {\n                Expr.pseudos[i] = createButtonPseudo(i);\n            }\n            // Easy API for creating new setFilters\n            function setFilters() {\n            }\n            setFilters.prototype = Expr.filters = Expr.pseudos;\n            Expr.setFilters = new setFilters();\n            tokenize = Sizzle.tokenize = function (selector, parseOnly) {\n                var matched, match, tokens, type, soFar, groups, preFilters, cached = tokenCache[selector + ' '];\n                if (cached) {\n                    return parseOnly ? 0 : cached.slice(0);\n                }\n                soFar = selector;\n                groups = [];\n                preFilters = Expr.preFilter;\n                while (soFar) {\n                    // Comma and first run\n                    if (!matched || (match = rcomma.exec(soFar))) {\n                        if (match) {\n                            // Don't consume trailing commas as valid\n                            soFar = soFar.slice(match[0].length) || soFar;\n                        }\n                        groups.push(tokens = []);\n                    }\n                    matched = false;\n                    // Combinators\n                    if (match = rcombinators.exec(soFar)) {\n                        matched = match.shift();\n                        tokens.push({\n                            value: matched,\n                            // Cast descendant combinators to space\n                            type: match[0].replace(rtrim, ' ')\n                        });\n                        soFar = soFar.slice(matched.length);\n                    }\n                    // Filters\n                    for (type in Expr.filter) {\n                        if ((match = matchExpr[type].exec(soFar)) && (!preFilters[type] || (match = preFilters[type](match)))) {\n                            matched = match.shift();\n                            tokens.push({\n                                value: matched,\n                                type: type,\n                                matches: match\n                            });\n                            soFar = soFar.slice(matched.length);\n                        }\n                    }\n                    if (!matched) {\n                        break;\n                    }\n                }\n                // Return the length of the invalid excess\n                // if we're just parsing\n                // Otherwise, throw an error or return tokens\n                return parseOnly ? soFar.length : soFar ? Sizzle.error(selector) : // Cache the tokens\n                tokenCache(selector, groups).slice(0);\n            };\n            function toSelector(tokens) {\n                var i = 0, len = tokens.length, selector = '';\n                for (; i < len; i++) {\n                    selector += tokens[i].value;\n                }\n                return selector;\n            }\n            function addCombinator(matcher, combinator, base) {\n                var dir = combinator.dir, checkNonElements = base && dir === 'parentNode', doneName = done++;\n                return combinator.first ? // Check against closest ancestor/preceding element\n                function (elem, context, xml) {\n                    while (elem = elem[dir]) {\n                        if (elem.nodeType === 1 || checkNonElements) {\n                            return matcher(elem, context, xml);\n                        }\n                    }\n                } : // Check against all ancestor/preceding elements\n                function (elem, context, xml) {\n                    var oldCache, outerCache, newCache = [\n                            dirruns,\n                            doneName\n                        ];\n                    // We can't set arbitrary data on XML nodes, so they don't benefit from dir caching\n                    if (xml) {\n                        while (elem = elem[dir]) {\n                            if (elem.nodeType === 1 || checkNonElements) {\n                                if (matcher(elem, context, xml)) {\n                                    return true;\n                                }\n                            }\n                        }\n                    } else {\n                        while (elem = elem[dir]) {\n                            if (elem.nodeType === 1 || checkNonElements) {\n                                outerCache = elem[expando] || (elem[expando] = {});\n                                if ((oldCache = outerCache[dir]) && oldCache[0] === dirruns && oldCache[1] === doneName) {\n                                    // Assign to newCache so results back-propagate to previous elements\n                                    return newCache[2] = oldCache[2];\n                                } else {\n                                    // Reuse newcache so results back-propagate to previous elements\n                                    outerCache[dir] = newCache;\n                                    // A match means we're done; a fail means we have to keep checking\n                                    if (newCache[2] = matcher(elem, context, xml)) {\n                                        return true;\n                                    }\n                                }\n                            }\n                        }\n                    }\n                };\n            }\n            function elementMatcher(matchers) {\n                return matchers.length > 1 ? function (elem, context, xml) {\n                    var i = matchers.length;\n                    while (i--) {\n                        if (!matchers[i](elem, context, xml)) {\n                            return false;\n                        }\n                    }\n                    return true;\n                } : matchers[0];\n            }\n            function multipleContexts(selector, contexts, results) {\n                var i = 0, len = contexts.length;\n                for (; i < len; i++) {\n                    Sizzle(selector, contexts[i], results);\n                }\n                return results;\n            }\n            function condense(unmatched, map, filter, context, xml) {\n                var elem, newUnmatched = [], i = 0, len = unmatched.length, mapped = map != null;\n                for (; i < len; i++) {\n                    if (elem = unmatched[i]) {\n                        if (!filter || filter(elem, context, xml)) {\n                            newUnmatched.push(elem);\n                            if (mapped) {\n                                map.push(i);\n                            }\n                        }\n                    }\n                }\n                return newUnmatched;\n            }\n            function setMatcher(preFilter, selector, matcher, postFilter, postFinder, postSelector) {\n                if (postFilter && !postFilter[expando]) {\n                    postFilter = setMatcher(postFilter);\n                }\n                if (postFinder && !postFinder[expando]) {\n                    postFinder = setMatcher(postFinder, postSelector);\n                }\n                return markFunction(function (seed, results, context, xml) {\n                    var temp, i, elem, preMap = [], postMap = [], preexisting = results.length,\n                        // Get initial elements from seed or context\n                        elems = seed || multipleContexts(selector || '*', context.nodeType ? [context] : context, []),\n                        // Prefilter to get matcher input, preserving a map for seed-results synchronization\n                        matcherIn = preFilter && (seed || !selector) ? condense(elems, preMap, preFilter, context, xml) : elems, matcherOut = matcher ? // If we have a postFinder, or filtered seed, or non-seed postFilter or preexisting results,\n                        postFinder || (seed ? preFilter : preexisting || postFilter) ? // ...intermediate processing is necessary\n                        [] : // ...otherwise use results directly\n                        results : matcherIn;\n                    // Find primary matches\n                    if (matcher) {\n                        matcher(matcherIn, matcherOut, context, xml);\n                    }\n                    // Apply postFilter\n                    if (postFilter) {\n                        temp = condense(matcherOut, postMap);\n                        postFilter(temp, [], context, xml);\n                        // Un-match failing elements by moving them back to matcherIn\n                        i = temp.length;\n                        while (i--) {\n                            if (elem = temp[i]) {\n                                matcherOut[postMap[i]] = !(matcherIn[postMap[i]] = elem);\n                            }\n                        }\n                    }\n                    if (seed) {\n                        if (postFinder || preFilter) {\n                            if (postFinder) {\n                                // Get the final matcherOut by condensing this intermediate into postFinder contexts\n                                temp = [];\n                                i = matcherOut.length;\n                                while (i--) {\n                                    if (elem = matcherOut[i]) {\n                                        // Restore matcherIn since elem is not yet a final match\n                                        temp.push(matcherIn[i] = elem);\n                                    }\n                                }\n                                postFinder(null, matcherOut = [], temp, xml);\n                            }\n                            // Move matched elements from seed to results to keep them synchronized\n                            i = matcherOut.length;\n                            while (i--) {\n                                if ((elem = matcherOut[i]) && (temp = postFinder ? indexOf.call(seed, elem) : preMap[i]) > -1) {\n                                    seed[temp] = !(results[temp] = elem);\n                                }\n                            }\n                        }    // Add elements to results, through postFinder if defined\n                    } else {\n                        matcherOut = condense(matcherOut === results ? matcherOut.splice(preexisting, matcherOut.length) : matcherOut);\n                        if (postFinder) {\n                            postFinder(null, results, matcherOut, xml);\n                        } else {\n                            push.apply(results, matcherOut);\n                        }\n                    }\n                });\n            }\n            function matcherFromTokens(tokens) {\n                var checkContext, matcher, j, len = tokens.length, leadingRelative = Expr.relative[tokens[0].type], implicitRelative = leadingRelative || Expr.relative[' '], i = leadingRelative ? 1 : 0,\n                    // The foundational matcher ensures that elements are reachable from top-level context(s)\n                    matchContext = addCombinator(function (elem) {\n                        return elem === checkContext;\n                    }, implicitRelative, true), matchAnyContext = addCombinator(function (elem) {\n                        return indexOf.call(checkContext, elem) > -1;\n                    }, implicitRelative, true), matchers = [function (elem, context, xml) {\n                            return !leadingRelative && (xml || context !== outermostContext) || ((checkContext = context).nodeType ? matchContext(elem, context, xml) : matchAnyContext(elem, context, xml));\n                        }];\n                for (; i < len; i++) {\n                    if (matcher = Expr.relative[tokens[i].type]) {\n                        matchers = [addCombinator(elementMatcher(matchers), matcher)];\n                    } else {\n                        matcher = Expr.filter[tokens[i].type].apply(null, tokens[i].matches);\n                        // Return special upon seeing a positional matcher\n                        if (matcher[expando]) {\n                            // Find the next relative operator (if any) for proper handling\n                            j = ++i;\n                            for (; j < len; j++) {\n                                if (Expr.relative[tokens[j].type]) {\n                                    break;\n                                }\n                            }\n                            return setMatcher(i > 1 && elementMatcher(matchers), i > 1 && toSelector(// If the preceding token was a descendant combinator, insert an implicit any-element `*`\n                            tokens.slice(0, i - 1).concat({ value: tokens[i - 2].type === ' ' ? '*' : '' })).replace(rtrim, '$1'), matcher, i < j && matcherFromTokens(tokens.slice(i, j)), j < len && matcherFromTokens(tokens = tokens.slice(j)), j < len && toSelector(tokens));\n                        }\n                        matchers.push(matcher);\n                    }\n                }\n                return elementMatcher(matchers);\n            }\n            function matcherFromGroupMatchers(elementMatchers, setMatchers) {\n                var bySet = setMatchers.length > 0, byElement = elementMatchers.length > 0, superMatcher = function (seed, context, xml, results, outermost) {\n                        var elem, j, matcher, matchedCount = 0, i = '0', unmatched = seed && [], setMatched = [], contextBackup = outermostContext,\n                            // We must always have either seed elements or outermost context\n                            elems = seed || byElement && Expr.find['TAG']('*', outermost),\n                            // Use integer dirruns iff this is the outermost matcher\n                            dirrunsUnique = dirruns += contextBackup == null ? 1 : Math.random() || 0.1, len = elems.length;\n                        if (outermost) {\n                            outermostContext = context !== document && context;\n                        }\n                        // Add elements passing elementMatchers directly to results\n                        // Keep `i` a string if there are no elements so `matchedCount` will be \"00\" below\n                        // Support: IE<9, Safari\n                        // Tolerate NodeList properties (IE: \"length\"; Safari: <number>) matching elements by id\n                        for (; i !== len && (elem = elems[i]) != null; i++) {\n                            if (byElement && elem) {\n                                j = 0;\n                                while (matcher = elementMatchers[j++]) {\n                                    if (matcher(elem, context, xml)) {\n                                        results.push(elem);\n                                        break;\n                                    }\n                                }\n                                if (outermost) {\n                                    dirruns = dirrunsUnique;\n                                }\n                            }\n                            // Track unmatched elements for set filters\n                            if (bySet) {\n                                // They will have gone through all possible matchers\n                                if (elem = !matcher && elem) {\n                                    matchedCount--;\n                                }\n                                // Lengthen the array for every element, matched or not\n                                if (seed) {\n                                    unmatched.push(elem);\n                                }\n                            }\n                        }\n                        // Apply set filters to unmatched elements\n                        matchedCount += i;\n                        if (bySet && i !== matchedCount) {\n                            j = 0;\n                            while (matcher = setMatchers[j++]) {\n                                matcher(unmatched, setMatched, context, xml);\n                            }\n                            if (seed) {\n                                // Reintegrate element matches to eliminate the need for sorting\n                                if (matchedCount > 0) {\n                                    while (i--) {\n                                        if (!(unmatched[i] || setMatched[i])) {\n                                            setMatched[i] = pop.call(results);\n                                        }\n                                    }\n                                }\n                                // Discard index placeholder values to get only actual matches\n                                setMatched = condense(setMatched);\n                            }\n                            // Add matches to results\n                            push.apply(results, setMatched);\n                            // Seedless set matches succeeding multiple successful matchers stipulate sorting\n                            if (outermost && !seed && setMatched.length > 0 && matchedCount + setMatchers.length > 1) {\n                                Sizzle.uniqueSort(results);\n                            }\n                        }\n                        // Override manipulation of globals by nested matchers\n                        if (outermost) {\n                            dirruns = dirrunsUnique;\n                            outermostContext = contextBackup;\n                        }\n                        return unmatched;\n                    };\n                return bySet ? markFunction(superMatcher) : superMatcher;\n            }\n            compile = Sizzle.compile = function (selector, match) {\n                var i, setMatchers = [], elementMatchers = [], cached = compilerCache[selector + ' '];\n                if (!cached) {\n                    // Generate a function of recursive functions that can be used to check each element\n                    if (!match) {\n                        match = tokenize(selector);\n                    }\n                    i = match.length;\n                    while (i--) {\n                        cached = matcherFromTokens(match[i]);\n                        if (cached[expando]) {\n                            setMatchers.push(cached);\n                        } else {\n                            elementMatchers.push(cached);\n                        }\n                    }\n                    // Cache the compiled function\n                    cached = compilerCache(selector, matcherFromGroupMatchers(elementMatchers, setMatchers));\n                    // Save selector and tokenization\n                    cached.selector = selector;\n                }\n                return cached;\n            };\n            /**\n * A low-level selection function that works with Sizzle's compiled\n *  selector functions\n * @param {String|Function} selector A selector or a pre-compiled\n *  selector function built with Sizzle.compile\n * @param {Element} context\n * @param {Array} [results]\n * @param {Array} [seed] A set of elements to match against\n */\n            select = Sizzle.select = function (selector, context, results, seed) {\n                var i, tokens, token, type, find, compiled = typeof selector === 'function' && selector, match = !seed && tokenize(selector = compiled.selector || selector);\n                results = results || [];\n                // Try to minimize operations if there is no seed and only one group\n                if (match.length === 1) {\n                    // Take a shortcut and set the context if the root selector is an ID\n                    tokens = match[0] = match[0].slice(0);\n                    if (tokens.length > 2 && (token = tokens[0]).type === 'ID' && support.getById && context.nodeType === 9 && documentIsHTML && Expr.relative[tokens[1].type]) {\n                        context = (Expr.find['ID'](token.matches[0].replace(runescape, funescape), context) || [])[0];\n                        if (!context) {\n                            return results;    // Precompiled matchers will still verify ancestry, so step up a level\n                        } else if (compiled) {\n                            context = context.parentNode;\n                        }\n                        selector = selector.slice(tokens.shift().value.length);\n                    }\n                    // Fetch a seed set for right-to-left matching\n                    i = matchExpr['needsContext'].test(selector) ? 0 : tokens.length;\n                    while (i--) {\n                        token = tokens[i];\n                        // Abort if we hit a combinator\n                        if (Expr.relative[type = token.type]) {\n                            break;\n                        }\n                        if (find = Expr.find[type]) {\n                            // Search, expanding context for leading sibling combinators\n                            if (seed = find(token.matches[0].replace(runescape, funescape), rsibling.test(tokens[0].type) && testContext(context.parentNode) || context)) {\n                                // If seed is empty or no tokens remain, we can return early\n                                tokens.splice(i, 1);\n                                selector = seed.length && toSelector(tokens);\n                                if (!selector) {\n                                    push.apply(results, seed);\n                                    return results;\n                                }\n                                break;\n                            }\n                        }\n                    }\n                }\n                // Compile and execute a filtering function if one is not provided\n                // Provide `match` to avoid retokenization if we modified the selector above\n                (compiled || compile(selector, match))(seed, context, !documentIsHTML, results, rsibling.test(selector) && testContext(context.parentNode) || context);\n                return results;\n            };\n            // One-time assignments\n            // Sort stability\n            support.sortStable = expando.split('').sort(sortOrder).join('') === expando;\n            // Support: Chrome<14\n            // Always assume duplicates if they aren't passed to the comparison function\n            support.detectDuplicates = !!hasDuplicate;\n            // Initialize against the default document\n            setDocument();\n            // Support: Webkit<537.32 - Safari 6.0.3/Chrome 25 (fixed in Chrome 27)\n            // Detached nodes confoundingly follow *each other*\n            support.sortDetached = assert(function (div1) {\n                // Should return 1, but returns 4 (following)\n                return div1.compareDocumentPosition(document.createElement('div')) & 1;\n            });\n            // Support: IE<8\n            // Prevent attribute/property \"interpolation\"\n            // http://msdn.microsoft.com/en-us/library/ms536429%28VS.85%29.aspx\n            if (!assert(function (div) {\n                    div.innerHTML = '<a href=\\'#\\'></a>';\n                    return div.firstChild.getAttribute('href') === '#';\n                })) {\n                addHandle('type|href|height|width', function (elem, name, isXML) {\n                    if (!isXML) {\n                        return elem.getAttribute(name, name.toLowerCase() === 'type' ? 1 : 2);\n                    }\n                });\n            }\n            // Support: IE<9\n            // Use defaultValue in place of getAttribute(\"value\")\n            if (!support.attributes || !assert(function (div) {\n                    div.innerHTML = '<input/>';\n                    div.firstChild.setAttribute('value', '');\n                    return div.firstChild.getAttribute('value') === '';\n                })) {\n                addHandle('value', function (elem, name, isXML) {\n                    if (!isXML && elem.nodeName.toLowerCase() === 'input') {\n                        return elem.defaultValue;\n                    }\n                });\n            }\n            // Support: IE<9\n            // Use getAttributeNode to fetch booleans when getAttribute lies\n            if (!assert(function (div) {\n                    return div.getAttribute('disabled') == null;\n                })) {\n                addHandle(booleans, function (elem, name, isXML) {\n                    var val;\n                    if (!isXML) {\n                        return elem[name] === true ? name.toLowerCase() : (val = elem.getAttributeNode(name)) && val.specified ? val.value : null;\n                    }\n                });\n            }\n            return Sizzle;\n        }(window);\n        jQuery.find = Sizzle;\n        jQuery.expr = Sizzle.selectors;\n        jQuery.expr[':'] = jQuery.expr.pseudos;\n        jQuery.unique = Sizzle.uniqueSort;\n        jQuery.text = Sizzle.getText;\n        jQuery.isXMLDoc = Sizzle.isXML;\n        jQuery.contains = Sizzle.contains;\n        var rneedsContext = jQuery.expr.match.needsContext;\n        var rsingleTag = /^<(\\w+)\\s*\\/?>(?:<\\/\\1>|)$/;\n        var risSimple = /^.[^:#\\[\\.,]*$/;\n        // Implement the identical functionality for filter and not\n        function winnow(elements, qualifier, not) {\n            if (jQuery.isFunction(qualifier)) {\n                return jQuery.grep(elements, function (elem, i) {\n                    /* jshint -W018 */\n                    return !!qualifier.call(elem, i, elem) !== not;\n                });\n            }\n            if (qualifier.nodeType) {\n                return jQuery.grep(elements, function (elem) {\n                    return elem === qualifier !== not;\n                });\n            }\n            if (typeof qualifier === 'string') {\n                if (risSimple.test(qualifier)) {\n                    return jQuery.filter(qualifier, elements, not);\n                }\n                qualifier = jQuery.filter(qualifier, elements);\n            }\n            return jQuery.grep(elements, function (elem) {\n                return jQuery.inArray(elem, qualifier) >= 0 !== not;\n            });\n        }\n        jQuery.filter = function (expr, elems, not) {\n            var elem = elems[0];\n            if (not) {\n                expr = ':not(' + expr + ')';\n            }\n            return elems.length === 1 && elem.nodeType === 1 ? jQuery.find.matchesSelector(elem, expr) ? [elem] : [] : jQuery.find.matches(expr, jQuery.grep(elems, function (elem) {\n                return elem.nodeType === 1;\n            }));\n        };\n        jQuery.fn.extend({\n            find: function (selector) {\n                var i, ret = [], self = this, len = self.length;\n                if (typeof selector !== 'string') {\n                    return this.pushStack(jQuery(selector).filter(function () {\n                        for (i = 0; i < len; i++) {\n                            if (jQuery.contains(self[i], this)) {\n                                return true;\n                            }\n                        }\n                    }));\n                }\n                for (i = 0; i < len; i++) {\n                    jQuery.find(selector, self[i], ret);\n                }\n                // Needed because $( selector, context ) becomes $( context ).find( selector )\n                ret = this.pushStack(len > 1 ? jQuery.unique(ret) : ret);\n                ret.selector = this.selector ? this.selector + ' ' + selector : selector;\n                return ret;\n            },\n            filter: function (selector) {\n                return this.pushStack(winnow(this, selector || [], false));\n            },\n            not: function (selector) {\n                return this.pushStack(winnow(this, selector || [], true));\n            },\n            is: function (selector) {\n                return !!winnow(this, // If this is a positional/relative selector, check membership in the returned set\n                // so $(\"p:first\").is(\"p:last\") won't return true for a doc with two \"p\".\n                typeof selector === 'string' && rneedsContext.test(selector) ? jQuery(selector) : selector || [], false).length;\n            }\n        });\n        // Initialize a jQuery object\n        // A central reference to the root jQuery(document)\n        var rootjQuery,\n            // Use the correct document accordingly with window argument (sandbox)\n            document = window.document,\n            // A simple way to check for HTML strings\n            // Prioritize #id over <tag> to avoid XSS via location.hash (#9521)\n            // Strict HTML recognition (#11290: must start with <)\n            rquickExpr = /^(?:\\s*(<[\\w\\W]+>)[^>]*|#([\\w-]*))$/, init = jQuery.fn.init = function (selector, context) {\n                var match, elem;\n                // HANDLE: $(\"\"), $(null), $(undefined), $(false)\n                if (!selector) {\n                    return this;\n                }\n                // Handle HTML strings\n                if (typeof selector === 'string') {\n                    if (selector.charAt(0) === '<' && selector.charAt(selector.length - 1) === '>' && selector.length >= 3) {\n                        // Assume that strings that start and end with <> are HTML and skip the regex check\n                        match = [\n                            null,\n                            selector,\n                            null\n                        ];\n                    } else {\n                        match = rquickExpr.exec(selector);\n                    }\n                    // Match html or make sure no context is specified for #id\n                    if (match && (match[1] || !context)) {\n                        // HANDLE: $(html) -> $(array)\n                        if (match[1]) {\n                            context = context instanceof jQuery ? context[0] : context;\n                            // scripts is true for back-compat\n                            // Intentionally let the error be thrown if parseHTML is not present\n                            jQuery.merge(this, jQuery.parseHTML(match[1], context && context.nodeType ? context.ownerDocument || context : document, true));\n                            // HANDLE: $(html, props)\n                            if (rsingleTag.test(match[1]) && jQuery.isPlainObject(context)) {\n                                for (match in context) {\n                                    // Properties of context are called as methods if possible\n                                    if (jQuery.isFunction(this[match])) {\n                                        this[match](context[match]);    // ...and otherwise set as attributes\n                                    } else {\n                                        this.attr(match, context[match]);\n                                    }\n                                }\n                            }\n                            return this;    // HANDLE: $(#id)\n                        } else {\n                            elem = document.getElementById(match[2]);\n                            // Check parentNode to catch when Blackberry 4.6 returns\n                            // nodes that are no longer in the document #6963\n                            if (elem && elem.parentNode) {\n                                // Handle the case where IE and Opera return items\n                                // by name instead of ID\n                                if (elem.id !== match[2]) {\n                                    return rootjQuery.find(selector);\n                                }\n                                // Otherwise, we inject the element directly into the jQuery object\n                                this.length = 1;\n                                this[0] = elem;\n                            }\n                            this.context = document;\n                            this.selector = selector;\n                            return this;\n                        }    // HANDLE: $(expr, $(...))\n                    } else if (!context || context.jquery) {\n                        return (context || rootjQuery).find(selector);    // HANDLE: $(expr, context)\n                                                                          // (which is just equivalent to: $(context).find(expr)\n                    } else {\n                        return this.constructor(context).find(selector);\n                    }    // HANDLE: $(DOMElement)\n                } else if (selector.nodeType) {\n                    this.context = this[0] = selector;\n                    this.length = 1;\n                    return this;    // HANDLE: $(function)\n                                    // Shortcut for document ready\n                } else if (jQuery.isFunction(selector)) {\n                    return typeof rootjQuery.ready !== 'undefined' ? rootjQuery.ready(selector) : // Execute immediately if ready is not present\n                    selector(jQuery);\n                }\n                if (selector.selector !== undefined) {\n                    this.selector = selector.selector;\n                    this.context = selector.context;\n                }\n                return jQuery.makeArray(selector, this);\n            };\n        // Give the init function the jQuery prototype for later instantiation\n        init.prototype = jQuery.fn;\n        // Initialize central reference\n        rootjQuery = jQuery(document);\n        var rparentsprev = /^(?:parents|prev(?:Until|All))/,\n            // methods guaranteed to produce a unique set when starting from a unique set\n            guaranteedUnique = {\n                children: true,\n                contents: true,\n                next: true,\n                prev: true\n            };\n        jQuery.extend({\n            dir: function (elem, dir, until) {\n                var matched = [], cur = elem[dir];\n                while (cur && cur.nodeType !== 9 && (until === undefined || cur.nodeType !== 1 || !jQuery(cur).is(until))) {\n                    if (cur.nodeType === 1) {\n                        matched.push(cur);\n                    }\n                    cur = cur[dir];\n                }\n                return matched;\n            },\n            sibling: function (n, elem) {\n                var r = [];\n                for (; n; n = n.nextSibling) {\n                    if (n.nodeType === 1 && n !== elem) {\n                        r.push(n);\n                    }\n                }\n                return r;\n            }\n        });\n        jQuery.fn.extend({\n            has: function (target) {\n                var i, targets = jQuery(target, this), len = targets.length;\n                return this.filter(function () {\n                    for (i = 0; i < len; i++) {\n                        if (jQuery.contains(this, targets[i])) {\n                            return true;\n                        }\n                    }\n                });\n            },\n            closest: function (selectors, context) {\n                var cur, i = 0, l = this.length, matched = [], pos = rneedsContext.test(selectors) || typeof selectors !== 'string' ? jQuery(selectors, context || this.context) : 0;\n                for (; i < l; i++) {\n                    for (cur = this[i]; cur && cur !== context; cur = cur.parentNode) {\n                        // Always skip document fragments\n                        if (cur.nodeType < 11 && (pos ? pos.index(cur) > -1 : // Don't pass non-elements to Sizzle\n                            cur.nodeType === 1 && jQuery.find.matchesSelector(cur, selectors))) {\n                            matched.push(cur);\n                            break;\n                        }\n                    }\n                }\n                return this.pushStack(matched.length > 1 ? jQuery.unique(matched) : matched);\n            },\n            // Determine the position of an element within\n            // the matched set of elements\n            index: function (elem) {\n                // No argument, return index in parent\n                if (!elem) {\n                    return this[0] && this[0].parentNode ? this.first().prevAll().length : -1;\n                }\n                // index in selector\n                if (typeof elem === 'string') {\n                    return jQuery.inArray(this[0], jQuery(elem));\n                }\n                // Locate the position of the desired element\n                return jQuery.inArray(// If it receives a jQuery object, the first element is used\n                elem.jquery ? elem[0] : elem, this);\n            },\n            add: function (selector, context) {\n                return this.pushStack(jQuery.unique(jQuery.merge(this.get(), jQuery(selector, context))));\n            },\n            addBack: function (selector) {\n                return this.add(selector == null ? this.prevObject : this.prevObject.filter(selector));\n            }\n        });\n        function sibling(cur, dir) {\n            do {\n                cur = cur[dir];\n            } while (cur && cur.nodeType !== 1);\n            return cur;\n        }\n        jQuery.each({\n            parent: function (elem) {\n                var parent = elem.parentNode;\n                return parent && parent.nodeType !== 11 ? parent : null;\n            },\n            parents: function (elem) {\n                return jQuery.dir(elem, 'parentNode');\n            },\n            parentsUntil: function (elem, i, until) {\n                return jQuery.dir(elem, 'parentNode', until);\n            },\n            next: function (elem) {\n                return sibling(elem, 'nextSibling');\n            },\n            prev: function (elem) {\n                return sibling(elem, 'previousSibling');\n            },\n            nextAll: function (elem) {\n                return jQuery.dir(elem, 'nextSibling');\n            },\n            prevAll: function (elem) {\n                return jQuery.dir(elem, 'previousSibling');\n            },\n            nextUntil: function (elem, i, until) {\n                return jQuery.dir(elem, 'nextSibling', until);\n            },\n            prevUntil: function (elem, i, until) {\n                return jQuery.dir(elem, 'previousSibling', until);\n            },\n            siblings: function (elem) {\n                return jQuery.sibling((elem.parentNode || {}).firstChild, elem);\n            },\n            children: function (elem) {\n                return jQuery.sibling(elem.firstChild);\n            },\n            contents: function (elem) {\n                return jQuery.nodeName(elem, 'iframe') ? elem.contentDocument || elem.contentWindow.document : jQuery.merge([], elem.childNodes);\n            }\n        }, function (name, fn) {\n            jQuery.fn[name] = function (until, selector) {\n                var ret = jQuery.map(this, fn, until);\n                if (name.slice(-5) !== 'Until') {\n                    selector = until;\n                }\n                if (selector && typeof selector === 'string') {\n                    ret = jQuery.filter(selector, ret);\n                }\n                if (this.length > 1) {\n                    // Remove duplicates\n                    if (!guaranteedUnique[name]) {\n                        ret = jQuery.unique(ret);\n                    }\n                    // Reverse order for parents* and prev-derivatives\n                    if (rparentsprev.test(name)) {\n                        ret = ret.reverse();\n                    }\n                }\n                return this.pushStack(ret);\n            };\n        });\n        var rnotwhite = /\\S+/g;\n        // String to Object options format cache\n        var optionsCache = {};\n        // Convert String-formatted options into Object-formatted ones and store in cache\n        function createOptions(options) {\n            var object = optionsCache[options] = {};\n            jQuery.each(options.match(rnotwhite) || [], function (_, flag) {\n                object[flag] = true;\n            });\n            return object;\n        }\n        /*\n * Create a callback list using the following parameters:\n *\n *\toptions: an optional list of space-separated options that will change how\n *\t\t\tthe callback list behaves or a more traditional option object\n *\n * By default a callback list will act like an event callback list and can be\n * \"fired\" multiple times.\n *\n * Possible options:\n *\n *\tonce:\t\t\twill ensure the callback list can only be fired once (like a Deferred)\n *\n *\tmemory:\t\t\twill keep track of previous values and will call any callback added\n *\t\t\t\t\tafter the list has been fired right away with the latest \"memorized\"\n *\t\t\t\t\tvalues (like a Deferred)\n *\n *\tunique:\t\t\twill ensure a callback can only be added once (no duplicate in the list)\n *\n *\tstopOnFalse:\tinterrupt callings when a callback returns false\n *\n */\n        jQuery.Callbacks = function (options) {\n            // Convert options from String-formatted to Object-formatted if needed\n            // (we check in cache first)\n            options = typeof options === 'string' ? optionsCache[options] || createOptions(options) : jQuery.extend({}, options);\n            var\n                // Flag to know if list is currently firing\n                firing,\n                // Last fire value (for non-forgettable lists)\n                memory,\n                // Flag to know if list was already fired\n                fired,\n                // End of the loop when firing\n                firingLength,\n                // Index of currently firing callback (modified by remove if needed)\n                firingIndex,\n                // First callback to fire (used internally by add and fireWith)\n                firingStart,\n                // Actual callback list\n                list = [],\n                // Stack of fire calls for repeatable lists\n                stack = !options.once && [],\n                // Fire callbacks\n                fire = function (data) {\n                    memory = options.memory && data;\n                    fired = true;\n                    firingIndex = firingStart || 0;\n                    firingStart = 0;\n                    firingLength = list.length;\n                    firing = true;\n                    for (; list && firingIndex < firingLength; firingIndex++) {\n                        if (list[firingIndex].apply(data[0], data[1]) === false && options.stopOnFalse) {\n                            memory = false;\n                            // To prevent further calls using add\n                            break;\n                        }\n                    }\n                    firing = false;\n                    if (list) {\n                        if (stack) {\n                            if (stack.length) {\n                                fire(stack.shift());\n                            }\n                        } else if (memory) {\n                            list = [];\n                        } else {\n                            self.disable();\n                        }\n                    }\n                },\n                // Actual Callbacks object\n                self = {\n                    // Add a callback or a collection of callbacks to the list\n                    add: function () {\n                        if (list) {\n                            // First, we save the current length\n                            var start = list.length;\n                            (function add(args) {\n                                jQuery.each(args, function (_, arg) {\n                                    var type = jQuery.type(arg);\n                                    if (type === 'function') {\n                                        if (!options.unique || !self.has(arg)) {\n                                            list.push(arg);\n                                        }\n                                    } else if (arg && arg.length && type !== 'string') {\n                                        // Inspect recursively\n                                        add(arg);\n                                    }\n                                });\n                            }(arguments));\n                            // Do we need to add the callbacks to the\n                            // current firing batch?\n                            if (firing) {\n                                firingLength = list.length;    // With memory, if we're not firing then\n                                                               // we should call right away\n                            } else if (memory) {\n                                firingStart = start;\n                                fire(memory);\n                            }\n                        }\n                        return this;\n                    },\n                    // Remove a callback from the list\n                    remove: function () {\n                        if (list) {\n                            jQuery.each(arguments, function (_, arg) {\n                                var index;\n                                while ((index = jQuery.inArray(arg, list, index)) > -1) {\n                                    list.splice(index, 1);\n                                    // Handle firing indexes\n                                    if (firing) {\n                                        if (index <= firingLength) {\n                                            firingLength--;\n                                        }\n                                        if (index <= firingIndex) {\n                                            firingIndex--;\n                                        }\n                                    }\n                                }\n                            });\n                        }\n                        return this;\n                    },\n                    // Check if a given callback is in the list.\n                    // If no argument is given, return whether or not list has callbacks attached.\n                    has: function (fn) {\n                        return fn ? jQuery.inArray(fn, list) > -1 : !!(list && list.length);\n                    },\n                    // Remove all callbacks from the list\n                    empty: function () {\n                        list = [];\n                        firingLength = 0;\n                        return this;\n                    },\n                    // Have the list do nothing anymore\n                    disable: function () {\n                        list = stack = memory = undefined;\n                        return this;\n                    },\n                    // Is it disabled?\n                    disabled: function () {\n                        return !list;\n                    },\n                    // Lock the list in its current state\n                    lock: function () {\n                        stack = undefined;\n                        if (!memory) {\n                            self.disable();\n                        }\n                        return this;\n                    },\n                    // Is it locked?\n                    locked: function () {\n                        return !stack;\n                    },\n                    // Call all callbacks with the given context and arguments\n                    fireWith: function (context, args) {\n                        if (list && (!fired || stack)) {\n                            args = args || [];\n                            args = [\n                                context,\n                                args.slice ? args.slice() : args\n                            ];\n                            if (firing) {\n                                stack.push(args);\n                            } else {\n                                fire(args);\n                            }\n                        }\n                        return this;\n                    },\n                    // Call all the callbacks with the given arguments\n                    fire: function () {\n                        self.fireWith(this, arguments);\n                        return this;\n                    },\n                    // To know if the callbacks have already been called at least once\n                    fired: function () {\n                        return !!fired;\n                    }\n                };\n            return self;\n        };\n        jQuery.extend({\n            Deferred: function (func) {\n                var tuples = [\n                        // action, add listener, listener list, final state\n                        [\n                            'resolve',\n                            'done',\n                            jQuery.Callbacks('once memory'),\n                            'resolved'\n                        ],\n                        [\n                            'reject',\n                            'fail',\n                            jQuery.Callbacks('once memory'),\n                            'rejected'\n                        ],\n                        [\n                            'notify',\n                            'progress',\n                            jQuery.Callbacks('memory')\n                        ]\n                    ], state = 'pending', promise = {\n                        state: function () {\n                            return state;\n                        },\n                        always: function () {\n                            deferred.done(arguments).fail(arguments);\n                            return this;\n                        },\n                        then: function () {\n                            var fns = arguments;\n                            return jQuery.Deferred(function (newDefer) {\n                                jQuery.each(tuples, function (i, tuple) {\n                                    var fn = jQuery.isFunction(fns[i]) && fns[i];\n                                    // deferred[ done | fail | progress ] for forwarding actions to newDefer\n                                    deferred[tuple[1]](function () {\n                                        var returned = fn && fn.apply(this, arguments);\n                                        if (returned && jQuery.isFunction(returned.promise)) {\n                                            returned.promise().done(newDefer.resolve).fail(newDefer.reject).progress(newDefer.notify);\n                                        } else {\n                                            newDefer[tuple[0] + 'With'](this === promise ? newDefer.promise() : this, fn ? [returned] : arguments);\n                                        }\n                                    });\n                                });\n                                fns = null;\n                            }).promise();\n                        },\n                        // Get a promise for this deferred\n                        // If obj is provided, the promise aspect is added to the object\n                        promise: function (obj) {\n                            return obj != null ? jQuery.extend(obj, promise) : promise;\n                        }\n                    }, deferred = {};\n                // Keep pipe for back-compat\n                promise.pipe = promise.then;\n                // Add list-specific methods\n                jQuery.each(tuples, function (i, tuple) {\n                    var list = tuple[2], stateString = tuple[3];\n                    // promise[ done | fail | progress ] = list.add\n                    promise[tuple[1]] = list.add;\n                    // Handle state\n                    if (stateString) {\n                        list.add(function () {\n                            // state = [ resolved | rejected ]\n                            state = stateString;    // [ reject_list | resolve_list ].disable; progress_list.lock\n                        }, tuples[i ^ 1][2].disable, tuples[2][2].lock);\n                    }\n                    // deferred[ resolve | reject | notify ]\n                    deferred[tuple[0]] = function () {\n                        deferred[tuple[0] + 'With'](this === deferred ? promise : this, arguments);\n                        return this;\n                    };\n                    deferred[tuple[0] + 'With'] = list.fireWith;\n                });\n                // Make the deferred a promise\n                promise.promise(deferred);\n                // Call given func if any\n                if (func) {\n                    func.call(deferred, deferred);\n                }\n                // All done!\n                return deferred;\n            },\n            // Deferred helper\n            when: function (subordinate) {\n                var i = 0, resolveValues = slice.call(arguments), length = resolveValues.length,\n                    // the count of uncompleted subordinates\n                    remaining = length !== 1 || subordinate && jQuery.isFunction(subordinate.promise) ? length : 0,\n                    // the master Deferred. If resolveValues consist of only a single Deferred, just use that.\n                    deferred = remaining === 1 ? subordinate : jQuery.Deferred(),\n                    // Update function for both resolve and progress values\n                    updateFunc = function (i, contexts, values) {\n                        return function (value) {\n                            contexts[i] = this;\n                            values[i] = arguments.length > 1 ? slice.call(arguments) : value;\n                            if (values === progressValues) {\n                                deferred.notifyWith(contexts, values);\n                            } else if (!--remaining) {\n                                deferred.resolveWith(contexts, values);\n                            }\n                        };\n                    }, progressValues, progressContexts, resolveContexts;\n                // add listeners to Deferred subordinates; treat others as resolved\n                if (length > 1) {\n                    progressValues = new Array(length);\n                    progressContexts = new Array(length);\n                    resolveContexts = new Array(length);\n                    for (; i < length; i++) {\n                        if (resolveValues[i] && jQuery.isFunction(resolveValues[i].promise)) {\n                            resolveValues[i].promise().done(updateFunc(i, resolveContexts, resolveValues)).fail(deferred.reject).progress(updateFunc(i, progressContexts, progressValues));\n                        } else {\n                            --remaining;\n                        }\n                    }\n                }\n                // if we're not waiting on anything, resolve the master\n                if (!remaining) {\n                    deferred.resolveWith(resolveContexts, resolveValues);\n                }\n                return deferred.promise();\n            }\n        });\n        // The deferred used on DOM ready\n        var readyList;\n        jQuery.fn.ready = function (fn) {\n            // Add the callback\n            jQuery.ready.promise().done(fn);\n            return this;\n        };\n        jQuery.extend({\n            // Is the DOM ready to be used? Set to true once it occurs.\n            isReady: false,\n            // A counter to track how many items to wait for before\n            // the ready event fires. See #6781\n            readyWait: 1,\n            // Hold (or release) the ready event\n            holdReady: function (hold) {\n                if (hold) {\n                    jQuery.readyWait++;\n                } else {\n                    jQuery.ready(true);\n                }\n            },\n            // Handle when the DOM is ready\n            ready: function (wait) {\n                // Abort if there are pending holds or we're already ready\n                if (wait === true ? --jQuery.readyWait : jQuery.isReady) {\n                    return;\n                }\n                // Make sure body exists, at least, in case IE gets a little overzealous (ticket #5443).\n                if (!document.body) {\n                    return setTimeout(jQuery.ready);\n                }\n                // Remember that the DOM is ready\n                jQuery.isReady = true;\n                // If a normal DOM Ready event fired, decrement, and wait if need be\n                if (wait !== true && --jQuery.readyWait > 0) {\n                    return;\n                }\n                // If there are functions bound, to execute\n                readyList.resolveWith(document, [jQuery]);\n                // Trigger any bound ready events\n                if (jQuery.fn.triggerHandler) {\n                    jQuery(document).triggerHandler('ready');\n                    jQuery(document).off('ready');\n                }\n            }\n        });\n        /**\n * Clean-up method for dom ready events\n */\n        function detach() {\n            if (document.addEventListener) {\n                document.removeEventListener('DOMContentLoaded', completed, false);\n                window.removeEventListener('load', completed, false);\n            } else {\n                document.detachEvent('onreadystatechange', completed);\n                window.detachEvent('onload', completed);\n            }\n        }\n        /**\n * The ready event handler and self cleanup method\n */\n        function completed() {\n            // readyState === \"complete\" is good enough for us to call the dom ready in oldIE\n            if (document.addEventListener || event.type === 'load' || document.readyState === 'complete') {\n                detach();\n                jQuery.ready();\n            }\n        }\n        jQuery.ready.promise = function (obj) {\n            if (!readyList) {\n                readyList = jQuery.Deferred();\n                // Catch cases where $(document).ready() is called after the browser event has already occurred.\n                // we once tried to use readyState \"interactive\" here, but it caused issues like the one\n                // discovered by ChrisS here: http://bugs.jquery.com/ticket/12282#comment:15\n                if (document.readyState === 'complete') {\n                    // Handle it asynchronously to allow scripts the opportunity to delay ready\n                    setTimeout(jQuery.ready);    // Standards-based browsers support DOMContentLoaded\n                } else if (document.addEventListener) {\n                    // Use the handy event callback\n                    document.addEventListener('DOMContentLoaded', completed, false);\n                    // A fallback to window.onload, that will always work\n                    window.addEventListener('load', completed, false);    // If IE event model is used\n                } else {\n                    // Ensure firing before onload, maybe late but safe also for iframes\n                    document.attachEvent('onreadystatechange', completed);\n                    // A fallback to window.onload, that will always work\n                    window.attachEvent('onload', completed);\n                    // If IE and not a frame\n                    // continually check to see if the document is ready\n                    var top = false;\n                    try {\n                        top = window.frameElement == null && document.documentElement;\n                    } catch (e) {\n                    }\n                    if (top && top.doScroll) {\n                        (function doScrollCheck() {\n                            if (!jQuery.isReady) {\n                                try {\n                                    // Use the trick by Diego Perini\n                                    // http://javascript.nwbox.com/IEContentLoaded/\n                                    top.doScroll('left');\n                                } catch (e) {\n                                    return setTimeout(doScrollCheck, 50);\n                                }\n                                // detach all dom ready events\n                                detach();\n                                // and execute any waiting functions\n                                jQuery.ready();\n                            }\n                        }());\n                    }\n                }\n            }\n            return readyList.promise(obj);\n        };\n        var strundefined = typeof undefined;\n        // Support: IE<9\n        // Iteration over object's inherited properties before its own\n        var i;\n        for (i in jQuery(support)) {\n            break;\n        }\n        support.ownLast = i !== '0';\n        // Note: most support tests are defined in their respective modules.\n        // false until the test is run\n        support.inlineBlockNeedsLayout = false;\n        // Execute ASAP in case we need to set body.style.zoom\n        jQuery(function () {\n            // Minified: var a,b,c,d\n            var val, div, body, container;\n            body = document.getElementsByTagName('body')[0];\n            if (!body || !body.style) {\n                // Return for frameset docs that don't have a body\n                return;\n            }\n            // Setup\n            div = document.createElement('div');\n            container = document.createElement('div');\n            container.style.cssText = 'position:absolute;border:0;width:0;height:0;top:0;left:-9999px';\n            body.appendChild(container).appendChild(div);\n            if (typeof div.style.zoom !== strundefined) {\n                // Support: IE<8\n                // Check if natively block-level elements act like inline-block\n                // elements when setting their display to 'inline' and giving\n                // them layout\n                div.style.cssText = 'display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1';\n                support.inlineBlockNeedsLayout = val = div.offsetWidth === 3;\n                if (val) {\n                    // Prevent IE 6 from affecting layout for positioned elements #11048\n                    // Prevent IE from shrinking the body in IE 7 mode #12869\n                    // Support: IE<8\n                    body.style.zoom = 1;\n                }\n            }\n            body.removeChild(container);\n        });\n        (function () {\n            var div = document.createElement('div');\n            // Execute the test only if not already executed in another module.\n            if (support.deleteExpando == null) {\n                // Support: IE<9\n                support.deleteExpando = true;\n                try {\n                    delete div.test;\n                } catch (e) {\n                    support.deleteExpando = false;\n                }\n            }\n            // Null elements to avoid leaks in IE.\n            div = null;\n        }());\n        /**\n * Determines whether an object can have data\n */\n        jQuery.acceptData = function (elem) {\n            var noData = jQuery.noData[(elem.nodeName + ' ').toLowerCase()], nodeType = +elem.nodeType || 1;\n            // Do not set data on non-element DOM nodes because it will not be cleared (#8335).\n            return nodeType !== 1 && nodeType !== 9 ? false : // Nodes accept data unless otherwise specified; rejection can be conditional\n            !noData || noData !== true && elem.getAttribute('classid') === noData;\n        };\n        var rbrace = /^(?:\\{[\\w\\W]*\\}|\\[[\\w\\W]*\\])$/, rmultiDash = /([A-Z])/g;\n        function dataAttr(elem, key, data) {\n            // If nothing was found internally, try to fetch any\n            // data from the HTML5 data-* attribute\n            if (data === undefined && elem.nodeType === 1) {\n                var name = 'data-' + key.replace(rmultiDash, '-$1').toLowerCase();\n                data = elem.getAttribute(name);\n                if (typeof data === 'string') {\n                    try {\n                        data = data === 'true' ? true : data === 'false' ? false : data === 'null' ? null : // Only convert to a number if it doesn't change the string\n                        +data + '' === data ? +data : rbrace.test(data) ? jQuery.parseJSON(data) : data;\n                    } catch (e) {\n                    }\n                    // Make sure we set the data so it isn't changed later\n                    jQuery.data(elem, key, data);\n                } else {\n                    data = undefined;\n                }\n            }\n            return data;\n        }\n        // checks a cache object for emptiness\n        function isEmptyDataObject(obj) {\n            var name;\n            for (name in obj) {\n                // if the public data object is empty, the private is still empty\n                if (name === 'data' && jQuery.isEmptyObject(obj[name])) {\n                    continue;\n                }\n                if (name !== 'toJSON') {\n                    return false;\n                }\n            }\n            return true;\n        }\n        function internalData(elem, name, data, pvt) {\n            if (!jQuery.acceptData(elem)) {\n                return;\n            }\n            var ret, thisCache, internalKey = jQuery.expando,\n                // We have to handle DOM nodes and JS objects differently because IE6-7\n                // can't GC object references properly across the DOM-JS boundary\n                isNode = elem.nodeType,\n                // Only DOM nodes need the global jQuery cache; JS object data is\n                // attached directly to the object so GC can occur automatically\n                cache = isNode ? jQuery.cache : elem,\n                // Only defining an ID for JS objects if its cache already exists allows\n                // the code to shortcut on the same path as a DOM node with no cache\n                id = isNode ? elem[internalKey] : elem[internalKey] && internalKey;\n            // Avoid doing any more work than we need to when trying to get data on an\n            // object that has no data at all\n            if ((!id || !cache[id] || !pvt && !cache[id].data) && data === undefined && typeof name === 'string') {\n                return;\n            }\n            if (!id) {\n                // Only DOM nodes need a new unique ID for each element since their data\n                // ends up in the global cache\n                if (isNode) {\n                    id = elem[internalKey] = deletedIds.pop() || jQuery.guid++;\n                } else {\n                    id = internalKey;\n                }\n            }\n            if (!cache[id]) {\n                // Avoid exposing jQuery metadata on plain JS objects when the object\n                // is serialized using JSON.stringify\n                cache[id] = isNode ? {} : { toJSON: jQuery.noop };\n            }\n            // An object can be passed to jQuery.data instead of a key/value pair; this gets\n            // shallow copied over onto the existing cache\n            if (typeof name === 'object' || typeof name === 'function') {\n                if (pvt) {\n                    cache[id] = jQuery.extend(cache[id], name);\n                } else {\n                    cache[id].data = jQuery.extend(cache[id].data, name);\n                }\n            }\n            thisCache = cache[id];\n            // jQuery data() is stored in a separate object inside the object's internal data\n            // cache in order to avoid key collisions between internal data and user-defined\n            // data.\n            if (!pvt) {\n                if (!thisCache.data) {\n                    thisCache.data = {};\n                }\n                thisCache = thisCache.data;\n            }\n            if (data !== undefined) {\n                thisCache[jQuery.camelCase(name)] = data;\n            }\n            // Check for both converted-to-camel and non-converted data property names\n            // If a data property was specified\n            if (typeof name === 'string') {\n                // First Try to find as-is property data\n                ret = thisCache[name];\n                // Test for null|undefined property data\n                if (ret == null) {\n                    // Try to find the camelCased property\n                    ret = thisCache[jQuery.camelCase(name)];\n                }\n            } else {\n                ret = thisCache;\n            }\n            return ret;\n        }\n        function internalRemoveData(elem, name, pvt) {\n            if (!jQuery.acceptData(elem)) {\n                return;\n            }\n            var thisCache, i, isNode = elem.nodeType,\n                // See jQuery.data for more information\n                cache = isNode ? jQuery.cache : elem, id = isNode ? elem[jQuery.expando] : jQuery.expando;\n            // If there is already no cache entry for this object, there is no\n            // purpose in continuing\n            if (!cache[id]) {\n                return;\n            }\n            if (name) {\n                thisCache = pvt ? cache[id] : cache[id].data;\n                if (thisCache) {\n                    // Support array or space separated string names for data keys\n                    if (!jQuery.isArray(name)) {\n                        // try the string as a key before any manipulation\n                        if (name in thisCache) {\n                            name = [name];\n                        } else {\n                            // split the camel cased version by spaces unless a key with the spaces exists\n                            name = jQuery.camelCase(name);\n                            if (name in thisCache) {\n                                name = [name];\n                            } else {\n                                name = name.split(' ');\n                            }\n                        }\n                    } else {\n                        // If \"name\" is an array of keys...\n                        // When data is initially created, via (\"key\", \"val\") signature,\n                        // keys will be converted to camelCase.\n                        // Since there is no way to tell _how_ a key was added, remove\n                        // both plain key and camelCase key. #12786\n                        // This will only penalize the array argument path.\n                        name = name.concat(jQuery.map(name, jQuery.camelCase));\n                    }\n                    i = name.length;\n                    while (i--) {\n                        delete thisCache[name[i]];\n                    }\n                    // If there is no data left in the cache, we want to continue\n                    // and let the cache object itself get destroyed\n                    if (pvt ? !isEmptyDataObject(thisCache) : !jQuery.isEmptyObject(thisCache)) {\n                        return;\n                    }\n                }\n            }\n            // See jQuery.data for more information\n            if (!pvt) {\n                delete cache[id].data;\n                // Don't destroy the parent cache unless the internal data object\n                // had been the only thing left in it\n                if (!isEmptyDataObject(cache[id])) {\n                    return;\n                }\n            }\n            // Destroy the cache\n            if (isNode) {\n                jQuery.cleanData([elem], true);    // Use delete when supported for expandos or `cache` is not a window per isWindow (#10080)\n                                                   /* jshint eqeqeq: false */\n            } else if (support.deleteExpando || cache != cache.window) {\n                /* jshint eqeqeq: true */\n                delete cache[id];    // When all else fails, null\n            } else {\n                cache[id] = null;\n            }\n        }\n        jQuery.extend({\n            cache: {},\n            // The following elements (space-suffixed to avoid Object.prototype collisions)\n            // throw uncatchable exceptions if you attempt to set expando properties\n            noData: {\n                'applet ': true,\n                'embed ': true,\n                // ...but Flash objects (which have this classid) *can* handle expandos\n                'object ': 'clsid:D27CDB6E-AE6D-11cf-96B8-444553540000'\n            },\n            hasData: function (elem) {\n                elem = elem.nodeType ? jQuery.cache[elem[jQuery.expando]] : elem[jQuery.expando];\n                return !!elem && !isEmptyDataObject(elem);\n            },\n            data: function (elem, name, data) {\n                return internalData(elem, name, data);\n            },\n            removeData: function (elem, name) {\n                return internalRemoveData(elem, name);\n            },\n            // For internal use only.\n            _data: function (elem, name, data) {\n                return internalData(elem, name, data, true);\n            },\n            _removeData: function (elem, name) {\n                return internalRemoveData(elem, name, true);\n            }\n        });\n        jQuery.fn.extend({\n            data: function (key, value) {\n                var i, name, data, elem = this[0], attrs = elem && elem.attributes;\n                // Special expections of .data basically thwart jQuery.access,\n                // so implement the relevant behavior ourselves\n                // Gets all values\n                if (key === undefined) {\n                    if (this.length) {\n                        data = jQuery.data(elem);\n                        if (elem.nodeType === 1 && !jQuery._data(elem, 'parsedAttrs')) {\n                            i = attrs.length;\n                            while (i--) {\n                                // Support: IE11+\n                                // The attrs elements can be null (#14894)\n                                if (attrs[i]) {\n                                    name = attrs[i].name;\n                                    if (name.indexOf('data-') === 0) {\n                                        name = jQuery.camelCase(name.slice(5));\n                                        dataAttr(elem, name, data[name]);\n                                    }\n                                }\n                            }\n                            jQuery._data(elem, 'parsedAttrs', true);\n                        }\n                    }\n                    return data;\n                }\n                // Sets multiple values\n                if (typeof key === 'object') {\n                    return this.each(function () {\n                        jQuery.data(this, key);\n                    });\n                }\n                return arguments.length > 1 ? // Sets one value\n                this.each(function () {\n                    jQuery.data(this, key, value);\n                }) : // Gets one value\n                // Try to fetch any internally stored data first\n                elem ? dataAttr(elem, key, jQuery.data(elem, key)) : undefined;\n            },\n            removeData: function (key) {\n                return this.each(function () {\n                    jQuery.removeData(this, key);\n                });\n            }\n        });\n        jQuery.extend({\n            queue: function (elem, type, data) {\n                var queue;\n                if (elem) {\n                    type = (type || 'fx') + 'queue';\n                    queue = jQuery._data(elem, type);\n                    // Speed up dequeue by getting out quickly if this is just a lookup\n                    if (data) {\n                        if (!queue || jQuery.isArray(data)) {\n                            queue = jQuery._data(elem, type, jQuery.makeArray(data));\n                        } else {\n                            queue.push(data);\n                        }\n                    }\n                    return queue || [];\n                }\n            },\n            dequeue: function (elem, type) {\n                type = type || 'fx';\n                var queue = jQuery.queue(elem, type), startLength = queue.length, fn = queue.shift(), hooks = jQuery._queueHooks(elem, type), next = function () {\n                        jQuery.dequeue(elem, type);\n                    };\n                // If the fx queue is dequeued, always remove the progress sentinel\n                if (fn === 'inprogress') {\n                    fn = queue.shift();\n                    startLength--;\n                }\n                if (fn) {\n                    // Add a progress sentinel to prevent the fx queue from being\n                    // automatically dequeued\n                    if (type === 'fx') {\n                        queue.unshift('inprogress');\n                    }\n                    // clear up the last queue stop function\n                    delete hooks.stop;\n                    fn.call(elem, next, hooks);\n                }\n                if (!startLength && hooks) {\n                    hooks.empty.fire();\n                }\n            },\n            // not intended for public consumption - generates a queueHooks object, or returns the current one\n            _queueHooks: function (elem, type) {\n                var key = type + 'queueHooks';\n                return jQuery._data(elem, key) || jQuery._data(elem, key, {\n                    empty: jQuery.Callbacks('once memory').add(function () {\n                        jQuery._removeData(elem, type + 'queue');\n                        jQuery._removeData(elem, key);\n                    })\n                });\n            }\n        });\n        jQuery.fn.extend({\n            queue: function (type, data) {\n                var setter = 2;\n                if (typeof type !== 'string') {\n                    data = type;\n                    type = 'fx';\n                    setter--;\n                }\n                if (arguments.length < setter) {\n                    return jQuery.queue(this[0], type);\n                }\n                return data === undefined ? this : this.each(function () {\n                    var queue = jQuery.queue(this, type, data);\n                    // ensure a hooks for this queue\n                    jQuery._queueHooks(this, type);\n                    if (type === 'fx' && queue[0] !== 'inprogress') {\n                        jQuery.dequeue(this, type);\n                    }\n                });\n            },\n            dequeue: function (type) {\n                return this.each(function () {\n                    jQuery.dequeue(this, type);\n                });\n            },\n            clearQueue: function (type) {\n                return this.queue(type || 'fx', []);\n            },\n            // Get a promise resolved when queues of a certain type\n            // are emptied (fx is the type by default)\n            promise: function (type, obj) {\n                var tmp, count = 1, defer = jQuery.Deferred(), elements = this, i = this.length, resolve = function () {\n                        if (!--count) {\n                            defer.resolveWith(elements, [elements]);\n                        }\n                    };\n                if (typeof type !== 'string') {\n                    obj = type;\n                    type = undefined;\n                }\n                type = type || 'fx';\n                while (i--) {\n                    tmp = jQuery._data(elements[i], type + 'queueHooks');\n                    if (tmp && tmp.empty) {\n                        count++;\n                        tmp.empty.add(resolve);\n                    }\n                }\n                resolve();\n                return defer.promise(obj);\n            }\n        });\n        var pnum = /[+-]?(?:\\d*\\.|)\\d+(?:[eE][+-]?\\d+|)/.source;\n        var cssExpand = [\n            'Top',\n            'Right',\n            'Bottom',\n            'Left'\n        ];\n        var isHidden = function (elem, el) {\n            // isHidden might be called from jQuery#filter function;\n            // in that case, element will be second argument\n            elem = el || elem;\n            return jQuery.css(elem, 'display') === 'none' || !jQuery.contains(elem.ownerDocument, elem);\n        };\n        // Multifunctional method to get and set values of a collection\n        // The value/s can optionally be executed if it's a function\n        var access = jQuery.access = function (elems, fn, key, value, chainable, emptyGet, raw) {\n            var i = 0, length = elems.length, bulk = key == null;\n            // Sets many values\n            if (jQuery.type(key) === 'object') {\n                chainable = true;\n                for (i in key) {\n                    jQuery.access(elems, fn, i, key[i], true, emptyGet, raw);\n                }    // Sets one value\n            } else if (value !== undefined) {\n                chainable = true;\n                if (!jQuery.isFunction(value)) {\n                    raw = true;\n                }\n                if (bulk) {\n                    // Bulk operations run against the entire set\n                    if (raw) {\n                        fn.call(elems, value);\n                        fn = null;    // ...except when executing function values\n                    } else {\n                        bulk = fn;\n                        fn = function (elem, key, value) {\n                            return bulk.call(jQuery(elem), value);\n                        };\n                    }\n                }\n                if (fn) {\n                    for (; i < length; i++) {\n                        fn(elems[i], key, raw ? value : value.call(elems[i], i, fn(elems[i], key)));\n                    }\n                }\n            }\n            return chainable ? elems : // Gets\n            bulk ? fn.call(elems) : length ? fn(elems[0], key) : emptyGet;\n        };\n        var rcheckableType = /^(?:checkbox|radio)$/i;\n        (function () {\n            // Minified: var a,b,c\n            var input = document.createElement('input'), div = document.createElement('div'), fragment = document.createDocumentFragment();\n            // Setup\n            div.innerHTML = '  <link/><table></table><a href=\\'/a\\'>a</a><input type=\\'checkbox\\'/>';\n            // IE strips leading whitespace when .innerHTML is used\n            support.leadingWhitespace = div.firstChild.nodeType === 3;\n            // Make sure that tbody elements aren't automatically inserted\n            // IE will insert them into empty tables\n            support.tbody = !div.getElementsByTagName('tbody').length;\n            // Make sure that link elements get serialized correctly by innerHTML\n            // This requires a wrapper element in IE\n            support.htmlSerialize = !!div.getElementsByTagName('link').length;\n            // Makes sure cloning an html5 element does not cause problems\n            // Where outerHTML is undefined, this still works\n            support.html5Clone = document.createElement('nav').cloneNode(true).outerHTML !== '<:nav></:nav>';\n            // Check if a disconnected checkbox will retain its checked\n            // value of true after appended to the DOM (IE6/7)\n            input.type = 'checkbox';\n            input.checked = true;\n            fragment.appendChild(input);\n            support.appendChecked = input.checked;\n            // Make sure textarea (and checkbox) defaultValue is properly cloned\n            // Support: IE6-IE11+\n            div.innerHTML = '<textarea>x</textarea>';\n            support.noCloneChecked = !!div.cloneNode(true).lastChild.defaultValue;\n            // #11217 - WebKit loses check when the name is after the checked attribute\n            fragment.appendChild(div);\n            div.innerHTML = '<input type=\\'radio\\' checked=\\'checked\\' name=\\'t\\'/>';\n            // Support: Safari 5.1, iOS 5.1, Android 4.x, Android 2.3\n            // old WebKit doesn't clone checked state correctly in fragments\n            support.checkClone = div.cloneNode(true).cloneNode(true).lastChild.checked;\n            // Support: IE<9\n            // Opera does not clone events (and typeof div.attachEvent === undefined).\n            // IE9-10 clones events bound via attachEvent, but they don't trigger with .click()\n            support.noCloneEvent = true;\n            if (div.attachEvent) {\n                div.attachEvent('onclick', function () {\n                    support.noCloneEvent = false;\n                });\n                div.cloneNode(true).click();\n            }\n            // Execute the test only if not already executed in another module.\n            if (support.deleteExpando == null) {\n                // Support: IE<9\n                support.deleteExpando = true;\n                try {\n                    delete div.test;\n                } catch (e) {\n                    support.deleteExpando = false;\n                }\n            }\n        }());\n        (function () {\n            var i, eventName, div = document.createElement('div');\n            // Support: IE<9 (lack submit/change bubble), Firefox 23+ (lack focusin event)\n            for (i in {\n                    submit: true,\n                    change: true,\n                    focusin: true\n                }) {\n                eventName = 'on' + i;\n                if (!(support[i + 'Bubbles'] = eventName in window)) {\n                    // Beware of CSP restrictions (https://developer.mozilla.org/en/Security/CSP)\n                    div.setAttribute(eventName, 't');\n                    support[i + 'Bubbles'] = div.attributes[eventName].expando === false;\n                }\n            }\n            // Null elements to avoid leaks in IE.\n            div = null;\n        }());\n        var rformElems = /^(?:input|select|textarea)$/i, rkeyEvent = /^key/, rmouseEvent = /^(?:mouse|pointer|contextmenu)|click/, rfocusMorph = /^(?:focusinfocus|focusoutblur)$/, rtypenamespace = /^([^.]*)(?:\\.(.+)|)$/;\n        function returnTrue() {\n            return true;\n        }\n        function returnFalse() {\n            return false;\n        }\n        function safeActiveElement() {\n            try {\n                return document.activeElement;\n            } catch (err) {\n            }\n        }\n        /*\n * Helper functions for managing events -- not part of the public interface.\n * Props to Dean Edwards' addEvent library for many of the ideas.\n */\n        jQuery.event = {\n            global: {},\n            add: function (elem, types, handler, data, selector) {\n                var tmp, events, t, handleObjIn, special, eventHandle, handleObj, handlers, type, namespaces, origType, elemData = jQuery._data(elem);\n                // Don't attach events to noData or text/comment nodes (but allow plain objects)\n                if (!elemData) {\n                    return;\n                }\n                // Caller can pass in an object of custom data in lieu of the handler\n                if (handler.handler) {\n                    handleObjIn = handler;\n                    handler = handleObjIn.handler;\n                    selector = handleObjIn.selector;\n                }\n                // Make sure that the handler has a unique ID, used to find/remove it later\n                if (!handler.guid) {\n                    handler.guid = jQuery.guid++;\n                }\n                // Init the element's event structure and main handler, if this is the first\n                if (!(events = elemData.events)) {\n                    events = elemData.events = {};\n                }\n                if (!(eventHandle = elemData.handle)) {\n                    eventHandle = elemData.handle = function (e) {\n                        // Discard the second event of a jQuery.event.trigger() and\n                        // when an event is called after a page has unloaded\n                        return typeof jQuery !== strundefined && (!e || jQuery.event.triggered !== e.type) ? jQuery.event.dispatch.apply(eventHandle.elem, arguments) : undefined;\n                    };\n                    // Add elem as a property of the handle fn to prevent a memory leak with IE non-native events\n                    eventHandle.elem = elem;\n                }\n                // Handle multiple events separated by a space\n                types = (types || '').match(rnotwhite) || [''];\n                t = types.length;\n                while (t--) {\n                    tmp = rtypenamespace.exec(types[t]) || [];\n                    type = origType = tmp[1];\n                    namespaces = (tmp[2] || '').split('.').sort();\n                    // There *must* be a type, no attaching namespace-only handlers\n                    if (!type) {\n                        continue;\n                    }\n                    // If event changes its type, use the special event handlers for the changed type\n                    special = jQuery.event.special[type] || {};\n                    // If selector defined, determine special event api type, otherwise given type\n                    type = (selector ? special.delegateType : special.bindType) || type;\n                    // Update special based on newly reset type\n                    special = jQuery.event.special[type] || {};\n                    // handleObj is passed to all event handlers\n                    handleObj = jQuery.extend({\n                        type: type,\n                        origType: origType,\n                        data: data,\n                        handler: handler,\n                        guid: handler.guid,\n                        selector: selector,\n                        needsContext: selector && jQuery.expr.match.needsContext.test(selector),\n                        namespace: namespaces.join('.')\n                    }, handleObjIn);\n                    // Init the event handler queue if we're the first\n                    if (!(handlers = events[type])) {\n                        handlers = events[type] = [];\n                        handlers.delegateCount = 0;\n                        // Only use addEventListener/attachEvent if the special events handler returns false\n                        if (!special.setup || special.setup.call(elem, data, namespaces, eventHandle) === false) {\n                            // Bind the global event handler to the element\n                            if (elem.addEventListener) {\n                                elem.addEventListener(type, eventHandle, false);\n                            } else if (elem.attachEvent) {\n                                elem.attachEvent('on' + type, eventHandle);\n                            }\n                        }\n                    }\n                    if (special.add) {\n                        special.add.call(elem, handleObj);\n                        if (!handleObj.handler.guid) {\n                            handleObj.handler.guid = handler.guid;\n                        }\n                    }\n                    // Add to the element's handler list, delegates in front\n                    if (selector) {\n                        handlers.splice(handlers.delegateCount++, 0, handleObj);\n                    } else {\n                        handlers.push(handleObj);\n                    }\n                    // Keep track of which events have ever been used, for event optimization\n                    jQuery.event.global[type] = true;\n                }\n                // Nullify elem to prevent memory leaks in IE\n                elem = null;\n            },\n            // Detach an event or set of events from an element\n            remove: function (elem, types, handler, selector, mappedTypes) {\n                var j, handleObj, tmp, origCount, t, events, special, handlers, type, namespaces, origType, elemData = jQuery.hasData(elem) && jQuery._data(elem);\n                if (!elemData || !(events = elemData.events)) {\n                    return;\n                }\n                // Once for each type.namespace in types; type may be omitted\n                types = (types || '').match(rnotwhite) || [''];\n                t = types.length;\n                while (t--) {\n                    tmp = rtypenamespace.exec(types[t]) || [];\n                    type = origType = tmp[1];\n                    namespaces = (tmp[2] || '').split('.').sort();\n                    // Unbind all events (on this namespace, if provided) for the element\n                    if (!type) {\n                        for (type in events) {\n                            jQuery.event.remove(elem, type + types[t], handler, selector, true);\n                        }\n                        continue;\n                    }\n                    special = jQuery.event.special[type] || {};\n                    type = (selector ? special.delegateType : special.bindType) || type;\n                    handlers = events[type] || [];\n                    tmp = tmp[2] && new RegExp('(^|\\\\.)' + namespaces.join('\\\\.(?:.*\\\\.|)') + '(\\\\.|$)');\n                    // Remove matching events\n                    origCount = j = handlers.length;\n                    while (j--) {\n                        handleObj = handlers[j];\n                        if ((mappedTypes || origType === handleObj.origType) && (!handler || handler.guid === handleObj.guid) && (!tmp || tmp.test(handleObj.namespace)) && (!selector || selector === handleObj.selector || selector === '**' && handleObj.selector)) {\n                            handlers.splice(j, 1);\n                            if (handleObj.selector) {\n                                handlers.delegateCount--;\n                            }\n                            if (special.remove) {\n                                special.remove.call(elem, handleObj);\n                            }\n                        }\n                    }\n                    // Remove generic event handler if we removed something and no more handlers exist\n                    // (avoids potential for endless recursion during removal of special event handlers)\n                    if (origCount && !handlers.length) {\n                        if (!special.teardown || special.teardown.call(elem, namespaces, elemData.handle) === false) {\n                            jQuery.removeEvent(elem, type, elemData.handle);\n                        }\n                        delete events[type];\n                    }\n                }\n                // Remove the expando if it's no longer used\n                if (jQuery.isEmptyObject(events)) {\n                    delete elemData.handle;\n                    // removeData also checks for emptiness and clears the expando if empty\n                    // so use it instead of delete\n                    jQuery._removeData(elem, 'events');\n                }\n            },\n            trigger: function (event, data, elem, onlyHandlers) {\n                var handle, ontype, cur, bubbleType, special, tmp, i, eventPath = [elem || document], type = hasOwn.call(event, 'type') ? event.type : event, namespaces = hasOwn.call(event, 'namespace') ? event.namespace.split('.') : [];\n                cur = tmp = elem = elem || document;\n                // Don't do events on text and comment nodes\n                if (elem.nodeType === 3 || elem.nodeType === 8) {\n                    return;\n                }\n                // focus/blur morphs to focusin/out; ensure we're not firing them right now\n                if (rfocusMorph.test(type + jQuery.event.triggered)) {\n                    return;\n                }\n                if (type.indexOf('.') >= 0) {\n                    // Namespaced trigger; create a regexp to match event type in handle()\n                    namespaces = type.split('.');\n                    type = namespaces.shift();\n                    namespaces.sort();\n                }\n                ontype = type.indexOf(':') < 0 && 'on' + type;\n                // Caller can pass in a jQuery.Event object, Object, or just an event type string\n                event = event[jQuery.expando] ? event : new jQuery.Event(type, typeof event === 'object' && event);\n                // Trigger bitmask: & 1 for native handlers; & 2 for jQuery (always true)\n                event.isTrigger = onlyHandlers ? 2 : 3;\n                event.namespace = namespaces.join('.');\n                event.namespace_re = event.namespace ? new RegExp('(^|\\\\.)' + namespaces.join('\\\\.(?:.*\\\\.|)') + '(\\\\.|$)') : null;\n                // Clean up the event in case it is being reused\n                event.result = undefined;\n                if (!event.target) {\n                    event.target = elem;\n                }\n                // Clone any incoming data and prepend the event, creating the handler arg list\n                data = data == null ? [event] : jQuery.makeArray(data, [event]);\n                // Allow special events to draw outside the lines\n                special = jQuery.event.special[type] || {};\n                if (!onlyHandlers && special.trigger && special.trigger.apply(elem, data) === false) {\n                    return;\n                }\n                // Determine event propagation path in advance, per W3C events spec (#9951)\n                // Bubble up to document, then to window; watch for a global ownerDocument var (#9724)\n                if (!onlyHandlers && !special.noBubble && !jQuery.isWindow(elem)) {\n                    bubbleType = special.delegateType || type;\n                    if (!rfocusMorph.test(bubbleType + type)) {\n                        cur = cur.parentNode;\n                    }\n                    for (; cur; cur = cur.parentNode) {\n                        eventPath.push(cur);\n                        tmp = cur;\n                    }\n                    // Only add window if we got to document (e.g., not plain obj or detached DOM)\n                    if (tmp === (elem.ownerDocument || document)) {\n                        eventPath.push(tmp.defaultView || tmp.parentWindow || window);\n                    }\n                }\n                // Fire handlers on the event path\n                i = 0;\n                while ((cur = eventPath[i++]) && !event.isPropagationStopped()) {\n                    event.type = i > 1 ? bubbleType : special.bindType || type;\n                    // jQuery handler\n                    handle = (jQuery._data(cur, 'events') || {})[event.type] && jQuery._data(cur, 'handle');\n                    if (handle) {\n                        handle.apply(cur, data);\n                    }\n                    // Native handler\n                    handle = ontype && cur[ontype];\n                    if (handle && handle.apply && jQuery.acceptData(cur)) {\n                        event.result = handle.apply(cur, data);\n                        if (event.result === false) {\n                            event.preventDefault();\n                        }\n                    }\n                }\n                event.type = type;\n                // If nobody prevented the default action, do it now\n                if (!onlyHandlers && !event.isDefaultPrevented()) {\n                    if ((!special._default || special._default.apply(eventPath.pop(), data) === false) && jQuery.acceptData(elem)) {\n                        // Call a native DOM method on the target with the same name name as the event.\n                        // Can't use an .isFunction() check here because IE6/7 fails that test.\n                        // Don't do default actions on window, that's where global variables be (#6170)\n                        if (ontype && elem[type] && !jQuery.isWindow(elem)) {\n                            // Don't re-trigger an onFOO event when we call its FOO() method\n                            tmp = elem[ontype];\n                            if (tmp) {\n                                elem[ontype] = null;\n                            }\n                            // Prevent re-triggering of the same event, since we already bubbled it above\n                            jQuery.event.triggered = type;\n                            try {\n                                elem[type]();\n                            } catch (e) {\n                            }\n                            jQuery.event.triggered = undefined;\n                            if (tmp) {\n                                elem[ontype] = tmp;\n                            }\n                        }\n                    }\n                }\n                return event.result;\n            },\n            dispatch: function (event) {\n                // Make a writable jQuery.Event from the native event object\n                event = jQuery.event.fix(event);\n                var i, ret, handleObj, matched, j, handlerQueue = [], args = slice.call(arguments), handlers = (jQuery._data(this, 'events') || {})[event.type] || [], special = jQuery.event.special[event.type] || {};\n                // Use the fix-ed jQuery.Event rather than the (read-only) native event\n                args[0] = event;\n                event.delegateTarget = this;\n                // Call the preDispatch hook for the mapped type, and let it bail if desired\n                if (special.preDispatch && special.preDispatch.call(this, event) === false) {\n                    return;\n                }\n                // Determine handlers\n                handlerQueue = jQuery.event.handlers.call(this, event, handlers);\n                // Run delegates first; they may want to stop propagation beneath us\n                i = 0;\n                while ((matched = handlerQueue[i++]) && !event.isPropagationStopped()) {\n                    event.currentTarget = matched.elem;\n                    j = 0;\n                    while ((handleObj = matched.handlers[j++]) && !event.isImmediatePropagationStopped()) {\n                        // Triggered event must either 1) have no namespace, or\n                        // 2) have namespace(s) a subset or equal to those in the bound event (both can have no namespace).\n                        if (!event.namespace_re || event.namespace_re.test(handleObj.namespace)) {\n                            event.handleObj = handleObj;\n                            event.data = handleObj.data;\n                            ret = ((jQuery.event.special[handleObj.origType] || {}).handle || handleObj.handler).apply(matched.elem, args);\n                            if (ret !== undefined) {\n                                if ((event.result = ret) === false) {\n                                    event.preventDefault();\n                                    event.stopPropagation();\n                                }\n                            }\n                        }\n                    }\n                }\n                // Call the postDispatch hook for the mapped type\n                if (special.postDispatch) {\n                    special.postDispatch.call(this, event);\n                }\n                return event.result;\n            },\n            handlers: function (event, handlers) {\n                var sel, handleObj, matches, i, handlerQueue = [], delegateCount = handlers.delegateCount, cur = event.target;\n                // Find delegate handlers\n                // Black-hole SVG <use> instance trees (#13180)\n                // Avoid non-left-click bubbling in Firefox (#3861)\n                if (delegateCount && cur.nodeType && (!event.button || event.type !== 'click')) {\n                    /* jshint eqeqeq: false */\n                    for (; cur != this; cur = cur.parentNode || this) {\n                        /* jshint eqeqeq: true */\n                        // Don't check non-elements (#13208)\n                        // Don't process clicks on disabled elements (#6911, #8165, #11382, #11764)\n                        if (cur.nodeType === 1 && (cur.disabled !== true || event.type !== 'click')) {\n                            matches = [];\n                            for (i = 0; i < delegateCount; i++) {\n                                handleObj = handlers[i];\n                                // Don't conflict with Object.prototype properties (#13203)\n                                sel = handleObj.selector + ' ';\n                                if (matches[sel] === undefined) {\n                                    matches[sel] = handleObj.needsContext ? jQuery(sel, this).index(cur) >= 0 : jQuery.find(sel, this, null, [cur]).length;\n                                }\n                                if (matches[sel]) {\n                                    matches.push(handleObj);\n                                }\n                            }\n                            if (matches.length) {\n                                handlerQueue.push({\n                                    elem: cur,\n                                    handlers: matches\n                                });\n                            }\n                        }\n                    }\n                }\n                // Add the remaining (directly-bound) handlers\n                if (delegateCount < handlers.length) {\n                    handlerQueue.push({\n                        elem: this,\n                        handlers: handlers.slice(delegateCount)\n                    });\n                }\n                return handlerQueue;\n            },\n            fix: function (event) {\n                if (event[jQuery.expando]) {\n                    return event;\n                }\n                // Create a writable copy of the event object and normalize some properties\n                var i, prop, copy, type = event.type, originalEvent = event, fixHook = this.fixHooks[type];\n                if (!fixHook) {\n                    this.fixHooks[type] = fixHook = rmouseEvent.test(type) ? this.mouseHooks : rkeyEvent.test(type) ? this.keyHooks : {};\n                }\n                copy = fixHook.props ? this.props.concat(fixHook.props) : this.props;\n                event = new jQuery.Event(originalEvent);\n                i = copy.length;\n                while (i--) {\n                    prop = copy[i];\n                    event[prop] = originalEvent[prop];\n                }\n                // Support: IE<9\n                // Fix target property (#1925)\n                if (!event.target) {\n                    event.target = originalEvent.srcElement || document;\n                }\n                // Support: Chrome 23+, Safari?\n                // Target should not be a text node (#504, #13143)\n                if (event.target.nodeType === 3) {\n                    event.target = event.target.parentNode;\n                }\n                // Support: IE<9\n                // For mouse/key events, metaKey==false if it's undefined (#3368, #11328)\n                event.metaKey = !!event.metaKey;\n                return fixHook.filter ? fixHook.filter(event, originalEvent) : event;\n            },\n            // Includes some event props shared by KeyEvent and MouseEvent\n            props: 'altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which'.split(' '),\n            fixHooks: {},\n            keyHooks: {\n                props: 'char charCode key keyCode'.split(' '),\n                filter: function (event, original) {\n                    // Add which for key events\n                    if (event.which == null) {\n                        event.which = original.charCode != null ? original.charCode : original.keyCode;\n                    }\n                    return event;\n                }\n            },\n            mouseHooks: {\n                props: 'button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement'.split(' '),\n                filter: function (event, original) {\n                    var body, eventDoc, doc, button = original.button, fromElement = original.fromElement;\n                    // Calculate pageX/Y if missing and clientX/Y available\n                    if (event.pageX == null && original.clientX != null) {\n                        eventDoc = event.target.ownerDocument || document;\n                        doc = eventDoc.documentElement;\n                        body = eventDoc.body;\n                        event.pageX = original.clientX + (doc && doc.scrollLeft || body && body.scrollLeft || 0) - (doc && doc.clientLeft || body && body.clientLeft || 0);\n                        event.pageY = original.clientY + (doc && doc.scrollTop || body && body.scrollTop || 0) - (doc && doc.clientTop || body && body.clientTop || 0);\n                    }\n                    // Add relatedTarget, if necessary\n                    if (!event.relatedTarget && fromElement) {\n                        event.relatedTarget = fromElement === event.target ? original.toElement : fromElement;\n                    }\n                    // Add which for click: 1 === left; 2 === middle; 3 === right\n                    // Note: button is not normalized, so don't use it\n                    if (!event.which && button !== undefined) {\n                        event.which = button & 1 ? 1 : button & 2 ? 3 : button & 4 ? 2 : 0;\n                    }\n                    return event;\n                }\n            },\n            special: {\n                load: {\n                    // Prevent triggered image.load events from bubbling to window.load\n                    noBubble: true\n                },\n                focus: {\n                    // Fire native event if possible so blur/focus sequence is correct\n                    trigger: function () {\n                        if (this !== safeActiveElement() && this.focus) {\n                            try {\n                                this.focus();\n                                return false;\n                            } catch (e) {\n                            }\n                        }\n                    },\n                    delegateType: 'focusin'\n                },\n                blur: {\n                    trigger: function () {\n                        if (this === safeActiveElement() && this.blur) {\n                            this.blur();\n                            return false;\n                        }\n                    },\n                    delegateType: 'focusout'\n                },\n                click: {\n                    // For checkbox, fire native event so checked state will be right\n                    trigger: function () {\n                        if (jQuery.nodeName(this, 'input') && this.type === 'checkbox' && this.click) {\n                            this.click();\n                            return false;\n                        }\n                    },\n                    // For cross-browser consistency, don't fire native .click() on links\n                    _default: function (event) {\n                        return jQuery.nodeName(event.target, 'a');\n                    }\n                },\n                beforeunload: {\n                    postDispatch: function (event) {\n                        // Support: Firefox 20+\n                        // Firefox doesn't alert if the returnValue field is not set.\n                        if (event.result !== undefined && event.originalEvent) {\n                            event.originalEvent.returnValue = event.result;\n                        }\n                    }\n                }\n            },\n            simulate: function (type, elem, event, bubble) {\n                // Piggyback on a donor event to simulate a different one.\n                // Fake originalEvent to avoid donor's stopPropagation, but if the\n                // simulated event prevents default then we do the same on the donor.\n                var e = jQuery.extend(new jQuery.Event(), event, {\n                    type: type,\n                    isSimulated: true,\n                    originalEvent: {}\n                });\n                if (bubble) {\n                    jQuery.event.trigger(e, null, elem);\n                } else {\n                    jQuery.event.dispatch.call(elem, e);\n                }\n                if (e.isDefaultPrevented()) {\n                    event.preventDefault();\n                }\n            }\n        };\n        jQuery.removeEvent = document.removeEventListener ? function (elem, type, handle) {\n            if (elem.removeEventListener) {\n                elem.removeEventListener(type, handle, false);\n            }\n        } : function (elem, type, handle) {\n            var name = 'on' + type;\n            if (elem.detachEvent) {\n                // #8545, #7054, preventing memory leaks for custom events in IE6-8\n                // detachEvent needed property on element, by name of that event, to properly expose it to GC\n                if (typeof elem[name] === strundefined) {\n                    elem[name] = null;\n                }\n                elem.detachEvent(name, handle);\n            }\n        };\n        jQuery.Event = function (src, props) {\n            // Allow instantiation without the 'new' keyword\n            if (!(this instanceof jQuery.Event)) {\n                return new jQuery.Event(src, props);\n            }\n            // Event object\n            if (src && src.type) {\n                this.originalEvent = src;\n                this.type = src.type;\n                // Events bubbling up the document may have been marked as prevented\n                // by a handler lower down the tree; reflect the correct value.\n                this.isDefaultPrevented = src.defaultPrevented || src.defaultPrevented === undefined && // Support: IE < 9, Android < 4.0\n                src.returnValue === false ? returnTrue : returnFalse;    // Event type\n            } else {\n                this.type = src;\n            }\n            // Put explicitly provided properties onto the event object\n            if (props) {\n                jQuery.extend(this, props);\n            }\n            // Create a timestamp if incoming event doesn't have one\n            this.timeStamp = src && src.timeStamp || jQuery.now();\n            // Mark it as fixed\n            this[jQuery.expando] = true;\n        };\n        // jQuery.Event is based on DOM3 Events as specified by the ECMAScript Language Binding\n        // http://www.w3.org/TR/2003/WD-DOM-Level-3-Events-20030331/ecma-script-binding.html\n        jQuery.Event.prototype = {\n            isDefaultPrevented: returnFalse,\n            isPropagationStopped: returnFalse,\n            isImmediatePropagationStopped: returnFalse,\n            preventDefault: function () {\n                var e = this.originalEvent;\n                this.isDefaultPrevented = returnTrue;\n                if (!e) {\n                    return;\n                }\n                // If preventDefault exists, run it on the original event\n                if (e.preventDefault) {\n                    e.preventDefault();    // Support: IE\n                                           // Otherwise set the returnValue property of the original event to false\n                } else {\n                    e.returnValue = false;\n                }\n            },\n            stopPropagation: function () {\n                var e = this.originalEvent;\n                this.isPropagationStopped = returnTrue;\n                if (!e) {\n                    return;\n                }\n                // If stopPropagation exists, run it on the original event\n                if (e.stopPropagation) {\n                    e.stopPropagation();\n                }\n                // Support: IE\n                // Set the cancelBubble property of the original event to true\n                e.cancelBubble = true;\n            },\n            stopImmediatePropagation: function () {\n                var e = this.originalEvent;\n                this.isImmediatePropagationStopped = returnTrue;\n                if (e && e.stopImmediatePropagation) {\n                    e.stopImmediatePropagation();\n                }\n                this.stopPropagation();\n            }\n        };\n        // Create mouseenter/leave events using mouseover/out and event-time checks\n        jQuery.each({\n            mouseenter: 'mouseover',\n            mouseleave: 'mouseout',\n            pointerenter: 'pointerover',\n            pointerleave: 'pointerout'\n        }, function (orig, fix) {\n            jQuery.event.special[orig] = {\n                delegateType: fix,\n                bindType: fix,\n                handle: function (event) {\n                    var ret, target = this, related = event.relatedTarget, handleObj = event.handleObj;\n                    // For mousenter/leave call the handler if related is outside the target.\n                    // NB: No relatedTarget if the mouse left/entered the browser window\n                    if (!related || related !== target && !jQuery.contains(target, related)) {\n                        event.type = handleObj.origType;\n                        ret = handleObj.handler.apply(this, arguments);\n                        event.type = fix;\n                    }\n                    return ret;\n                }\n            };\n        });\n        // IE submit delegation\n        if (!support.submitBubbles) {\n            jQuery.event.special.submit = {\n                setup: function () {\n                    // Only need this for delegated form submit events\n                    if (jQuery.nodeName(this, 'form')) {\n                        return false;\n                    }\n                    // Lazy-add a submit handler when a descendant form may potentially be submitted\n                    jQuery.event.add(this, 'click._submit keypress._submit', function (e) {\n                        // Node name check avoids a VML-related crash in IE (#9807)\n                        var elem = e.target, form = jQuery.nodeName(elem, 'input') || jQuery.nodeName(elem, 'button') ? elem.form : undefined;\n                        if (form && !jQuery._data(form, 'submitBubbles')) {\n                            jQuery.event.add(form, 'submit._submit', function (event) {\n                                event._submit_bubble = true;\n                            });\n                            jQuery._data(form, 'submitBubbles', true);\n                        }\n                    });    // return undefined since we don't need an event listener\n                },\n                postDispatch: function (event) {\n                    // If form was submitted by the user, bubble the event up the tree\n                    if (event._submit_bubble) {\n                        delete event._submit_bubble;\n                        if (this.parentNode && !event.isTrigger) {\n                            jQuery.event.simulate('submit', this.parentNode, event, true);\n                        }\n                    }\n                },\n                teardown: function () {\n                    // Only need this for delegated form submit events\n                    if (jQuery.nodeName(this, 'form')) {\n                        return false;\n                    }\n                    // Remove delegated handlers; cleanData eventually reaps submit handlers attached above\n                    jQuery.event.remove(this, '._submit');\n                }\n            };\n        }\n        // IE change delegation and checkbox/radio fix\n        if (!support.changeBubbles) {\n            jQuery.event.special.change = {\n                setup: function () {\n                    if (rformElems.test(this.nodeName)) {\n                        // IE doesn't fire change on a check/radio until blur; trigger it on click\n                        // after a propertychange. Eat the blur-change in special.change.handle.\n                        // This still fires onchange a second time for check/radio after blur.\n                        if (this.type === 'checkbox' || this.type === 'radio') {\n                            jQuery.event.add(this, 'propertychange._change', function (event) {\n                                if (event.originalEvent.propertyName === 'checked') {\n                                    this._just_changed = true;\n                                }\n                            });\n                            jQuery.event.add(this, 'click._change', function (event) {\n                                if (this._just_changed && !event.isTrigger) {\n                                    this._just_changed = false;\n                                }\n                                // Allow triggered, simulated change events (#11500)\n                                jQuery.event.simulate('change', this, event, true);\n                            });\n                        }\n                        return false;\n                    }\n                    // Delegated event; lazy-add a change handler on descendant inputs\n                    jQuery.event.add(this, 'beforeactivate._change', function (e) {\n                        var elem = e.target;\n                        if (rformElems.test(elem.nodeName) && !jQuery._data(elem, 'changeBubbles')) {\n                            jQuery.event.add(elem, 'change._change', function (event) {\n                                if (this.parentNode && !event.isSimulated && !event.isTrigger) {\n                                    jQuery.event.simulate('change', this.parentNode, event, true);\n                                }\n                            });\n                            jQuery._data(elem, 'changeBubbles', true);\n                        }\n                    });\n                },\n                handle: function (event) {\n                    var elem = event.target;\n                    // Swallow native change events from checkbox/radio, we already triggered them above\n                    if (this !== elem || event.isSimulated || event.isTrigger || elem.type !== 'radio' && elem.type !== 'checkbox') {\n                        return event.handleObj.handler.apply(this, arguments);\n                    }\n                },\n                teardown: function () {\n                    jQuery.event.remove(this, '._change');\n                    return !rformElems.test(this.nodeName);\n                }\n            };\n        }\n        // Create \"bubbling\" focus and blur events\n        if (!support.focusinBubbles) {\n            jQuery.each({\n                focus: 'focusin',\n                blur: 'focusout'\n            }, function (orig, fix) {\n                // Attach a single capturing handler on the document while someone wants focusin/focusout\n                var handler = function (event) {\n                    jQuery.event.simulate(fix, event.target, jQuery.event.fix(event), true);\n                };\n                jQuery.event.special[fix] = {\n                    setup: function () {\n                        var doc = this.ownerDocument || this, attaches = jQuery._data(doc, fix);\n                        if (!attaches) {\n                            doc.addEventListener(orig, handler, true);\n                        }\n                        jQuery._data(doc, fix, (attaches || 0) + 1);\n                    },\n                    teardown: function () {\n                        var doc = this.ownerDocument || this, attaches = jQuery._data(doc, fix) - 1;\n                        if (!attaches) {\n                            doc.removeEventListener(orig, handler, true);\n                            jQuery._removeData(doc, fix);\n                        } else {\n                            jQuery._data(doc, fix, attaches);\n                        }\n                    }\n                };\n            });\n        }\n        jQuery.fn.extend({\n            on: function (types, selector, data, fn, one) {\n                var type, origFn;\n                // Types can be a map of types/handlers\n                if (typeof types === 'object') {\n                    // ( types-Object, selector, data )\n                    if (typeof selector !== 'string') {\n                        // ( types-Object, data )\n                        data = data || selector;\n                        selector = undefined;\n                    }\n                    for (type in types) {\n                        this.on(type, selector, data, types[type], one);\n                    }\n                    return this;\n                }\n                if (data == null && fn == null) {\n                    // ( types, fn )\n                    fn = selector;\n                    data = selector = undefined;\n                } else if (fn == null) {\n                    if (typeof selector === 'string') {\n                        // ( types, selector, fn )\n                        fn = data;\n                        data = undefined;\n                    } else {\n                        // ( types, data, fn )\n                        fn = data;\n                        data = selector;\n                        selector = undefined;\n                    }\n                }\n                if (fn === false) {\n                    fn = returnFalse;\n                } else if (!fn) {\n                    return this;\n                }\n                if (one === 1) {\n                    origFn = fn;\n                    fn = function (event) {\n                        // Can use an empty set, since event contains the info\n                        jQuery().off(event);\n                        return origFn.apply(this, arguments);\n                    };\n                    // Use same guid so caller can remove using origFn\n                    fn.guid = origFn.guid || (origFn.guid = jQuery.guid++);\n                }\n                return this.each(function () {\n                    jQuery.event.add(this, types, fn, data, selector);\n                });\n            },\n            one: function (types, selector, data, fn) {\n                return this.on(types, selector, data, fn, 1);\n            },\n            off: function (types, selector, fn) {\n                var handleObj, type;\n                if (types && types.preventDefault && types.handleObj) {\n                    // ( event )  dispatched jQuery.Event\n                    handleObj = types.handleObj;\n                    jQuery(types.delegateTarget).off(handleObj.namespace ? handleObj.origType + '.' + handleObj.namespace : handleObj.origType, handleObj.selector, handleObj.handler);\n                    return this;\n                }\n                if (typeof types === 'object') {\n                    // ( types-object [, selector] )\n                    for (type in types) {\n                        this.off(type, selector, types[type]);\n                    }\n                    return this;\n                }\n                if (selector === false || typeof selector === 'function') {\n                    // ( types [, fn] )\n                    fn = selector;\n                    selector = undefined;\n                }\n                if (fn === false) {\n                    fn = returnFalse;\n                }\n                return this.each(function () {\n                    jQuery.event.remove(this, types, fn, selector);\n                });\n            },\n            trigger: function (type, data) {\n                return this.each(function () {\n                    jQuery.event.trigger(type, data, this);\n                });\n            },\n            triggerHandler: function (type, data) {\n                var elem = this[0];\n                if (elem) {\n                    return jQuery.event.trigger(type, data, elem, true);\n                }\n            }\n        });\n        function createSafeFragment(document) {\n            var list = nodeNames.split('|'), safeFrag = document.createDocumentFragment();\n            if (safeFrag.createElement) {\n                while (list.length) {\n                    safeFrag.createElement(list.pop());\n                }\n            }\n            return safeFrag;\n        }\n        var nodeNames = 'abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|' + 'header|hgroup|mark|meter|nav|output|progress|section|summary|time|video', rinlinejQuery = / jQuery\\d+=\"(?:null|\\d+)\"/g, rnoshimcache = new RegExp('<(?:' + nodeNames + ')[\\\\s/>]', 'i'), rleadingWhitespace = /^\\s+/, rxhtmlTag = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>/gi, rtagName = /<([\\w:]+)/, rtbody = /<tbody/i, rhtml = /<|&#?\\w+;/, rnoInnerhtml = /<(?:script|style|link)/i,\n            // checked=\"checked\" or checked\n            rchecked = /checked\\s*(?:[^=]|=\\s*.checked.)/i, rscriptType = /^$|\\/(?:java|ecma)script/i, rscriptTypeMasked = /^true\\/(.*)/, rcleanScript = /^\\s*<!(?:\\[CDATA\\[|--)|(?:\\]\\]|--)>\\s*$/g,\n            // We have to close these tags to support XHTML (#13200)\n            wrapMap = {\n                option: [\n                    1,\n                    '<select multiple=\\'multiple\\'>',\n                    '</select>'\n                ],\n                legend: [\n                    1,\n                    '<fieldset>',\n                    '</fieldset>'\n                ],\n                area: [\n                    1,\n                    '<map>',\n                    '</map>'\n                ],\n                param: [\n                    1,\n                    '<object>',\n                    '</object>'\n                ],\n                thead: [\n                    1,\n                    '<table>',\n                    '</table>'\n                ],\n                tr: [\n                    2,\n                    '<table><tbody>',\n                    '</tbody></table>'\n                ],\n                col: [\n                    2,\n                    '<table><tbody></tbody><colgroup>',\n                    '</colgroup></table>'\n                ],\n                td: [\n                    3,\n                    '<table><tbody><tr>',\n                    '</tr></tbody></table>'\n                ],\n                // IE6-8 can't serialize link, script, style, or any html5 (NoScope) tags,\n                // unless wrapped in a div with non-breaking characters in front of it.\n                _default: support.htmlSerialize ? [\n                    0,\n                    '',\n                    ''\n                ] : [\n                    1,\n                    'X<div>',\n                    '</div>'\n                ]\n            }, safeFragment = createSafeFragment(document), fragmentDiv = safeFragment.appendChild(document.createElement('div'));\n        wrapMap.optgroup = wrapMap.option;\n        wrapMap.tbody = wrapMap.tfoot = wrapMap.colgroup = wrapMap.caption = wrapMap.thead;\n        wrapMap.th = wrapMap.td;\n        function getAll(context, tag) {\n            var elems, elem, i = 0, found = typeof context.getElementsByTagName !== strundefined ? context.getElementsByTagName(tag || '*') : typeof context.querySelectorAll !== strundefined ? context.querySelectorAll(tag || '*') : undefined;\n            if (!found) {\n                for (found = [], elems = context.childNodes || context; (elem = elems[i]) != null; i++) {\n                    if (!tag || jQuery.nodeName(elem, tag)) {\n                        found.push(elem);\n                    } else {\n                        jQuery.merge(found, getAll(elem, tag));\n                    }\n                }\n            }\n            return tag === undefined || tag && jQuery.nodeName(context, tag) ? jQuery.merge([context], found) : found;\n        }\n        // Used in buildFragment, fixes the defaultChecked property\n        function fixDefaultChecked(elem) {\n            if (rcheckableType.test(elem.type)) {\n                elem.defaultChecked = elem.checked;\n            }\n        }\n        // Support: IE<8\n        // Manipulating tables requires a tbody\n        function manipulationTarget(elem, content) {\n            return jQuery.nodeName(elem, 'table') && jQuery.nodeName(content.nodeType !== 11 ? content : content.firstChild, 'tr') ? elem.getElementsByTagName('tbody')[0] || elem.appendChild(elem.ownerDocument.createElement('tbody')) : elem;\n        }\n        // Replace/restore the type attribute of script elements for safe DOM manipulation\n        function disableScript(elem) {\n            elem.type = (jQuery.find.attr(elem, 'type') !== null) + '/' + elem.type;\n            return elem;\n        }\n        function restoreScript(elem) {\n            var match = rscriptTypeMasked.exec(elem.type);\n            if (match) {\n                elem.type = match[1];\n            } else {\n                elem.removeAttribute('type');\n            }\n            return elem;\n        }\n        // Mark scripts as having already been evaluated\n        function setGlobalEval(elems, refElements) {\n            var elem, i = 0;\n            for (; (elem = elems[i]) != null; i++) {\n                jQuery._data(elem, 'globalEval', !refElements || jQuery._data(refElements[i], 'globalEval'));\n            }\n        }\n        function cloneCopyEvent(src, dest) {\n            if (dest.nodeType !== 1 || !jQuery.hasData(src)) {\n                return;\n            }\n            var type, i, l, oldData = jQuery._data(src), curData = jQuery._data(dest, oldData), events = oldData.events;\n            if (events) {\n                delete curData.handle;\n                curData.events = {};\n                for (type in events) {\n                    for (i = 0, l = events[type].length; i < l; i++) {\n                        jQuery.event.add(dest, type, events[type][i]);\n                    }\n                }\n            }\n            // make the cloned public data object a copy from the original\n            if (curData.data) {\n                curData.data = jQuery.extend({}, curData.data);\n            }\n        }\n        function fixCloneNodeIssues(src, dest) {\n            var nodeName, e, data;\n            // We do not need to do anything for non-Elements\n            if (dest.nodeType !== 1) {\n                return;\n            }\n            nodeName = dest.nodeName.toLowerCase();\n            // IE6-8 copies events bound via attachEvent when using cloneNode.\n            if (!support.noCloneEvent && dest[jQuery.expando]) {\n                data = jQuery._data(dest);\n                for (e in data.events) {\n                    jQuery.removeEvent(dest, e, data.handle);\n                }\n                // Event data gets referenced instead of copied if the expando gets copied too\n                dest.removeAttribute(jQuery.expando);\n            }\n            // IE blanks contents when cloning scripts, and tries to evaluate newly-set text\n            if (nodeName === 'script' && dest.text !== src.text) {\n                disableScript(dest).text = src.text;\n                restoreScript(dest);    // IE6-10 improperly clones children of object elements using classid.\n                                        // IE10 throws NoModificationAllowedError if parent is null, #12132.\n            } else if (nodeName === 'object') {\n                if (dest.parentNode) {\n                    dest.outerHTML = src.outerHTML;\n                }\n                // This path appears unavoidable for IE9. When cloning an object\n                // element in IE9, the outerHTML strategy above is not sufficient.\n                // If the src has innerHTML and the destination does not,\n                // copy the src.innerHTML into the dest.innerHTML. #10324\n                if (support.html5Clone && (src.innerHTML && !jQuery.trim(dest.innerHTML))) {\n                    dest.innerHTML = src.innerHTML;\n                }\n            } else if (nodeName === 'input' && rcheckableType.test(src.type)) {\n                // IE6-8 fails to persist the checked state of a cloned checkbox\n                // or radio button. Worse, IE6-7 fail to give the cloned element\n                // a checked appearance if the defaultChecked value isn't also set\n                dest.defaultChecked = dest.checked = src.checked;\n                // IE6-7 get confused and end up setting the value of a cloned\n                // checkbox/radio button to an empty string instead of \"on\"\n                if (dest.value !== src.value) {\n                    dest.value = src.value;\n                }    // IE6-8 fails to return the selected option to the default selected\n                     // state when cloning options\n            } else if (nodeName === 'option') {\n                dest.defaultSelected = dest.selected = src.defaultSelected;    // IE6-8 fails to set the defaultValue to the correct value when\n                                                                               // cloning other types of input fields\n            } else if (nodeName === 'input' || nodeName === 'textarea') {\n                dest.defaultValue = src.defaultValue;\n            }\n        }\n        jQuery.extend({\n            clone: function (elem, dataAndEvents, deepDataAndEvents) {\n                var destElements, node, clone, i, srcElements, inPage = jQuery.contains(elem.ownerDocument, elem);\n                if (support.html5Clone || jQuery.isXMLDoc(elem) || !rnoshimcache.test('<' + elem.nodeName + '>')) {\n                    clone = elem.cloneNode(true);    // IE<=8 does not properly clone detached, unknown element nodes\n                } else {\n                    fragmentDiv.innerHTML = elem.outerHTML;\n                    fragmentDiv.removeChild(clone = fragmentDiv.firstChild);\n                }\n                if ((!support.noCloneEvent || !support.noCloneChecked) && (elem.nodeType === 1 || elem.nodeType === 11) && !jQuery.isXMLDoc(elem)) {\n                    // We eschew Sizzle here for performance reasons: http://jsperf.com/getall-vs-sizzle/2\n                    destElements = getAll(clone);\n                    srcElements = getAll(elem);\n                    // Fix all IE cloning issues\n                    for (i = 0; (node = srcElements[i]) != null; ++i) {\n                        // Ensure that the destination node is not null; Fixes #9587\n                        if (destElements[i]) {\n                            fixCloneNodeIssues(node, destElements[i]);\n                        }\n                    }\n                }\n                // Copy the events from the original to the clone\n                if (dataAndEvents) {\n                    if (deepDataAndEvents) {\n                        srcElements = srcElements || getAll(elem);\n                        destElements = destElements || getAll(clone);\n                        for (i = 0; (node = srcElements[i]) != null; i++) {\n                            cloneCopyEvent(node, destElements[i]);\n                        }\n                    } else {\n                        cloneCopyEvent(elem, clone);\n                    }\n                }\n                // Preserve script evaluation history\n                destElements = getAll(clone, 'script');\n                if (destElements.length > 0) {\n                    setGlobalEval(destElements, !inPage && getAll(elem, 'script'));\n                }\n                destElements = srcElements = node = null;\n                // Return the cloned set\n                return clone;\n            },\n            buildFragment: function (elems, context, scripts, selection) {\n                var j, elem, contains, tmp, tag, tbody, wrap, l = elems.length,\n                    // Ensure a safe fragment\n                    safe = createSafeFragment(context), nodes = [], i = 0;\n                for (; i < l; i++) {\n                    elem = elems[i];\n                    if (elem || elem === 0) {\n                        // Add nodes directly\n                        if (jQuery.type(elem) === 'object') {\n                            jQuery.merge(nodes, elem.nodeType ? [elem] : elem);    // Convert non-html into a text node\n                        } else if (!rhtml.test(elem)) {\n                            nodes.push(context.createTextNode(elem));    // Convert html into DOM nodes\n                        } else {\n                            tmp = tmp || safe.appendChild(context.createElement('div'));\n                            // Deserialize a standard representation\n                            tag = (rtagName.exec(elem) || [\n                                '',\n                                ''\n                            ])[1].toLowerCase();\n                            wrap = wrapMap[tag] || wrapMap._default;\n                            tmp.innerHTML = wrap[1] + elem.replace(rxhtmlTag, '<$1></$2>') + wrap[2];\n                            // Descend through wrappers to the right content\n                            j = wrap[0];\n                            while (j--) {\n                                tmp = tmp.lastChild;\n                            }\n                            // Manually add leading whitespace removed by IE\n                            if (!support.leadingWhitespace && rleadingWhitespace.test(elem)) {\n                                nodes.push(context.createTextNode(rleadingWhitespace.exec(elem)[0]));\n                            }\n                            // Remove IE's autoinserted <tbody> from table fragments\n                            if (!support.tbody) {\n                                // String was a <table>, *may* have spurious <tbody>\n                                elem = tag === 'table' && !rtbody.test(elem) ? tmp.firstChild : // String was a bare <thead> or <tfoot>\n                                wrap[1] === '<table>' && !rtbody.test(elem) ? tmp : 0;\n                                j = elem && elem.childNodes.length;\n                                while (j--) {\n                                    if (jQuery.nodeName(tbody = elem.childNodes[j], 'tbody') && !tbody.childNodes.length) {\n                                        elem.removeChild(tbody);\n                                    }\n                                }\n                            }\n                            jQuery.merge(nodes, tmp.childNodes);\n                            // Fix #12392 for WebKit and IE > 9\n                            tmp.textContent = '';\n                            // Fix #12392 for oldIE\n                            while (tmp.firstChild) {\n                                tmp.removeChild(tmp.firstChild);\n                            }\n                            // Remember the top-level container for proper cleanup\n                            tmp = safe.lastChild;\n                        }\n                    }\n                }\n                // Fix #11356: Clear elements from fragment\n                if (tmp) {\n                    safe.removeChild(tmp);\n                }\n                // Reset defaultChecked for any radios and checkboxes\n                // about to be appended to the DOM in IE 6/7 (#8060)\n                if (!support.appendChecked) {\n                    jQuery.grep(getAll(nodes, 'input'), fixDefaultChecked);\n                }\n                i = 0;\n                while (elem = nodes[i++]) {\n                    // #4087 - If origin and destination elements are the same, and this is\n                    // that element, do not do anything\n                    if (selection && jQuery.inArray(elem, selection) !== -1) {\n                        continue;\n                    }\n                    contains = jQuery.contains(elem.ownerDocument, elem);\n                    // Append to fragment\n                    tmp = getAll(safe.appendChild(elem), 'script');\n                    // Preserve script evaluation history\n                    if (contains) {\n                        setGlobalEval(tmp);\n                    }\n                    // Capture executables\n                    if (scripts) {\n                        j = 0;\n                        while (elem = tmp[j++]) {\n                            if (rscriptType.test(elem.type || '')) {\n                                scripts.push(elem);\n                            }\n                        }\n                    }\n                }\n                tmp = null;\n                return safe;\n            },\n            cleanData: function (elems, acceptData) {\n                var elem, type, id, data, i = 0, internalKey = jQuery.expando, cache = jQuery.cache, deleteExpando = support.deleteExpando, special = jQuery.event.special;\n                for (; (elem = elems[i]) != null; i++) {\n                    if (acceptData || jQuery.acceptData(elem)) {\n                        id = elem[internalKey];\n                        data = id && cache[id];\n                        if (data) {\n                            if (data.events) {\n                                for (type in data.events) {\n                                    if (special[type]) {\n                                        jQuery.event.remove(elem, type);    // This is a shortcut to avoid jQuery.event.remove's overhead\n                                    } else {\n                                        jQuery.removeEvent(elem, type, data.handle);\n                                    }\n                                }\n                            }\n                            // Remove cache only if it was not already removed by jQuery.event.remove\n                            if (cache[id]) {\n                                delete cache[id];\n                                // IE does not allow us to delete expando properties from nodes,\n                                // nor does it have a removeAttribute function on Document nodes;\n                                // we must handle all of these cases\n                                if (deleteExpando) {\n                                    delete elem[internalKey];\n                                } else if (typeof elem.removeAttribute !== strundefined) {\n                                    elem.removeAttribute(internalKey);\n                                } else {\n                                    elem[internalKey] = null;\n                                }\n                                deletedIds.push(id);\n                            }\n                        }\n                    }\n                }\n            }\n        });\n        jQuery.fn.extend({\n            text: function (value) {\n                return access(this, function (value) {\n                    return value === undefined ? jQuery.text(this) : this.empty().append((this[0] && this[0].ownerDocument || document).createTextNode(value));\n                }, null, value, arguments.length);\n            },\n            append: function () {\n                return this.domManip(arguments, function (elem) {\n                    if (this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9) {\n                        var target = manipulationTarget(this, elem);\n                        target.appendChild(elem);\n                    }\n                });\n            },\n            prepend: function () {\n                return this.domManip(arguments, function (elem) {\n                    if (this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9) {\n                        var target = manipulationTarget(this, elem);\n                        target.insertBefore(elem, target.firstChild);\n                    }\n                });\n            },\n            before: function () {\n                return this.domManip(arguments, function (elem) {\n                    if (this.parentNode) {\n                        this.parentNode.insertBefore(elem, this);\n                    }\n                });\n            },\n            after: function () {\n                return this.domManip(arguments, function (elem) {\n                    if (this.parentNode) {\n                        this.parentNode.insertBefore(elem, this.nextSibling);\n                    }\n                });\n            },\n            remove: function (selector, keepData) {\n                var elem, elems = selector ? jQuery.filter(selector, this) : this, i = 0;\n                for (; (elem = elems[i]) != null; i++) {\n                    if (!keepData && elem.nodeType === 1) {\n                        jQuery.cleanData(getAll(elem));\n                    }\n                    if (elem.parentNode) {\n                        if (keepData && jQuery.contains(elem.ownerDocument, elem)) {\n                            setGlobalEval(getAll(elem, 'script'));\n                        }\n                        elem.parentNode.removeChild(elem);\n                    }\n                }\n                return this;\n            },\n            empty: function () {\n                var elem, i = 0;\n                for (; (elem = this[i]) != null; i++) {\n                    // Remove element nodes and prevent memory leaks\n                    if (elem.nodeType === 1) {\n                        jQuery.cleanData(getAll(elem, false));\n                    }\n                    // Remove any remaining nodes\n                    while (elem.firstChild) {\n                        elem.removeChild(elem.firstChild);\n                    }\n                    // If this is a select, ensure that it displays empty (#12336)\n                    // Support: IE<9\n                    if (elem.options && jQuery.nodeName(elem, 'select')) {\n                        elem.options.length = 0;\n                    }\n                }\n                return this;\n            },\n            clone: function (dataAndEvents, deepDataAndEvents) {\n                dataAndEvents = dataAndEvents == null ? false : dataAndEvents;\n                deepDataAndEvents = deepDataAndEvents == null ? dataAndEvents : deepDataAndEvents;\n                return this.map(function () {\n                    return jQuery.clone(this, dataAndEvents, deepDataAndEvents);\n                });\n            },\n            html: function (value) {\n                return access(this, function (value) {\n                    var elem = this[0] || {}, i = 0, l = this.length;\n                    if (value === undefined) {\n                        return elem.nodeType === 1 ? elem.innerHTML.replace(rinlinejQuery, '') : undefined;\n                    }\n                    // See if we can take a shortcut and just use innerHTML\n                    if (typeof value === 'string' && !rnoInnerhtml.test(value) && (support.htmlSerialize || !rnoshimcache.test(value)) && (support.leadingWhitespace || !rleadingWhitespace.test(value)) && !wrapMap[(rtagName.exec(value) || [\n                            '',\n                            ''\n                        ])[1].toLowerCase()]) {\n                        value = value.replace(rxhtmlTag, '<$1></$2>');\n                        try {\n                            for (; i < l; i++) {\n                                // Remove element nodes and prevent memory leaks\n                                elem = this[i] || {};\n                                if (elem.nodeType === 1) {\n                                    jQuery.cleanData(getAll(elem, false));\n                                    elem.innerHTML = value;\n                                }\n                            }\n                            elem = 0;    // If using innerHTML throws an exception, use the fallback method\n                        } catch (e) {\n                        }\n                    }\n                    if (elem) {\n                        this.empty().append(value);\n                    }\n                }, null, value, arguments.length);\n            },\n            replaceWith: function () {\n                var arg = arguments[0];\n                // Make the changes, replacing each context element with the new content\n                this.domManip(arguments, function (elem) {\n                    arg = this.parentNode;\n                    jQuery.cleanData(getAll(this));\n                    if (arg) {\n                        arg.replaceChild(elem, this);\n                    }\n                });\n                // Force removal if there was no new content (e.g., from empty arguments)\n                return arg && (arg.length || arg.nodeType) ? this : this.remove();\n            },\n            detach: function (selector) {\n                return this.remove(selector, true);\n            },\n            domManip: function (args, callback) {\n                // Flatten any nested arrays\n                args = concat.apply([], args);\n                var first, node, hasScripts, scripts, doc, fragment, i = 0, l = this.length, set = this, iNoClone = l - 1, value = args[0], isFunction = jQuery.isFunction(value);\n                // We can't cloneNode fragments that contain checked, in WebKit\n                if (isFunction || l > 1 && typeof value === 'string' && !support.checkClone && rchecked.test(value)) {\n                    return this.each(function (index) {\n                        var self = set.eq(index);\n                        if (isFunction) {\n                            args[0] = value.call(this, index, self.html());\n                        }\n                        self.domManip(args, callback);\n                    });\n                }\n                if (l) {\n                    fragment = jQuery.buildFragment(args, this[0].ownerDocument, false, this);\n                    first = fragment.firstChild;\n                    if (fragment.childNodes.length === 1) {\n                        fragment = first;\n                    }\n                    if (first) {\n                        scripts = jQuery.map(getAll(fragment, 'script'), disableScript);\n                        hasScripts = scripts.length;\n                        // Use the original fragment for the last item instead of the first because it can end up\n                        // being emptied incorrectly in certain situations (#8070).\n                        for (; i < l; i++) {\n                            node = fragment;\n                            if (i !== iNoClone) {\n                                node = jQuery.clone(node, true, true);\n                                // Keep references to cloned scripts for later restoration\n                                if (hasScripts) {\n                                    jQuery.merge(scripts, getAll(node, 'script'));\n                                }\n                            }\n                            callback.call(this[i], node, i);\n                        }\n                        if (hasScripts) {\n                            doc = scripts[scripts.length - 1].ownerDocument;\n                            // Reenable scripts\n                            jQuery.map(scripts, restoreScript);\n                            // Evaluate executable scripts on first document insertion\n                            for (i = 0; i < hasScripts; i++) {\n                                node = scripts[i];\n                                if (rscriptType.test(node.type || '') && !jQuery._data(node, 'globalEval') && jQuery.contains(doc, node)) {\n                                    if (node.src) {\n                                        // Optional AJAX dependency, but won't run scripts if not present\n                                        if (jQuery._evalUrl) {\n                                            jQuery._evalUrl(node.src);\n                                        }\n                                    } else {\n                                        jQuery.globalEval((node.text || node.textContent || node.innerHTML || '').replace(rcleanScript, ''));\n                                    }\n                                }\n                            }\n                        }\n                        // Fix #11809: Avoid leaking memory\n                        fragment = first = null;\n                    }\n                }\n                return this;\n            }\n        });\n        jQuery.each({\n            appendTo: 'append',\n            prependTo: 'prepend',\n            insertBefore: 'before',\n            insertAfter: 'after',\n            replaceAll: 'replaceWith'\n        }, function (name, original) {\n            jQuery.fn[name] = function (selector) {\n                var elems, i = 0, ret = [], insert = jQuery(selector), last = insert.length - 1;\n                for (; i <= last; i++) {\n                    elems = i === last ? this : this.clone(true);\n                    jQuery(insert[i])[original](elems);\n                    // Modern browsers can apply jQuery collections as arrays, but oldIE needs a .get()\n                    push.apply(ret, elems.get());\n                }\n                return this.pushStack(ret);\n            };\n        });\n        var iframe, elemdisplay = {};\n        /**\n * Retrieve the actual display of a element\n * @param {String} name nodeName of the element\n * @param {Object} doc Document object\n */\n        // Called only from within defaultDisplay\n        function actualDisplay(name, doc) {\n            var style, elem = jQuery(doc.createElement(name)).appendTo(doc.body),\n                // getDefaultComputedStyle might be reliably used only on attached element\n                display = window.getDefaultComputedStyle && (style = window.getDefaultComputedStyle(elem[0])) ? // Use of this method is a temporary fix (more like optmization) until something better comes along,\n                // since it was removed from specification and supported only in FF\n                style.display : jQuery.css(elem[0], 'display');\n            // We don't have any data stored on the element,\n            // so use \"detach\" method as fast way to get rid of the element\n            elem.detach();\n            return display;\n        }\n        /**\n * Try to determine the default display value of an element\n * @param {String} nodeName\n */\n        function defaultDisplay(nodeName) {\n            var doc = document, display = elemdisplay[nodeName];\n            if (!display) {\n                display = actualDisplay(nodeName, doc);\n                // If the simple way fails, read from inside an iframe\n                if (display === 'none' || !display) {\n                    // Use the already-created iframe if possible\n                    iframe = (iframe || jQuery('<iframe frameborder=\\'0\\' width=\\'0\\' height=\\'0\\'/>')).appendTo(doc.documentElement);\n                    // Always write a new HTML skeleton so Webkit and Firefox don't choke on reuse\n                    doc = (iframe[0].contentWindow || iframe[0].contentDocument).document;\n                    // Support: IE\n                    doc.write();\n                    doc.close();\n                    display = actualDisplay(nodeName, doc);\n                    iframe.detach();\n                }\n                // Store the correct default display\n                elemdisplay[nodeName] = display;\n            }\n            return display;\n        }\n        (function () {\n            var shrinkWrapBlocksVal;\n            support.shrinkWrapBlocks = function () {\n                if (shrinkWrapBlocksVal != null) {\n                    return shrinkWrapBlocksVal;\n                }\n                // Will be changed later if needed.\n                shrinkWrapBlocksVal = false;\n                // Minified: var b,c,d\n                var div, body, container;\n                body = document.getElementsByTagName('body')[0];\n                if (!body || !body.style) {\n                    // Test fired too early or in an unsupported environment, exit.\n                    return;\n                }\n                // Setup\n                div = document.createElement('div');\n                container = document.createElement('div');\n                container.style.cssText = 'position:absolute;border:0;width:0;height:0;top:0;left:-9999px';\n                body.appendChild(container).appendChild(div);\n                // Support: IE6\n                // Check if elements with layout shrink-wrap their children\n                if (typeof div.style.zoom !== strundefined) {\n                    // Reset CSS: box-sizing; display; margin; border\n                    div.style.cssText = // Support: Firefox<29, Android 2.3\n                    // Vendor-prefix box-sizing\n                    '-webkit-box-sizing:content-box;-moz-box-sizing:content-box;' + 'box-sizing:content-box;display:block;margin:0;border:0;' + 'padding:1px;width:1px;zoom:1';\n                    div.appendChild(document.createElement('div')).style.width = '5px';\n                    shrinkWrapBlocksVal = div.offsetWidth !== 3;\n                }\n                body.removeChild(container);\n                return shrinkWrapBlocksVal;\n            };\n        }());\n        var rmargin = /^margin/;\n        var rnumnonpx = new RegExp('^(' + pnum + ')(?!px)[a-z%]+$', 'i');\n        var getStyles, curCSS, rposition = /^(top|right|bottom|left)$/;\n        if (window.getComputedStyle) {\n            getStyles = function (elem) {\n                return elem.ownerDocument.defaultView.getComputedStyle(elem, null);\n            };\n            curCSS = function (elem, name, computed) {\n                var width, minWidth, maxWidth, ret, style = elem.style;\n                computed = computed || getStyles(elem);\n                // getPropertyValue is only needed for .css('filter') in IE9, see #12537\n                ret = computed ? computed.getPropertyValue(name) || computed[name] : undefined;\n                if (computed) {\n                    if (ret === '' && !jQuery.contains(elem.ownerDocument, elem)) {\n                        ret = jQuery.style(elem, name);\n                    }\n                    // A tribute to the \"awesome hack by Dean Edwards\"\n                    // Chrome < 17 and Safari 5.0 uses \"computed value\" instead of \"used value\" for margin-right\n                    // Safari 5.1.7 (at least) returns percentage for a larger set of values, but width seems to be reliably pixels\n                    // this is against the CSSOM draft spec: http://dev.w3.org/csswg/cssom/#resolved-values\n                    if (rnumnonpx.test(ret) && rmargin.test(name)) {\n                        // Remember the original values\n                        width = style.width;\n                        minWidth = style.minWidth;\n                        maxWidth = style.maxWidth;\n                        // Put in the new values to get a computed value out\n                        style.minWidth = style.maxWidth = style.width = ret;\n                        ret = computed.width;\n                        // Revert the changed values\n                        style.width = width;\n                        style.minWidth = minWidth;\n                        style.maxWidth = maxWidth;\n                    }\n                }\n                // Support: IE\n                // IE returns zIndex value as an integer.\n                return ret === undefined ? ret : ret + '';\n            };\n        } else if (document.documentElement.currentStyle) {\n            getStyles = function (elem) {\n                return elem.currentStyle;\n            };\n            curCSS = function (elem, name, computed) {\n                var left, rs, rsLeft, ret, style = elem.style;\n                computed = computed || getStyles(elem);\n                ret = computed ? computed[name] : undefined;\n                // Avoid setting ret to empty string here\n                // so we don't default to auto\n                if (ret == null && style && style[name]) {\n                    ret = style[name];\n                }\n                // From the awesome hack by Dean Edwards\n                // http://erik.eae.net/archives/2007/07/27/18.54.15/#comment-102291\n                // If we're not dealing with a regular pixel number\n                // but a number that has a weird ending, we need to convert it to pixels\n                // but not position css attributes, as those are proportional to the parent element instead\n                // and we can't measure the parent instead because it might trigger a \"stacking dolls\" problem\n                if (rnumnonpx.test(ret) && !rposition.test(name)) {\n                    // Remember the original values\n                    left = style.left;\n                    rs = elem.runtimeStyle;\n                    rsLeft = rs && rs.left;\n                    // Put in the new values to get a computed value out\n                    if (rsLeft) {\n                        rs.left = elem.currentStyle.left;\n                    }\n                    style.left = name === 'fontSize' ? '1em' : ret;\n                    ret = style.pixelLeft + 'px';\n                    // Revert the changed values\n                    style.left = left;\n                    if (rsLeft) {\n                        rs.left = rsLeft;\n                    }\n                }\n                // Support: IE\n                // IE returns zIndex value as an integer.\n                return ret === undefined ? ret : ret + '' || 'auto';\n            };\n        }\n        function addGetHookIf(conditionFn, hookFn) {\n            // Define the hook, we'll check on the first run if it's really needed.\n            return {\n                get: function () {\n                    var condition = conditionFn();\n                    if (condition == null) {\n                        // The test was not ready at this point; screw the hook this time\n                        // but check again when needed next time.\n                        return;\n                    }\n                    if (condition) {\n                        // Hook not needed (or it's not possible to use it due to missing dependency),\n                        // remove it.\n                        // Since there are no other hooks for marginRight, remove the whole object.\n                        delete this.get;\n                        return;\n                    }\n                    // Hook needed; redefine it so that the support test is not executed again.\n                    return (this.get = hookFn).apply(this, arguments);\n                }\n            };\n        }\n        (function () {\n            // Minified: var b,c,d,e,f,g, h,i\n            var div, style, a, pixelPositionVal, boxSizingReliableVal, reliableHiddenOffsetsVal, reliableMarginRightVal;\n            // Setup\n            div = document.createElement('div');\n            div.innerHTML = '  <link/><table></table><a href=\\'/a\\'>a</a><input type=\\'checkbox\\'/>';\n            a = div.getElementsByTagName('a')[0];\n            style = a && a.style;\n            // Finish early in limited (non-browser) environments\n            if (!style) {\n                return;\n            }\n            style.cssText = 'float:left;opacity:.5';\n            // Support: IE<9\n            // Make sure that element opacity exists (as opposed to filter)\n            support.opacity = style.opacity === '0.5';\n            // Verify style float existence\n            // (IE uses styleFloat instead of cssFloat)\n            support.cssFloat = !!style.cssFloat;\n            div.style.backgroundClip = 'content-box';\n            div.cloneNode(true).style.backgroundClip = '';\n            support.clearCloneStyle = div.style.backgroundClip === 'content-box';\n            // Support: Firefox<29, Android 2.3\n            // Vendor-prefix box-sizing\n            support.boxSizing = style.boxSizing === '' || style.MozBoxSizing === '' || style.WebkitBoxSizing === '';\n            jQuery.extend(support, {\n                reliableHiddenOffsets: function () {\n                    if (reliableHiddenOffsetsVal == null) {\n                        computeStyleTests();\n                    }\n                    return reliableHiddenOffsetsVal;\n                },\n                boxSizingReliable: function () {\n                    if (boxSizingReliableVal == null) {\n                        computeStyleTests();\n                    }\n                    return boxSizingReliableVal;\n                },\n                pixelPosition: function () {\n                    if (pixelPositionVal == null) {\n                        computeStyleTests();\n                    }\n                    return pixelPositionVal;\n                },\n                // Support: Android 2.3\n                reliableMarginRight: function () {\n                    if (reliableMarginRightVal == null) {\n                        computeStyleTests();\n                    }\n                    return reliableMarginRightVal;\n                }\n            });\n            function computeStyleTests() {\n                // Minified: var b,c,d,j\n                var div, body, container, contents;\n                body = document.getElementsByTagName('body')[0];\n                if (!body || !body.style) {\n                    // Test fired too early or in an unsupported environment, exit.\n                    return;\n                }\n                // Setup\n                div = document.createElement('div');\n                container = document.createElement('div');\n                container.style.cssText = 'position:absolute;border:0;width:0;height:0;top:0;left:-9999px';\n                body.appendChild(container).appendChild(div);\n                div.style.cssText = // Support: Firefox<29, Android 2.3\n                // Vendor-prefix box-sizing\n                '-webkit-box-sizing:border-box;-moz-box-sizing:border-box;' + 'box-sizing:border-box;display:block;margin-top:1%;top:1%;' + 'border:1px;padding:1px;width:4px;position:absolute';\n                // Support: IE<9\n                // Assume reasonable values in the absence of getComputedStyle\n                pixelPositionVal = boxSizingReliableVal = false;\n                reliableMarginRightVal = true;\n                // Check for getComputedStyle so that this code is not run in IE<9.\n                if (window.getComputedStyle) {\n                    pixelPositionVal = (window.getComputedStyle(div, null) || {}).top !== '1%';\n                    boxSizingReliableVal = (window.getComputedStyle(div, null) || { width: '4px' }).width === '4px';\n                    // Support: Android 2.3\n                    // Div with explicit width and no margin-right incorrectly\n                    // gets computed margin-right based on width of container (#3333)\n                    // WebKit Bug 13343 - getComputedStyle returns wrong value for margin-right\n                    contents = div.appendChild(document.createElement('div'));\n                    // Reset CSS: box-sizing; display; margin; border; padding\n                    contents.style.cssText = div.style.cssText = // Support: Firefox<29, Android 2.3\n                    // Vendor-prefix box-sizing\n                    '-webkit-box-sizing:content-box;-moz-box-sizing:content-box;' + 'box-sizing:content-box;display:block;margin:0;border:0;padding:0';\n                    contents.style.marginRight = contents.style.width = '0';\n                    div.style.width = '1px';\n                    reliableMarginRightVal = !parseFloat((window.getComputedStyle(contents, null) || {}).marginRight);\n                }\n                // Support: IE8\n                // Check if table cells still have offsetWidth/Height when they are set\n                // to display:none and there are still other visible table cells in a\n                // table row; if so, offsetWidth/Height are not reliable for use when\n                // determining if an element has been hidden directly using\n                // display:none (it is still safe to use offsets if a parent element is\n                // hidden; don safety goggles and see bug #4512 for more information).\n                div.innerHTML = '<table><tr><td></td><td>t</td></tr></table>';\n                contents = div.getElementsByTagName('td');\n                contents[0].style.cssText = 'margin:0;border:0;padding:0;display:none';\n                reliableHiddenOffsetsVal = contents[0].offsetHeight === 0;\n                if (reliableHiddenOffsetsVal) {\n                    contents[0].style.display = '';\n                    contents[1].style.display = 'none';\n                    reliableHiddenOffsetsVal = contents[0].offsetHeight === 0;\n                }\n                body.removeChild(container);\n            }\n        }());\n        // A method for quickly swapping in/out CSS properties to get correct calculations.\n        jQuery.swap = function (elem, options, callback, args) {\n            var ret, name, old = {};\n            // Remember the old values, and insert the new ones\n            for (name in options) {\n                old[name] = elem.style[name];\n                elem.style[name] = options[name];\n            }\n            ret = callback.apply(elem, args || []);\n            // Revert the old values\n            for (name in options) {\n                elem.style[name] = old[name];\n            }\n            return ret;\n        };\n        var ralpha = /alpha\\([^)]*\\)/i, ropacity = /opacity\\s*=\\s*([^)]*)/,\n            // swappable if display is none or starts with table except \"table\", \"table-cell\", or \"table-caption\"\n            // see here for display values: https://developer.mozilla.org/en-US/docs/CSS/display\n            rdisplayswap = /^(none|table(?!-c[ea]).+)/, rnumsplit = new RegExp('^(' + pnum + ')(.*)$', 'i'), rrelNum = new RegExp('^([+-])=(' + pnum + ')', 'i'), cssShow = {\n                position: 'absolute',\n                visibility: 'hidden',\n                display: 'block'\n            }, cssNormalTransform = {\n                letterSpacing: '0',\n                fontWeight: '400'\n            }, cssPrefixes = [\n                'Webkit',\n                'O',\n                'Moz',\n                'ms'\n            ];\n        // return a css property mapped to a potentially vendor prefixed property\n        function vendorPropName(style, name) {\n            // shortcut for names that are not vendor prefixed\n            if (name in style) {\n                return name;\n            }\n            // check for vendor prefixed names\n            var capName = name.charAt(0).toUpperCase() + name.slice(1), origName = name, i = cssPrefixes.length;\n            while (i--) {\n                name = cssPrefixes[i] + capName;\n                if (name in style) {\n                    return name;\n                }\n            }\n            return origName;\n        }\n        function showHide(elements, show) {\n            var display, elem, hidden, values = [], index = 0, length = elements.length;\n            for (; index < length; index++) {\n                elem = elements[index];\n                if (!elem.style) {\n                    continue;\n                }\n                values[index] = jQuery._data(elem, 'olddisplay');\n                display = elem.style.display;\n                if (show) {\n                    // Reset the inline display of this element to learn if it is\n                    // being hidden by cascaded rules or not\n                    if (!values[index] && display === 'none') {\n                        elem.style.display = '';\n                    }\n                    // Set elements which have been overridden with display: none\n                    // in a stylesheet to whatever the default browser style is\n                    // for such an element\n                    if (elem.style.display === '' && isHidden(elem)) {\n                        values[index] = jQuery._data(elem, 'olddisplay', defaultDisplay(elem.nodeName));\n                    }\n                } else {\n                    hidden = isHidden(elem);\n                    if (display && display !== 'none' || !hidden) {\n                        jQuery._data(elem, 'olddisplay', hidden ? display : jQuery.css(elem, 'display'));\n                    }\n                }\n            }\n            // Set the display of most of the elements in a second loop\n            // to avoid the constant reflow\n            for (index = 0; index < length; index++) {\n                elem = elements[index];\n                if (!elem.style) {\n                    continue;\n                }\n                if (!show || elem.style.display === 'none' || elem.style.display === '') {\n                    elem.style.display = show ? values[index] || '' : 'none';\n                }\n            }\n            return elements;\n        }\n        function setPositiveNumber(elem, value, subtract) {\n            var matches = rnumsplit.exec(value);\n            return matches ? // Guard against undefined \"subtract\", e.g., when used as in cssHooks\n            Math.max(0, matches[1] - (subtract || 0)) + (matches[2] || 'px') : value;\n        }\n        function augmentWidthOrHeight(elem, name, extra, isBorderBox, styles) {\n            var i = extra === (isBorderBox ? 'border' : 'content') ? // If we already have the right measurement, avoid augmentation\n                4 : // Otherwise initialize for horizontal or vertical properties\n                name === 'width' ? 1 : 0, val = 0;\n            for (; i < 4; i += 2) {\n                // both box models exclude margin, so add it if we want it\n                if (extra === 'margin') {\n                    val += jQuery.css(elem, extra + cssExpand[i], true, styles);\n                }\n                if (isBorderBox) {\n                    // border-box includes padding, so remove it if we want content\n                    if (extra === 'content') {\n                        val -= jQuery.css(elem, 'padding' + cssExpand[i], true, styles);\n                    }\n                    // at this point, extra isn't border nor margin, so remove border\n                    if (extra !== 'margin') {\n                        val -= jQuery.css(elem, 'border' + cssExpand[i] + 'Width', true, styles);\n                    }\n                } else {\n                    // at this point, extra isn't content, so add padding\n                    val += jQuery.css(elem, 'padding' + cssExpand[i], true, styles);\n                    // at this point, extra isn't content nor padding, so add border\n                    if (extra !== 'padding') {\n                        val += jQuery.css(elem, 'border' + cssExpand[i] + 'Width', true, styles);\n                    }\n                }\n            }\n            return val;\n        }\n        function getWidthOrHeight(elem, name, extra) {\n            // Start with offset property, which is equivalent to the border-box value\n            var valueIsBorderBox = true, val = name === 'width' ? elem.offsetWidth : elem.offsetHeight, styles = getStyles(elem), isBorderBox = support.boxSizing && jQuery.css(elem, 'boxSizing', false, styles) === 'border-box';\n            // some non-html elements return undefined for offsetWidth, so check for null/undefined\n            // svg - https://bugzilla.mozilla.org/show_bug.cgi?id=649285\n            // MathML - https://bugzilla.mozilla.org/show_bug.cgi?id=491668\n            if (val <= 0 || val == null) {\n                // Fall back to computed then uncomputed css if necessary\n                val = curCSS(elem, name, styles);\n                if (val < 0 || val == null) {\n                    val = elem.style[name];\n                }\n                // Computed unit is not pixels. Stop here and return.\n                if (rnumnonpx.test(val)) {\n                    return val;\n                }\n                // we need the check for style in case a browser which returns unreliable values\n                // for getComputedStyle silently falls back to the reliable elem.style\n                valueIsBorderBox = isBorderBox && (support.boxSizingReliable() || val === elem.style[name]);\n                // Normalize \"\", auto, and prepare for extra\n                val = parseFloat(val) || 0;\n            }\n            // use the active box-sizing model to add/subtract irrelevant styles\n            return val + augmentWidthOrHeight(elem, name, extra || (isBorderBox ? 'border' : 'content'), valueIsBorderBox, styles) + 'px';\n        }\n        jQuery.extend({\n            // Add in style property hooks for overriding the default\n            // behavior of getting and setting a style property\n            cssHooks: {\n                opacity: {\n                    get: function (elem, computed) {\n                        if (computed) {\n                            // We should always get a number back from opacity\n                            var ret = curCSS(elem, 'opacity');\n                            return ret === '' ? '1' : ret;\n                        }\n                    }\n                }\n            },\n            // Don't automatically add \"px\" to these possibly-unitless properties\n            cssNumber: {\n                'columnCount': true,\n                'fillOpacity': true,\n                'flexGrow': true,\n                'flexShrink': true,\n                'fontWeight': true,\n                'lineHeight': true,\n                'opacity': true,\n                'order': true,\n                'orphans': true,\n                'widows': true,\n                'zIndex': true,\n                'zoom': true\n            },\n            // Add in properties whose names you wish to fix before\n            // setting or getting the value\n            cssProps: {\n                // normalize float css property\n                'float': support.cssFloat ? 'cssFloat' : 'styleFloat'\n            },\n            // Get and set the style property on a DOM Node\n            style: function (elem, name, value, extra) {\n                // Don't set styles on text and comment nodes\n                if (!elem || elem.nodeType === 3 || elem.nodeType === 8 || !elem.style) {\n                    return;\n                }\n                // Make sure that we're working with the right name\n                var ret, type, hooks, origName = jQuery.camelCase(name), style = elem.style;\n                name = jQuery.cssProps[origName] || (jQuery.cssProps[origName] = vendorPropName(style, origName));\n                // gets hook for the prefixed version\n                // followed by the unprefixed version\n                hooks = jQuery.cssHooks[name] || jQuery.cssHooks[origName];\n                // Check if we're setting a value\n                if (value !== undefined) {\n                    type = typeof value;\n                    // convert relative number strings (+= or -=) to relative numbers. #7345\n                    if (type === 'string' && (ret = rrelNum.exec(value))) {\n                        value = (ret[1] + 1) * ret[2] + parseFloat(jQuery.css(elem, name));\n                        // Fixes bug #9237\n                        type = 'number';\n                    }\n                    // Make sure that null and NaN values aren't set. See: #7116\n                    if (value == null || value !== value) {\n                        return;\n                    }\n                    // If a number was passed in, add 'px' to the (except for certain CSS properties)\n                    if (type === 'number' && !jQuery.cssNumber[origName]) {\n                        value += 'px';\n                    }\n                    // Fixes #8908, it can be done more correctly by specifing setters in cssHooks,\n                    // but it would mean to define eight (for every problematic property) identical functions\n                    if (!support.clearCloneStyle && value === '' && name.indexOf('background') === 0) {\n                        style[name] = 'inherit';\n                    }\n                    // If a hook was provided, use that value, otherwise just set the specified value\n                    if (!hooks || !('set' in hooks) || (value = hooks.set(elem, value, extra)) !== undefined) {\n                        // Support: IE\n                        // Swallow errors from 'invalid' CSS values (#5509)\n                        try {\n                            style[name] = value;\n                        } catch (e) {\n                        }\n                    }\n                } else {\n                    // If a hook was provided get the non-computed value from there\n                    if (hooks && 'get' in hooks && (ret = hooks.get(elem, false, extra)) !== undefined) {\n                        return ret;\n                    }\n                    // Otherwise just get the value from the style object\n                    return style[name];\n                }\n            },\n            css: function (elem, name, extra, styles) {\n                var num, val, hooks, origName = jQuery.camelCase(name);\n                // Make sure that we're working with the right name\n                name = jQuery.cssProps[origName] || (jQuery.cssProps[origName] = vendorPropName(elem.style, origName));\n                // gets hook for the prefixed version\n                // followed by the unprefixed version\n                hooks = jQuery.cssHooks[name] || jQuery.cssHooks[origName];\n                // If a hook was provided get the computed value from there\n                if (hooks && 'get' in hooks) {\n                    val = hooks.get(elem, true, extra);\n                }\n                // Otherwise, if a way to get the computed value exists, use that\n                if (val === undefined) {\n                    val = curCSS(elem, name, styles);\n                }\n                //convert \"normal\" to computed value\n                if (val === 'normal' && name in cssNormalTransform) {\n                    val = cssNormalTransform[name];\n                }\n                // Return, converting to number if forced or a qualifier was provided and val looks numeric\n                if (extra === '' || extra) {\n                    num = parseFloat(val);\n                    return extra === true || jQuery.isNumeric(num) ? num || 0 : val;\n                }\n                return val;\n            }\n        });\n        jQuery.each([\n            'height',\n            'width'\n        ], function (i, name) {\n            jQuery.cssHooks[name] = {\n                get: function (elem, computed, extra) {\n                    if (computed) {\n                        // certain elements can have dimension info if we invisibly show them\n                        // however, it must have a current display style that would benefit from this\n                        return rdisplayswap.test(jQuery.css(elem, 'display')) && elem.offsetWidth === 0 ? jQuery.swap(elem, cssShow, function () {\n                            return getWidthOrHeight(elem, name, extra);\n                        }) : getWidthOrHeight(elem, name, extra);\n                    }\n                },\n                set: function (elem, value, extra) {\n                    var styles = extra && getStyles(elem);\n                    return setPositiveNumber(elem, value, extra ? augmentWidthOrHeight(elem, name, extra, support.boxSizing && jQuery.css(elem, 'boxSizing', false, styles) === 'border-box', styles) : 0);\n                }\n            };\n        });\n        if (!support.opacity) {\n            jQuery.cssHooks.opacity = {\n                get: function (elem, computed) {\n                    // IE uses filters for opacity\n                    return ropacity.test((computed && elem.currentStyle ? elem.currentStyle.filter : elem.style.filter) || '') ? 0.01 * parseFloat(RegExp.$1) + '' : computed ? '1' : '';\n                },\n                set: function (elem, value) {\n                    var style = elem.style, currentStyle = elem.currentStyle, opacity = jQuery.isNumeric(value) ? 'alpha(opacity=' + value * 100 + ')' : '', filter = currentStyle && currentStyle.filter || style.filter || '';\n                    // IE has trouble with opacity if it does not have layout\n                    // Force it by setting the zoom level\n                    style.zoom = 1;\n                    // if setting opacity to 1, and no other filters exist - attempt to remove filter attribute #6652\n                    // if value === \"\", then remove inline opacity #12685\n                    if ((value >= 1 || value === '') && jQuery.trim(filter.replace(ralpha, '')) === '' && style.removeAttribute) {\n                        // Setting style.filter to null, \"\" & \" \" still leave \"filter:\" in the cssText\n                        // if \"filter:\" is present at all, clearType is disabled, we want to avoid this\n                        // style.removeAttribute is IE Only, but so apparently is this code path...\n                        style.removeAttribute('filter');\n                        // if there is no filter style applied in a css rule or unset inline opacity, we are done\n                        if (value === '' || currentStyle && !currentStyle.filter) {\n                            return;\n                        }\n                    }\n                    // otherwise, set new filter values\n                    style.filter = ralpha.test(filter) ? filter.replace(ralpha, opacity) : filter + ' ' + opacity;\n                }\n            };\n        }\n        jQuery.cssHooks.marginRight = addGetHookIf(support.reliableMarginRight, function (elem, computed) {\n            if (computed) {\n                // WebKit Bug 13343 - getComputedStyle returns wrong value for margin-right\n                // Work around by temporarily setting element display to inline-block\n                return jQuery.swap(elem, { 'display': 'inline-block' }, curCSS, [\n                    elem,\n                    'marginRight'\n                ]);\n            }\n        });\n        // These hooks are used by animate to expand properties\n        jQuery.each({\n            margin: '',\n            padding: '',\n            border: 'Width'\n        }, function (prefix, suffix) {\n            jQuery.cssHooks[prefix + suffix] = {\n                expand: function (value) {\n                    var i = 0, expanded = {},\n                        // assumes a single number if not a string\n                        parts = typeof value === 'string' ? value.split(' ') : [value];\n                    for (; i < 4; i++) {\n                        expanded[prefix + cssExpand[i] + suffix] = parts[i] || parts[i - 2] || parts[0];\n                    }\n                    return expanded;\n                }\n            };\n            if (!rmargin.test(prefix)) {\n                jQuery.cssHooks[prefix + suffix].set = setPositiveNumber;\n            }\n        });\n        jQuery.fn.extend({\n            css: function (name, value) {\n                return access(this, function (elem, name, value) {\n                    var styles, len, map = {}, i = 0;\n                    if (jQuery.isArray(name)) {\n                        styles = getStyles(elem);\n                        len = name.length;\n                        for (; i < len; i++) {\n                            map[name[i]] = jQuery.css(elem, name[i], false, styles);\n                        }\n                        return map;\n                    }\n                    return value !== undefined ? jQuery.style(elem, name, value) : jQuery.css(elem, name);\n                }, name, value, arguments.length > 1);\n            },\n            show: function () {\n                return showHide(this, true);\n            },\n            hide: function () {\n                return showHide(this);\n            },\n            toggle: function (state) {\n                if (typeof state === 'boolean') {\n                    return state ? this.show() : this.hide();\n                }\n                return this.each(function () {\n                    if (isHidden(this)) {\n                        jQuery(this).show();\n                    } else {\n                        jQuery(this).hide();\n                    }\n                });\n            }\n        });\n        function Tween(elem, options, prop, end, easing) {\n            return new Tween.prototype.init(elem, options, prop, end, easing);\n        }\n        jQuery.Tween = Tween;\n        Tween.prototype = {\n            constructor: Tween,\n            init: function (elem, options, prop, end, easing, unit) {\n                this.elem = elem;\n                this.prop = prop;\n                this.easing = easing || 'swing';\n                this.options = options;\n                this.start = this.now = this.cur();\n                this.end = end;\n                this.unit = unit || (jQuery.cssNumber[prop] ? '' : 'px');\n            },\n            cur: function () {\n                var hooks = Tween.propHooks[this.prop];\n                return hooks && hooks.get ? hooks.get(this) : Tween.propHooks._default.get(this);\n            },\n            run: function (percent) {\n                var eased, hooks = Tween.propHooks[this.prop];\n                if (this.options.duration) {\n                    this.pos = eased = jQuery.easing[this.easing](percent, this.options.duration * percent, 0, 1, this.options.duration);\n                } else {\n                    this.pos = eased = percent;\n                }\n                this.now = (this.end - this.start) * eased + this.start;\n                if (this.options.step) {\n                    this.options.step.call(this.elem, this.now, this);\n                }\n                if (hooks && hooks.set) {\n                    hooks.set(this);\n                } else {\n                    Tween.propHooks._default.set(this);\n                }\n                return this;\n            }\n        };\n        Tween.prototype.init.prototype = Tween.prototype;\n        Tween.propHooks = {\n            _default: {\n                get: function (tween) {\n                    var result;\n                    if (tween.elem[tween.prop] != null && (!tween.elem.style || tween.elem.style[tween.prop] == null)) {\n                        return tween.elem[tween.prop];\n                    }\n                    // passing an empty string as a 3rd parameter to .css will automatically\n                    // attempt a parseFloat and fallback to a string if the parse fails\n                    // so, simple values such as \"10px\" are parsed to Float.\n                    // complex values such as \"rotate(1rad)\" are returned as is.\n                    result = jQuery.css(tween.elem, tween.prop, '');\n                    // Empty strings, null, undefined and \"auto\" are converted to 0.\n                    return !result || result === 'auto' ? 0 : result;\n                },\n                set: function (tween) {\n                    // use step hook for back compat - use cssHook if its there - use .style if its\n                    // available and use plain properties where available\n                    if (jQuery.fx.step[tween.prop]) {\n                        jQuery.fx.step[tween.prop](tween);\n                    } else if (tween.elem.style && (tween.elem.style[jQuery.cssProps[tween.prop]] != null || jQuery.cssHooks[tween.prop])) {\n                        jQuery.style(tween.elem, tween.prop, tween.now + tween.unit);\n                    } else {\n                        tween.elem[tween.prop] = tween.now;\n                    }\n                }\n            }\n        };\n        // Support: IE <=9\n        // Panic based approach to setting things on disconnected nodes\n        Tween.propHooks.scrollTop = Tween.propHooks.scrollLeft = {\n            set: function (tween) {\n                if (tween.elem.nodeType && tween.elem.parentNode) {\n                    tween.elem[tween.prop] = tween.now;\n                }\n            }\n        };\n        jQuery.easing = {\n            linear: function (p) {\n                return p;\n            },\n            swing: function (p) {\n                return 0.5 - Math.cos(p * Math.PI) / 2;\n            }\n        };\n        jQuery.fx = Tween.prototype.init;\n        // Back Compat <1.8 extension point\n        jQuery.fx.step = {};\n        var fxNow, timerId, rfxtypes = /^(?:toggle|show|hide)$/, rfxnum = new RegExp('^(?:([+-])=|)(' + pnum + ')([a-z%]*)$', 'i'), rrun = /queueHooks$/, animationPrefilters = [defaultPrefilter], tweeners = {\n                '*': [function (prop, value) {\n                        var tween = this.createTween(prop, value), target = tween.cur(), parts = rfxnum.exec(value), unit = parts && parts[3] || (jQuery.cssNumber[prop] ? '' : 'px'),\n                            // Starting value computation is required for potential unit mismatches\n                            start = (jQuery.cssNumber[prop] || unit !== 'px' && +target) && rfxnum.exec(jQuery.css(tween.elem, prop)), scale = 1, maxIterations = 20;\n                        if (start && start[3] !== unit) {\n                            // Trust units reported by jQuery.css\n                            unit = unit || start[3];\n                            // Make sure we update the tween properties later on\n                            parts = parts || [];\n                            // Iteratively approximate from a nonzero starting point\n                            start = +target || 1;\n                            do {\n                                // If previous iteration zeroed out, double until we get *something*\n                                // Use a string for doubling factor so we don't accidentally see scale as unchanged below\n                                scale = scale || '.5';\n                                // Adjust and apply\n                                start = start / scale;\n                                jQuery.style(tween.elem, prop, start + unit);    // Update scale, tolerating zero or NaN from tween.cur()\n                                                                                 // And breaking the loop if scale is unchanged or perfect, or if we've just had enough\n                            } while (scale !== (scale = tween.cur() / target) && scale !== 1 && --maxIterations);\n                        }\n                        // Update tween properties\n                        if (parts) {\n                            start = tween.start = +start || +target || 0;\n                            tween.unit = unit;\n                            // If a +=/-= token was provided, we're doing a relative animation\n                            tween.end = parts[1] ? start + (parts[1] + 1) * parts[2] : +parts[2];\n                        }\n                        return tween;\n                    }]\n            };\n        // Animations created synchronously will run synchronously\n        function createFxNow() {\n            setTimeout(function () {\n                fxNow = undefined;\n            });\n            return fxNow = jQuery.now();\n        }\n        // Generate parameters to create a standard animation\n        function genFx(type, includeWidth) {\n            var which, attrs = { height: type }, i = 0;\n            // if we include width, step value is 1 to do all cssExpand values,\n            // if we don't include width, step value is 2 to skip over Left and Right\n            includeWidth = includeWidth ? 1 : 0;\n            for (; i < 4; i += 2 - includeWidth) {\n                which = cssExpand[i];\n                attrs['margin' + which] = attrs['padding' + which] = type;\n            }\n            if (includeWidth) {\n                attrs.opacity = attrs.width = type;\n            }\n            return attrs;\n        }\n        function createTween(value, prop, animation) {\n            var tween, collection = (tweeners[prop] || []).concat(tweeners['*']), index = 0, length = collection.length;\n            for (; index < length; index++) {\n                if (tween = collection[index].call(animation, prop, value)) {\n                    // we're done with this property\n                    return tween;\n                }\n            }\n        }\n        function defaultPrefilter(elem, props, opts) {\n            /* jshint validthis: true */\n            var prop, value, toggle, tween, hooks, oldfire, display, checkDisplay, anim = this, orig = {}, style = elem.style, hidden = elem.nodeType && isHidden(elem), dataShow = jQuery._data(elem, 'fxshow');\n            // handle queue: false promises\n            if (!opts.queue) {\n                hooks = jQuery._queueHooks(elem, 'fx');\n                if (hooks.unqueued == null) {\n                    hooks.unqueued = 0;\n                    oldfire = hooks.empty.fire;\n                    hooks.empty.fire = function () {\n                        if (!hooks.unqueued) {\n                            oldfire();\n                        }\n                    };\n                }\n                hooks.unqueued++;\n                anim.always(function () {\n                    // doing this makes sure that the complete handler will be called\n                    // before this completes\n                    anim.always(function () {\n                        hooks.unqueued--;\n                        if (!jQuery.queue(elem, 'fx').length) {\n                            hooks.empty.fire();\n                        }\n                    });\n                });\n            }\n            // height/width overflow pass\n            if (elem.nodeType === 1 && ('height' in props || 'width' in props)) {\n                // Make sure that nothing sneaks out\n                // Record all 3 overflow attributes because IE does not\n                // change the overflow attribute when overflowX and\n                // overflowY are set to the same value\n                opts.overflow = [\n                    style.overflow,\n                    style.overflowX,\n                    style.overflowY\n                ];\n                // Set display property to inline-block for height/width\n                // animations on inline elements that are having width/height animated\n                display = jQuery.css(elem, 'display');\n                // Test default display if display is currently \"none\"\n                checkDisplay = display === 'none' ? jQuery._data(elem, 'olddisplay') || defaultDisplay(elem.nodeName) : display;\n                if (checkDisplay === 'inline' && jQuery.css(elem, 'float') === 'none') {\n                    // inline-level elements accept inline-block;\n                    // block-level elements need to be inline with layout\n                    if (!support.inlineBlockNeedsLayout || defaultDisplay(elem.nodeName) === 'inline') {\n                        style.display = 'inline-block';\n                    } else {\n                        style.zoom = 1;\n                    }\n                }\n            }\n            if (opts.overflow) {\n                style.overflow = 'hidden';\n                if (!support.shrinkWrapBlocks()) {\n                    anim.always(function () {\n                        style.overflow = opts.overflow[0];\n                        style.overflowX = opts.overflow[1];\n                        style.overflowY = opts.overflow[2];\n                    });\n                }\n            }\n            // show/hide pass\n            for (prop in props) {\n                value = props[prop];\n                if (rfxtypes.exec(value)) {\n                    delete props[prop];\n                    toggle = toggle || value === 'toggle';\n                    if (value === (hidden ? 'hide' : 'show')) {\n                        // If there is dataShow left over from a stopped hide or show and we are going to proceed with show, we should pretend to be hidden\n                        if (value === 'show' && dataShow && dataShow[prop] !== undefined) {\n                            hidden = true;\n                        } else {\n                            continue;\n                        }\n                    }\n                    orig[prop] = dataShow && dataShow[prop] || jQuery.style(elem, prop);    // Any non-fx value stops us from restoring the original display value\n                } else {\n                    display = undefined;\n                }\n            }\n            if (!jQuery.isEmptyObject(orig)) {\n                if (dataShow) {\n                    if ('hidden' in dataShow) {\n                        hidden = dataShow.hidden;\n                    }\n                } else {\n                    dataShow = jQuery._data(elem, 'fxshow', {});\n                }\n                // store state if its toggle - enables .stop().toggle() to \"reverse\"\n                if (toggle) {\n                    dataShow.hidden = !hidden;\n                }\n                if (hidden) {\n                    jQuery(elem).show();\n                } else {\n                    anim.done(function () {\n                        jQuery(elem).hide();\n                    });\n                }\n                anim.done(function () {\n                    var prop;\n                    jQuery._removeData(elem, 'fxshow');\n                    for (prop in orig) {\n                        jQuery.style(elem, prop, orig[prop]);\n                    }\n                });\n                for (prop in orig) {\n                    tween = createTween(hidden ? dataShow[prop] : 0, prop, anim);\n                    if (!(prop in dataShow)) {\n                        dataShow[prop] = tween.start;\n                        if (hidden) {\n                            tween.end = tween.start;\n                            tween.start = prop === 'width' || prop === 'height' ? 1 : 0;\n                        }\n                    }\n                }    // If this is a noop like .hide().hide(), restore an overwritten display value\n            } else if ((display === 'none' ? defaultDisplay(elem.nodeName) : display) === 'inline') {\n                style.display = display;\n            }\n        }\n        function propFilter(props, specialEasing) {\n            var index, name, easing, value, hooks;\n            // camelCase, specialEasing and expand cssHook pass\n            for (index in props) {\n                name = jQuery.camelCase(index);\n                easing = specialEasing[name];\n                value = props[index];\n                if (jQuery.isArray(value)) {\n                    easing = value[1];\n                    value = props[index] = value[0];\n                }\n                if (index !== name) {\n                    props[name] = value;\n                    delete props[index];\n                }\n                hooks = jQuery.cssHooks[name];\n                if (hooks && 'expand' in hooks) {\n                    value = hooks.expand(value);\n                    delete props[name];\n                    // not quite $.extend, this wont overwrite keys already present.\n                    // also - reusing 'index' from above because we have the correct \"name\"\n                    for (index in value) {\n                        if (!(index in props)) {\n                            props[index] = value[index];\n                            specialEasing[index] = easing;\n                        }\n                    }\n                } else {\n                    specialEasing[name] = easing;\n                }\n            }\n        }\n        function Animation(elem, properties, options) {\n            var result, stopped, index = 0, length = animationPrefilters.length, deferred = jQuery.Deferred().always(function () {\n                    // don't match elem in the :animated selector\n                    delete tick.elem;\n                }), tick = function () {\n                    if (stopped) {\n                        return false;\n                    }\n                    var currentTime = fxNow || createFxNow(), remaining = Math.max(0, animation.startTime + animation.duration - currentTime),\n                        // archaic crash bug won't allow us to use 1 - ( 0.5 || 0 ) (#12497)\n                        temp = remaining / animation.duration || 0, percent = 1 - temp, index = 0, length = animation.tweens.length;\n                    for (; index < length; index++) {\n                        animation.tweens[index].run(percent);\n                    }\n                    deferred.notifyWith(elem, [\n                        animation,\n                        percent,\n                        remaining\n                    ]);\n                    if (percent < 1 && length) {\n                        return remaining;\n                    } else {\n                        deferred.resolveWith(elem, [animation]);\n                        return false;\n                    }\n                }, animation = deferred.promise({\n                    elem: elem,\n                    props: jQuery.extend({}, properties),\n                    opts: jQuery.extend(true, { specialEasing: {} }, options),\n                    originalProperties: properties,\n                    originalOptions: options,\n                    startTime: fxNow || createFxNow(),\n                    duration: options.duration,\n                    tweens: [],\n                    createTween: function (prop, end) {\n                        var tween = jQuery.Tween(elem, animation.opts, prop, end, animation.opts.specialEasing[prop] || animation.opts.easing);\n                        animation.tweens.push(tween);\n                        return tween;\n                    },\n                    stop: function (gotoEnd) {\n                        var index = 0,\n                            // if we are going to the end, we want to run all the tweens\n                            // otherwise we skip this part\n                            length = gotoEnd ? animation.tweens.length : 0;\n                        if (stopped) {\n                            return this;\n                        }\n                        stopped = true;\n                        for (; index < length; index++) {\n                            animation.tweens[index].run(1);\n                        }\n                        // resolve when we played the last frame\n                        // otherwise, reject\n                        if (gotoEnd) {\n                            deferred.resolveWith(elem, [\n                                animation,\n                                gotoEnd\n                            ]);\n                        } else {\n                            deferred.rejectWith(elem, [\n                                animation,\n                                gotoEnd\n                            ]);\n                        }\n                        return this;\n                    }\n                }), props = animation.props;\n            propFilter(props, animation.opts.specialEasing);\n            for (; index < length; index++) {\n                result = animationPrefilters[index].call(animation, elem, props, animation.opts);\n                if (result) {\n                    return result;\n                }\n            }\n            jQuery.map(props, createTween, animation);\n            if (jQuery.isFunction(animation.opts.start)) {\n                animation.opts.start.call(elem, animation);\n            }\n            jQuery.fx.timer(jQuery.extend(tick, {\n                elem: elem,\n                anim: animation,\n                queue: animation.opts.queue\n            }));\n            // attach callbacks from options\n            return animation.progress(animation.opts.progress).done(animation.opts.done, animation.opts.complete).fail(animation.opts.fail).always(animation.opts.always);\n        }\n        jQuery.Animation = jQuery.extend(Animation, {\n            tweener: function (props, callback) {\n                if (jQuery.isFunction(props)) {\n                    callback = props;\n                    props = ['*'];\n                } else {\n                    props = props.split(' ');\n                }\n                var prop, index = 0, length = props.length;\n                for (; index < length; index++) {\n                    prop = props[index];\n                    tweeners[prop] = tweeners[prop] || [];\n                    tweeners[prop].unshift(callback);\n                }\n            },\n            prefilter: function (callback, prepend) {\n                if (prepend) {\n                    animationPrefilters.unshift(callback);\n                } else {\n                    animationPrefilters.push(callback);\n                }\n            }\n        });\n        jQuery.speed = function (speed, easing, fn) {\n            var opt = speed && typeof speed === 'object' ? jQuery.extend({}, speed) : {\n                complete: fn || !fn && easing || jQuery.isFunction(speed) && speed,\n                duration: speed,\n                easing: fn && easing || easing && !jQuery.isFunction(easing) && easing\n            };\n            opt.duration = jQuery.fx.off ? 0 : typeof opt.duration === 'number' ? opt.duration : opt.duration in jQuery.fx.speeds ? jQuery.fx.speeds[opt.duration] : jQuery.fx.speeds._default;\n            // normalize opt.queue - true/undefined/null -> \"fx\"\n            if (opt.queue == null || opt.queue === true) {\n                opt.queue = 'fx';\n            }\n            // Queueing\n            opt.old = opt.complete;\n            opt.complete = function () {\n                if (jQuery.isFunction(opt.old)) {\n                    opt.old.call(this);\n                }\n                if (opt.queue) {\n                    jQuery.dequeue(this, opt.queue);\n                }\n            };\n            return opt;\n        };\n        jQuery.fn.extend({\n            fadeTo: function (speed, to, easing, callback) {\n                // show any hidden elements after setting opacity to 0\n                return this.filter(isHidden).css('opacity', 0).show()    // animate to the value specified\n.end().animate({ opacity: to }, speed, easing, callback);\n            },\n            animate: function (prop, speed, easing, callback) {\n                var empty = jQuery.isEmptyObject(prop), optall = jQuery.speed(speed, easing, callback), doAnimation = function () {\n                        // Operate on a copy of prop so per-property easing won't be lost\n                        var anim = Animation(this, jQuery.extend({}, prop), optall);\n                        // Empty animations, or finishing resolves immediately\n                        if (empty || jQuery._data(this, 'finish')) {\n                            anim.stop(true);\n                        }\n                    };\n                doAnimation.finish = doAnimation;\n                return empty || optall.queue === false ? this.each(doAnimation) : this.queue(optall.queue, doAnimation);\n            },\n            stop: function (type, clearQueue, gotoEnd) {\n                var stopQueue = function (hooks) {\n                    var stop = hooks.stop;\n                    delete hooks.stop;\n                    stop(gotoEnd);\n                };\n                if (typeof type !== 'string') {\n                    gotoEnd = clearQueue;\n                    clearQueue = type;\n                    type = undefined;\n                }\n                if (clearQueue && type !== false) {\n                    this.queue(type || 'fx', []);\n                }\n                return this.each(function () {\n                    var dequeue = true, index = type != null && type + 'queueHooks', timers = jQuery.timers, data = jQuery._data(this);\n                    if (index) {\n                        if (data[index] && data[index].stop) {\n                            stopQueue(data[index]);\n                        }\n                    } else {\n                        for (index in data) {\n                            if (data[index] && data[index].stop && rrun.test(index)) {\n                                stopQueue(data[index]);\n                            }\n                        }\n                    }\n                    for (index = timers.length; index--;) {\n                        if (timers[index].elem === this && (type == null || timers[index].queue === type)) {\n                            timers[index].anim.stop(gotoEnd);\n                            dequeue = false;\n                            timers.splice(index, 1);\n                        }\n                    }\n                    // start the next in the queue if the last step wasn't forced\n                    // timers currently will call their complete callbacks, which will dequeue\n                    // but only if they were gotoEnd\n                    if (dequeue || !gotoEnd) {\n                        jQuery.dequeue(this, type);\n                    }\n                });\n            },\n            finish: function (type) {\n                if (type !== false) {\n                    type = type || 'fx';\n                }\n                return this.each(function () {\n                    var index, data = jQuery._data(this), queue = data[type + 'queue'], hooks = data[type + 'queueHooks'], timers = jQuery.timers, length = queue ? queue.length : 0;\n                    // enable finishing flag on private data\n                    data.finish = true;\n                    // empty the queue first\n                    jQuery.queue(this, type, []);\n                    if (hooks && hooks.stop) {\n                        hooks.stop.call(this, true);\n                    }\n                    // look for any active animations, and finish them\n                    for (index = timers.length; index--;) {\n                        if (timers[index].elem === this && timers[index].queue === type) {\n                            timers[index].anim.stop(true);\n                            timers.splice(index, 1);\n                        }\n                    }\n                    // look for any animations in the old queue and finish them\n                    for (index = 0; index < length; index++) {\n                        if (queue[index] && queue[index].finish) {\n                            queue[index].finish.call(this);\n                        }\n                    }\n                    // turn off finishing flag\n                    delete data.finish;\n                });\n            }\n        });\n        jQuery.each([\n            'toggle',\n            'show',\n            'hide'\n        ], function (i, name) {\n            var cssFn = jQuery.fn[name];\n            jQuery.fn[name] = function (speed, easing, callback) {\n                return speed == null || typeof speed === 'boolean' ? cssFn.apply(this, arguments) : this.animate(genFx(name, true), speed, easing, callback);\n            };\n        });\n        // Generate shortcuts for custom animations\n        jQuery.each({\n            slideDown: genFx('show'),\n            slideUp: genFx('hide'),\n            slideToggle: genFx('toggle'),\n            fadeIn: { opacity: 'show' },\n            fadeOut: { opacity: 'hide' },\n            fadeToggle: { opacity: 'toggle' }\n        }, function (name, props) {\n            jQuery.fn[name] = function (speed, easing, callback) {\n                return this.animate(props, speed, easing, callback);\n            };\n        });\n        jQuery.timers = [];\n        jQuery.fx.tick = function () {\n            var timer, timers = jQuery.timers, i = 0;\n            fxNow = jQuery.now();\n            for (; i < timers.length; i++) {\n                timer = timers[i];\n                // Checks the timer has not already been removed\n                if (!timer() && timers[i] === timer) {\n                    timers.splice(i--, 1);\n                }\n            }\n            if (!timers.length) {\n                jQuery.fx.stop();\n            }\n            fxNow = undefined;\n        };\n        jQuery.fx.timer = function (timer) {\n            jQuery.timers.push(timer);\n            if (timer()) {\n                jQuery.fx.start();\n            } else {\n                jQuery.timers.pop();\n            }\n        };\n        jQuery.fx.interval = 13;\n        jQuery.fx.start = function () {\n            if (!timerId) {\n                timerId = setInterval(jQuery.fx.tick, jQuery.fx.interval);\n            }\n        };\n        jQuery.fx.stop = function () {\n            clearInterval(timerId);\n            timerId = null;\n        };\n        jQuery.fx.speeds = {\n            slow: 600,\n            fast: 200,\n            // Default speed\n            _default: 400\n        };\n        // Based off of the plugin by Clint Helfers, with permission.\n        // http://blindsignals.com/index.php/2009/07/jquery-delay/\n        jQuery.fn.delay = function (time, type) {\n            time = jQuery.fx ? jQuery.fx.speeds[time] || time : time;\n            type = type || 'fx';\n            return this.queue(type, function (next, hooks) {\n                var timeout = setTimeout(next, time);\n                hooks.stop = function () {\n                    clearTimeout(timeout);\n                };\n            });\n        };\n        (function () {\n            // Minified: var a,b,c,d,e\n            var input, div, select, a, opt;\n            // Setup\n            div = document.createElement('div');\n            div.setAttribute('className', 't');\n            div.innerHTML = '  <link/><table></table><a href=\\'/a\\'>a</a><input type=\\'checkbox\\'/>';\n            a = div.getElementsByTagName('a')[0];\n            // First batch of tests.\n            select = document.createElement('select');\n            opt = select.appendChild(document.createElement('option'));\n            input = div.getElementsByTagName('input')[0];\n            a.style.cssText = 'top:1px';\n            // Test setAttribute on camelCase class. If it works, we need attrFixes when doing get/setAttribute (ie6/7)\n            support.getSetAttribute = div.className !== 't';\n            // Get the style information from getAttribute\n            // (IE uses .cssText instead)\n            support.style = /top/.test(a.getAttribute('style'));\n            // Make sure that URLs aren't manipulated\n            // (IE normalizes it by default)\n            support.hrefNormalized = a.getAttribute('href') === '/a';\n            // Check the default checkbox/radio value (\"\" on WebKit; \"on\" elsewhere)\n            support.checkOn = !!input.value;\n            // Make sure that a selected-by-default option has a working selected property.\n            // (WebKit defaults to false instead of true, IE too, if it's in an optgroup)\n            support.optSelected = opt.selected;\n            // Tests for enctype support on a form (#6743)\n            support.enctype = !!document.createElement('form').enctype;\n            // Make sure that the options inside disabled selects aren't marked as disabled\n            // (WebKit marks them as disabled)\n            select.disabled = true;\n            support.optDisabled = !opt.disabled;\n            // Support: IE8 only\n            // Check if we can trust getAttribute(\"value\")\n            input = document.createElement('input');\n            input.setAttribute('value', '');\n            support.input = input.getAttribute('value') === '';\n            // Check if an input maintains its value after becoming a radio\n            input.value = 't';\n            input.setAttribute('type', 'radio');\n            support.radioValue = input.value === 't';\n        }());\n        var rreturn = /\\r/g;\n        jQuery.fn.extend({\n            val: function (value) {\n                var hooks, ret, isFunction, elem = this[0];\n                if (!arguments.length) {\n                    if (elem) {\n                        hooks = jQuery.valHooks[elem.type] || jQuery.valHooks[elem.nodeName.toLowerCase()];\n                        if (hooks && 'get' in hooks && (ret = hooks.get(elem, 'value')) !== undefined) {\n                            return ret;\n                        }\n                        ret = elem.value;\n                        return typeof ret === 'string' ? // handle most common string cases\n                        ret.replace(rreturn, '') : // handle cases where value is null/undef or number\n                        ret == null ? '' : ret;\n                    }\n                    return;\n                }\n                isFunction = jQuery.isFunction(value);\n                return this.each(function (i) {\n                    var val;\n                    if (this.nodeType !== 1) {\n                        return;\n                    }\n                    if (isFunction) {\n                        val = value.call(this, i, jQuery(this).val());\n                    } else {\n                        val = value;\n                    }\n                    // Treat null/undefined as \"\"; convert numbers to string\n                    if (val == null) {\n                        val = '';\n                    } else if (typeof val === 'number') {\n                        val += '';\n                    } else if (jQuery.isArray(val)) {\n                        val = jQuery.map(val, function (value) {\n                            return value == null ? '' : value + '';\n                        });\n                    }\n                    hooks = jQuery.valHooks[this.type] || jQuery.valHooks[this.nodeName.toLowerCase()];\n                    // If set returns undefined, fall back to normal setting\n                    if (!hooks || !('set' in hooks) || hooks.set(this, val, 'value') === undefined) {\n                        this.value = val;\n                    }\n                });\n            }\n        });\n        jQuery.extend({\n            valHooks: {\n                option: {\n                    get: function (elem) {\n                        var val = jQuery.find.attr(elem, 'value');\n                        return val != null ? val : // Support: IE10-11+\n                        // option.text throws exceptions (#14686, #14858)\n                        jQuery.trim(jQuery.text(elem));\n                    }\n                },\n                select: {\n                    get: function (elem) {\n                        var value, option, options = elem.options, index = elem.selectedIndex, one = elem.type === 'select-one' || index < 0, values = one ? null : [], max = one ? index + 1 : options.length, i = index < 0 ? max : one ? index : 0;\n                        // Loop through all the selected options\n                        for (; i < max; i++) {\n                            option = options[i];\n                            // oldIE doesn't update selected after form reset (#2551)\n                            if ((option.selected || i === index) && // Don't return options that are disabled or in a disabled optgroup\n                                (support.optDisabled ? !option.disabled : option.getAttribute('disabled') === null) && (!option.parentNode.disabled || !jQuery.nodeName(option.parentNode, 'optgroup'))) {\n                                // Get the specific value for the option\n                                value = jQuery(option).val();\n                                // We don't need an array for one selects\n                                if (one) {\n                                    return value;\n                                }\n                                // Multi-Selects return an array\n                                values.push(value);\n                            }\n                        }\n                        return values;\n                    },\n                    set: function (elem, value) {\n                        var optionSet, option, options = elem.options, values = jQuery.makeArray(value), i = options.length;\n                        while (i--) {\n                            option = options[i];\n                            if (jQuery.inArray(jQuery.valHooks.option.get(option), values) >= 0) {\n                                // Support: IE6\n                                // When new option element is added to select box we need to\n                                // force reflow of newly added node in order to workaround delay\n                                // of initialization properties\n                                try {\n                                    option.selected = optionSet = true;\n                                } catch (_) {\n                                    // Will be executed only in IE6\n                                    option.scrollHeight;\n                                }\n                            } else {\n                                option.selected = false;\n                            }\n                        }\n                        // Force browsers to behave consistently when non-matching value is set\n                        if (!optionSet) {\n                            elem.selectedIndex = -1;\n                        }\n                        return options;\n                    }\n                }\n            }\n        });\n        // Radios and checkboxes getter/setter\n        jQuery.each([\n            'radio',\n            'checkbox'\n        ], function () {\n            jQuery.valHooks[this] = {\n                set: function (elem, value) {\n                    if (jQuery.isArray(value)) {\n                        return elem.checked = jQuery.inArray(jQuery(elem).val(), value) >= 0;\n                    }\n                }\n            };\n            if (!support.checkOn) {\n                jQuery.valHooks[this].get = function (elem) {\n                    // Support: Webkit\n                    // \"\" is returned instead of \"on\" if a value isn't specified\n                    return elem.getAttribute('value') === null ? 'on' : elem.value;\n                };\n            }\n        });\n        var nodeHook, boolHook, attrHandle = jQuery.expr.attrHandle, ruseDefault = /^(?:checked|selected)$/i, getSetAttribute = support.getSetAttribute, getSetInput = support.input;\n        jQuery.fn.extend({\n            attr: function (name, value) {\n                return access(this, jQuery.attr, name, value, arguments.length > 1);\n            },\n            removeAttr: function (name) {\n                return this.each(function () {\n                    jQuery.removeAttr(this, name);\n                });\n            }\n        });\n        jQuery.extend({\n            attr: function (elem, name, value) {\n                var hooks, ret, nType = elem.nodeType;\n                // don't get/set attributes on text, comment and attribute nodes\n                if (!elem || nType === 3 || nType === 8 || nType === 2) {\n                    return;\n                }\n                // Fallback to prop when attributes are not supported\n                if (typeof elem.getAttribute === strundefined) {\n                    return jQuery.prop(elem, name, value);\n                }\n                // All attributes are lowercase\n                // Grab necessary hook if one is defined\n                if (nType !== 1 || !jQuery.isXMLDoc(elem)) {\n                    name = name.toLowerCase();\n                    hooks = jQuery.attrHooks[name] || (jQuery.expr.match.bool.test(name) ? boolHook : nodeHook);\n                }\n                if (value !== undefined) {\n                    if (value === null) {\n                        jQuery.removeAttr(elem, name);\n                    } else if (hooks && 'set' in hooks && (ret = hooks.set(elem, value, name)) !== undefined) {\n                        return ret;\n                    } else {\n                        elem.setAttribute(name, value + '');\n                        return value;\n                    }\n                } else if (hooks && 'get' in hooks && (ret = hooks.get(elem, name)) !== null) {\n                    return ret;\n                } else {\n                    ret = jQuery.find.attr(elem, name);\n                    // Non-existent attributes return null, we normalize to undefined\n                    return ret == null ? undefined : ret;\n                }\n            },\n            removeAttr: function (elem, value) {\n                var name, propName, i = 0, attrNames = value && value.match(rnotwhite);\n                if (attrNames && elem.nodeType === 1) {\n                    while (name = attrNames[i++]) {\n                        propName = jQuery.propFix[name] || name;\n                        // Boolean attributes get special treatment (#10870)\n                        if (jQuery.expr.match.bool.test(name)) {\n                            // Set corresponding property to false\n                            if (getSetInput && getSetAttribute || !ruseDefault.test(name)) {\n                                elem[propName] = false;    // Support: IE<9\n                                                           // Also clear defaultChecked/defaultSelected (if appropriate)\n                            } else {\n                                elem[jQuery.camelCase('default-' + name)] = elem[propName] = false;\n                            }    // See #9699 for explanation of this approach (setting first, then removal)\n                        } else {\n                            jQuery.attr(elem, name, '');\n                        }\n                        elem.removeAttribute(getSetAttribute ? name : propName);\n                    }\n                }\n            },\n            attrHooks: {\n                type: {\n                    set: function (elem, value) {\n                        if (!support.radioValue && value === 'radio' && jQuery.nodeName(elem, 'input')) {\n                            // Setting the type on a radio button after the value resets the value in IE6-9\n                            // Reset value to default in case type is set after value during creation\n                            var val = elem.value;\n                            elem.setAttribute('type', value);\n                            if (val) {\n                                elem.value = val;\n                            }\n                            return value;\n                        }\n                    }\n                }\n            }\n        });\n        // Hook for boolean attributes\n        boolHook = {\n            set: function (elem, value, name) {\n                if (value === false) {\n                    // Remove boolean attributes when set to false\n                    jQuery.removeAttr(elem, name);\n                } else if (getSetInput && getSetAttribute || !ruseDefault.test(name)) {\n                    // IE<8 needs the *property* name\n                    elem.setAttribute(!getSetAttribute && jQuery.propFix[name] || name, name);    // Use defaultChecked and defaultSelected for oldIE\n                } else {\n                    elem[jQuery.camelCase('default-' + name)] = elem[name] = true;\n                }\n                return name;\n            }\n        };\n        // Retrieve booleans specially\n        jQuery.each(jQuery.expr.match.bool.source.match(/\\w+/g), function (i, name) {\n            var getter = attrHandle[name] || jQuery.find.attr;\n            attrHandle[name] = getSetInput && getSetAttribute || !ruseDefault.test(name) ? function (elem, name, isXML) {\n                var ret, handle;\n                if (!isXML) {\n                    // Avoid an infinite loop by temporarily removing this function from the getter\n                    handle = attrHandle[name];\n                    attrHandle[name] = ret;\n                    ret = getter(elem, name, isXML) != null ? name.toLowerCase() : null;\n                    attrHandle[name] = handle;\n                }\n                return ret;\n            } : function (elem, name, isXML) {\n                if (!isXML) {\n                    return elem[jQuery.camelCase('default-' + name)] ? name.toLowerCase() : null;\n                }\n            };\n        });\n        // fix oldIE attroperties\n        if (!getSetInput || !getSetAttribute) {\n            jQuery.attrHooks.value = {\n                set: function (elem, value, name) {\n                    if (jQuery.nodeName(elem, 'input')) {\n                        // Does not return so that setAttribute is also used\n                        elem.defaultValue = value;\n                    } else {\n                        // Use nodeHook if defined (#1954); otherwise setAttribute is fine\n                        return nodeHook && nodeHook.set(elem, value, name);\n                    }\n                }\n            };\n        }\n        // IE6/7 do not support getting/setting some attributes with get/setAttribute\n        if (!getSetAttribute) {\n            // Use this for any attribute in IE6/7\n            // This fixes almost every IE6/7 issue\n            nodeHook = {\n                set: function (elem, value, name) {\n                    // Set the existing or create a new attribute node\n                    var ret = elem.getAttributeNode(name);\n                    if (!ret) {\n                        elem.setAttributeNode(ret = elem.ownerDocument.createAttribute(name));\n                    }\n                    ret.value = value += '';\n                    // Break association with cloned elements by also using setAttribute (#9646)\n                    if (name === 'value' || value === elem.getAttribute(name)) {\n                        return value;\n                    }\n                }\n            };\n            // Some attributes are constructed with empty-string values when not defined\n            attrHandle.id = attrHandle.name = attrHandle.coords = function (elem, name, isXML) {\n                var ret;\n                if (!isXML) {\n                    return (ret = elem.getAttributeNode(name)) && ret.value !== '' ? ret.value : null;\n                }\n            };\n            // Fixing value retrieval on a button requires this module\n            jQuery.valHooks.button = {\n                get: function (elem, name) {\n                    var ret = elem.getAttributeNode(name);\n                    if (ret && ret.specified) {\n                        return ret.value;\n                    }\n                },\n                set: nodeHook.set\n            };\n            // Set contenteditable to false on removals(#10429)\n            // Setting to empty string throws an error as an invalid value\n            jQuery.attrHooks.contenteditable = {\n                set: function (elem, value, name) {\n                    nodeHook.set(elem, value === '' ? false : value, name);\n                }\n            };\n            // Set width and height to auto instead of 0 on empty string( Bug #8150 )\n            // This is for removals\n            jQuery.each([\n                'width',\n                'height'\n            ], function (i, name) {\n                jQuery.attrHooks[name] = {\n                    set: function (elem, value) {\n                        if (value === '') {\n                            elem.setAttribute(name, 'auto');\n                            return value;\n                        }\n                    }\n                };\n            });\n        }\n        if (!support.style) {\n            jQuery.attrHooks.style = {\n                get: function (elem) {\n                    // Return undefined in the case of empty string\n                    // Note: IE uppercases css property names, but if we were to .toLowerCase()\n                    // .cssText, that would destroy case senstitivity in URL's, like in \"background\"\n                    return elem.style.cssText || undefined;\n                },\n                set: function (elem, value) {\n                    return elem.style.cssText = value + '';\n                }\n            };\n        }\n        var rfocusable = /^(?:input|select|textarea|button|object)$/i, rclickable = /^(?:a|area)$/i;\n        jQuery.fn.extend({\n            prop: function (name, value) {\n                return access(this, jQuery.prop, name, value, arguments.length > 1);\n            },\n            removeProp: function (name) {\n                name = jQuery.propFix[name] || name;\n                return this.each(function () {\n                    // try/catch handles cases where IE balks (such as removing a property on window)\n                    try {\n                        this[name] = undefined;\n                        delete this[name];\n                    } catch (e) {\n                    }\n                });\n            }\n        });\n        jQuery.extend({\n            propFix: {\n                'for': 'htmlFor',\n                'class': 'className'\n            },\n            prop: function (elem, name, value) {\n                var ret, hooks, notxml, nType = elem.nodeType;\n                // don't get/set properties on text, comment and attribute nodes\n                if (!elem || nType === 3 || nType === 8 || nType === 2) {\n                    return;\n                }\n                notxml = nType !== 1 || !jQuery.isXMLDoc(elem);\n                if (notxml) {\n                    // Fix name and attach hooks\n                    name = jQuery.propFix[name] || name;\n                    hooks = jQuery.propHooks[name];\n                }\n                if (value !== undefined) {\n                    return hooks && 'set' in hooks && (ret = hooks.set(elem, value, name)) !== undefined ? ret : elem[name] = value;\n                } else {\n                    return hooks && 'get' in hooks && (ret = hooks.get(elem, name)) !== null ? ret : elem[name];\n                }\n            },\n            propHooks: {\n                tabIndex: {\n                    get: function (elem) {\n                        // elem.tabIndex doesn't always return the correct value when it hasn't been explicitly set\n                        // http://fluidproject.org/blog/2008/01/09/getting-setting-and-removing-tabindex-values-with-javascript/\n                        // Use proper attribute retrieval(#12072)\n                        var tabindex = jQuery.find.attr(elem, 'tabindex');\n                        return tabindex ? parseInt(tabindex, 10) : rfocusable.test(elem.nodeName) || rclickable.test(elem.nodeName) && elem.href ? 0 : -1;\n                    }\n                }\n            }\n        });\n        // Some attributes require a special call on IE\n        // http://msdn.microsoft.com/en-us/library/ms536429%28VS.85%29.aspx\n        if (!support.hrefNormalized) {\n            // href/src property should get the full normalized URL (#10299/#12915)\n            jQuery.each([\n                'href',\n                'src'\n            ], function (i, name) {\n                jQuery.propHooks[name] = {\n                    get: function (elem) {\n                        return elem.getAttribute(name, 4);\n                    }\n                };\n            });\n        }\n        // Support: Safari, IE9+\n        // mis-reports the default selected property of an option\n        // Accessing the parent's selectedIndex property fixes it\n        if (!support.optSelected) {\n            jQuery.propHooks.selected = {\n                get: function (elem) {\n                    var parent = elem.parentNode;\n                    if (parent) {\n                        parent.selectedIndex;\n                        // Make sure that it also works with optgroups, see #5701\n                        if (parent.parentNode) {\n                            parent.parentNode.selectedIndex;\n                        }\n                    }\n                    return null;\n                }\n            };\n        }\n        jQuery.each([\n            'tabIndex',\n            'readOnly',\n            'maxLength',\n            'cellSpacing',\n            'cellPadding',\n            'rowSpan',\n            'colSpan',\n            'useMap',\n            'frameBorder',\n            'contentEditable'\n        ], function () {\n            jQuery.propFix[this.toLowerCase()] = this;\n        });\n        // IE6/7 call enctype encoding\n        if (!support.enctype) {\n            jQuery.propFix.enctype = 'encoding';\n        }\n        var rclass = /[\\t\\r\\n\\f]/g;\n        jQuery.fn.extend({\n            addClass: function (value) {\n                var classes, elem, cur, clazz, j, finalValue, i = 0, len = this.length, proceed = typeof value === 'string' && value;\n                if (jQuery.isFunction(value)) {\n                    return this.each(function (j) {\n                        jQuery(this).addClass(value.call(this, j, this.className));\n                    });\n                }\n                if (proceed) {\n                    // The disjunction here is for better compressibility (see removeClass)\n                    classes = (value || '').match(rnotwhite) || [];\n                    for (; i < len; i++) {\n                        elem = this[i];\n                        cur = elem.nodeType === 1 && (elem.className ? (' ' + elem.className + ' ').replace(rclass, ' ') : ' ');\n                        if (cur) {\n                            j = 0;\n                            while (clazz = classes[j++]) {\n                                if (cur.indexOf(' ' + clazz + ' ') < 0) {\n                                    cur += clazz + ' ';\n                                }\n                            }\n                            // only assign if different to avoid unneeded rendering.\n                            finalValue = jQuery.trim(cur);\n                            if (elem.className !== finalValue) {\n                                elem.className = finalValue;\n                            }\n                        }\n                    }\n                }\n                return this;\n            },\n            removeClass: function (value) {\n                var classes, elem, cur, clazz, j, finalValue, i = 0, len = this.length, proceed = arguments.length === 0 || typeof value === 'string' && value;\n                if (jQuery.isFunction(value)) {\n                    return this.each(function (j) {\n                        jQuery(this).removeClass(value.call(this, j, this.className));\n                    });\n                }\n                if (proceed) {\n                    classes = (value || '').match(rnotwhite) || [];\n                    for (; i < len; i++) {\n                        elem = this[i];\n                        // This expression is here for better compressibility (see addClass)\n                        cur = elem.nodeType === 1 && (elem.className ? (' ' + elem.className + ' ').replace(rclass, ' ') : '');\n                        if (cur) {\n                            j = 0;\n                            while (clazz = classes[j++]) {\n                                // Remove *all* instances\n                                while (cur.indexOf(' ' + clazz + ' ') >= 0) {\n                                    cur = cur.replace(' ' + clazz + ' ', ' ');\n                                }\n                            }\n                            // only assign if different to avoid unneeded rendering.\n                            finalValue = value ? jQuery.trim(cur) : '';\n                            if (elem.className !== finalValue) {\n                                elem.className = finalValue;\n                            }\n                        }\n                    }\n                }\n                return this;\n            },\n            toggleClass: function (value, stateVal) {\n                var type = typeof value;\n                if (typeof stateVal === 'boolean' && type === 'string') {\n                    return stateVal ? this.addClass(value) : this.removeClass(value);\n                }\n                if (jQuery.isFunction(value)) {\n                    return this.each(function (i) {\n                        jQuery(this).toggleClass(value.call(this, i, this.className, stateVal), stateVal);\n                    });\n                }\n                return this.each(function () {\n                    if (type === 'string') {\n                        // toggle individual class names\n                        var className, i = 0, self = jQuery(this), classNames = value.match(rnotwhite) || [];\n                        while (className = classNames[i++]) {\n                            // check each className given, space separated list\n                            if (self.hasClass(className)) {\n                                self.removeClass(className);\n                            } else {\n                                self.addClass(className);\n                            }\n                        }    // Toggle whole class name\n                    } else if (type === strundefined || type === 'boolean') {\n                        if (this.className) {\n                            // store className if set\n                            jQuery._data(this, '__className__', this.className);\n                        }\n                        // If the element has a class name or if we're passed \"false\",\n                        // then remove the whole classname (if there was one, the above saved it).\n                        // Otherwise bring back whatever was previously saved (if anything),\n                        // falling back to the empty string if nothing was stored.\n                        this.className = this.className || value === false ? '' : jQuery._data(this, '__className__') || '';\n                    }\n                });\n            },\n            hasClass: function (selector) {\n                var className = ' ' + selector + ' ', i = 0, l = this.length;\n                for (; i < l; i++) {\n                    if (this[i].nodeType === 1 && (' ' + this[i].className + ' ').replace(rclass, ' ').indexOf(className) >= 0) {\n                        return true;\n                    }\n                }\n                return false;\n            }\n        });\n        // Return jQuery for attributes-only inclusion\n        jQuery.each(('blur focus focusin focusout load resize scroll unload click dblclick ' + 'mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave ' + 'change select submit keydown keypress keyup error contextmenu').split(' '), function (i, name) {\n            // Handle event binding\n            jQuery.fn[name] = function (data, fn) {\n                return arguments.length > 0 ? this.on(name, null, data, fn) : this.trigger(name);\n            };\n        });\n        jQuery.fn.extend({\n            hover: function (fnOver, fnOut) {\n                return this.mouseenter(fnOver).mouseleave(fnOut || fnOver);\n            },\n            bind: function (types, data, fn) {\n                return this.on(types, null, data, fn);\n            },\n            unbind: function (types, fn) {\n                return this.off(types, null, fn);\n            },\n            delegate: function (selector, types, data, fn) {\n                return this.on(types, selector, data, fn);\n            },\n            undelegate: function (selector, types, fn) {\n                // ( namespace ) or ( selector, types [, fn] )\n                return arguments.length === 1 ? this.off(selector, '**') : this.off(types, selector || '**', fn);\n            }\n        });\n        var nonce = jQuery.now();\n        var rquery = /\\?/;\n        var rvalidtokens = /(,)|(\\[|{)|(}|])|\"(?:[^\"\\\\\\r\\n]|\\\\[\"\\\\\\/bfnrt]|\\\\u[\\da-fA-F]{4})*\"\\s*:?|true|false|null|-?(?!0\\d)\\d+(?:\\.\\d+|)(?:[eE][+-]?\\d+|)/g;\n        jQuery.parseJSON = function (data) {\n            // Attempt to parse using the native JSON parser first\n            if (window.JSON && window.JSON.parse) {\n                // Support: Android 2.3\n                // Workaround failure to string-cast null input\n                return window.JSON.parse(data + '');\n            }\n            var requireNonComma, depth = null, str = jQuery.trim(data + '');\n            // Guard against invalid (and possibly dangerous) input by ensuring that nothing remains\n            // after removing valid tokens\n            return str && !jQuery.trim(str.replace(rvalidtokens, function (token, comma, open, close) {\n                // Force termination if we see a misplaced comma\n                if (requireNonComma && comma) {\n                    depth = 0;\n                }\n                // Perform no more replacements after returning to outermost depth\n                if (depth === 0) {\n                    return token;\n                }\n                // Commas must not follow \"[\", \"{\", or \",\"\n                requireNonComma = open || comma;\n                // Determine new depth\n                // array/object open (\"[\" or \"{\"): depth += true - false (increment)\n                // array/object close (\"]\" or \"}\"): depth += false - true (decrement)\n                // other cases (\",\" or primitive): depth += true - true (numeric cast)\n                depth += !close - !open;\n                // Remove this token\n                return '';\n            })) ? Function('return ' + str)() : jQuery.error('Invalid JSON: ' + data);\n        };\n        // Cross-browser xml parsing\n        jQuery.parseXML = function (data) {\n            var xml, tmp;\n            if (!data || typeof data !== 'string') {\n                return null;\n            }\n            try {\n                if (window.DOMParser) {\n                    // Standard\n                    tmp = new DOMParser();\n                    xml = tmp.parseFromString(data, 'text/xml');\n                } else {\n                    // IE\n                    xml = new ActiveXObject('Microsoft.XMLDOM');\n                    xml.async = 'false';\n                    xml.loadXML(data);\n                }\n            } catch (e) {\n                xml = undefined;\n            }\n            if (!xml || !xml.documentElement || xml.getElementsByTagName('parsererror').length) {\n                jQuery.error('Invalid XML: ' + data);\n            }\n            return xml;\n        };\n        var\n            // Document location\n            ajaxLocParts, ajaxLocation, rhash = /#.*$/, rts = /([?&])_=[^&]*/, rheaders = /^(.*?):[ \\t]*([^\\r\\n]*)\\r?$/gm,\n            // IE leaves an \\r character at EOL\n            // #7653, #8125, #8152: local protocol detection\n            rlocalProtocol = /^(?:about|app|app-storage|.+-extension|file|res|widget):$/, rnoContent = /^(?:GET|HEAD)$/, rprotocol = /^\\/\\//, rurl = /^([\\w.+-]+:)(?:\\/\\/(?:[^\\/?#]*@|)([^\\/?#:]*)(?::(\\d+)|)|)/,\n            /* Prefilters\n\t * 1) They are useful to introduce custom dataTypes (see ajax/jsonp.js for an example)\n\t * 2) These are called:\n\t *    - BEFORE asking for a transport\n\t *    - AFTER param serialization (s.data is a string if s.processData is true)\n\t * 3) key is the dataType\n\t * 4) the catchall symbol \"*\" can be used\n\t * 5) execution will start with transport dataType and THEN continue down to \"*\" if needed\n\t */\n            prefilters = {},\n            /* Transports bindings\n\t * 1) key is the dataType\n\t * 2) the catchall symbol \"*\" can be used\n\t * 3) selection will start with transport dataType and THEN go to \"*\" if needed\n\t */\n            transports = {},\n            // Avoid comment-prolog char sequence (#10098); must appease lint and evade compression\n            allTypes = '*/'.concat('*');\n        // #8138, IE may throw an exception when accessing\n        // a field from window.location if document.domain has been set\n        try {\n            ajaxLocation = location.href;\n        } catch (e) {\n            // Use the href attribute of an A element\n            // since IE will modify it given document.location\n            ajaxLocation = document.createElement('a');\n            ajaxLocation.href = '';\n            ajaxLocation = ajaxLocation.href;\n        }\n        // Segment location into parts\n        ajaxLocParts = rurl.exec(ajaxLocation.toLowerCase()) || [];\n        // Base \"constructor\" for jQuery.ajaxPrefilter and jQuery.ajaxTransport\n        function addToPrefiltersOrTransports(structure) {\n            // dataTypeExpression is optional and defaults to \"*\"\n            return function (dataTypeExpression, func) {\n                if (typeof dataTypeExpression !== 'string') {\n                    func = dataTypeExpression;\n                    dataTypeExpression = '*';\n                }\n                var dataType, i = 0, dataTypes = dataTypeExpression.toLowerCase().match(rnotwhite) || [];\n                if (jQuery.isFunction(func)) {\n                    // For each dataType in the dataTypeExpression\n                    while (dataType = dataTypes[i++]) {\n                        // Prepend if requested\n                        if (dataType.charAt(0) === '+') {\n                            dataType = dataType.slice(1) || '*';\n                            (structure[dataType] = structure[dataType] || []).unshift(func);    // Otherwise append\n                        } else {\n                            (structure[dataType] = structure[dataType] || []).push(func);\n                        }\n                    }\n                }\n            };\n        }\n        // Base inspection function for prefilters and transports\n        function inspectPrefiltersOrTransports(structure, options, originalOptions, jqXHR) {\n            var inspected = {}, seekingTransport = structure === transports;\n            function inspect(dataType) {\n                var selected;\n                inspected[dataType] = true;\n                jQuery.each(structure[dataType] || [], function (_, prefilterOrFactory) {\n                    var dataTypeOrTransport = prefilterOrFactory(options, originalOptions, jqXHR);\n                    if (typeof dataTypeOrTransport === 'string' && !seekingTransport && !inspected[dataTypeOrTransport]) {\n                        options.dataTypes.unshift(dataTypeOrTransport);\n                        inspect(dataTypeOrTransport);\n                        return false;\n                    } else if (seekingTransport) {\n                        return !(selected = dataTypeOrTransport);\n                    }\n                });\n                return selected;\n            }\n            return inspect(options.dataTypes[0]) || !inspected['*'] && inspect('*');\n        }\n        // A special extend for ajax options\n        // that takes \"flat\" options (not to be deep extended)\n        // Fixes #9887\n        function ajaxExtend(target, src) {\n            var deep, key, flatOptions = jQuery.ajaxSettings.flatOptions || {};\n            for (key in src) {\n                if (src[key] !== undefined) {\n                    (flatOptions[key] ? target : deep || (deep = {}))[key] = src[key];\n                }\n            }\n            if (deep) {\n                jQuery.extend(true, target, deep);\n            }\n            return target;\n        }\n        /* Handles responses to an ajax request:\n * - finds the right dataType (mediates between content-type and expected dataType)\n * - returns the corresponding response\n */\n        function ajaxHandleResponses(s, jqXHR, responses) {\n            var firstDataType, ct, finalDataType, type, contents = s.contents, dataTypes = s.dataTypes;\n            // Remove auto dataType and get content-type in the process\n            while (dataTypes[0] === '*') {\n                dataTypes.shift();\n                if (ct === undefined) {\n                    ct = s.mimeType || jqXHR.getResponseHeader('Content-Type');\n                }\n            }\n            // Check if we're dealing with a known content-type\n            if (ct) {\n                for (type in contents) {\n                    if (contents[type] && contents[type].test(ct)) {\n                        dataTypes.unshift(type);\n                        break;\n                    }\n                }\n            }\n            // Check to see if we have a response for the expected dataType\n            if (dataTypes[0] in responses) {\n                finalDataType = dataTypes[0];\n            } else {\n                // Try convertible dataTypes\n                for (type in responses) {\n                    if (!dataTypes[0] || s.converters[type + ' ' + dataTypes[0]]) {\n                        finalDataType = type;\n                        break;\n                    }\n                    if (!firstDataType) {\n                        firstDataType = type;\n                    }\n                }\n                // Or just use first one\n                finalDataType = finalDataType || firstDataType;\n            }\n            // If we found a dataType\n            // We add the dataType to the list if needed\n            // and return the corresponding response\n            if (finalDataType) {\n                if (finalDataType !== dataTypes[0]) {\n                    dataTypes.unshift(finalDataType);\n                }\n                return responses[finalDataType];\n            }\n        }\n        /* Chain conversions given the request and the original response\n * Also sets the responseXXX fields on the jqXHR instance\n */\n        function ajaxConvert(s, response, jqXHR, isSuccess) {\n            var conv2, current, conv, tmp, prev, converters = {},\n                // Work with a copy of dataTypes in case we need to modify it for conversion\n                dataTypes = s.dataTypes.slice();\n            // Create converters map with lowercased keys\n            if (dataTypes[1]) {\n                for (conv in s.converters) {\n                    converters[conv.toLowerCase()] = s.converters[conv];\n                }\n            }\n            current = dataTypes.shift();\n            // Convert to each sequential dataType\n            while (current) {\n                if (s.responseFields[current]) {\n                    jqXHR[s.responseFields[current]] = response;\n                }\n                // Apply the dataFilter if provided\n                if (!prev && isSuccess && s.dataFilter) {\n                    response = s.dataFilter(response, s.dataType);\n                }\n                prev = current;\n                current = dataTypes.shift();\n                if (current) {\n                    // There's only work to do if current dataType is non-auto\n                    if (current === '*') {\n                        current = prev;    // Convert response if prev dataType is non-auto and differs from current\n                    } else if (prev !== '*' && prev !== current) {\n                        // Seek a direct converter\n                        conv = converters[prev + ' ' + current] || converters['* ' + current];\n                        // If none found, seek a pair\n                        if (!conv) {\n                            for (conv2 in converters) {\n                                // If conv2 outputs current\n                                tmp = conv2.split(' ');\n                                if (tmp[1] === current) {\n                                    // If prev can be converted to accepted input\n                                    conv = converters[prev + ' ' + tmp[0]] || converters['* ' + tmp[0]];\n                                    if (conv) {\n                                        // Condense equivalence converters\n                                        if (conv === true) {\n                                            conv = converters[conv2];    // Otherwise, insert the intermediate dataType\n                                        } else if (converters[conv2] !== true) {\n                                            current = tmp[0];\n                                            dataTypes.unshift(tmp[1]);\n                                        }\n                                        break;\n                                    }\n                                }\n                            }\n                        }\n                        // Apply converter (if not an equivalence)\n                        if (conv !== true) {\n                            // Unless errors are allowed to bubble, catch and return them\n                            if (conv && s['throws']) {\n                                response = conv(response);\n                            } else {\n                                try {\n                                    response = conv(response);\n                                } catch (e) {\n                                    return {\n                                        state: 'parsererror',\n                                        error: conv ? e : 'No conversion from ' + prev + ' to ' + current\n                                    };\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n            return {\n                state: 'success',\n                data: response\n            };\n        }\n        jQuery.extend({\n            // Counter for holding the number of active queries\n            active: 0,\n            // Last-Modified header cache for next request\n            lastModified: {},\n            etag: {},\n            ajaxSettings: {\n                url: ajaxLocation,\n                type: 'GET',\n                isLocal: rlocalProtocol.test(ajaxLocParts[1]),\n                global: true,\n                processData: true,\n                async: true,\n                contentType: 'application/x-www-form-urlencoded; charset=UTF-8',\n                /*\n\t\ttimeout: 0,\n\t\tdata: null,\n\t\tdataType: null,\n\t\tusername: null,\n\t\tpassword: null,\n\t\tcache: null,\n\t\tthrows: false,\n\t\ttraditional: false,\n\t\theaders: {},\n\t\t*/\n                accepts: {\n                    '*': allTypes,\n                    text: 'text/plain',\n                    html: 'text/html',\n                    xml: 'application/xml, text/xml',\n                    json: 'application/json, text/javascript'\n                },\n                contents: {\n                    xml: /xml/,\n                    html: /html/,\n                    json: /json/\n                },\n                responseFields: {\n                    xml: 'responseXML',\n                    text: 'responseText',\n                    json: 'responseJSON'\n                },\n                // Data converters\n                // Keys separate source (or catchall \"*\") and destination types with a single space\n                converters: {\n                    // Convert anything to text\n                    '* text': String,\n                    // Text to html (true = no transformation)\n                    'text html': true,\n                    // Evaluate text as a json expression\n                    'text json': jQuery.parseJSON,\n                    // Parse text as xml\n                    'text xml': jQuery.parseXML\n                },\n                // For options that shouldn't be deep extended:\n                // you can add your own custom options here if\n                // and when you create one that shouldn't be\n                // deep extended (see ajaxExtend)\n                flatOptions: {\n                    url: true,\n                    context: true\n                }\n            },\n            // Creates a full fledged settings object into target\n            // with both ajaxSettings and settings fields.\n            // If target is omitted, writes into ajaxSettings.\n            ajaxSetup: function (target, settings) {\n                return settings ? // Building a settings object\n                ajaxExtend(ajaxExtend(target, jQuery.ajaxSettings), settings) : // Extending ajaxSettings\n                ajaxExtend(jQuery.ajaxSettings, target);\n            },\n            ajaxPrefilter: addToPrefiltersOrTransports(prefilters),\n            ajaxTransport: addToPrefiltersOrTransports(transports),\n            // Main method\n            ajax: function (url, options) {\n                // If url is an object, simulate pre-1.5 signature\n                if (typeof url === 'object') {\n                    options = url;\n                    url = undefined;\n                }\n                // Force options to be an object\n                options = options || {};\n                var\n                    // Cross-domain detection vars\n                    parts,\n                    // Loop variable\n                    i,\n                    // URL without anti-cache param\n                    cacheURL,\n                    // Response headers as string\n                    responseHeadersString,\n                    // timeout handle\n                    timeoutTimer,\n                    // To know if global events are to be dispatched\n                    fireGlobals, transport,\n                    // Response headers\n                    responseHeaders,\n                    // Create the final options object\n                    s = jQuery.ajaxSetup({}, options),\n                    // Callbacks context\n                    callbackContext = s.context || s,\n                    // Context for global events is callbackContext if it is a DOM node or jQuery collection\n                    globalEventContext = s.context && (callbackContext.nodeType || callbackContext.jquery) ? jQuery(callbackContext) : jQuery.event,\n                    // Deferreds\n                    deferred = jQuery.Deferred(), completeDeferred = jQuery.Callbacks('once memory'),\n                    // Status-dependent callbacks\n                    statusCode = s.statusCode || {},\n                    // Headers (they are sent all at once)\n                    requestHeaders = {}, requestHeadersNames = {},\n                    // The jqXHR state\n                    state = 0,\n                    // Default abort message\n                    strAbort = 'canceled',\n                    // Fake xhr\n                    jqXHR = {\n                        readyState: 0,\n                        // Builds headers hashtable if needed\n                        getResponseHeader: function (key) {\n                            var match;\n                            if (state === 2) {\n                                if (!responseHeaders) {\n                                    responseHeaders = {};\n                                    while (match = rheaders.exec(responseHeadersString)) {\n                                        responseHeaders[match[1].toLowerCase()] = match[2];\n                                    }\n                                }\n                                match = responseHeaders[key.toLowerCase()];\n                            }\n                            return match == null ? null : match;\n                        },\n                        // Raw string\n                        getAllResponseHeaders: function () {\n                            return state === 2 ? responseHeadersString : null;\n                        },\n                        // Caches the header\n                        setRequestHeader: function (name, value) {\n                            var lname = name.toLowerCase();\n                            if (!state) {\n                                name = requestHeadersNames[lname] = requestHeadersNames[lname] || name;\n                                requestHeaders[name] = value;\n                            }\n                            return this;\n                        },\n                        // Overrides response content-type header\n                        overrideMimeType: function (type) {\n                            if (!state) {\n                                s.mimeType = type;\n                            }\n                            return this;\n                        },\n                        // Status-dependent callbacks\n                        statusCode: function (map) {\n                            var code;\n                            if (map) {\n                                if (state < 2) {\n                                    for (code in map) {\n                                        // Lazy-add the new callback in a way that preserves old ones\n                                        statusCode[code] = [\n                                            statusCode[code],\n                                            map[code]\n                                        ];\n                                    }\n                                } else {\n                                    // Execute the appropriate callbacks\n                                    jqXHR.always(map[jqXHR.status]);\n                                }\n                            }\n                            return this;\n                        },\n                        // Cancel the request\n                        abort: function (statusText) {\n                            var finalText = statusText || strAbort;\n                            if (transport) {\n                                transport.abort(finalText);\n                            }\n                            done(0, finalText);\n                            return this;\n                        }\n                    };\n                // Attach deferreds\n                deferred.promise(jqXHR).complete = completeDeferred.add;\n                jqXHR.success = jqXHR.done;\n                jqXHR.error = jqXHR.fail;\n                // Remove hash character (#7531: and string promotion)\n                // Add protocol if not provided (#5866: IE7 issue with protocol-less urls)\n                // Handle falsy url in the settings object (#10093: consistency with old signature)\n                // We also use the url parameter if available\n                s.url = ((url || s.url || ajaxLocation) + '').replace(rhash, '').replace(rprotocol, ajaxLocParts[1] + '//');\n                // Alias method option to type as per ticket #12004\n                s.type = options.method || options.type || s.method || s.type;\n                // Extract dataTypes list\n                s.dataTypes = jQuery.trim(s.dataType || '*').toLowerCase().match(rnotwhite) || [''];\n                // A cross-domain request is in order when we have a protocol:host:port mismatch\n                if (s.crossDomain == null) {\n                    parts = rurl.exec(s.url.toLowerCase());\n                    s.crossDomain = !!(parts && (parts[1] !== ajaxLocParts[1] || parts[2] !== ajaxLocParts[2] || (parts[3] || (parts[1] === 'http:' ? '80' : '443')) !== (ajaxLocParts[3] || (ajaxLocParts[1] === 'http:' ? '80' : '443'))));\n                }\n                // Convert data if not already a string\n                if (s.data && s.processData && typeof s.data !== 'string') {\n                    s.data = jQuery.param(s.data, s.traditional);\n                }\n                // Apply prefilters\n                inspectPrefiltersOrTransports(prefilters, s, options, jqXHR);\n                // If request was aborted inside a prefilter, stop there\n                if (state === 2) {\n                    return jqXHR;\n                }\n                // We can fire global events as of now if asked to\n                fireGlobals = s.global;\n                // Watch for a new set of requests\n                if (fireGlobals && jQuery.active++ === 0) {\n                    jQuery.event.trigger('ajaxStart');\n                }\n                // Uppercase the type\n                s.type = s.type.toUpperCase();\n                // Determine if request has content\n                s.hasContent = !rnoContent.test(s.type);\n                // Save the URL in case we're toying with the If-Modified-Since\n                // and/or If-None-Match header later on\n                cacheURL = s.url;\n                // More options handling for requests with no content\n                if (!s.hasContent) {\n                    // If data is available, append data to url\n                    if (s.data) {\n                        cacheURL = s.url += (rquery.test(cacheURL) ? '&' : '?') + s.data;\n                        // #9682: remove data so that it's not used in an eventual retry\n                        delete s.data;\n                    }\n                    // Add anti-cache in url if needed\n                    if (s.cache === false) {\n                        s.url = rts.test(cacheURL) ? // If there is already a '_' parameter, set its value\n                        cacheURL.replace(rts, '$1_=' + nonce++) : // Otherwise add one to the end\n                        cacheURL + (rquery.test(cacheURL) ? '&' : '?') + '_=' + nonce++;\n                    }\n                }\n                // Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.\n                if (s.ifModified) {\n                    if (jQuery.lastModified[cacheURL]) {\n                        jqXHR.setRequestHeader('If-Modified-Since', jQuery.lastModified[cacheURL]);\n                    }\n                    if (jQuery.etag[cacheURL]) {\n                        jqXHR.setRequestHeader('If-None-Match', jQuery.etag[cacheURL]);\n                    }\n                }\n                // Set the correct header, if data is being sent\n                if (s.data && s.hasContent && s.contentType !== false || options.contentType) {\n                    jqXHR.setRequestHeader('Content-Type', s.contentType);\n                }\n                // Set the Accepts header for the server, depending on the dataType\n                jqXHR.setRequestHeader('Accept', s.dataTypes[0] && s.accepts[s.dataTypes[0]] ? s.accepts[s.dataTypes[0]] + (s.dataTypes[0] !== '*' ? ', ' + allTypes + '; q=0.01' : '') : s.accepts['*']);\n                // Check for headers option\n                for (i in s.headers) {\n                    jqXHR.setRequestHeader(i, s.headers[i]);\n                }\n                // Allow custom headers/mimetypes and early abort\n                if (s.beforeSend && (s.beforeSend.call(callbackContext, jqXHR, s) === false || state === 2)) {\n                    // Abort if not done already and return\n                    return jqXHR.abort();\n                }\n                // aborting is no longer a cancellation\n                strAbort = 'abort';\n                // Install callbacks on deferreds\n                for (i in {\n                        success: 1,\n                        error: 1,\n                        complete: 1\n                    }) {\n                    jqXHR[i](s[i]);\n                }\n                // Get transport\n                transport = inspectPrefiltersOrTransports(transports, s, options, jqXHR);\n                // If no transport, we auto-abort\n                if (!transport) {\n                    done(-1, 'No Transport');\n                } else {\n                    jqXHR.readyState = 1;\n                    // Send global event\n                    if (fireGlobals) {\n                        globalEventContext.trigger('ajaxSend', [\n                            jqXHR,\n                            s\n                        ]);\n                    }\n                    // Timeout\n                    if (s.async && s.timeout > 0) {\n                        timeoutTimer = setTimeout(function () {\n                            jqXHR.abort('timeout');\n                        }, s.timeout);\n                    }\n                    try {\n                        state = 1;\n                        transport.send(requestHeaders, done);\n                    } catch (e) {\n                        // Propagate exception as error if not done\n                        if (state < 2) {\n                            done(-1, e);    // Simply rethrow otherwise\n                        } else {\n                            throw e;\n                        }\n                    }\n                }\n                // Callback for when everything is done\n                function done(status, nativeStatusText, responses, headers) {\n                    var isSuccess, success, error, response, modified, statusText = nativeStatusText;\n                    // Called once\n                    if (state === 2) {\n                        return;\n                    }\n                    // State is \"done\" now\n                    state = 2;\n                    // Clear timeout if it exists\n                    if (timeoutTimer) {\n                        clearTimeout(timeoutTimer);\n                    }\n                    // Dereference transport for early garbage collection\n                    // (no matter how long the jqXHR object will be used)\n                    transport = undefined;\n                    // Cache response headers\n                    responseHeadersString = headers || '';\n                    // Set readyState\n                    jqXHR.readyState = status > 0 ? 4 : 0;\n                    // Determine if successful\n                    status = jqXHR.getResponseHeader('Custom-Header-Status') || status;\n                    isSuccess = status >= 200 && status < 300 || status === 304;\n                    // Get response data\n                    if (responses) {\n                        response = ajaxHandleResponses(s, jqXHR, responses);\n                    }\n                    // Convert no matter what (that way responseXXX fields are always set)\n                    response = ajaxConvert(s, response, jqXHR, isSuccess);\n                    // If successful, handle type chaining\n                    if (isSuccess) {\n                        // Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.\n                        if (s.ifModified) {\n                            modified = jqXHR.getResponseHeader('Last-Modified');\n                            if (modified) {\n                                jQuery.lastModified[cacheURL] = modified;\n                            }\n                            modified = jqXHR.getResponseHeader('etag');\n                            if (modified) {\n                                jQuery.etag[cacheURL] = modified;\n                            }\n                        }\n                        // if no content\n                        if (status === 204 || s.type === 'HEAD') {\n                            statusText = 'nocontent';    // if not modified\n                        } else if (status === 304) {\n                            statusText = 'notmodified';    // If we have data, let's convert it\n                        } else {\n                            statusText = response.state;\n                            success = response.data;\n                            error = response.error;\n                            isSuccess = !error;\n                        }\n                    } else {\n                        // We extract error from statusText\n                        // then normalize statusText and status for non-aborts\n                        error = statusText;\n                        if (status || !statusText) {\n                            statusText = 'error';\n                            if (status < 0) {\n                                status = 0;\n                            }\n                        }\n                    }\n                    // Set data for the fake xhr object\n                    jqXHR.status = status;\n                    jqXHR.statusText = (nativeStatusText || statusText) + '';\n                    // Success/Error\n                    if (isSuccess) {\n                        deferred.resolveWith(callbackContext, [\n                            success,\n                            statusText,\n                            jqXHR\n                        ]);\n                    } else {\n                        deferred.rejectWith(callbackContext, [\n                            jqXHR,\n                            statusText,\n                            error\n                        ]);\n                    }\n                    // Status-dependent callbacks\n                    jqXHR.statusCode(statusCode);\n                    statusCode = undefined;\n                    if (fireGlobals) {\n                        globalEventContext.trigger(isSuccess ? 'ajaxSuccess' : 'ajaxError', [\n                            jqXHR,\n                            s,\n                            isSuccess ? success : error\n                        ]);\n                    }\n                    // Complete\n                    completeDeferred.fireWith(callbackContext, [\n                        jqXHR,\n                        statusText\n                    ]);\n                    if (fireGlobals) {\n                        globalEventContext.trigger('ajaxComplete', [\n                            jqXHR,\n                            s\n                        ]);\n                        // Handle the global AJAX counter\n                        if (!--jQuery.active) {\n                            jQuery.event.trigger('ajaxStop');\n                        }\n                    }\n                }\n                return jqXHR;\n            },\n            getJSON: function (url, data, callback) {\n                return jQuery.get(url, data, callback, 'json');\n            },\n            getScript: function (url, callback) {\n                return jQuery.get(url, undefined, callback, 'script');\n            }\n        });\n        jQuery.each([\n            'get',\n            'post'\n        ], function (i, method) {\n            jQuery[method] = function (url, data, callback, type) {\n                // shift arguments if data argument was omitted\n                if (jQuery.isFunction(data)) {\n                    type = type || callback;\n                    callback = data;\n                    data = undefined;\n                }\n                return jQuery.ajax({\n                    url: url,\n                    type: method,\n                    dataType: type,\n                    data: data,\n                    success: callback\n                });\n            };\n        });\n        // Attach a bunch of functions for handling common AJAX events\n        jQuery.each([\n            'ajaxStart',\n            'ajaxStop',\n            'ajaxComplete',\n            'ajaxError',\n            'ajaxSuccess',\n            'ajaxSend'\n        ], function (i, type) {\n            jQuery.fn[type] = function (fn) {\n                return this.on(type, fn);\n            };\n        });\n        jQuery._evalUrl = function (url) {\n            return jQuery.ajax({\n                url: url,\n                type: 'GET',\n                dataType: 'script',\n                async: false,\n                global: false,\n                'throws': true\n            });\n        };\n        jQuery.fn.extend({\n            wrapAll: function (html) {\n                if (jQuery.isFunction(html)) {\n                    return this.each(function (i) {\n                        jQuery(this).wrapAll(html.call(this, i));\n                    });\n                }\n                if (this[0]) {\n                    // The elements to wrap the target around\n                    var wrap = jQuery(html, this[0].ownerDocument).eq(0).clone(true);\n                    if (this[0].parentNode) {\n                        wrap.insertBefore(this[0]);\n                    }\n                    wrap.map(function () {\n                        var elem = this;\n                        while (elem.firstChild && elem.firstChild.nodeType === 1) {\n                            elem = elem.firstChild;\n                        }\n                        return elem;\n                    }).append(this);\n                }\n                return this;\n            },\n            wrapInner: function (html) {\n                if (jQuery.isFunction(html)) {\n                    return this.each(function (i) {\n                        jQuery(this).wrapInner(html.call(this, i));\n                    });\n                }\n                return this.each(function () {\n                    var self = jQuery(this), contents = self.contents();\n                    if (contents.length) {\n                        contents.wrapAll(html);\n                    } else {\n                        self.append(html);\n                    }\n                });\n            },\n            wrap: function (html) {\n                var isFunction = jQuery.isFunction(html);\n                return this.each(function (i) {\n                    jQuery(this).wrapAll(isFunction ? html.call(this, i) : html);\n                });\n            },\n            unwrap: function () {\n                return this.parent().each(function () {\n                    if (!jQuery.nodeName(this, 'body')) {\n                        jQuery(this).replaceWith(this.childNodes);\n                    }\n                }).end();\n            }\n        });\n        jQuery.expr.filters.hidden = function (elem) {\n            // Support: Opera <= 12.12\n            // Opera reports offsetWidths and offsetHeights less than zero on some elements\n            return elem.offsetWidth <= 0 && elem.offsetHeight <= 0 || !support.reliableHiddenOffsets() && (elem.style && elem.style.display || jQuery.css(elem, 'display')) === 'none';\n        };\n        jQuery.expr.filters.visible = function (elem) {\n            return !jQuery.expr.filters.hidden(elem);\n        };\n        var r20 = /%20/g, rbracket = /\\[\\]$/, rCRLF = /\\r?\\n/g, rsubmitterTypes = /^(?:submit|button|image|reset|file)$/i, rsubmittable = /^(?:input|select|textarea|keygen)/i;\n        function buildParams(prefix, obj, traditional, add) {\n            var name;\n            if (jQuery.isArray(obj)) {\n                // Serialize array item.\n                jQuery.each(obj, function (i, v) {\n                    if (traditional || rbracket.test(prefix)) {\n                        // Treat each array item as a scalar.\n                        add(prefix, v);\n                    } else {\n                        // Item is non-scalar (array or object), encode its numeric index.\n                        buildParams(prefix + '[' + (typeof v === 'object' ? i : '') + ']', v, traditional, add);\n                    }\n                });\n            } else if (!traditional && jQuery.type(obj) === 'object') {\n                // Serialize object item.\n                for (name in obj) {\n                    buildParams(prefix + '[' + name + ']', obj[name], traditional, add);\n                }\n            } else {\n                // Serialize scalar item.\n                add(prefix, obj);\n            }\n        }\n        // Serialize an array of form elements or a set of\n        // key/values into a query string\n        jQuery.param = function (a, traditional) {\n            var prefix, s = [], add = function (key, value) {\n                    // If value is a function, invoke it and return its value\n                    value = jQuery.isFunction(value) ? value() : value == null ? '' : value;\n                    s[s.length] = encodeURIComponent(key) + '=' + encodeURIComponent(value);\n                };\n            // Set traditional to true for jQuery <= 1.3.2 behavior.\n            if (traditional === undefined) {\n                traditional = jQuery.ajaxSettings && jQuery.ajaxSettings.traditional;\n            }\n            // If an array was passed in, assume that it is an array of form elements.\n            if (jQuery.isArray(a) || a.jquery && !jQuery.isPlainObject(a)) {\n                // Serialize the form elements\n                jQuery.each(a, function () {\n                    add(this.name, this.value);\n                });\n            } else {\n                // If traditional, encode the \"old\" way (the way 1.3.2 or older\n                // did it), otherwise encode params recursively.\n                for (prefix in a) {\n                    buildParams(prefix, a[prefix], traditional, add);\n                }\n            }\n            // Return the resulting serialization\n            return s.join('&').replace(r20, '+');\n        };\n        jQuery.fn.extend({\n            serialize: function () {\n                return jQuery.param(this.serializeArray());\n            },\n            serializeArray: function () {\n                return this.map(function () {\n                    // Can add propHook for \"elements\" to filter or add form elements\n                    var elements = jQuery.prop(this, 'elements');\n                    return elements ? jQuery.makeArray(elements) : this;\n                }).filter(function () {\n                    var type = this.type;\n                    // Use .is(\":disabled\") so that fieldset[disabled] works\n                    return this.name && !jQuery(this).is(':disabled') && rsubmittable.test(this.nodeName) && !rsubmitterTypes.test(type) && (this.checked || !rcheckableType.test(type));\n                }).map(function (i, elem) {\n                    var val = jQuery(this).val();\n                    return val == null ? null : jQuery.isArray(val) ? jQuery.map(val, function (val) {\n                        return {\n                            name: elem.name,\n                            value: val.replace(rCRLF, '\\r\\n')\n                        };\n                    }) : {\n                        name: elem.name,\n                        value: val.replace(rCRLF, '\\r\\n')\n                    };\n                }).get();\n            }\n        });\n        // Create the request object\n        // (This is still attached to ajaxSettings for backward compatibility)\n        jQuery.ajaxSettings.xhr = window.ActiveXObject !== undefined ? // Support: IE6+\n        function () {\n            // XHR cannot access local files, always use ActiveX for that case\n            return !this.isLocal && // Support: IE7-8\n            // oldIE XHR does not support non-RFC2616 methods (#13240)\n            // See http://msdn.microsoft.com/en-us/library/ie/ms536648(v=vs.85).aspx\n            // and http://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html#sec9\n            // Although this check for six methods instead of eight\n            // since IE also does not support \"trace\" and \"connect\"\n            /^(get|post|head|put|delete|options)$/i.test(this.type) && createStandardXHR() || createActiveXHR();\n        } : // For all other browsers, use the standard XMLHttpRequest object\n        createStandardXHR;\n        var xhrId = 0, xhrCallbacks = {}, xhrSupported = jQuery.ajaxSettings.xhr();\n        // Support: IE<10\n        // Open requests must be manually aborted on unload (#5280)\n        if (window.ActiveXObject) {\n            jQuery(window).on('unload', function () {\n                for (var key in xhrCallbacks) {\n                    xhrCallbacks[key](undefined, true);\n                }\n            });\n        }\n        // Determine support properties\n        support.cors = !!xhrSupported && 'withCredentials' in xhrSupported;\n        xhrSupported = support.ajax = !!xhrSupported;\n        // Create transport if the browser can provide an xhr\n        if (xhrSupported) {\n            jQuery.ajaxTransport(function (options) {\n                // Cross domain only allowed if supported through XMLHttpRequest\n                if (!options.crossDomain || support.cors) {\n                    var callback;\n                    return {\n                        send: function (headers, complete) {\n                            var i, xhr = options.xhr(), id = ++xhrId;\n                            // Open the socket\n                            xhr.open(options.type, options.url, options.async, options.username, options.password);\n                            // Apply custom fields if provided\n                            if (options.xhrFields) {\n                                for (i in options.xhrFields) {\n                                    xhr[i] = options.xhrFields[i];\n                                }\n                            }\n                            // Override mime type if needed\n                            if (options.mimeType && xhr.overrideMimeType) {\n                                xhr.overrideMimeType(options.mimeType);\n                            }\n                            // X-Requested-With header\n                            // For cross-domain requests, seeing as conditions for a preflight are\n                            // akin to a jigsaw puzzle, we simply never set it to be sure.\n                            // (it can always be set on a per-request basis or even using ajaxSetup)\n                            // For same-domain requests, won't change header if already provided.\n                            if (!options.crossDomain && !headers['X-Requested-With']) {\n                                headers['X-Requested-With'] = 'XMLHttpRequest';\n                            }\n                            // Set headers\n                            for (i in headers) {\n                                // Support: IE<9\n                                // IE's ActiveXObject throws a 'Type Mismatch' exception when setting\n                                // request header to a null-value.\n                                //\n                                // To keep consistent with other XHR implementations, cast the value\n                                // to string and ignore `undefined`.\n                                if (headers[i] !== undefined) {\n                                    xhr.setRequestHeader(i, headers[i] + '');\n                                }\n                            }\n                            // Do send the request\n                            // This may raise an exception which is actually\n                            // handled in jQuery.ajax (so no try/catch here)\n                            xhr.send(options.hasContent && options.data || null);\n                            // Listener\n                            callback = function (_, isAbort) {\n                                var status, statusText, responses;\n                                // Was never called and is aborted or complete\n                                if (callback && (isAbort || xhr.readyState === 4)) {\n                                    // Clean up\n                                    delete xhrCallbacks[id];\n                                    callback = undefined;\n                                    xhr.onreadystatechange = jQuery.noop;\n                                    // Abort manually if needed\n                                    if (isAbort) {\n                                        if (xhr.readyState !== 4) {\n                                            xhr.abort();\n                                        }\n                                    } else {\n                                        responses = {};\n                                        status = xhr.status;\n                                        // Support: IE<10\n                                        // Accessing binary-data responseText throws an exception\n                                        // (#11426)\n                                        if (typeof xhr.responseText === 'string') {\n                                            responses.text = xhr.responseText;\n                                        }\n                                        // Firefox throws an exception when accessing\n                                        // statusText for faulty cross-domain requests\n                                        try {\n                                            statusText = xhr.statusText;\n                                        } catch (e) {\n                                            // We normalize with Webkit giving an empty statusText\n                                            statusText = '';\n                                        }\n                                        // Filter status for non standard behaviors\n                                        // If the request is local and we have data: assume a success\n                                        // (success with no data won't get notified, that's the best we\n                                        // can do given current implementations)\n                                        if (!status && options.isLocal && !options.crossDomain) {\n                                            status = responses.text ? 200 : 404;    // IE - #1450: sometimes returns 1223 when it should be 204\n                                        } else if (status === 1223) {\n                                            status = 204;\n                                        }\n                                    }\n                                }\n                                // Call complete if needed\n                                if (responses) {\n                                    complete(status, statusText, responses, xhr.getAllResponseHeaders());\n                                }\n                            };\n                            if (!options.async) {\n                                // if we're in sync mode we fire the callback\n                                callback();\n                            } else if (xhr.readyState === 4) {\n                                // (IE6 & IE7) if it's in cache and has been\n                                // retrieved directly we need to fire the callback\n                                setTimeout(callback);\n                            } else {\n                                // Add to the list of active xhr callbacks\n                                xhr.onreadystatechange = xhrCallbacks[id] = callback;\n                            }\n                        },\n                        abort: function () {\n                            if (callback) {\n                                callback(undefined, true);\n                            }\n                        }\n                    };\n                }\n            });\n        }\n        // Functions to create xhrs\n        function createStandardXHR() {\n            try {\n                return new window.XMLHttpRequest();\n            } catch (e) {\n            }\n        }\n        function createActiveXHR() {\n            try {\n                return new window.ActiveXObject('Microsoft.XMLHTTP');\n            } catch (e) {\n            }\n        }\n        // Install script dataType\n        jQuery.ajaxSetup({\n            accepts: { script: 'text/javascript, application/javascript, application/ecmascript, application/x-ecmascript' },\n            contents: { script: /(?:java|ecma)script/ },\n            converters: {\n                'text script': function (text) {\n                    jQuery.globalEval(text);\n                    return text;\n                }\n            }\n        });\n        // Handle cache's special case and global\n        jQuery.ajaxPrefilter('script', function (s) {\n            if (s.cache === undefined) {\n                s.cache = false;\n            }\n            if (s.crossDomain) {\n                s.type = 'GET';\n                s.global = false;\n            }\n        });\n        // Bind script tag hack transport\n        jQuery.ajaxTransport('script', function (s) {\n            // This transport only deals with cross domain requests\n            if (s.crossDomain) {\n                var script, head = document.head || jQuery('head')[0] || document.documentElement;\n                return {\n                    send: function (_, callback) {\n                        script = document.createElement('script');\n                        script.async = true;\n                        if (s.scriptCharset) {\n                            script.charset = s.scriptCharset;\n                        }\n                        script.src = s.url;\n                        // Attach handlers for all browsers\n                        script.onload = script.onreadystatechange = function (_, isAbort) {\n                            if (isAbort || !script.readyState || /loaded|complete/.test(script.readyState)) {\n                                // Handle memory leak in IE\n                                script.onload = script.onreadystatechange = null;\n                                // Remove the script\n                                if (script.parentNode) {\n                                    script.parentNode.removeChild(script);\n                                }\n                                // Dereference the script\n                                script = null;\n                                // Callback if not abort\n                                if (!isAbort) {\n                                    callback(200, 'success');\n                                }\n                            }\n                        };\n                        // Circumvent IE6 bugs with base elements (#2709 and #4378) by prepending\n                        // Use native DOM manipulation to avoid our domManip AJAX trickery\n                        head.insertBefore(script, head.firstChild);\n                    },\n                    abort: function () {\n                        if (script) {\n                            script.onload(undefined, true);\n                        }\n                    }\n                };\n            }\n        });\n        var oldCallbacks = [], rjsonp = /(=)\\?(?=&|$)|\\?\\?/;\n        // Default jsonp settings\n        jQuery.ajaxSetup({\n            jsonp: 'callback',\n            jsonpCallback: function () {\n                var callback = oldCallbacks.pop() || jQuery.expando + '_' + nonce++;\n                this[callback] = true;\n                return callback;\n            }\n        });\n        // Detect, normalize options and install callbacks for jsonp requests\n        jQuery.ajaxPrefilter('json jsonp', function (s, originalSettings, jqXHR) {\n            var callbackName, overwritten, responseContainer, jsonProp = s.jsonp !== false && (rjsonp.test(s.url) ? 'url' : typeof s.data === 'string' && !(s.contentType || '').indexOf('application/x-www-form-urlencoded') && rjsonp.test(s.data) && 'data');\n            // Handle iff the expected data type is \"jsonp\" or we have a parameter to set\n            if (jsonProp || s.dataTypes[0] === 'jsonp') {\n                // Get callback name, remembering preexisting value associated with it\n                callbackName = s.jsonpCallback = jQuery.isFunction(s.jsonpCallback) ? s.jsonpCallback() : s.jsonpCallback;\n                // Insert callback into url or form data\n                if (jsonProp) {\n                    s[jsonProp] = s[jsonProp].replace(rjsonp, '$1' + callbackName);\n                } else if (s.jsonp !== false) {\n                    s.url += (rquery.test(s.url) ? '&' : '?') + s.jsonp + '=' + callbackName;\n                }\n                // Use data converter to retrieve json after script execution\n                s.converters['script json'] = function () {\n                    if (!responseContainer) {\n                        jQuery.error(callbackName + ' was not called');\n                    }\n                    return responseContainer[0];\n                };\n                // force json dataType\n                s.dataTypes[0] = 'json';\n                // Install callback\n                overwritten = window[callbackName];\n                window[callbackName] = function () {\n                    responseContainer = arguments;\n                };\n                // Clean-up function (fires after converters)\n                jqXHR.always(function () {\n                    // Restore preexisting value\n                    window[callbackName] = overwritten;\n                    // Save back as free\n                    if (s[callbackName]) {\n                        // make sure that re-using the options doesn't screw things around\n                        s.jsonpCallback = originalSettings.jsonpCallback;\n                        // save the callback name for future use\n                        oldCallbacks.push(callbackName);\n                    }\n                    // Call if it was a function and we have a response\n                    if (responseContainer && jQuery.isFunction(overwritten)) {\n                        overwritten(responseContainer[0]);\n                    }\n                    responseContainer = overwritten = undefined;\n                });\n                // Delegate to script\n                return 'script';\n            }\n        });\n        // data: string of html\n        // context (optional): If specified, the fragment will be created in this context, defaults to document\n        // keepScripts (optional): If true, will include scripts passed in the html string\n        jQuery.parseHTML = function (data, context, keepScripts) {\n            if (!data || typeof data !== 'string') {\n                return null;\n            }\n            if (typeof context === 'boolean') {\n                keepScripts = context;\n                context = false;\n            }\n            context = context || document;\n            var parsed = rsingleTag.exec(data), scripts = !keepScripts && [];\n            // Single tag\n            if (parsed) {\n                return [context.createElement(parsed[1])];\n            }\n            parsed = jQuery.buildFragment([data], context, scripts);\n            if (scripts && scripts.length) {\n                jQuery(scripts).remove();\n            }\n            return jQuery.merge([], parsed.childNodes);\n        };\n        // Keep a copy of the old load method\n        var _load = jQuery.fn.load;\n        /**\n * Load a url into a page\n */\n        jQuery.fn.load = function (url, params, callback) {\n            if (typeof url !== 'string' && _load) {\n                return _load.apply(this, arguments);\n            }\n            var selector, response, type, self = this, off = url.indexOf(' ');\n            if (off >= 0) {\n                selector = jQuery.trim(url.slice(off, url.length));\n                url = url.slice(0, off);\n            }\n            // If it's a function\n            if (jQuery.isFunction(params)) {\n                // We assume that it's the callback\n                callback = params;\n                params = undefined;    // Otherwise, build a param string\n            } else if (params && typeof params === 'object') {\n                type = 'POST';\n            }\n            // If we have elements to modify, make the request\n            if (self.length > 0) {\n                jQuery.ajax({\n                    url: url,\n                    // if \"type\" variable is undefined, then \"GET\" method will be used\n                    type: type,\n                    dataType: 'html',\n                    data: params\n                }).done(function (responseText) {\n                    // Save response for use in complete callback\n                    response = arguments;\n                    self.html(selector ? // If a selector was specified, locate the right elements in a dummy div\n                    // Exclude scripts to avoid IE 'Permission Denied' errors\n                    jQuery('<div>').append(jQuery.parseHTML(responseText)).find(selector) : // Otherwise use the full result\n                    responseText);\n                }).complete(callback && function (jqXHR, status) {\n                    self.each(callback, response || [\n                        jqXHR.responseText,\n                        status,\n                        jqXHR\n                    ]);\n                });\n            }\n            return this;\n        };\n        jQuery.expr.filters.animated = function (elem) {\n            return jQuery.grep(jQuery.timers, function (fn) {\n                return elem === fn.elem;\n            }).length;\n        };\n        var docElem = window.document.documentElement;\n        /**\n * Gets a window from an element\n */\n        function getWindow(elem) {\n            return jQuery.isWindow(elem) ? elem : elem.nodeType === 9 ? elem.defaultView || elem.parentWindow : false;\n        }\n        jQuery.offset = {\n            setOffset: function (elem, options, i) {\n                var curPosition, curLeft, curCSSTop, curTop, curOffset, curCSSLeft, calculatePosition, position = jQuery.css(elem, 'position'), curElem = jQuery(elem), props = {};\n                // set position first, in-case top/left are set even on static elem\n                if (position === 'static') {\n                    elem.style.position = 'relative';\n                }\n                curOffset = curElem.offset();\n                curCSSTop = jQuery.css(elem, 'top');\n                curCSSLeft = jQuery.css(elem, 'left');\n                calculatePosition = (position === 'absolute' || position === 'fixed') && jQuery.inArray('auto', [\n                    curCSSTop,\n                    curCSSLeft\n                ]) > -1;\n                // need to be able to calculate position if either top or left is auto and position is either absolute or fixed\n                if (calculatePosition) {\n                    curPosition = curElem.position();\n                    curTop = curPosition.top;\n                    curLeft = curPosition.left;\n                } else {\n                    curTop = parseFloat(curCSSTop) || 0;\n                    curLeft = parseFloat(curCSSLeft) || 0;\n                }\n                if (jQuery.isFunction(options)) {\n                    options = options.call(elem, i, curOffset);\n                }\n                if (options.top != null) {\n                    props.top = options.top - curOffset.top + curTop;\n                }\n                if (options.left != null) {\n                    props.left = options.left - curOffset.left + curLeft;\n                }\n                if ('using' in options) {\n                    options.using.call(elem, props);\n                } else {\n                    curElem.css(props);\n                }\n            }\n        };\n        jQuery.fn.extend({\n            offset: function (options) {\n                if (arguments.length) {\n                    return options === undefined ? this : this.each(function (i) {\n                        jQuery.offset.setOffset(this, options, i);\n                    });\n                }\n                var docElem, win, box = {\n                        top: 0,\n                        left: 0\n                    }, elem = this[0], doc = elem && elem.ownerDocument;\n                if (!doc) {\n                    return;\n                }\n                docElem = doc.documentElement;\n                // Make sure it's not a disconnected DOM node\n                if (!jQuery.contains(docElem, elem)) {\n                    return box;\n                }\n                // If we don't have gBCR, just use 0,0 rather than error\n                // BlackBerry 5, iOS 3 (original iPhone)\n                if (typeof elem.getBoundingClientRect !== strundefined) {\n                    box = elem.getBoundingClientRect();\n                }\n                win = getWindow(doc);\n                return {\n                    top: box.top + (win.pageYOffset || docElem.scrollTop) - (docElem.clientTop || 0),\n                    left: box.left + (win.pageXOffset || docElem.scrollLeft) - (docElem.clientLeft || 0)\n                };\n            },\n            position: function () {\n                if (!this[0]) {\n                    return;\n                }\n                var offsetParent, offset, parentOffset = {\n                        top: 0,\n                        left: 0\n                    }, elem = this[0];\n                // fixed elements are offset from window (parentOffset = {top:0, left: 0}, because it is its only offset parent\n                if (jQuery.css(elem, 'position') === 'fixed') {\n                    // we assume that getBoundingClientRect is available when computed position is fixed\n                    offset = elem.getBoundingClientRect();\n                } else {\n                    // Get *real* offsetParent\n                    offsetParent = this.offsetParent();\n                    // Get correct offsets\n                    offset = this.offset();\n                    if (!jQuery.nodeName(offsetParent[0], 'html')) {\n                        parentOffset = offsetParent.offset();\n                    }\n                    // Add offsetParent borders\n                    parentOffset.top += jQuery.css(offsetParent[0], 'borderTopWidth', true);\n                    parentOffset.left += jQuery.css(offsetParent[0], 'borderLeftWidth', true);\n                }\n                // Subtract parent offsets and element margins\n                // note: when an element has margin: auto the offsetLeft and marginLeft\n                // are the same in Safari causing offset.left to incorrectly be 0\n                return {\n                    top: offset.top - parentOffset.top - jQuery.css(elem, 'marginTop', true),\n                    left: offset.left - parentOffset.left - jQuery.css(elem, 'marginLeft', true)\n                };\n            },\n            offsetParent: function () {\n                return this.map(function () {\n                    var offsetParent = this.offsetParent || docElem;\n                    while (offsetParent && (!jQuery.nodeName(offsetParent, 'html') && jQuery.css(offsetParent, 'position') === 'static')) {\n                        offsetParent = offsetParent.offsetParent;\n                    }\n                    return offsetParent || docElem;\n                });\n            }\n        });\n        // Create scrollLeft and scrollTop methods\n        jQuery.each({\n            scrollLeft: 'pageXOffset',\n            scrollTop: 'pageYOffset'\n        }, function (method, prop) {\n            var top = /Y/.test(prop);\n            jQuery.fn[method] = function (val) {\n                return access(this, function (elem, method, val) {\n                    var win = getWindow(elem);\n                    if (val === undefined) {\n                        return win ? prop in win ? win[prop] : win.document.documentElement[method] : elem[method];\n                    }\n                    if (win) {\n                        win.scrollTo(!top ? val : jQuery(win).scrollLeft(), top ? val : jQuery(win).scrollTop());\n                    } else {\n                        elem[method] = val;\n                    }\n                }, method, val, arguments.length, null);\n            };\n        });\n        // Add the top/left cssHooks using jQuery.fn.position\n        // Webkit bug: https://bugs.webkit.org/show_bug.cgi?id=29084\n        // getComputedStyle returns percent when specified for top/left/bottom/right\n        // rather than make the css module depend on the offset module, we just check for it here\n        jQuery.each([\n            'top',\n            'left'\n        ], function (i, prop) {\n            jQuery.cssHooks[prop] = addGetHookIf(support.pixelPosition, function (elem, computed) {\n                if (computed) {\n                    computed = curCSS(elem, prop);\n                    // if curCSS returns percentage, fallback to offset\n                    return rnumnonpx.test(computed) ? jQuery(elem).position()[prop] + 'px' : computed;\n                }\n            });\n        });\n        // Create innerHeight, innerWidth, height, width, outerHeight and outerWidth methods\n        jQuery.each({\n            Height: 'height',\n            Width: 'width'\n        }, function (name, type) {\n            jQuery.each({\n                padding: 'inner' + name,\n                content: type,\n                '': 'outer' + name\n            }, function (defaultExtra, funcName) {\n                // margin is only for outerHeight, outerWidth\n                jQuery.fn[funcName] = function (margin, value) {\n                    var chainable = arguments.length && (defaultExtra || typeof margin !== 'boolean'), extra = defaultExtra || (margin === true || value === true ? 'margin' : 'border');\n                    return access(this, function (elem, type, value) {\n                        var doc;\n                        if (jQuery.isWindow(elem)) {\n                            // As of 5/8/2012 this will yield incorrect results for Mobile Safari, but there\n                            // isn't a whole lot we can do. See pull request at this URL for discussion:\n                            // https://github.com/jquery/jquery/pull/764\n                            return elem.document.documentElement['client' + name];\n                        }\n                        // Get document width or height\n                        if (elem.nodeType === 9) {\n                            doc = elem.documentElement;\n                            // Either scroll[Width/Height] or offset[Width/Height] or client[Width/Height], whichever is greatest\n                            // unfortunately, this causes bug #3838 in IE6/8 only, but there is currently no good, small way to fix it.\n                            return Math.max(elem.body['scroll' + name], doc['scroll' + name], elem.body['offset' + name], doc['offset' + name], doc['client' + name]);\n                        }\n                        return value === undefined ? // Get width or height on the element, requesting but not forcing parseFloat\n                        jQuery.css(elem, type, extra) : // Set width or height on the element\n                        jQuery.style(elem, type, value, extra);\n                    }, type, chainable ? margin : undefined, chainable, null);\n                };\n            });\n        });\n        // The number of elements contained in the matched element set\n        jQuery.fn.size = function () {\n            return this.length;\n        };\n        jQuery.fn.andSelf = jQuery.fn.addBack;\n        // Register as a named AMD module, since jQuery can be concatenated with other\n        // files that may use define, but not via a proper concatenation script that\n        // understands anonymous AMD modules. A named AMD is safest and most robust\n        // way to register. Lowercase jquery is used because AMD module names are\n        // derived from file names, and jQuery is normally delivered in a lowercase\n        // file name. Do this after creating the global so that if an AMD module wants\n        // to call noConflict to hide this version of jQuery, it will work.\n        // Note that for maximum portability, libraries that are not jQuery should\n        // declare themselves as anonymous modules, and avoid setting a global if an\n        // AMD loader is present. jQuery is a special case. For more information, see\n        // https://github.com/jrburke/requirejs/wiki/Updating-existing-libraries#wiki-anon\n        if (typeof define === 'function' && define.amd) {\n            define('jquery', [], function () {\n                return jQuery;\n            });\n        }\n        var\n            // Map over jQuery in case of overwrite\n            _jQuery = window.jQuery,\n            // Map over the $ in case of overwrite\n            _$ = window.$;\n        jQuery.noConflict = function (deep) {\n            if (window.$ === jQuery) {\n                window.$ = _$;\n            }\n            if (deep && window.jQuery === jQuery) {\n                window.jQuery = _jQuery;\n            }\n            return jQuery;\n        };\n        // Expose jQuery and $ identifiers, even in\n        // AMD (#7102#comment:10, https://github.com/jquery/jquery/pull/557)\n        // and CommonJS for browser emulators (#13566)\n        if (typeof noGlobal === strundefined) {\n            window.jQuery = window.$ = jQuery;\n        }\n        return jQuery;\n    }));\n    return jQuery;\n});","//     Backbone.js 1.1.2\n//     (c) 2010-2014 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n//     Backbone may be freely distributed under the MIT license.\n//     For all details and documentation:\n//     http://backbonejs.org\n(function (root, factory) {\n    // Set up Backbone appropriately for the environment. Start with AMD.\n    if (typeof define === 'function' && define.amd) {\n        define('Backbone', [\n            'underscore',\n            'jQuery',\n            'exports'\n        ], function (_, $, exports) {\n            // Export global even in AMD case in case this script is loaded with\n            // others that may still expect a global Backbone.\n            root.Backbone = factory(root, exports, _, $);\n        });    // Next for Node.js or CommonJS. jQuery may not be needed as a module.\n    } else if (typeof exports !== 'undefined') {\n        var _ = require('underscore');\n        factory(root, exports, _);    // Finally, as a browser global.\n    } else {\n        root.Backbone = factory(root, {}, root._, root.jQuery || root.Zepto || root.ender || root.$);\n    }\n}(this, function (root, Backbone, _, $) {\n    // Initial Setup\n    // -------------\n    // Save the previous value of the `Backbone` variable, so that it can be\n    // restored later on, if `noConflict` is used.\n    var previousBackbone = root.Backbone;\n    // Create local references to array methods we'll want to use later.\n    var array = [];\n    var push = array.push;\n    var slice = array.slice;\n    var splice = array.splice;\n    // Current version of the library. Keep in sync with `package.json`.\n    Backbone.VERSION = '1.1.2';\n    // For Backbone's purposes, jQuery, Zepto, Ender, or My Library (kidding) owns\n    // the `$` variable.\n    Backbone.$ = $;\n    // Runs Backbone.js in *noConflict* mode, returning the `Backbone` variable\n    // to its previous owner. Returns a reference to this Backbone object.\n    Backbone.noConflict = function () {\n        root.Backbone = previousBackbone;\n        return this;\n    };\n    // Turn on `emulateHTTP` to support legacy HTTP servers. Setting this option\n    // will fake `\"PATCH\"`, `\"PUT\"` and `\"DELETE\"` requests via the `_method` parameter and\n    // set a `X-Http-Method-Override` header.\n    Backbone.emulateHTTP = false;\n    // Turn on `emulateJSON` to support legacy servers that can't deal with direct\n    // `application/json` requests ... will encode the body as\n    // `application/x-www-form-urlencoded` instead and will send the model in a\n    // form param named `model`.\n    Backbone.emulateJSON = false;\n    // Backbone.Events\n    // ---------------\n    // A module that can be mixed in to *any object* in order to provide it with\n    // custom events. You may bind with `on` or remove with `off` callback\n    // functions to an event; `trigger`-ing an event fires all callbacks in\n    // succession.\n    //\n    //     var object = {};\n    //     _.extend(object, Backbone.Events);\n    //     object.on('expand', function(){ alert('expanded'); });\n    //     object.trigger('expand');\n    //\n    var Events = Backbone.Events = {\n        // Bind an event to a `callback` function. Passing `\"all\"` will bind\n        // the callback to all events fired.\n        on: function (name, callback, context) {\n            if (!eventsApi(this, 'on', name, [\n                    callback,\n                    context\n                ]) || !callback)\n                return this;\n            this._events || (this._events = {});\n            var events = this._events[name] || (this._events[name] = []);\n            events.push({\n                callback: callback,\n                context: context,\n                ctx: context || this\n            });\n            return this;\n        },\n        // Bind an event to only be triggered a single time. After the first time\n        // the callback is invoked, it will be removed.\n        once: function (name, callback, context) {\n            if (!eventsApi(this, 'once', name, [\n                    callback,\n                    context\n                ]) || !callback)\n                return this;\n            var self = this;\n            var once = _.once(function () {\n                self.off(name, once);\n                callback.apply(this, arguments);\n            });\n            once._callback = callback;\n            return this.on(name, once, context);\n        },\n        // Remove one or many callbacks. If `context` is null, removes all\n        // callbacks with that function. If `callback` is null, removes all\n        // callbacks for the event. If `name` is null, removes all bound\n        // callbacks for all events.\n        off: function (name, callback, context) {\n            var retain, ev, events, names, i, l, j, k;\n            if (!this._events || !eventsApi(this, 'off', name, [\n                    callback,\n                    context\n                ]))\n                return this;\n            if (!name && !callback && !context) {\n                this._events = void 0;\n                return this;\n            }\n            names = name ? [name] : _.keys(this._events);\n            for (i = 0, l = names.length; i < l; i++) {\n                name = names[i];\n                if (events = this._events[name]) {\n                    this._events[name] = retain = [];\n                    if (callback || context) {\n                        for (j = 0, k = events.length; j < k; j++) {\n                            ev = events[j];\n                            if (callback && callback !== ev.callback && callback !== ev.callback._callback || context && context !== ev.context) {\n                                retain.push(ev);\n                            }\n                        }\n                    }\n                    if (!retain.length)\n                        delete this._events[name];\n                }\n            }\n            return this;\n        },\n        // Trigger one or many events, firing all bound callbacks. Callbacks are\n        // passed the same arguments as `trigger` is, apart from the event name\n        // (unless you're listening on `\"all\"`, which will cause your callback to\n        // receive the true name of the event as the first argument).\n        trigger: function (name) {\n            if (!this._events)\n                return this;\n            var args = slice.call(arguments, 1);\n            if (!eventsApi(this, 'trigger', name, args))\n                return this;\n            var events = this._events[name];\n            var allEvents = this._events.all;\n            if (events)\n                triggerEvents(events, args);\n            if (allEvents)\n                triggerEvents(allEvents, arguments);\n            return this;\n        },\n        // Tell this object to stop listening to either specific events ... or\n        // to every object it's currently listening to.\n        stopListening: function (obj, name, callback) {\n            var listeningTo = this._listeningTo;\n            if (!listeningTo)\n                return this;\n            var remove = !name && !callback;\n            if (!callback && typeof name === 'object')\n                callback = this;\n            if (obj)\n                (listeningTo = {})[obj._listenId] = obj;\n            for (var id in listeningTo) {\n                obj = listeningTo[id];\n                obj.off(name, callback, this);\n                if (remove || _.isEmpty(obj._events))\n                    delete this._listeningTo[id];\n            }\n            return this;\n        }\n    };\n    // Regular expression used to split event strings.\n    var eventSplitter = /\\s+/;\n    // Implement fancy features of the Events API such as multiple event\n    // names `\"change blur\"` and jQuery-style event maps `{change: action}`\n    // in terms of the existing API.\n    var eventsApi = function (obj, action, name, rest) {\n        if (!name)\n            return true;\n        // Handle event maps.\n        if (typeof name === 'object') {\n            for (var key in name) {\n                obj[action].apply(obj, [\n                    key,\n                    name[key]\n                ].concat(rest));\n            }\n            return false;\n        }\n        // Handle space separated event names.\n        if (eventSplitter.test(name)) {\n            var names = name.split(eventSplitter);\n            for (var i = 0, l = names.length; i < l; i++) {\n                obj[action].apply(obj, [names[i]].concat(rest));\n            }\n            return false;\n        }\n        return true;\n    };\n    // A difficult-to-believe, but optimized internal dispatch function for\n    // triggering events. Tries to keep the usual cases speedy (most internal\n    // Backbone events have 3 arguments).\n    var triggerEvents = function (events, args) {\n        var ev, i = -1, l = events.length, a1 = args[0], a2 = args[1], a3 = args[2];\n        switch (args.length) {\n        case 0:\n            while (++i < l)\n                (ev = events[i]).callback.call(ev.ctx);\n            return;\n        case 1:\n            while (++i < l)\n                (ev = events[i]).callback.call(ev.ctx, a1);\n            return;\n        case 2:\n            while (++i < l)\n                (ev = events[i]).callback.call(ev.ctx, a1, a2);\n            return;\n        case 3:\n            while (++i < l)\n                (ev = events[i]).callback.call(ev.ctx, a1, a2, a3);\n            return;\n        default:\n            while (++i < l)\n                (ev = events[i]).callback.apply(ev.ctx, args);\n            return;\n        }\n    };\n    var listenMethods = {\n        listenTo: 'on',\n        listenToOnce: 'once'\n    };\n    // Inversion-of-control versions of `on` and `once`. Tell *this* object to\n    // listen to an event in another object ... keeping track of what it's\n    // listening to.\n    _.each(listenMethods, function (implementation, method) {\n        Events[method] = function (obj, name, callback) {\n            var listeningTo = this._listeningTo || (this._listeningTo = {});\n            var id = obj._listenId || (obj._listenId = _.uniqueId('l'));\n            listeningTo[id] = obj;\n            if (!callback && typeof name === 'object')\n                callback = this;\n            obj[implementation](name, callback, this);\n            return this;\n        };\n    });\n    // Aliases for backwards compatibility.\n    Events.bind = Events.on;\n    Events.unbind = Events.off;\n    // Allow the `Backbone` object to serve as a global event bus, for folks who\n    // want global \"pubsub\" in a convenient place.\n    _.extend(Backbone, Events);\n    // Backbone.Model\n    // --------------\n    // Backbone **Models** are the basic data object in the framework --\n    // frequently representing a row in a table in a database on your server.\n    // A discrete chunk of data and a bunch of useful, related methods for\n    // performing computations and transformations on that data.\n    // Create a new model with the specified attributes. A client id (`cid`)\n    // is automatically generated and assigned for you.\n    var Model = Backbone.Model = function (attributes, options) {\n        var attrs = attributes || {};\n        options || (options = {});\n        this.cid = _.uniqueId('c');\n        this.attributes = {};\n        if (options.collection)\n            this.collection = options.collection;\n        if (options.parse)\n            attrs = this.parse(attrs, options) || {};\n        attrs = _.defaults({}, attrs, _.result(this, 'defaults'));\n        this.set(attrs, options);\n        this.changed = {};\n        this.initialize.apply(this, arguments);\n    };\n    // Attach all inheritable methods to the Model prototype.\n    _.extend(Model.prototype, Events, {\n        // A hash of attributes whose current and previous value differ.\n        changed: null,\n        // The value returned during the last failed validation.\n        validationError: null,\n        // The default name for the JSON `id` attribute is `\"id\"`. MongoDB and\n        // CouchDB users may want to set this to `\"_id\"`.\n        idAttribute: 'id',\n        // Initialize is an empty function by default. Override it with your own\n        // initialization logic.\n        initialize: function () {\n        },\n        // Return a copy of the model's `attributes` object.\n        toJSON: function (options) {\n            return _.clone(this.attributes);\n        },\n        // Proxy `Backbone.sync` by default -- but override this if you need\n        // custom syncing semantics for *this* particular model.\n        sync: function () {\n            return Backbone.sync.apply(this, arguments);\n        },\n        // Get the value of an attribute.\n        get: function (attr) {\n            return this.attributes[attr];\n        },\n        // Get the HTML-escaped value of an attribute.\n        escape: function (attr) {\n            return _.escape(this.get(attr));\n        },\n        // Returns `true` if the attribute contains a value that is not null\n        // or undefined.\n        has: function (attr) {\n            return this.get(attr) != null;\n        },\n        // Set a hash of model attributes on the object, firing `\"change\"`. This is\n        // the core primitive operation of a model, updating the data and notifying\n        // anyone who needs to know about the change in state. The heart of the beast.\n        set: function (key, val, options) {\n            var attr, attrs, unset, changes, silent, changing, prev, current;\n            if (key == null)\n                return this;\n            // Handle both `\"key\", value` and `{key: value}` -style arguments.\n            if (typeof key === 'object') {\n                attrs = key;\n                options = val;\n            } else {\n                (attrs = {})[key] = val;\n            }\n            options || (options = {});\n            // Run validation.\n            if (!this._validate(attrs, options))\n                return false;\n            // Extract attributes and options.\n            unset = options.unset;\n            silent = options.silent;\n            changes = [];\n            changing = this._changing;\n            this._changing = true;\n            if (!changing) {\n                this._previousAttributes = _.clone(this.attributes);\n                this.changed = {};\n            }\n            current = this.attributes, prev = this._previousAttributes;\n            // Check for changes of `id`.\n            if (this.idAttribute in attrs)\n                this.id = attrs[this.idAttribute];\n            // For each `set` attribute, update or delete the current value.\n            for (attr in attrs) {\n                val = attrs[attr];\n                if (!_.isEqual(current[attr], val))\n                    changes.push(attr);\n                if (!_.isEqual(prev[attr], val)) {\n                    this.changed[attr] = val;\n                } else {\n                    delete this.changed[attr];\n                }\n                unset ? delete current[attr] : current[attr] = val;\n            }\n            // Trigger all relevant attribute changes.\n            if (!silent) {\n                if (changes.length)\n                    this._pending = options;\n                for (var i = 0, l = changes.length; i < l; i++) {\n                    this.trigger('change:' + changes[i], this, current[changes[i]], options);\n                }\n            }\n            // You might be wondering why there's a `while` loop here. Changes can\n            // be recursively nested within `\"change\"` events.\n            if (changing)\n                return this;\n            if (!silent) {\n                while (this._pending) {\n                    options = this._pending;\n                    this._pending = false;\n                    this.trigger('change', this, options);\n                }\n            }\n            this._pending = false;\n            this._changing = false;\n            return this;\n        },\n        // Remove an attribute from the model, firing `\"change\"`. `unset` is a noop\n        // if the attribute doesn't exist.\n        unset: function (attr, options) {\n            return this.set(attr, void 0, _.extend({}, options, { unset: true }));\n        },\n        // Clear all attributes on the model, firing `\"change\"`.\n        clear: function (options) {\n            var attrs = {};\n            for (var key in this.attributes)\n                attrs[key] = void 0;\n            return this.set(attrs, _.extend({}, options, { unset: true }));\n        },\n        // Determine if the model has changed since the last `\"change\"` event.\n        // If you specify an attribute name, determine if that attribute has changed.\n        hasChanged: function (attr) {\n            if (attr == null)\n                return !_.isEmpty(this.changed);\n            return _.has(this.changed, attr);\n        },\n        // Return an object containing all the attributes that have changed, or\n        // false if there are no changed attributes. Useful for determining what\n        // parts of a view need to be updated and/or what attributes need to be\n        // persisted to the server. Unset attributes will be set to undefined.\n        // You can also pass an attributes object to diff against the model,\n        // determining if there *would be* a change.\n        changedAttributes: function (diff) {\n            if (!diff)\n                return this.hasChanged() ? _.clone(this.changed) : false;\n            var val, changed = false;\n            var old = this._changing ? this._previousAttributes : this.attributes;\n            for (var attr in diff) {\n                if (_.isEqual(old[attr], val = diff[attr]))\n                    continue;\n                (changed || (changed = {}))[attr] = val;\n            }\n            return changed;\n        },\n        // Get the previous value of an attribute, recorded at the time the last\n        // `\"change\"` event was fired.\n        previous: function (attr) {\n            if (attr == null || !this._previousAttributes)\n                return null;\n            return this._previousAttributes[attr];\n        },\n        // Get all of the attributes of the model at the time of the previous\n        // `\"change\"` event.\n        previousAttributes: function () {\n            return _.clone(this._previousAttributes);\n        },\n        // Fetch the model from the server. If the server's representation of the\n        // model differs from its current attributes, they will be overridden,\n        // triggering a `\"change\"` event.\n        fetch: function (options) {\n            options = options ? _.clone(options) : {};\n            if (options.parse === void 0)\n                options.parse = true;\n            var model = this;\n            var success = options.success;\n            options.success = function (resp) {\n                if (!model.set(model.parse(resp, options), options))\n                    return false;\n                if (success)\n                    success(model, resp, options);\n                model.trigger('sync', model, resp, options);\n            };\n            wrapError(this, options);\n            return this.sync('read', this, options);\n        },\n        // Set a hash of model attributes, and sync the model to the server.\n        // If the server returns an attributes hash that differs, the model's\n        // state will be `set` again.\n        save: function (key, val, options) {\n            var attrs, method, xhr, attributes = this.attributes;\n            // Handle both `\"key\", value` and `{key: value}` -style arguments.\n            if (key == null || typeof key === 'object') {\n                attrs = key;\n                options = val;\n            } else {\n                (attrs = {})[key] = val;\n            }\n            options = _.extend({ validate: true }, options);\n            // If we're not waiting and attributes exist, save acts as\n            // `set(attr).save(null, opts)` with validation. Otherwise, check if\n            // the model will be valid when the attributes, if any, are set.\n            if (attrs && !options.wait) {\n                if (!this.set(attrs, options))\n                    return false;\n            } else {\n                if (!this._validate(attrs, options))\n                    return false;\n            }\n            // Set temporary attributes if `{wait: true}`.\n            if (attrs && options.wait) {\n                this.attributes = _.extend({}, attributes, attrs);\n            }\n            // After a successful server-side save, the client is (optionally)\n            // updated with the server-side state.\n            if (options.parse === void 0)\n                options.parse = true;\n            var model = this;\n            var success = options.success;\n            options.success = function (resp) {\n                // Ensure attributes are restored during synchronous saves.\n                model.attributes = attributes;\n                var serverAttrs = model.parse(resp, options);\n                if (options.wait)\n                    serverAttrs = _.extend(attrs || {}, serverAttrs);\n                if (_.isObject(serverAttrs) && !model.set(serverAttrs, options)) {\n                    return false;\n                }\n                if (success)\n                    success(model, resp, options);\n                model.trigger('sync', model, resp, options);\n            };\n            wrapError(this, options);\n            method = this.isNew() ? 'create' : options.patch ? 'patch' : 'update';\n            if (method === 'patch')\n                options.attrs = attrs;\n            xhr = this.sync(method, this, options);\n            // Restore attributes.\n            if (attrs && options.wait)\n                this.attributes = attributes;\n            return xhr;\n        },\n        // Destroy this model on the server if it was already persisted.\n        // Optimistically removes the model from its collection, if it has one.\n        // If `wait: true` is passed, waits for the server to respond before removal.\n        destroy: function (options) {\n            options = options ? _.clone(options) : {};\n            var model = this;\n            var success = options.success;\n            var destroy = function () {\n                model.trigger('destroy', model, model.collection, options);\n            };\n            options.success = function (resp) {\n                if (options.wait || model.isNew())\n                    destroy();\n                if (success)\n                    success(model, resp, options);\n                if (!model.isNew())\n                    model.trigger('sync', model, resp, options);\n            };\n            if (this.isNew()) {\n                options.success();\n                return false;\n            }\n            wrapError(this, options);\n            var xhr = this.sync('delete', this, options);\n            if (!options.wait)\n                destroy();\n            return xhr;\n        },\n        // Default URL for the model's representation on the server -- if you're\n        // using Backbone's restful methods, override this to change the endpoint\n        // that will be called.\n        url: function () {\n            var base = _.result(this, 'urlRoot') || _.result(this.collection, 'url') || urlError();\n            if (this.isNew())\n                return base;\n            return base.replace(/([^\\/])$/, '$1/') + encodeURIComponent(this.id);\n        },\n        // **parse** converts a response into the hash of attributes to be `set` on\n        // the model. The default implementation is just to pass the response along.\n        parse: function (resp, options) {\n            return resp;\n        },\n        // Create a new model with identical attributes to this one.\n        clone: function () {\n            return new this.constructor(this.attributes);\n        },\n        // A model is new if it has never been saved to the server, and lacks an id.\n        isNew: function () {\n            return !this.has(this.idAttribute);\n        },\n        // Check if the model is currently in a valid state.\n        isValid: function (options) {\n            return this._validate({}, _.extend(options || {}, { validate: true }));\n        },\n        // Run validation against the next complete set of model attributes,\n        // returning `true` if all is well. Otherwise, fire an `\"invalid\"` event.\n        _validate: function (attrs, options) {\n            if (!options.validate || !this.validate)\n                return true;\n            attrs = _.extend({}, this.attributes, attrs);\n            var error = this.validationError = this.validate(attrs, options) || null;\n            if (!error)\n                return true;\n            this.trigger('invalid', this, error, _.extend(options, { validationError: error }));\n            return false;\n        }\n    });\n    // Underscore methods that we want to implement on the Model.\n    var modelMethods = [\n        'keys',\n        'values',\n        'pairs',\n        'invert',\n        'pick',\n        'omit'\n    ];\n    // Mix in each Underscore method as a proxy to `Model#attributes`.\n    _.each(modelMethods, function (method) {\n        Model.prototype[method] = function () {\n            var args = slice.call(arguments);\n            args.unshift(this.attributes);\n            return _[method].apply(_, args);\n        };\n    });\n    // Backbone.Collection\n    // -------------------\n    // If models tend to represent a single row of data, a Backbone Collection is\n    // more analagous to a table full of data ... or a small slice or page of that\n    // table, or a collection of rows that belong together for a particular reason\n    // -- all of the messages in this particular folder, all of the documents\n    // belonging to this particular author, and so on. Collections maintain\n    // indexes of their models, both in order, and for lookup by `id`.\n    // Create a new **Collection**, perhaps to contain a specific type of `model`.\n    // If a `comparator` is specified, the Collection will maintain\n    // its models in sort order, as they're added and removed.\n    var Collection = Backbone.Collection = function (models, options) {\n        options || (options = {});\n        if (options.model)\n            this.model = options.model;\n        if (options.comparator !== void 0)\n            this.comparator = options.comparator;\n        this._reset();\n        this.initialize.apply(this, arguments);\n        if (models)\n            this.reset(models, _.extend({ silent: true }, options));\n    };\n    // Default options for `Collection#set`.\n    var setOptions = {\n        add: true,\n        remove: true,\n        merge: true\n    };\n    var addOptions = {\n        add: true,\n        remove: false\n    };\n    // Define the Collection's inheritable methods.\n    _.extend(Collection.prototype, Events, {\n        // The default model for a collection is just a **Backbone.Model**.\n        // This should be overridden in most cases.\n        model: Model,\n        // Initialize is an empty function by default. Override it with your own\n        // initialization logic.\n        initialize: function () {\n        },\n        // The JSON representation of a Collection is an array of the\n        // models' attributes.\n        toJSON: function (options) {\n            return this.map(function (model) {\n                return model.toJSON(options);\n            });\n        },\n        // Proxy `Backbone.sync` by default.\n        sync: function () {\n            return Backbone.sync.apply(this, arguments);\n        },\n        // Add a model, or list of models to the set.\n        add: function (models, options) {\n            return this.set(models, _.extend({ merge: false }, options, addOptions));\n        },\n        // Remove a model, or a list of models from the set.\n        remove: function (models, options) {\n            var singular = !_.isArray(models);\n            models = singular ? [models] : _.clone(models);\n            options || (options = {});\n            var i, l, index, model;\n            for (i = 0, l = models.length; i < l; i++) {\n                model = models[i] = this.get(models[i]);\n                if (!model)\n                    continue;\n                delete this._byId[model.id];\n                delete this._byId[model.cid];\n                index = this.indexOf(model);\n                this.models.splice(index, 1);\n                this.length--;\n                if (!options.silent) {\n                    options.index = index;\n                    model.trigger('remove', model, this, options);\n                }\n                this._removeReference(model, options);\n            }\n            return singular ? models[0] : models;\n        },\n        // Update a collection by `set`-ing a new list of models, adding new ones,\n        // removing models that are no longer present, and merging models that\n        // already exist in the collection, as necessary. Similar to **Model#set**,\n        // the core operation for updating the data contained by the collection.\n        set: function (models, options) {\n            options = _.defaults({}, options, setOptions);\n            if (options.parse)\n                models = this.parse(models, options);\n            var singular = !_.isArray(models);\n            models = singular ? models ? [models] : [] : _.clone(models);\n            var i, l, id, model, attrs, existing, sort;\n            var at = options.at;\n            var targetModel = this.model;\n            var sortable = this.comparator && at == null && options.sort !== false;\n            var sortAttr = _.isString(this.comparator) ? this.comparator : null;\n            var toAdd = [], toRemove = [], modelMap = {};\n            var add = options.add, merge = options.merge, remove = options.remove;\n            var order = !sortable && add && remove ? [] : false;\n            // Turn bare objects into model references, and prevent invalid models\n            // from being added.\n            for (i = 0, l = models.length; i < l; i++) {\n                attrs = models[i] || {};\n                if (attrs instanceof Model) {\n                    id = model = attrs;\n                } else {\n                    id = attrs[targetModel.prototype.idAttribute || 'id'];\n                }\n                // If a duplicate is found, prevent it from being added and\n                // optionally merge it into the existing model.\n                if (existing = this.get(id)) {\n                    if (remove)\n                        modelMap[existing.cid] = true;\n                    if (merge) {\n                        attrs = attrs === model ? model.attributes : attrs;\n                        if (options.parse)\n                            attrs = existing.parse(attrs, options);\n                        existing.set(attrs, options);\n                        if (sortable && !sort && existing.hasChanged(sortAttr))\n                            sort = true;\n                    }\n                    models[i] = existing;    // If this is a new, valid model, push it to the `toAdd` list.\n                } else if (add) {\n                    model = models[i] = this._prepareModel(attrs, options);\n                    if (!model)\n                        continue;\n                    toAdd.push(model);\n                    this._addReference(model, options);\n                }\n                // Do not add multiple models with the same `id`.\n                model = existing || model;\n                if (order && (model.isNew() || !modelMap[model.id]))\n                    order.push(model);\n                modelMap[model.id] = true;\n            }\n            // Remove nonexistent models if appropriate.\n            if (remove) {\n                for (i = 0, l = this.length; i < l; ++i) {\n                    if (!modelMap[(model = this.models[i]).cid])\n                        toRemove.push(model);\n                }\n                if (toRemove.length)\n                    this.remove(toRemove, options);\n            }\n            // See if sorting is needed, update `length` and splice in new models.\n            if (toAdd.length || order && order.length) {\n                if (sortable)\n                    sort = true;\n                this.length += toAdd.length;\n                if (at != null) {\n                    for (i = 0, l = toAdd.length; i < l; i++) {\n                        this.models.splice(at + i, 0, toAdd[i]);\n                    }\n                } else {\n                    if (order)\n                        this.models.length = 0;\n                    var orderedModels = order || toAdd;\n                    for (i = 0, l = orderedModels.length; i < l; i++) {\n                        this.models.push(orderedModels[i]);\n                    }\n                }\n            }\n            // Silently sort the collection if appropriate.\n            if (sort)\n                this.sort({ silent: true });\n            // Unless silenced, it's time to fire all appropriate add/sort events.\n            if (!options.silent) {\n                for (i = 0, l = toAdd.length; i < l; i++) {\n                    (model = toAdd[i]).trigger('add', model, this, options);\n                }\n                if (sort || order && order.length)\n                    this.trigger('sort', this, options);\n            }\n            // Return the added (or merged) model (or models).\n            return singular ? models[0] : models;\n        },\n        // When you have more items than you want to add or remove individually,\n        // you can reset the entire set with a new list of models, without firing\n        // any granular `add` or `remove` events. Fires `reset` when finished.\n        // Useful for bulk operations and optimizations.\n        reset: function (models, options) {\n            options || (options = {});\n            for (var i = 0, l = this.models.length; i < l; i++) {\n                this._removeReference(this.models[i], options);\n            }\n            options.previousModels = this.models;\n            this._reset();\n            models = this.add(models, _.extend({ silent: true }, options));\n            if (!options.silent)\n                this.trigger('reset', this, options);\n            return models;\n        },\n        // Add a model to the end of the collection.\n        push: function (model, options) {\n            return this.add(model, _.extend({ at: this.length }, options));\n        },\n        // Remove a model from the end of the collection.\n        pop: function (options) {\n            var model = this.at(this.length - 1);\n            this.remove(model, options);\n            return model;\n        },\n        // Add a model to the beginning of the collection.\n        unshift: function (model, options) {\n            return this.add(model, _.extend({ at: 0 }, options));\n        },\n        // Remove a model from the beginning of the collection.\n        shift: function (options) {\n            var model = this.at(0);\n            this.remove(model, options);\n            return model;\n        },\n        // Slice out a sub-array of models from the collection.\n        slice: function () {\n            return slice.apply(this.models, arguments);\n        },\n        // Get a model from the set by id.\n        get: function (obj) {\n            if (obj == null)\n                return void 0;\n            return this._byId[obj] || this._byId[obj.id] || this._byId[obj.cid];\n        },\n        // Get the model at the given index.\n        at: function (index) {\n            return this.models[index];\n        },\n        // Return models with matching attributes. Useful for simple cases of\n        // `filter`.\n        where: function (attrs, first) {\n            if (_.isEmpty(attrs))\n                return first ? void 0 : [];\n            return this[first ? 'find' : 'filter'](function (model) {\n                for (var key in attrs) {\n                    if (attrs[key] !== model.get(key))\n                        return false;\n                }\n                return true;\n            });\n        },\n        // Return the first model with matching attributes. Useful for simple cases\n        // of `find`.\n        findWhere: function (attrs) {\n            return this.where(attrs, true);\n        },\n        // Force the collection to re-sort itself. You don't need to call this under\n        // normal circumstances, as the set will maintain sort order as each item\n        // is added.\n        sort: function (options) {\n            if (!this.comparator)\n                throw new Error('Cannot sort a set without a comparator');\n            options || (options = {});\n            // Run sort based on type of `comparator`.\n            if (_.isString(this.comparator) || this.comparator.length === 1) {\n                this.models = this.sortBy(this.comparator, this);\n            } else {\n                this.models.sort(_.bind(this.comparator, this));\n            }\n            if (!options.silent)\n                this.trigger('sort', this, options);\n            return this;\n        },\n        // Pluck an attribute from each model in the collection.\n        pluck: function (attr) {\n            return _.invoke(this.models, 'get', attr);\n        },\n        // Fetch the default set of models for this collection, resetting the\n        // collection when they arrive. If `reset: true` is passed, the response\n        // data will be passed through the `reset` method instead of `set`.\n        fetch: function (options) {\n            options = options ? _.clone(options) : {};\n            if (options.parse === void 0)\n                options.parse = true;\n            var success = options.success;\n            var collection = this;\n            options.success = function (resp) {\n                var method = options.reset ? 'reset' : 'set';\n                collection[method](resp, options);\n                if (success)\n                    success(collection, resp, options);\n                collection.trigger('sync', collection, resp, options);\n            };\n            wrapError(this, options);\n            return this.sync('read', this, options);\n        },\n        // Create a new instance of a model in this collection. Add the model to the\n        // collection immediately, unless `wait: true` is passed, in which case we\n        // wait for the server to agree.\n        create: function (model, options) {\n            options = options ? _.clone(options) : {};\n            if (!(model = this._prepareModel(model, options)))\n                return false;\n            if (!options.wait)\n                this.add(model, options);\n            var collection = this;\n            var success = options.success;\n            options.success = function (model, resp) {\n                if (options.wait)\n                    collection.add(model, options);\n                if (success)\n                    success(model, resp, options);\n            };\n            model.save(null, options);\n            return model;\n        },\n        // **parse** converts a response into a list of models to be added to the\n        // collection. The default implementation is just to pass it through.\n        parse: function (resp, options) {\n            return resp;\n        },\n        // Create a new collection with an identical list of models as this one.\n        clone: function () {\n            return new this.constructor(this.models);\n        },\n        // Private method to reset all internal state. Called when the collection\n        // is first initialized or reset.\n        _reset: function () {\n            this.length = 0;\n            this.models = [];\n            this._byId = {};\n        },\n        // Prepare a hash of attributes (or other model) to be added to this\n        // collection.\n        _prepareModel: function (attrs, options) {\n            if (attrs instanceof Model)\n                return attrs;\n            options = options ? _.clone(options) : {};\n            options.collection = this;\n            var model = new this.model(attrs, options);\n            if (!model.validationError)\n                return model;\n            this.trigger('invalid', this, model.validationError, options);\n            return false;\n        },\n        // Internal method to create a model's ties to a collection.\n        _addReference: function (model, options) {\n            this._byId[model.cid] = model;\n            if (model.id != null)\n                this._byId[model.id] = model;\n            if (!model.collection)\n                model.collection = this;\n            model.on('all', this._onModelEvent, this);\n        },\n        // Internal method to sever a model's ties to a collection.\n        _removeReference: function (model, options) {\n            if (this === model.collection)\n                delete model.collection;\n            model.off('all', this._onModelEvent, this);\n        },\n        // Internal method called every time a model in the set fires an event.\n        // Sets need to update their indexes when models change ids. All other\n        // events simply proxy through. \"add\" and \"remove\" events that originate\n        // in other collections are ignored.\n        _onModelEvent: function (event, model, collection, options) {\n            if ((event === 'add' || event === 'remove') && collection !== this)\n                return;\n            if (event === 'destroy')\n                this.remove(model, options);\n            if (model && event === 'change:' + model.idAttribute) {\n                delete this._byId[model.previous(model.idAttribute)];\n                if (model.id != null)\n                    this._byId[model.id] = model;\n            }\n            this.trigger.apply(this, arguments);\n        }\n    });\n    // Underscore methods that we want to implement on the Collection.\n    // 90% of the core usefulness of Backbone Collections is actually implemented\n    // right here:\n    var methods = [\n        'forEach',\n        'each',\n        'map',\n        'collect',\n        'reduce',\n        'foldl',\n        'inject',\n        'reduceRight',\n        'foldr',\n        'find',\n        'detect',\n        'filter',\n        'select',\n        'reject',\n        'every',\n        'all',\n        'some',\n        'any',\n        'include',\n        'contains',\n        'invoke',\n        'max',\n        'min',\n        'toArray',\n        'size',\n        'first',\n        'head',\n        'take',\n        'initial',\n        'rest',\n        'tail',\n        'drop',\n        'last',\n        'without',\n        'difference',\n        'indexOf',\n        'shuffle',\n        'lastIndexOf',\n        'isEmpty',\n        'chain',\n        'sample'\n    ];\n    // Mix in each Underscore method as a proxy to `Collection#models`.\n    _.each(methods, function (method) {\n        Collection.prototype[method] = function () {\n            var args = slice.call(arguments);\n            args.unshift(this.models);\n            return _[method].apply(_, args);\n        };\n    });\n    // Underscore methods that take a property name as an argument.\n    var attributeMethods = [\n        'groupBy',\n        'countBy',\n        'sortBy',\n        'indexBy'\n    ];\n    // Use attributes instead of properties.\n    _.each(attributeMethods, function (method) {\n        Collection.prototype[method] = function (value, context) {\n            var iterator = _.isFunction(value) ? value : function (model) {\n                return model.get(value);\n            };\n            return _[method](this.models, iterator, context);\n        };\n    });\n    // Backbone.View  // -------------\n    // Backbone Views are almost more convention than they are actual code. A View\n    // is simply a JavaScript object that represents a logical chunk of UI in the\n    // DOM. This might be a single item, an entire list, a sidebar or panel, or\n    // even the surrounding frame which wraps your whole app. Defining a chunk of\n    // UI as a **View** allows you to define your DOM events declaratively, without\n    // having to worry about render order ... and makes it easy for the view to\n    // react to specific changes in the state of your models.\n    // Creating a Backbone.View creates its initial element outside of the DOM,\n    // if an existing element is not provided...\n    var View = Backbone.View = function (options) {\n        this.cid = _.uniqueId('view');\n        this._configure(options || {});\n        this._ensureElement();\n        this.initialize.apply(this, arguments);\n        this.delegateEvents();\n    };\n    // Cached regex to split keys for `delegate`.\n    var delegateEventSplitter = /^(\\S+)\\s*(.*)$/;\n    // List of view options to be merged as properties.\n    var viewOptions = [\n        'model',\n        'collection',\n        'el',\n        'id',\n        'attributes',\n        'className',\n        'tagName',\n        'events'\n    ];\n    // Set up all inheritable **Backbone.View** properties and methods.\n    _.extend(View.prototype, Events, {\n        // The default `tagName` of a View's element is `\"div\"`.\n        tagName: 'div',\n        // jQuery delegate for element lookup, scoped to DOM elements within the\n        // current view. This should be preferred to global lookups where possible.\n        $: function (selector) {\n            return this.$el.find(selector);\n        },\n        // Initialize is an empty function by default. Override it with your own\n        // initialization logic.\n        initialize: function () {\n        },\n        // **render** is the core function that your view should override, in order\n        // to populate its element (`this.el`), with the appropriate HTML. The\n        // convention is for **render** to always return `this`.\n        render: function () {\n            return this;\n        },\n        // Remove this view by taking the element out of the DOM, and removing any\n        // applicable Backbone.Events listeners.\n        remove: function () {\n            this.$el.remove();\n            this.stopListening();\n            return this;\n        },\n        // Change the view's element (`this.el` property), including event\n        // re-delegation.\n        setElement: function (element, delegate) {\n            if (this.$el)\n                this.undelegateEvents();\n            this.$el = element instanceof Backbone.$ ? element : Backbone.$(element);\n            this.el = this.$el[0];\n            if (delegate !== false)\n                this.delegateEvents();\n            return this;\n        },\n        // Set callbacks, where `this.events` is a hash of\n        //\n        // *{\"event selector\": \"callback\"}*\n        //\n        //     {\n        //       'mousedown .title':  'edit',\n        //       'click .button':     'save',\n        //       'click .open':       function(e) { ... }\n        //     }\n        //\n        // pairs. Callbacks will be bound to the view, with `this` set properly.\n        // Uses event delegation for efficiency.\n        // Omitting the selector binds the event to `this.el`.\n        // This only works for delegate-able events: not `focus`, `blur`, and\n        // not `change`, `submit`, and `reset` in Internet Explorer.\n        delegateEvents: function (events) {\n            if (!(events || (events = _.result(this, 'events'))))\n                return this;\n            this.undelegateEvents();\n            for (var key in events) {\n                var method = events[key];\n                if (!_.isFunction(method))\n                    method = this[events[key]];\n                if (!method)\n                    continue;\n                var match = key.match(delegateEventSplitter);\n                var eventName = match[1], selector = match[2];\n                method = _.bind(method, this);\n                eventName += '.delegateEvents' + this.cid;\n                if (selector === '') {\n                    this.$el.on(eventName, method);\n                } else {\n                    this.$el.on(eventName, selector, method);\n                }\n            }\n            return this;\n        },\n        // Clears all callbacks previously bound to the view with `delegateEvents`.\n        // You usually don't need to use this, but may wish to if you have multiple\n        // Backbone views attached to the same DOM element.\n        undelegateEvents: function () {\n            this.$el.off('.delegateEvents' + this.cid);\n            return this;\n        },\n        // Performs the initial configuration of a View with a set of options.\n        // Keys with special meaning *(e.g. model, collection, id, className)* are\n        // attached directly to the view.  See `viewOptions` for an exhaustive\n        // list.\n        _configure: function (options) {\n            if (this.options)\n                options = _.extend({}, _.result(this, 'options'), options);\n            _.extend(this, _.pick(options, viewOptions));\n            this.options = options;\n        },\n        // Ensure that the View has a DOM element to render into.\n        // If `this.el` is a string, pass it through `$()`, take the first\n        // matching element, and re-assign it to `el`. Otherwise, create\n        // an element from the `id`, `className` and `tagName` properties.\n        _ensureElement: function () {\n            if (!this.el) {\n                var attrs = _.extend({}, _.result(this, 'attributes'));\n                if (this.id)\n                    attrs.id = _.result(this, 'id');\n                if (this.className)\n                    attrs['class'] = _.result(this, 'className');\n                var $el = Backbone.$('<' + _.result(this, 'tagName') + '>').attr(attrs);\n                this.setElement($el, false);\n            } else {\n                this.setElement(_.result(this, 'el'), false);\n            }\n        }\n    });\n    // Backbone.sync\n    // -------------\n    // Override this function to change the manner in which Backbone persists\n    // models to the server. You will be passed the type of request, and the\n    // model in question. By default, makes a RESTful Ajax request\n    // to the model's `url()`. Some possible customizations could be:\n    //\n    // * Use `setTimeout` to batch rapid-fire updates into a single request.\n    // * Send up the models as XML instead of JSON.\n    // * Persist models via WebSockets instead of Ajax.\n    //\n    // Turn on `Backbone.emulateHTTP` in order to send `PUT` and `DELETE` requests\n    // as `POST`, with a `_method` parameter containing the true HTTP method,\n    // as well as all requests with the body as `application/x-www-form-urlencoded`\n    // instead of `application/json` with the model in a param named `model`.\n    // Useful when interfacing with server-side languages like **PHP** that make\n    // it difficult to read the body of `PUT` requests.\n    Backbone.sync = function (method, model, options) {\n        var type = methodMap[method];\n        // Default options, unless specified.\n        _.defaults(options || (options = {}), {\n            emulateHTTP: Backbone.emulateHTTP,\n            emulateJSON: Backbone.emulateJSON\n        });\n        // Default JSON-request options.\n        var params = {\n            type: type,\n            dataType: 'json'\n        };\n        // Ensure that we have a URL.\n        if (!options.url) {\n            params.url = _.result(model, 'url') || urlError();\n        }\n        // Ensure that we have the appropriate request data.\n        if (options.data == null && model && (method === 'create' || method === 'update' || method === 'patch')) {\n            params.contentType = 'application/json';\n            params.data = JSON.stringify(options.attrs || model.toJSON(options));\n        }\n        // For older servers, emulate JSON by encoding the request into an HTML-form.\n        if (options.emulateJSON) {\n            params.contentType = 'application/x-www-form-urlencoded';\n            params.data = params.data ? { model: params.data } : {};\n        }\n        // For older servers, emulate HTTP by mimicking the HTTP method with `_method`\n        // And an `X-HTTP-Method-Override` header.\n        if (options.emulateHTTP && (type === 'PUT' || type === 'DELETE' || type === 'PATCH')) {\n            params.type = 'POST';\n            if (options.emulateJSON)\n                params.data._method = type;\n            var beforeSend = options.beforeSend;\n            options.beforeSend = function (xhr) {\n                xhr.setRequestHeader('X-HTTP-Method-Override', type);\n                if (beforeSend)\n                    return beforeSend.apply(this, arguments);\n            };\n        }\n        // Don't process data on a non-GET request.\n        if (params.type !== 'GET' && !options.emulateJSON) {\n            params.processData = false;\n        }\n        // If we're sending a `PATCH` request, and we're in an old Internet Explorer\n        // that still has ActiveX enabled by default, override jQuery to use that\n        // for XHR instead. Remove this line when jQuery supports `PATCH` on IE8.\n        if (params.type === 'PATCH' && noXhrPatch) {\n            params.xhr = function () {\n                return new ActiveXObject('Microsoft.XMLHTTP');\n            };\n        }\n        // Make the request, allowing the user to override any Ajax options.\n        var xhr = options.xhr = Backbone.ajax(_.extend(params, options));\n        model.trigger('request', model, xhr, options);\n        return xhr;\n    };\n    var noXhrPatch = typeof window !== 'undefined' && !!window.ActiveXObject && !(window.XMLHttpRequest && new XMLHttpRequest().dispatchEvent);\n    // Map from CRUD to HTTP for our default `Backbone.sync` implementation.\n    var methodMap = {\n        'create': 'POST',\n        'update': 'PUT',\n        'patch': 'PATCH',\n        'delete': 'DELETE',\n        'read': 'GET'\n    };\n    // Set the default implementation of `Backbone.ajax` to proxy through to `$`.\n    // Override this if you'd like to use a different library.\n    Backbone.ajax = function () {\n        return Backbone.$.ajax.apply(Backbone.$, arguments);\n    };\n    // Backbone.Router\n    // ---------------\n    // Routers map faux-URLs to actions, and fire events when routes are\n    // matched. Creating a new one sets its `routes` hash, if not set statically.\n    var Router = Backbone.Router = function (options) {\n        options || (options = {});\n        if (options.routes)\n            this.routes = options.routes;\n        this._bindRoutes();\n        this.initialize.apply(this, arguments);\n    };\n    // Cached regular expressions for matching named param parts and splatted\n    // parts of route strings.\n    var optionalParam = /\\((.*?)\\)/g;\n    var namedParam = /(\\(\\?)?:\\w+/g;\n    var splatParam = /\\*\\w+/g;\n    var escapeRegExp = /[\\-{}\\[\\]+?.,\\\\\\^$|#\\s]/g;\n    // Set up all inheritable **Backbone.Router** properties and methods.\n    _.extend(Router.prototype, Events, {\n        // Initialize is an empty function by default. Override it with your own\n        // initialization logic.\n        initialize: function () {\n        },\n        // Manually bind a single named route to a callback. For example:\n        //\n        //     this.route('search/:query/p:num', 'search', function(query, num) {\n        //       ...\n        //     });\n        //\n        route: function (route, name, callback) {\n            if (!_.isRegExp(route))\n                route = this._routeToRegExp(route);\n            if (_.isFunction(name)) {\n                callback = name;\n                name = '';\n            }\n            if (!callback)\n                callback = this[name];\n            var router = this;\n            Backbone.history.route(route, function (fragment) {\n                var args = router._extractParameters(route, fragment);\n                router.execute(callback, args);\n                router.trigger.apply(router, ['route:' + name].concat(args));\n                router.trigger('route', name, args);\n                Backbone.history.trigger('route', router, name, args);\n            });\n            return this;\n        },\n        // Execute a route handler with the provided parameters.  This is an\n        // excellent place to do pre-route setup or post-route cleanup.\n        execute: function (callback, args) {\n            if (callback)\n                callback.apply(this, args);\n        },\n        // Simple proxy to `Backbone.history` to save a fragment into the history.\n        navigate: function (fragment, options) {\n            Backbone.history.navigate(fragment, options);\n            return this;\n        },\n        // Bind all defined routes to `Backbone.history`. We have to reverse the\n        // order of the routes here to support behavior where the most general\n        // routes can be defined at the bottom of the route map.\n        _bindRoutes: function () {\n            if (!this.routes)\n                return;\n            this.routes = _.result(this, 'routes');\n            var route, routes = _.keys(this.routes);\n            while ((route = routes.pop()) != null) {\n                this.route(route, this.routes[route]);\n            }\n        },\n        // Convert a route string into a regular expression, suitable for matching\n        // against the current location hash.\n        _routeToRegExp: function (route) {\n            route = route.replace(escapeRegExp, '\\\\$&').replace(optionalParam, '(?:$1)?').replace(namedParam, function (match, optional) {\n                return optional ? match : '([^/?]+)';\n            }).replace(splatParam, '([^?]*?)');\n            return new RegExp('^' + route + '(?:\\\\?([\\\\s\\\\S]*))?$');\n        },\n        // Given a route, and a URL fragment that it matches, return the array of\n        // extracted decoded parameters. Empty or unmatched parameters will be\n        // treated as `null` to normalize cross-browser behavior.\n        _extractParameters: function (route, fragment) {\n            var params = route.exec(fragment).slice(1);\n            return _.map(params, function (param, i) {\n                // Don't decode the search params.\n                if (i === params.length - 1)\n                    return param || null;\n                return param ? decodeURIComponent(param) : null;\n            });\n        }\n    });\n    // Backbone.History\n    // ----------------\n    // Handles cross-browser history management, based on either\n    // [pushState](http://diveintohtml5.info/history.html) and real URLs, or\n    // [onhashchange](https://developer.mozilla.org/en-US/docs/DOM/window.onhashchange)\n    // and URL fragments. If the browser supports neither (old IE, natch),\n    // falls back to polling.\n    var History = Backbone.History = function () {\n        this.handlers = [];\n        _.bindAll(this, 'checkUrl');\n        // Ensure that `History` can be used outside of the browser.\n        if (typeof window !== 'undefined') {\n            this.location = window.location;\n            this.history = window.history;\n        }\n    };\n    // Cached regex for stripping a leading hash/slash and trailing space.\n    var routeStripper = /^[#\\/]|\\s+$/g;\n    // Cached regex for stripping leading and trailing slashes.\n    var rootStripper = /^\\/+|\\/+$/g;\n    // Cached regex for detecting MSIE.\n    var isExplorer = /msie [\\w.]+/;\n    // Cached regex for removing a trailing slash.\n    var trailingSlash = /\\/$/;\n    // Cached regex for stripping urls of hash.\n    var pathStripper = /#.*$/;\n    // Has the history handling already been started?\n    History.started = false;\n    // Set up all inheritable **Backbone.History** properties and methods.\n    _.extend(History.prototype, Events, {\n        // The default interval to poll for hash changes, if necessary, is\n        // twenty times a second.\n        interval: 50,\n        // Are we at the app root?\n        atRoot: function () {\n            return this.location.pathname.replace(/[^\\/]$/, '$&/') === this.root;\n        },\n        // Gets the true hash value. Cannot use location.hash directly due to bug\n        // in Firefox where location.hash will always be decoded.\n        getHash: function (window) {\n            var match = (window || this).location.href.match(/#(.*)$/);\n            return match ? match[1] : '';\n        },\n        // Get the cross-browser normalized URL fragment, either from the URL,\n        // the hash, or the override.\n        getFragment: function (fragment, forcePushState) {\n            if (fragment == null) {\n                if (this._hasPushState || !this._wantsHashChange || forcePushState) {\n                    fragment = decodeURI(this.location.pathname + this.location.search);\n                    var root = this.root.replace(trailingSlash, '');\n                    if (!fragment.indexOf(root))\n                        fragment = fragment.slice(root.length);\n                } else {\n                    fragment = this.getHash();\n                }\n            }\n            return fragment.replace(routeStripper, '');\n        },\n        // Start the hash change handling, returning `true` if the current URL matches\n        // an existing route, and `false` otherwise.\n        start: function (options) {\n            if (History.started)\n                throw new Error('Backbone.history has already been started');\n            History.started = true;\n            // Figure out the initial configuration. Do we need an iframe?\n            // Is pushState desired ... is it available?\n            this.options = _.extend({ root: '/' }, this.options, options);\n            this.root = this.options.root;\n            this._wantsHashChange = this.options.hashChange !== false;\n            this._wantsPushState = !!this.options.pushState;\n            this._hasPushState = !!(this.options.pushState && this.history && this.history.pushState);\n            var fragment = this.getFragment();\n            var docMode = document.documentMode;\n            var oldIE = isExplorer.exec(navigator.userAgent.toLowerCase()) && (!docMode || docMode <= 7);\n            // Normalize root to always include a leading and trailing slash.\n            this.root = ('/' + this.root + '/').replace(rootStripper, '/');\n            if (oldIE && this._wantsHashChange) {\n                var frame = Backbone.$('<iframe src=\"javascript:0\" tabindex=\"-1\">');\n                this.iframe = frame.hide().appendTo('body')[0].contentWindow;\n                this.navigate(fragment);\n            }\n            // Depending on whether we're using pushState or hashes, and whether\n            // 'onhashchange' is supported, determine how we check the URL state.\n            if (this._hasPushState) {\n                Backbone.$(window).on('popstate', this.checkUrl);\n            } else if (this._wantsHashChange && 'onhashchange' in window && !oldIE) {\n                Backbone.$(window).on('hashchange', this.checkUrl);\n            } else if (this._wantsHashChange) {\n                this._checkUrlInterval = setInterval(this.checkUrl, this.interval);\n            }\n            // Determine if we need to change the base url, for a pushState link\n            // opened by a non-pushState browser.\n            this.fragment = fragment;\n            var loc = this.location;\n            // Transition from hashChange to pushState or vice versa if both are\n            // requested.\n            if (this._wantsHashChange && this._wantsPushState) {\n                // If we've started off with a route from a `pushState`-enabled\n                // browser, but we're currently in a browser that doesn't support it...\n                if (!this._hasPushState && !this.atRoot()) {\n                    this.fragment = this.getFragment(null, true);\n                    this.location.replace(this.root + '#' + this.fragment);\n                    // Return immediately as browser will do redirect to new url\n                    return true;    // Or if we've started out with a hash-based route, but we're currently\n                                    // in a browser where it could be `pushState`-based instead...\n                } else if (this._hasPushState && this.atRoot() && loc.hash) {\n                    this.fragment = this.getHash().replace(routeStripper, '');\n                    this.history.replaceState({}, document.title, this.root + this.fragment);\n                }\n            }\n            if (!this.options.silent)\n                return this.loadUrl();\n        },\n        // Disable Backbone.history, perhaps temporarily. Not useful in a real app,\n        // but possibly useful for unit testing Routers.\n        stop: function () {\n            Backbone.$(window).off('popstate', this.checkUrl).off('hashchange', this.checkUrl);\n            if (this._checkUrlInterval)\n                clearInterval(this._checkUrlInterval);\n            History.started = false;\n        },\n        // Add a route to be tested when the fragment changes. Routes added later\n        // may override previous routes.\n        route: function (route, callback) {\n            this.handlers.unshift({\n                route: route,\n                callback: callback\n            });\n        },\n        // Checks the current URL to see if it has changed, and if it has,\n        // calls `loadUrl`, normalizing across the hidden iframe.\n        checkUrl: function (e) {\n            var current = this.getFragment();\n            if (current === this.fragment && this.iframe) {\n                current = this.getFragment(this.getHash(this.iframe));\n            }\n            if (current === this.fragment)\n                return false;\n            if (this.iframe)\n                this.navigate(current);\n            this.loadUrl();\n        },\n        // Attempt to load the current URL fragment. If a route succeeds with a\n        // match, returns `true`. If no defined routes matches the fragment,\n        // returns `false`.\n        loadUrl: function (fragment) {\n            fragment = this.fragment = this.getFragment(fragment);\n            return _.any(this.handlers, function (handler) {\n                if (handler.route.test(fragment)) {\n                    handler.callback(fragment);\n                    return true;\n                }\n            });\n        },\n        // Save a fragment into the hash history, or replace the URL state if the\n        // 'replace' option is passed. You are responsible for properly URL-encoding\n        // the fragment in advance.\n        //\n        // The options object can contain `trigger: true` if you wish to have the\n        // route callback be fired (not usually desirable), or `replace: true`, if\n        // you wish to modify the current URL without adding an entry to the history.\n        navigate: function (fragment, options) {\n            if (!History.started)\n                return false;\n            if (!options || options === true)\n                options = { trigger: !!options };\n            var url = this.root + (fragment = this.getFragment(fragment || ''));\n            // Strip the hash for matching.\n            fragment = fragment.replace(pathStripper, '');\n            if (this.fragment === fragment)\n                return;\n            this.fragment = fragment;\n            // Don't include a trailing slash on the root.\n            if (fragment === '' && url !== '/')\n                url = url.slice(0, -1);\n            // If pushState is available, we use it to set the fragment as a real URL.\n            if (this._hasPushState) {\n                this.history[options.replace ? 'replaceState' : 'pushState']({}, document.title, url);    // If hash changes haven't been explicitly disabled, update the hash\n                                                                                                          // fragment to store history.\n            } else if (this._wantsHashChange) {\n                this._updateHash(this.location, fragment, options.replace);\n                if (this.iframe && fragment !== this.getFragment(this.getHash(this.iframe))) {\n                    // Opening and closing the iframe tricks IE7 and earlier to push a\n                    // history entry on hash-tag change.  When replace is true, we don't\n                    // want this.\n                    if (!options.replace)\n                        this.iframe.document.open().close();\n                    this._updateHash(this.iframe.location, fragment, options.replace);\n                }    // If you've told us that you explicitly don't want fallback hashchange-\n                     // based history, then `navigate` becomes a page refresh.\n            } else {\n                return this.location.assign(url);\n            }\n            if (options.trigger)\n                return this.loadUrl(fragment);\n        },\n        // Update the hash location, either replacing the current entry, or adding\n        // a new one to the browser history.\n        _updateHash: function (location, fragment, replace) {\n            if (replace) {\n                var href = location.href.replace(/(javascript:|#).*$/, '');\n                location.replace(href + '#' + fragment);\n            } else {\n                // Some browsers require that `hash` contains a leading #.\n                location.hash = '#' + fragment;\n            }\n        }\n    });\n    // Create the default Backbone.history.\n    Backbone.history = new History();\n    // Helpers\n    // -------\n    // Helper function to correctly set up the prototype chain, for subclasses.\n    // Similar to `goog.inherits`, but uses a hash of prototype properties and\n    // class properties to be extended.\n    var extend = function (protoProps, staticProps) {\n        var parent = this;\n        var child;\n        // The constructor function for the new subclass is either defined by you\n        // (the \"constructor\" property in your `extend` definition), or defaulted\n        // by us to simply call the parent's constructor.\n        if (protoProps && _.has(protoProps, 'constructor')) {\n            child = protoProps.constructor;\n        } else {\n            child = function () {\n                return parent.apply(this, arguments);\n            };\n        }\n        // Add static properties to the constructor function, if supplied.\n        _.extend(child, parent, staticProps);\n        // Set the prototype chain to inherit from `parent`, without calling\n        // `parent`'s constructor function.\n        var Surrogate = function () {\n            this.constructor = child;\n        };\n        Surrogate.prototype = parent.prototype;\n        child.prototype = new Surrogate();\n        // Add prototype properties (instance properties) to the subclass,\n        // if supplied.\n        if (protoProps)\n            _.extend(child.prototype, protoProps);\n        // Set a convenience property in case the parent's prototype is needed\n        // later.\n        child.__super__ = parent.prototype;\n        return child;\n    };\n    // Set up inheritance for the model, collection, router, view and history.\n    Model.extend = Collection.extend = Router.extend = View.extend = History.extend = extend;\n    // Throw an error when a URL is needed, and none is supplied.\n    var urlError = function () {\n        throw new Error('A \"url\" property or function must be specified');\n    };\n    // Wrap an optional error callback with a fallback error event.\n    var wrapError = function (model, options) {\n        var error = options.error;\n        options.error = function (resp) {\n            if (error)\n                error(model, resp, options);\n            model.trigger('error', model, resp, options);\n        };\n    };\n    return Backbone;\n}));","define('sc_cct_html.tpl', [], []);","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module GlobalViews\ndefine('GlobalViews.Message.View', [\n    'global_views_message.tpl',\n    'Backbone',\n    'underscore'\n], function (global_views_message_tpl, Backbone, _) {\n    'use strict';\n    // @class GlobalViews.Message.View @extends Backbone.View\n    return Backbone.View.extend({\n        template: global_views_message_tpl    // @method initialize\n                                    // @param {GlobalViews.Message.View.InitializeOptions} options\n                                    // @return {Void}\n,\n        event: { 'click [data-action=\"close-message\"]': 'closeMessage' },\n        show: function show($placeholder, time) {\n            $placeholder.empty();\n            this.render();\n            $placeholder.html(this.$el).show();\n            if (time && time > 0) {\n                setTimeout(function () {\n                    $placeholder.fadeOut(function () {\n                        $placeholder.empty();\n                    });\n                }, time);\n            }\n        },\n        closeMessage: function closeMessage(e) {\n            return _.isFunction(this.options.closeMessageHandler) && this.options.closeMessageHandler(e);\n        },\n        childViews: {\n            'global-views-message-childview-message': function () {\n                return this.options.childView;\n            }\n        }    // @method getContext\n             // @return {GlobalViews.Message.View.Context}\n,\n        getContext: function getContext() {\n            var has_error_code = !!this.options.message.errorCode, message = has_error_code ? this.options.message.message : this.options.message, errorCode = this.options.message.errorCode;\n            return {\n                // @property {String} message\n                message: message    // @property {Boolean} hasErrorCode\n,\n                hasErrorCode: has_error_code    // @property {String} errorCode\n,\n                errorCode: errorCode    // @property {Boolean} closable\n,\n                closable: !!this.options.closable,\n                type: this.options.type ? 'global-views-message-' + this.options.type : ''    // @property {Boolean} showMultipleMessage\n,\n                showMultipleMessage: !!_.isObject(this.options.message) && !has_error_code    // @property {Array} messages\n,\n                messages: _.isArray(this.options.message) ? this.options.message : [this.options.message]    // @property {Boolean} showStringMessage\n,\n                showStringMessage: !this.options.childView\n            };    // @class GlobalViewss.Message.View\n        }\n    });\n});    //@class GlobalViews.Message.View.InitializeOptions\n       //@property {String|Array<String>?} message Message or list of message to show\n       //@property {Boolean} closable Indicate if the message can be closed or not\n       //@property {String} type Optional class name of be added into the resulting HTML message\n       //@property {Function} closeMessageHandler Optional handler for the close action\n       //@property {SC.View} childView Optional view used to show the message. When a view is specified the message property will be ignored\n","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module PluginContainer Defines the architecture to extend module through plugins\ndefine('PluginContainer', ['underscore'], function (_) {\n    'use strict';\n    // @class PluginContainer The PluginContainer pattern is very similar to events listeners pattern but\n    // designed to let listeners hook more appropiately into some processing. One or more Plugin objects\n    // are installed into a PluginContainer and the owner of the container runs container.executeAll()\n    // Registered plugins will be then executed by priority order and if any input is passed it will transformed\n    var PluginContainer = function () {\n        this.initialize();\n    };\n    _(PluginContainer.prototype).extend({\n        // @method initialize\n        initialize: function () {\n            this.plugins = [];\n        }    // @method executeAll execute all registered plugins The first param is the\n             // input and the rest of the params will be passed to Plugin's execute method.\n             // @param {Any} input. Optional. The input that plugins will take and transform.\n             // @return {Any} the output, if any\n,\n        executeAll: function () {\n            var args = Array.prototype.slice.call(arguments, 0);\n            _(this.plugins).each(function (p) {\n                args[0] = p.execute.apply(p, args) || args[0];\n            });\n            return args[0];\n        }    // @method executeAllWithContext execute all registered plugins The first param is the\n             // context and the rest of the params will be passed to Plugin's execute method.\n             // @param {Any} context. Optional. The context that plugins will take and transform.\n             // @return {Any} the output, if any\n,\n        executeAllWithContext: function () {\n            var context = arguments[0], args = Array.prototype.slice.call(arguments, 1);\n            _(this.plugins).each(function (p) {\n                args[0] = p.execute.apply(context || p, args) || args[0];\n            });\n            return args[0];\n        },\n        _getPluginName: function (plugin) {\n            return _(plugin).isString() ? plugin : plugin.name;\n        }    // @method install add a new plugin \n             // @param {Plugin} plugin\n             // @return {Void}\n,\n        install: function (plugin) {\n            this.plugins.push(plugin);\n            this.plugins = _(this.plugins).sort(function (a, b) {\n                return a.priority < b.priority ? 1 : -1;\n            });\n        }    //@method uninstall Remove an installed plugin \n             // @param {Plugin|String} plugin\n             // @return {Void}\n,\n        uninstall: function uninstall(plugin) {\n            var name = this._getPluginName(plugin);\n            this.plugins = _(this.plugins).reject(function (p) {\n                return p.name === name;\n            });\n        }\n    });\n    return PluginContainer;\n});    // @class Plugin installable in a PluginContainer. There is no concrete API, only an execute method and\n       // It's up to the users to define de Plugin semantics @property {String} name used to identify the plugins in the container\n       // @property {Number} priority lower numbers will execute before higher numbers\n       // @method {Function} execute @param {Any} input @return {Any} pugins have the possibility of\n       // @return {Any} will do some modifications to any passed object and will return these modifications - implementer freedom\n","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module SC\ndefine('SC.CancelableEvents', [\n    'underscore',\n    'jQuery'\n], function (_, jQuery) {\n    'use strict';\n    /*\n\t@class SC.CancelableEvents\n\n\tCancelable events adds canceling functionality to the Observer pattern so Listeners can notify the Subject\n\tto cancel the actual action.\n\n\tParticularly, in SuiteCommerce extension APIs, for each action, two different events are triggered, one *before* the action\n\thappen and other *after* the action happen. In the case of *before* events, listeners can cancel the execution of the actual\n\taction by throwing an Error or by returning a rejected @?class jQuery.Deferred instance.\n\n\tThis is specially useful when doing validations, being able to call an external service to validate the input, and canceling\n\tif the validation fails.\n\n\tExample: canceling an option selection from a listener by throwing an Error:\n\n\t\tpdp_component.on('beforeOptionSelection', function()\t{\n\t\t\tif(someCondition)\n\t\t    \tthrow new Error('Canceling select option.');\n\t\t});\n\n\tExample: same as before but returning a rejected promise:\n\n\t\tpdp_component.on('beforeOptionSelection', function()\t{\n\t\t\tif(someCondition)\n\t\t\t    return jQuery.Deferred().reject(new Error('Canceling select option.'));\n\t\t});\n\n\t@extlayer\n\t*/\n    return {\n        // @method cancelableOn Allow to attach an event handler into a particular event name\n        // @public @extlayer\n        // @param {String} event_name The name of the event to attach to\n        // @param {Function} handler The event handler function that will be invoked when the event __event_name__ is triggered.\n        // This function can receive optionally one parameter representing the action parameter. Besides optionally can return a jQuery.Deferred\n        // to details the execution of the trigger's callback. If the returned jQuery.Deferred is rejected the trigger's callback wont be called\n        // @return {Void}\n        cancelableOn: function cancelableOn(event_name, handler) {\n            this._cancelableOn(this, event_name, handler);\n        }    // @method cancelableOff Allow to detach an event handler.\n             // @public @extlayer\n             // @param {String} event_name The name of the event to detach from. Note that this parameter is mandatory\n             // @param {Function} handler The event handler function that will be removed from the list of register handlers. Note this parameter is required.\n             // @return {Void}\n,\n        cancelableOff: function cancelableOff(event_name, handler) {\n            if (!_.isString(event_name) || !_.isFunction(handler)) {\n                var error = new Error('Parameter \"event_name\" and \"handler\" must be String and Function respectively');\n                error.name = 'INVALID_PARAM';\n                throw error;\n            }\n            this._cancelableOff(this, event_name, handler);\n        }    // @method _cancelableOff Internal method that implemented the logic to remove an event handler from an event container.\n             // @private\n             // @param {Object} events_container_entity Any object used to store the list of event handlers\n             // @param {String} event_name The name of the event to detach from. Note that this parameter is mandatory\n             // @param {Function} handler The event handler function that will be removed from the list of register handlers. Note this parameter is required.\n             // @return {Object} the same events_container_entity passed in as parameter\n,\n        _cancelableOff: function _cancelableOff(events_container_entity, event_name, handler) {\n            if (!events_container_entity || !events_container_entity._cancelableEvents || !events_container_entity._cancelableEvents[event_name] || !events_container_entity._cancelableEvents[event_name].length) {\n                return events_container_entity;\n            }\n            events_container_entity._cancelableEvents[event_name] = _.reject(events_container_entity._cancelableEvents[event_name], function (event_object) {\n                return event_object.fn === handler;\n            });\n            return events_container_entity;\n        }    // @method _cancelableOn Internal method that implements the logic to add a new event handler into a container\n             // @private\n             // @param {Object} events_container_entity Any object used to store the list of event handlers\n             // @param {String} event_name The name of the event to attach to\n             // @param {Function} handler The event handler function that will be invoked when the event __event_name__ is triggered.\n             // This function can receive optionally one parameter representing the action parameter. Besides optionally can return a jQuery.Deferred\n             // to details the execution of the trigger's callback. If the returned jQuery.Deferred is rejected the trigger's callback wont be called\n             // @return {Object} the same events_container_entity passed in as parameter\n,\n        _cancelableOn: function _cancelableOn(events_container_entity, event_name, handler) {\n            events_container_entity._cancelableEvents = events_container_entity._cancelableEvents || {};\n            events_container_entity._cancelableEvents[event_name] = events_container_entity._cancelableEvents[event_name] || [];\n            var event_handlers = events_container_entity._cancelableEvents[event_name];\n            event_handlers.push({ fn: handler });\n            return events_container_entity;\n        }    // @method cancelableDisable Allow to disable all the handlers of a particular event\n             // @public @extlayer\n             // @param {String} event_name The name of the event to disable\n             // @return {Void}\n,\n        cancelableDisable: function cancelableDisable(event_name) {\n            if (!_.isString(event_name)) {\n                throw {\n                    status: SC.ERROR_IDENTIFIERS.invalidParameter.status,\n                    code: SC.ERROR_IDENTIFIERS.invalidParameter.code,\n                    message: 'Parameter \"event_name\" must be String'\n                };\n            }\n            this._cancelableDisable(this, event_name);\n        }    // @method _cancelableDisable Internal method that implements the logic to disable an event into a container\n             // @private\n             // @param {Object} events_container_entity Any object used to store the list of event handlers\n             // @param {String} event_name The name of the event to attach to\n             // @return {Object} the same events_container_entity passed in as parameter\n,\n        _cancelableDisable: function _cancelableDisable(events_container_entity, event_name) {\n            events_container_entity._cancelableEvents = events_container_entity._cancelableEvents || {};\n            events_container_entity._cancelableDisabledEvents = events_container_entity._cancelableDisabledEvents || {};\n            events_container_entity._cancelableDisabledEvents[event_name] = events_container_entity._cancelableDisabledEvents[event_name] || [];\n            //If already disable an event without re-enable it do nothing\n            if (_.isEmpty(events_container_entity._cancelableDisabledEvents[event_name])) {\n                events_container_entity._cancelableDisabledEvents[event_name] = events_container_entity._cancelableEvents[event_name] || [];\n                events_container_entity._cancelableEvents[event_name] = [];\n            }\n            return events_container_entity;\n        }    // @method cancelableEnable Allow to enable (restore) all the handlers of a particular event\n             // @public @extlayer\n             // @param {String} event_name The name of the event to disable\n             // @return {Void}\n,\n        cancelableEnable: function cancelableEnable(event_name) {\n            if (!_.isString(event_name)) {\n                throw {\n                    status: SC.ERROR_IDENTIFIERS.invalidParameter.status,\n                    code: SC.ERROR_IDENTIFIERS.invalidParameter.code,\n                    message: 'Parameter \"event_name\" must be String'\n                };\n            }\n            this._cancelableEnable(this, event_name);\n        }    // @method _cancelableEnable Internal method that implements the logic to enable (restore) an event into a container\n             // @private\n             // @param {Object} events_container_entity Any object used to store the list of event handlers\n             // @param {String} event_name The name of the event to attach to\n             // @return {Object} the same events_container_entity passed in as parameter\n,\n        _cancelableEnable: function _cancelableEnable(events_container_entity, event_name) {\n            events_container_entity._cancelableEvents = events_container_entity._cancelableEvents || {};\n            events_container_entity._cancelableDisabledEvents = events_container_entity._cancelableDisabledEvents || {};\n            events_container_entity._cancelableDisabledEvents[event_name] = events_container_entity._cancelableDisabledEvents[event_name] || [];\n            //If the event was not disable before do nothing\n            if (!_.isEmpty(events_container_entity._cancelableDisabledEvents[event_name])) {\n                events_container_entity._cancelableEvents[event_name] = _.union(events_container_entity._cancelableEvents[event_name] || [], events_container_entity._cancelableDisabledEvents[event_name]);\n                events_container_entity._cancelableDisabledEvents[event_name] = [];\n            }\n            return events_container_entity;\n        }    // @method cancelableTrigger Trigger the indicate event with the passed in parameters. In case that any of the event handler reject the execution (the callback WONT be called)\n             // @public @extlayer\n             // @param {String} event_name Event to trigger\n             // @param {...params} args All other parameter passed to this function will be broadcaster to all event handlers\n             // @return {jQuery.Deferred} As the event handler of an event can be asynchronous (that why it use Deferrers) the invocation of the callback is async. This means that this function\n             // will return Deferred to represent this asynchronous\n,\n        cancelableTrigger: function cancelableTrigger(event_name) {\n            var args = Array.prototype.slice.call(arguments).slice(1);\n            return this._cancelableTrigger(this, event_name, args, true);\n        }    // @method cancelableTriggerUnsafe Trigger the indicate event with the passed in parameters WITHOUT sanitize them.\n             // In case that any of the event handler reject (returns a rejected Deferred) the execution (the callback WONT be called)\n             // @public @extlayer\n             // @param {String} event_name Event to trigger\n             // @param {...params} args All other parameter passed to this function will be broadcaster to all event handlers\n             // @return {jQuery.Deferred} As the event handler of an event can be asynchronous (that why it use Deferrers) the invocation of the callback is async. This means that this function\n             // will return Deferred to represent this asynchronous\n,\n        cancelableTriggerUnsafe: function cancelableTriggerUnsafe(event_name) {\n            var args = Array.prototype.slice.call(arguments).slice(1);\n            return this._cancelableTrigger(this, event_name, args, false);\n        }    // @method _cancelableTrigger Internal method that will trigger the indicate event with the passed in data (intent). In case that any of the event handler reject the execution (the callback WONT be called)\n             // @private\n             // @param {Object} events_container_entity Store of the event handlers\n             // @param {String} event_name Event to trigger\n             // @param {Array<Any>} args Array of parameters to send to all event handlers attached to the specified event (if any)\n             // @param {Boolean} safe_parameters Indicate if the parameter args should be sanitized or no.\n             // @return {jQuery.Deferred}\n,\n        _cancelableTrigger: function _cancelableTrigger(events_container_entity, event_name, args, safe_parameters) {\n            var self = this;\n            if (!events_container_entity || !events_container_entity._cancelableEvents || !events_container_entity._cancelableEvents[event_name] || !events_container_entity._cancelableEvents[event_name].length) {\n                return jQuery.Deferred().resolve();\n            } else {\n                var event_handler_promises = _.map(events_container_entity._cancelableEvents[event_name], function (event_handler_container) {\n                    try {\n                        return event_handler_container.fn.apply(null, safe_parameters ? _.map(args, self._getSafeParameter) : args);\n                    } catch (e) {\n                        console.error('Exception on event handler for event ' + event_name, e);\n                        return jQuery.Deferred().reject(e);\n                    }\n                });\n                return jQuery.when.apply(jQuery, event_handler_promises);\n            }\n        }    // @method _getSafeParameter Generate a safe-to-be-used copy of the passed in parameter\n             // @private\n             // @param {Object?} original_intent Any object\n             // @return {Object?} Safe to be used by event handlers methods\n,\n        _getSafeParameter: function _getSafeParameter(original_intent) {\n            return _.isUndefined(original_intent) ? original_intent : JSON.parse(JSON.stringify(original_intent));\n        }\n    };\n});    // @class jQuery.Deferred See https://api.jquery.com/category/deferred-object/\n       // @method reject See https://api.jquery.com/category/deferred-object/ @extlayer\n       // @method resolve See https://api.jquery.com/category/deferred-object/ @extlayer\n       // @method then See https://api.jquery.com/category/deferred-object/ @extlayer\n","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n/*\n@module BackboneExtras\n#Backbone.View\nExtends native Backbone.View with a bunch of required methods most of this were defined as no-ops in ApplicationSkeleton.js\n@module Backbone @class Backbone.View\nIt overwrites the Backbone.View constructor with the one necessary to load all the views as composite views through\nthe beforeInitialize and afterInitialize plugins. This code needs to be here so that all the views can load it first.\n*/\ndefine('Backbone.View', [\n    'Backbone',\n    'GlobalViews.Message.View',\n    'underscore',\n    'jQuery',\n    'PluginContainer',\n    'SC.CancelableEvents'\n], function (Backbone, GlobalViewsMessageView, _, jQuery, PluginContainer, SCCancelableEvents) {\n    'use strict';\n    var proto = Backbone.View.prototype, view = Backbone.View;\n    Backbone.View.beforeInitialize = new PluginContainer();\n    Backbone.View.afterInitialize = new PluginContainer();\n    Backbone.View = function (options) {\n        this.cid = _.uniqueId('view');\n        this._configure(options || {});\n        this._ensureElement();\n        this.constructor.beforeInitialize.executeAllWithContext(this, arguments);\n        this.initialize.apply(this, arguments);\n        this.constructor.afterInitialize.executeAllWithContext(this, arguments);\n        this.delegateEvents();\n    };\n    _.extend(Backbone.View, view);\n    Backbone.View.prototype = proto;\n    _.extend(Backbone.View.prototype, {\n        // @property {String} errorMessage Default error message, usally overwritten by server response on error\n        errorMessage: 'Sorry, the information you provided is either incomplete or needs to be corrected.',\n        // @property {Array<String>} contextDataRequest The list of contexts that the view is requesting\n        contextDataRequest: []    // @method showContent @param {Boolean} dont_scroll will eventually be changed to an object literal\n              // @return {jQuery.Deferred}\n,\n        showContent: function (dont_scroll) {\n            return this.options.application && this.options.application.getLayout().showContent(this, dont_scroll);\n        }    // @method showInModal @param {Object} options @return {jQuery.Deferred}\n,\n        showInModal: function (options) {\n            // NavigationHelper.Plugins.Modals triggering the beforeShowContent event twice\n            // for the ProductDetails.Quick.View\n            if (options && options.silence) {\n                delete options.silence;\n                return this.options.application && this.options.application.getLayout()._showInModal(this, options);\n            } else {\n                return this.options.application && this.options.application.getLayout().showInModal(this, options);\n            }\n        }    // @method showInPush @param {Object} options @return {jQuery.Deferred}\n,\n        showInPush: function (options) {\n            return this.options.application && this.options.application.getLayout().showInPush(this, options);\n        }    // @method getMetaDescription Get view's SEO attributes @return {String}\n,\n        getMetaDescription: function () {\n            return this.metaDescription;\n        }    // @method getMetaKeywords @return {String}\n,\n        getMetaKeywords: function () {\n            return this.metaKeywords;\n        }    // @method getAddToHead @return {String}\n,\n        getAddToHead: function () {\n            return this.addToHead;\n        }    // @method getMetaTags @return {Array<HTMLElement>}\n,\n        getMetaTags: function () {\n            return jQuery('<head/>').html(this.metaTags || '').children('meta');\n        }    //@method getTitle @returns {String} the document's title to show when this view is active.\n,\n        getTitle: function () {\n            // @property {String} title this view title. The default behavior is to set the document's title using view.title when calling view.showContent()\n            return this.title;\n        }    // @method getPageDescription returns a text describing the page this view is implemented in the case is rendered as a main view with Layout.showContent()\n,\n        getPageDescription: function () {\n            return this.attributes ? this.attributes.id || this.attributes['class'] || '' : '';\n        }    //@method getCanonical @return {String}\n,\n        getCanonical: function () {\n            var canonical = window.location.protocol + '//' + window.location.hostname + '/' + Backbone.history.fragment, index_of_query = canonical.indexOf('?');\n            // !~ means: indexOf == -1\n            return !~index_of_query ? canonical : canonical.substring(0, index_of_query);\n        }    // @method getRelPrev For paginated pages, subclasses should implement this operations to return the url of the previous and next pages\n,\n        getRelPrev: jQuery.noop,\n        getRelNext: jQuery.noop,\n        _destroy: function () {\n        }    // @method destroy\n,\n        destroy: function (softDestroy) {\n            this._destroy(softDestroy);\n        }    // @method showConfirmationMessage @param {String} message\n,\n        showConfirmationMessage: function (message, fixed) {\n            var confirmation_message = this.$('[data-confirm-message]'), global_view_message = new GlobalViewsMessageView({\n                    message: message,\n                    type: 'success',\n                    closable: true\n                });\n            confirmation_message.html(global_view_message.render().$el.html());\n            if (!fixed) {\n                setTimeout(function () {\n                    confirmation_message.fadeOut(3000);\n                }, 5000);\n            }\n        }    // @method showWarningMessage @param {String} message\n,\n        showWarningMessage: function (message) {\n            var global_view_message = new GlobalViewsMessageView({\n                message: message,\n                type: 'warning',\n                closable: true\n            });\n            this.$('[data-confirm-message]').html(global_view_message.render().$el.html());\n        }    // @method disableElementsOnPromise Disables and re-enables a given set of elements based on a promise\n             // @param {jQuery.Deferred} promise @param {String} selector\n,\n        disableElementsOnPromise: function (promise, selector) {\n            var $target = this.$(selector);\n            console.warn('Use of deprecated method View.disableElementsOnPromise');\n            if ($target.length === 0) {\n                return;\n            }\n            $target.attr('disabled', true);\n            promise.always(function () {\n                $target.attr('disabled', false);\n            });\n        },\n        getContext: function () {\n            return {};\n        }    // @method validateContextDataRequest Validate if the context that the view recieves is enough for it to work\n             // @param {Object} context_data An object with the contexts found\n             // @return {Boolean}\n,\n        validateContextDataRequest: function (context_data) {\n            return _.keys(context_data).length === this.contextDataRequest.length;\n        }    // @method getContextDataRequest Returns a copy of the 'contextDataRequest' property\n             // @return {Array<String>}\n,\n        getContextDataRequest: function () {\n            return this.contextDataRequest.slice();\n        }\n    }, SCCancelableEvents);\n    //Static methods\n    _.extend(Backbone.View, {\n        //@method _isEventSelectorValid Validates is the passed in selector follows the format/standard required by SC Views\n        //format: '<event_name> [data=action=\"<event_handlerName>\"]'\n        //@private\n        //@param {String} event_selector Selector to be validates\n        //@return {Boolean}\n        _isEventSelectorValid: function _isEventSelectorValid(event_selector) {\n            var event_name = [\n                'blur',\n                'change',\n                'click',\n                'contextmenu',\n                'dblclick',\n                'error',\n                'focus',\n                'focusin',\n                'focusout',\n                'keydown',\n                'keypress',\n                'keyup',\n                'load',\n                'mousedown',\n                'mousemove',\n                'mouseout',\n                'mouseover',\n                'mouseup',\n                'resize',\n                'scroll',\n                'select',\n                'submit',\n                'touchend',\n                'touchmove',\n                'touchstart',\n                'unload'\n            ];\n            var event_selector_structure_re = /([a-zA-Z]+) \\[data\\-action=\"([^\"]+)\"\\]/, matches = event_selector_structure_re.exec(event_selector);\n            return matches && _.indexOf(event_name, matches[1]) >= 0 && !!matches[2].length;\n        }    //@method addExtraEventHandler Adds an extra event handler to the current view\n             //@param {String} event_selector Event specification to be added into the list of event handled by the current view\n             //@param {Function} callback Function that will be called when the specified event is triggered\n             //@return {Void}\n             //@static\n             //@public\n,\n        addExtraEventHandler: function addExtraEventHandler(event_selector, callback) {\n            var error = {};\n            this.prototype.events = this.prototype.events || {};\n            if (!this._isEventSelectorValid(event_selector)) {\n                error = new Error('The specified event_selector parameter does not respect the required format.');\n                error.name = 'INVALID_PARAM';\n                throw error;\n            }\n            if (this.prototype.events[event_selector]) {\n                error = new Error('Duplicated event selector. Please specify a different one.');\n                error.name = 'DUPLICATED_EVENT_SELECTOR';\n                throw error;\n            }\n            this.prototype.events[event_selector] = _.bind(callback, null);\n            this.prototype.events[event_selector].custom = true;\n        }    //@method removeExtraEventHandler Removes an extra event handler of the current view\n             //@param {String} event_selector Event specification to be added into the list of event handled by the current view\n             //@return {Void}\n             //@static\n             //@public\n,\n        removeExtraEventHandler: function removeExtraEventHandler(event_selector) {\n            var error = {};\n            this.prototype.events = this.prototype.events || {};\n            if (!this.prototype.events[event_selector] || !this.prototype.events[event_selector].custom) {\n                error = new Error('The specified event selector does not exists or is not custom.');\n                error.name = 'INVALID_PARAM';\n                throw error;\n            }\n            delete this.prototype.events[event_selector];\n        }\n    });\n    return Backbone.View;\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//! © 2015 NetSuite Inc.\n// String.format.js\n// ----------------\n// Used for the translation method in Utils.js\n// Will replace $(n) for the n parameter entered \n// eg: \"This $(0) a $(1), $(0) it?\".format(\"is\", \"test\");\n//     returns \"This is a test, is it?\"\ndefine('String.format', function () {\n    'use strict';\n    String.prototype.format = function () {\n        var args = arguments;\n        return this.replace(/\\$\\((\\d+)\\)/g, function (match, number) {\n            return typeof args[number] !== 'undefined' ? args[number] : match;\n        });\n    };\n});","// Backbone.Validation v0.9.1\n//\n// Copyright (c) 2011-2014 Thomas Pedersen\n// Distributed under MIT License\n//\n// Documentation and full license available at:\n// http://thedersen.com/projects/backbone-validation\ndefine('Backbone.Validation', ['Backbone'], function () {\n    Backbone.Validation = function (_) {\n        'use strict';\n        // Default options\n        // ---------------\n        var defaultOptions = {\n            forceUpdate: false,\n            selector: 'name',\n            labelFormatter: 'sentenceCase',\n            valid: Function.prototype,\n            invalid: Function.prototype\n        };\n        // Helper functions\n        // ----------------\n        // Formatting functions used for formatting error messages\n        var formatFunctions = {\n            // Uses the configured label formatter to format the attribute name\n            // to make it more readable for the user\n            formatLabel: function (attrName, model) {\n                return defaultLabelFormatters[defaultOptions.labelFormatter](attrName, model);\n            },\n            // Replaces nummeric placeholders like {0} in a string with arguments\n            // passed to the function\n            format: function () {\n                var args = Array.prototype.slice.call(arguments), text = args.shift();\n                return text.replace(/\\{(\\d+)\\}/g, function (match, number) {\n                    return typeof args[number] !== 'undefined' ? args[number] : match;\n                });\n            }\n        };\n        // Flattens an object\n        // eg:\n        //\n        //     var o = {\n        //       address: {\n        //         street: 'Street',\n        //         zip: 1234\n        //       }\n        //     };\n        //\n        // becomes:\n        //\n        //     var o = {\n        //       'address.street': 'Street',\n        //       'address.zip': 1234\n        //     };\n        var flatten = function (obj, into, prefix) {\n            into = into || {};\n            prefix = prefix || '';\n            _.each(obj, function (val, key) {\n                if (obj.hasOwnProperty(key)) {\n                    if (val && typeof val === 'object' && !(val instanceof Array || val instanceof Date || val instanceof RegExp || val instanceof Backbone.Model || val instanceof Backbone.Collection)) {\n                        flatten(val, into, prefix + key + '.');\n                    } else {\n                        into[prefix + key] = val;\n                    }\n                }\n            });\n            return into;\n        };\n        // Validation\n        // ----------\n        var Validation = function () {\n            // Returns an object with undefined properties for all\n            // attributes on the model that has defined one or more\n            // validation rules.\n            var getValidatedAttrs = function (model) {\n                return _.reduce(_.keys(_.result(model, 'validation') || {}), function (memo, key) {\n                    memo[key] = void 0;\n                    return memo;\n                }, {});\n            };\n            // Looks on the model for validations for a specified\n            // attribute. Returns an array of any validators defined,\n            // or an empty array if none is defined.\n            var getValidators = function (model, attr) {\n                var attrValidationSet = model.validation ? _.result(model, 'validation')[attr] || {} : {};\n                // If the validator is a function or a string, wrap it in a function validator\n                if (_.isFunction(attrValidationSet) || _.isString(attrValidationSet)) {\n                    attrValidationSet = { fn: attrValidationSet };\n                }\n                // Stick the validator object into an array\n                if (!_.isArray(attrValidationSet)) {\n                    attrValidationSet = [attrValidationSet];\n                }\n                // Reduces the array of validators into a new array with objects\n                // with a validation method to call, the value to validate against\n                // and the specified error message, if any\n                return _.reduce(attrValidationSet, function (memo, attrValidation) {\n                    _.each(_.without(_.keys(attrValidation), 'msg'), function (validator) {\n                        memo.push({\n                            fn: defaultValidators[validator],\n                            val: attrValidation[validator],\n                            msg: attrValidation.msg\n                        });\n                    });\n                    return memo;\n                }, []);\n            };\n            // Validates an attribute against all validators defined\n            // for that attribute. If one or more errors are found,\n            // the first error message is returned.\n            // If the attribute is valid, an empty string is returned.\n            var validateAttr = function (model, attr, value, computed) {\n                // Reduces the array of validators to an error message by\n                // applying all the validators and returning the first error\n                // message, if any.\n                return _.reduce(getValidators(model, attr), function (memo, validator) {\n                    // Pass the format functions plus the default\n                    // validators as the context to the validator\n                    var ctx = _.extend({}, formatFunctions, defaultValidators), result = validator.fn.call(ctx, value, attr, validator.val, model, computed);\n                    if (result === false || memo === false) {\n                        return false;\n                    }\n                    if (result && !memo) {\n                        return _.result(validator, 'msg') || result;\n                    }\n                    return memo;\n                }, '');\n            };\n            // Loops through the model's attributes and validates them all.\n            // Returns and object containing names of invalid attributes\n            // as well as error messages.\n            var validateModel = function (model, attrs) {\n                var error, invalidAttrs = {}, isValid = true, computed = _.clone(attrs), flattened = flatten(attrs);\n                _.each(flattened, function (val, attr) {\n                    error = validateAttr(model, attr, val, computed);\n                    if (error) {\n                        invalidAttrs[attr] = error;\n                        isValid = false;\n                    }\n                });\n                return {\n                    invalidAttrs: invalidAttrs,\n                    isValid: isValid\n                };\n            };\n            // Contains the methods that are mixed in on the model when binding\n            var mixin = function (view, options) {\n                return {\n                    // Check whether or not a value, or a hash of values\n                    // passes validation without updating the model\n                    preValidate: function (attr, value) {\n                        var self = this, result = {}, error;\n                        if (_.isObject(attr)) {\n                            _.each(attr, function (value, key) {\n                                error = self.preValidate(key, value);\n                                if (error) {\n                                    result[key] = error;\n                                }\n                            });\n                            return _.isEmpty(result) ? undefined : result;\n                        } else {\n                            return validateAttr(this, attr, value, _.extend({}, this.attributes));\n                        }\n                    },\n                    // Check to see if an attribute, an array of attributes or the\n                    // entire model is valid. Passing true will force a validation\n                    // of the model.\n                    isValid: function (option) {\n                        var flattened = flatten(this.attributes);\n                        if (_.isString(option)) {\n                            return !validateAttr(this, option, flattened[option], _.extend({}, this.attributes));\n                        }\n                        if (_.isArray(option)) {\n                            return _.reduce(option, function (memo, attr) {\n                                return memo && !validateAttr(this, attr, flattened[attr], _.extend({}, this.attributes));\n                            }, true, this);\n                        }\n                        if (option === true) {\n                            this.validate();\n                        }\n                        return this.validation ? this._isValid : true;\n                    },\n                    // This is called by Backbone when it needs to perform validation.\n                    // You can call it manually without any parameters to validate the\n                    // entire model.\n                    validate: function (attrs, setOptions) {\n                        var model = this, validateAll = !attrs, opt = _.extend({}, options, setOptions), validatedAttrs = getValidatedAttrs(model), allAttrs = _.extend({}, validatedAttrs, model.attributes, attrs), changedAttrs = flatten(attrs || allAttrs), result = validateModel(model, allAttrs);\n                        model._isValid = result.isValid;\n                        // After validation is performed, loop through all validated attributes\n                        // and call the valid callbacks so the view is updated.\n                        _.each(validatedAttrs, function (val, attr) {\n                            var invalid = result.invalidAttrs.hasOwnProperty(attr);\n                            if (!invalid) {\n                                opt.valid(view, attr, opt.selector);\n                            }\n                        });\n                        // After validation is performed, loop through all validated and changed attributes\n                        // and call the invalid callback so the view is updated.\n                        _.each(validatedAttrs, function (val, attr) {\n                            var invalid = result.invalidAttrs.hasOwnProperty(attr), changed = changedAttrs.hasOwnProperty(attr);\n                            if (invalid && (changed || validateAll)) {\n                                opt.invalid(view, attr, result.invalidAttrs[attr], opt.selector);\n                            }\n                        });\n                        // Trigger validated events.\n                        // Need to defer this so the model is actually updated before\n                        // the event is triggered.\n                        _.defer(function () {\n                            model.trigger('validated', model._isValid, model, result.invalidAttrs);\n                            model.trigger('validated:' + (model._isValid ? 'valid' : 'invalid'), model, result.invalidAttrs);\n                        });\n                        // Return any error messages to Backbone, unless the forceUpdate flag is set.\n                        // Then we do not return anything and fools Backbone to believe the validation was\n                        // a success. That way Backbone will update the model regardless.\n                        if (!opt.forceUpdate && _.intersection(_.keys(result.invalidAttrs), _.keys(changedAttrs)).length > 0) {\n                            return result.invalidAttrs;\n                        }\n                    }\n                };\n            };\n            // Helper to mix in validation on a model\n            var bindModel = function (view, model, options) {\n                _.extend(model, mixin(view, options));\n            };\n            // Removes the methods added to a model\n            var unbindModel = function (model) {\n                delete model.validate;\n                delete model.preValidate;\n                delete model.isValid;\n            };\n            // Mix in validation on a model whenever a model is\n            // added to a collection\n            var collectionAdd = function (model) {\n                bindModel(this.view, model, this.options);\n            };\n            // Remove validation from a model whenever a model is\n            // removed from a collection\n            var collectionRemove = function (model) {\n                unbindModel(model);\n            };\n            // Returns the public methods on Backbone.Validation\n            return {\n                // Current version of the library\n                version: '0.9.1',\n                // Called to configure the default options\n                configure: function (options) {\n                    _.extend(defaultOptions, options);\n                },\n                // Hooks up validation on a view with a model\n                // or collection\n                bind: function (view, options) {\n                    options = _.extend({}, defaultOptions, defaultCallbacks, options);\n                    var model = options.model || view.model, collection = options.collection || view.collection;\n                    if (typeof model === 'undefined' && typeof collection === 'undefined') {\n                        throw 'Before you execute the binding your view must have a model or a collection.\\n' + 'See http://thedersen.com/projects/backbone-validation/#using-form-model-validation for more information.';\n                    }\n                    if (model) {\n                        bindModel(view, model, options);\n                    } else if (collection) {\n                        collection.each(function (model) {\n                            bindModel(view, model, options);\n                        });\n                        collection.bind('add', collectionAdd, {\n                            view: view,\n                            options: options\n                        });\n                        collection.bind('remove', collectionRemove);\n                    }\n                },\n                // Removes validation from a view with a model\n                // or collection\n                unbind: function (view, options) {\n                    options = _.extend({}, options);\n                    var model = options.model || view.model, collection = options.collection || view.collection;\n                    if (model) {\n                        unbindModel(model);\n                    } else if (collection) {\n                        collection.each(function (model) {\n                            unbindModel(model);\n                        });\n                        collection.unbind('add', collectionAdd);\n                        collection.unbind('remove', collectionRemove);\n                    }\n                },\n                // Used to extend the Backbone.Model.prototype\n                // with validation\n                mixin: mixin(null, defaultOptions)\n            };\n        }();\n        // Callbacks\n        // ---------\n        var defaultCallbacks = Validation.callbacks = {\n            // Gets called when a previously invalid field in the\n            // view becomes valid. Removes any error message.\n            // Should be overridden with custom functionality.\n            valid: function (view, attr, selector) {\n                view.$('[' + selector + '~=\"' + attr + '\"]').removeClass('invalid').removeAttr('data-error');\n            },\n            // Gets called when a field in the view becomes invalid.\n            // Adds a error message.\n            // Should be overridden with custom functionality.\n            invalid: function (view, attr, error, selector) {\n                view.$('[' + selector + '~=\"' + attr + '\"]').addClass('invalid').attr('data-error', error);\n            }\n        };\n        // Patterns\n        // --------\n        var defaultPatterns = Validation.patterns = {\n            // Matches any digit(s) (i.e. 0-9)\n            digits: /^\\d+$/,\n            // Matches any number (e.g. 100.000)\n            number: /^-?(?:\\d+|\\d{1,3}(?:,\\d{3})+)(?:\\.\\d+)?$/,\n            // Matches a valid email address (e.g. mail@example.com)\n            email: /^((([a-z]|\\d|[!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+(\\.([a-z]|\\d|[!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+)*)|((\\x22)((((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(([\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x7f]|\\x21|[\\x23-\\x5b]|[\\x5d-\\x7e]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(\\\\([\\x01-\\x09\\x0b\\x0c\\x0d-\\x7f]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]))))*(((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(\\x22)))@((([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.)+(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))$/i,\n            // Same as email but is more restrictive and matches the same emails as the Netsuite backend UI\n            // Source: https://system.netsuite.com/javascript/NLUtil.jsp__NS_VER=2014.1.0&minver=154&locale=en_US.nlqs\n            //        (Search for NLValidationUtil_SIMPLE_EMAIL_PATTERN)\n            netsuiteEmail: /^[-a-z0-9!#$%&'*+\\/=?^_`{|}~]+(?:\\.[-a-z0-9!#$%&'*+\\/=?^_`{|}~]+)*@(?:[a-z0-9]+(?:-+[a-z0-9]+)*\\.)+(?:zw|zone|zm|za|yt|yokohama|ye|yandex|yachts|xyz|xxx|xn--zfr164b|xn--ygbi2ammx|xn--yfro4i67o|xn--xkc2dl3a5ee0h|xn--xkc2al3hye2a|xn--wgbl6a|xn--wgbh1c|xn--unup4y|xn--ses554g|xn--s9brj9c|xn--rhqv96g|xn--q9jyb4c|xn--pgbs0dh|xn--p1ai|xn--ogbpf8fl|xn--o3cw4h|xn--nqv7fs00ema|xn--nqv7f|xn--ngbc5azd|xn--mgbx4cd0ab|xn--mgberp4a5d4ar|xn--mgbc0a9azcg|xn--mgbbh1a71e|xn--mgbayh7gpa|xn--mgbab2bd|xn--mgbaam7a8h|xn--mgba3a4f16a|xn--mgb9awbf|xn--lgbbat1ad8j|xn--l1acc|xn--kput3i|xn--kpry57d|xn--kprw13d|xn--j6w193g|xn--j1amh|xn--io0a7i|xn--i1b6b1a6a2e|xn--h2brj9c|xn--gecrj9c|xn--fzc2c9e2c|xn--fpcrj9c3d|xn--fiqz9s|xn--fiqs8s|xn--fiq64b|xn--fiq228c5hs|xn--d1acj3b|xn--czru2d|xn--czr694b|xn--clchc0ea0b2g2a9gcd|xn--cg4bki|xn--c1avg|xn--90a3ac|xn--80aswg|xn--80asehdb|xn--80ao21a|xn--80adxhks|xn--6qq986b3xl|xn--6frz82g|xn--55qx5d|xn--55qw42g|xn--4gbrim|xn--45brj9c|xn--3e0b707e|xn--3ds443g|xn--3bst00m|wtf|wtc|ws|works|williamhill|wiki|wien|whoswho|wf|wed|website|webcam|watch|wang|vu|voyage|voto|voting|vote|vodka|vn|vlaanderen|vision|villas|viajes|vi|vg|vet|versicherung|ventures|vegas|ve|vc|vacations|va|uz|uy|us|uno|university|uk|ug|ua|tz|tw|tv|tt|travel|training|trade|tr|tp|toys|town|top|tools|tokyo|today|to|tn|tm|tl|tk|tj|tirol|tips|tienda|th|tg|tf|tel|technology|td|tc|tax|tattoo|sz|systems|sy|sx|sv|suzuki|surgery|surf|support|supply|supplies|su|st|sr|spiegel|space|soy|solutions|solar|sohu|software|social|so|sn|sm|sl|sk|sj|singles|si|shoes|shiksha|sh|sg|sexy|services|se|sd|scot|schule|schmidt|scb|sc|sb|saarland|sa|ryukyu|rw|ruhr|ru|rs|rodeo|rocks|ro|rio|rich|reviews|rest|republican|report|repair|rentals|ren|reisen|reise|rehab|red|recipes|realtor|re|quebec|qpon|qa|py|pw|pub|pt|ps|properties|productions|pro|press|praxi|pr|post|pn|pm|plumbing|place|pl|pk|pink|pictures|pics|physio|photos|photography|photo|ph|pg|pf|pe|parts|partners|paris|pa|ovh|organic|org|onl|ong|om|okinawa|nz|nyc|nu|nrw|nra|nr|np|no|nl|ninja|ni|nhk|ngo|ng|nf|neustar|net|ne|nc|navy|name|nagoya|na|mz|my|mx|mw|mv|museum|mu|mt|ms|mr|mq|mp|motorcycles|moscow|mortgage|monash|moe|moda|mobi|mo|mn|mm|ml|mk|mini|mil|miami|mh|mg|menu|melbourne|meet|media|me|md|mc|marketing|market|mango|management|maison|ma|ly|lv|luxury|luxe|lu|lt|ls|lr|lotto|london|loans|lk|link|limo|limited|lighting|life|li|lgbt|lease|lc|lb|lawyer|land|lacaixa|la|kz|ky|kw|kred|krd|kr|kp|koeln|kn|km|kiwi|kitchen|kim|ki|kh|kg|ke|kaufen|juegos|jp|joburg|jobs|jo|jm|jetzt|je|it|is|ir|iq|io|investments|international|int|insure|institute|ink|info|industries|in|immobilien|im|il|ie|id|hu|ht|hr|house|host|horse|homes|holiday|holdings|hn|hm|hk|hiv|hiphop|healthcare|haus|hamburg|gy|gw|guru|guitars|guide|gu|gt|gs|gripe|green|gratis|graphics|gr|gq|gp|gov|gop|gn|gmo|gm|globo|global|glass|gl|gives|gift|gi|gh|gg|gf|gent|ge|gd|gb|gallery|gal|ga|futbol|furniture|fund|frogans|fr|foundation|foo|fo|fm|florist|flights|fk|fj|fitness|fishing|fish|financial|finance|fi|feedback|farm|fail|exposed|expert|exchange|events|eus|eu|et|estate|es|er|equipment|enterprises|engineering|engineer|email|eg|ee|education|edu|ec|dz|durban|domains|do|dnp|dm|dk|dj|discount|directory|direct|digital|diamonds|desi|dentist|dental|democrat|degree|deals|de|dating|dance|cz|cy|cx|cw|cv|cuisinella|cu|cruises|creditcard|credit|cr|country|corp|coop|cool|cooking|contractors|consulting|construction|condos|computer|company|community|com|cologne|college|coffee|codes|co|cn|cm|club|clothing|clinic|cleaning|claims|cl|ck|city|citic|ci|church|christmas|cheap|ch|cg|cf|ceo|center|cd|cc|catering|cat|cash|careers|career|care|cards|capital|capetown|cancerresearch|camp|camera|cab|ca|bzh|bz|by|bw|bv|buzz|builders|build|bt|bs|brussels|br|boutique|bo|bn|bmw|bm|blue|blackfriday|black|bj|biz|bio|bike|bid|bi|bh|bg|bf|best|berlin|beer|be|bd|bb|bayern|bargains|bar|ba|az|axa|ax|aw|autos|audio|auction|au|attorney|at|associates|asia|as|arpa|army|archi|ar|aq|ao|an|am|al|airforce|ai|agency|ag|af|aero|ae|ad|actor|active|accountants|academy|ac)$/i,\n            // Mathes any valid url (e.g. http://www.xample.com)\n            url: /^(https?|ftp):\\/\\/(((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:)*@)?(((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5]))|((([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.)+(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.?)(:\\d*)?)(\\/((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)+(\\/(([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)*)*)?)?(\\?((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)|[\\uE000-\\uF8FF]|\\/|\\?)*)?(\\#((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)|\\/|\\?)*)?$/i\n        };\n        // Error messages\n        // --------------\n        // Error message for the build in validators.\n        // {x} gets swapped out with arguments form the validator.\n        var defaultMessages = Validation.messages = {\n            required: '{0} is required',\n            acceptance: '{0} must be accepted',\n            min: '{0} must be greater than or equal to {1}',\n            max: '{0} must be less than or equal to {1}',\n            range: '{0} must be between {1} and {2}',\n            length: '{0} must be {1} characters',\n            minLength: '{0} must be at least {1} characters',\n            maxLength: '{0} must be at most {1} characters',\n            rangeLength: '{0} must be between {1} and {2} characters',\n            oneOf: '{0} must be one of: {1}',\n            equalTo: '{0} must be the same as {1}',\n            digits: '{0} must only contain digits',\n            number: '{0} must be a number',\n            email: '{0} must be a valid email',\n            url: '{0} must be a valid url',\n            inlinePattern: '{0} is invalid'\n        };\n        // Label formatters\n        // ----------------\n        // Label formatters are used to convert the attribute name\n        // to a more human friendly label when using the built in\n        // error messages.\n        // Configure which one to use with a call to\n        //\n        //     Backbone.Validation.configure({\n        //       labelFormatter: 'label'\n        //     });\n        var defaultLabelFormatters = Validation.labelFormatters = {\n            // Returns the attribute name with applying any formatting\n            none: function (attrName) {\n                return attrName;\n            },\n            // Converts attributeName or attribute_name to Attribute name\n            sentenceCase: function (attrName) {\n                return attrName.replace(/(?:^\\w|[A-Z]|\\b\\w)/g, function (match, index) {\n                    return index === 0 ? match.toUpperCase() : ' ' + match.toLowerCase();\n                }).replace(/_/g, ' ');\n            },\n            // Looks for a label configured on the model and returns it\n            //\n            //      var Model = Backbone.Model.extend({\n            //        validation: {\n            //          someAttribute: {\n            //            required: true\n            //          }\n            //        },\n            //\n            //        labels: {\n            //          someAttribute: 'Custom label'\n            //        }\n            //      });\n            label: function (attrName, model) {\n                return model.labels && model.labels[attrName] || defaultLabelFormatters.sentenceCase(attrName, model);\n            }\n        };\n        // Built in validators\n        // -------------------\n        var defaultValidators = Validation.validators = function () {\n            // Use native trim when defined\n            var trim = String.prototype.trim ? function (text) {\n                return text === null ? '' : String.prototype.trim.call(text);\n            } : function (text) {\n                var trimLeft = /^\\s+/, trimRight = /\\s+$/;\n                return text === null ? '' : text.toString().replace(trimLeft, '').replace(trimRight, '');\n            };\n            // Determines whether or not a value is a number\n            var isNumber = function (value) {\n                return _.isNumber(value) || _.isString(value) && value.match(defaultPatterns.number);\n            };\n            // Determines whether or not a value is empty\n            var hasValue = function (value) {\n                return !(_.isNull(value) || _.isUndefined(value) || _.isString(value) && trim(value) === '' || _.isArray(value) && _.isEmpty(value));\n            };\n            return {\n                // Function validator\n                // Lets you implement a custom function used for validation\n                fn: function (value, attr, fn, model, computed) {\n                    if (_.isString(fn)) {\n                        fn = model[fn];\n                    }\n                    return fn.call(model, value, attr, computed);\n                },\n                // Required validator\n                // Validates if the attribute is required or not\n                // This can be specified as either a boolean value or a function that returns a boolean value\n                required: function (value, attr, required, model, computed) {\n                    var isRequired = _.isFunction(required) ? required.call(model, value, attr, computed) : required;\n                    if (!isRequired && !hasValue(value)) {\n                        return false;    // overrides all other validators\n                    }\n                    if (isRequired && !hasValue(value)) {\n                        return this.format(defaultMessages.required, this.formatLabel(attr, model));\n                    }\n                },\n                // Acceptance validator\n                // Validates that something has to be accepted, e.g. terms of use\n                // `true` or 'true' are valid\n                acceptance: function (value, attr, accept, model) {\n                    if (value !== 'true' && (!_.isBoolean(value) || value === false)) {\n                        return this.format(defaultMessages.acceptance, this.formatLabel(attr, model));\n                    }\n                },\n                // Min validator\n                // Validates that the value has to be a number and equal to or greater than\n                // the min value specified\n                min: function (value, attr, minValue, model) {\n                    if (!isNumber(value) || value < minValue) {\n                        return this.format(defaultMessages.min, this.formatLabel(attr, model), minValue);\n                    }\n                },\n                // Max validator\n                // Validates that the value has to be a number and equal to or less than\n                // the max value specified\n                max: function (value, attr, maxValue, model) {\n                    if (!isNumber(value) || value > maxValue) {\n                        return this.format(defaultMessages.max, this.formatLabel(attr, model), maxValue);\n                    }\n                },\n                // Range validator\n                // Validates that the value has to be a number and equal to or between\n                // the two numbers specified\n                range: function (value, attr, range, model) {\n                    if (!isNumber(value) || value < range[0] || value > range[1]) {\n                        return this.format(defaultMessages.range, this.formatLabel(attr, model), range[0], range[1]);\n                    }\n                },\n                // Length validator\n                // Validates that the value has to be a string with length equal to\n                // the length value specified\n                length: function (value, attr, length, model) {\n                    if (!_.isString(value) || value.length !== length) {\n                        return this.format(defaultMessages.length, this.formatLabel(attr, model), length);\n                    }\n                },\n                // Min length validator\n                // Validates that the value has to be a string with length equal to or greater than\n                // the min length value specified\n                minLength: function (value, attr, minLength, model) {\n                    if (!_.isString(value) || value.length < minLength) {\n                        return this.format(defaultMessages.minLength, this.formatLabel(attr, model), minLength);\n                    }\n                },\n                // Max length validator\n                // Validates that the value has to be a string with length equal to or less than\n                // the max length value specified\n                maxLength: function (value, attr, maxLength, model) {\n                    if (!_.isString(value) || value.length > maxLength) {\n                        return this.format(defaultMessages.maxLength, this.formatLabel(attr, model), maxLength);\n                    }\n                },\n                // Range length validator\n                // Validates that the value has to be a string and equal to or between\n                // the two numbers specified\n                rangeLength: function (value, attr, range, model) {\n                    if (!_.isString(value) || value.length < range[0] || value.length > range[1]) {\n                        return this.format(defaultMessages.rangeLength, this.formatLabel(attr, model), range[0], range[1]);\n                    }\n                },\n                // One of validator\n                // Validates that the value has to be equal to one of the elements in\n                // the specified array. Case sensitive matching\n                oneOf: function (value, attr, values, model) {\n                    if (!_.include(values, value)) {\n                        return this.format(defaultMessages.oneOf, this.formatLabel(attr, model), values.join(', '));\n                    }\n                },\n                // Equal to validator\n                // Validates that the value has to be equal to the value of the attribute\n                // with the name specified\n                equalTo: function (value, attr, equalTo, model, computed) {\n                    if (value !== computed[equalTo]) {\n                        return this.format(defaultMessages.equalTo, this.formatLabel(attr, model), this.formatLabel(equalTo, model));\n                    }\n                },\n                // Pattern validator\n                // Validates that the value has to match the pattern specified.\n                // Can be a regular expression or the name of one of the built in patterns\n                pattern: function (value, attr, pattern, model) {\n                    if (!hasValue(value) || !value.toString().match(defaultPatterns[pattern] || pattern)) {\n                        return this.format(defaultMessages[pattern] || defaultMessages.inlinePattern, this.formatLabel(attr, model), pattern);\n                    }\n                }\n            };\n        }();\n        // Set the correct context for all validators\n        // when used from within a method validator\n        _.each(defaultValidators, function (validator, key) {\n            defaultValidators[key] = _.bind(defaultValidators[key], _.extend({}, formatFunctions, defaultValidators));\n        });\n        return Validation;\n    }(_);\n    return;\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n/* globals session */\n// @module Utilities\n// --------\n// @class Utils\n// A collection of utility methods. This are added to both SC.Utils, and Underscore.js\n// eg: you could use SC.Utils.formatPhone() or _.formatPhone()\ndefine('Utils', [\n    'jQuery',\n    'underscore',\n    'Backbone',\n    'String.format',\n    'Backbone.Validation'\n], function (jQuery, _, Backbone) {\n    'use strict';\n    //@function deepCopy Deep Copy of the object taking care of Backbone models\n    //@param {Object} obj Object to be copy\n    //@return {Object}\n    function deepCopy(obj) {\n        if (_.isFunction(obj)) {\n            return null;\n        }\n        var copy = {};\n        if (obj instanceof Backbone.Model) {\n            obj = obj.deepCopy();\n        } else if (obj instanceof Backbone.Collection) {\n            obj = obj.models || [];\n        }\n        if (_.isArray(obj)) {\n            copy = [];\n            _.each(obj, function (value) {\n                !_.isFunction(value) && copy.push(_.deepCopy(value));\n            });\n        } else if (_.isObject(obj)) {\n            _.each(obj, function (value, attr) {\n                if (!_.isFunction(value) && attr.indexOf('_') !== 0) {\n                    copy[attr] = _.deepCopy(value);\n                }\n            });\n        } else {\n            copy = obj;\n        }\n        return copy;\n    }\n    //@function trim Remove starting and ending spaces\n    //@param {String} str String to be trimmed\n    //@return {String}\n    var trim = jQuery.trim;\n    // @method formatPhone\n    // Will try to reformat a phone number for a given phone Format,\n    // If no format is given, it will try to use the one in site settings.\n    // @param {String} phone @param {String} format @return {String}\n    function formatPhone(phone, format) {\n        // fyi: the tilde (~) its used as !== -1\n        var extentionSearch = phone.search(/[A-Za-z#]/), extention = ~extentionSearch ? ' ' + phone.substring(extentionSearch) : '', phoneNumber = ~extentionSearch ? ' ' + phone.substring(0, extentionSearch) : phone;\n        format = format || SC.ENVIRONMENT.siteSettings.phoneformat;\n        if (/^[0-9()-.\\s]+$/.test(phoneNumber) && format) {\n            var format_tokens = {}, phoneDigits = phoneNumber.replace(/[()-.\\s]/g, '');\n            switch (format) {\n            // c: country, ab: area_before, aa: area_after, d: digits\n            case '(123) 456-7890':\n                format_tokens = {\n                    c: ' ',\n                    ab: '(',\n                    aa: ') ',\n                    d: '-'\n                };\n                break;\n            case '123 456 7890':\n                format_tokens = {\n                    c: ' ',\n                    ab: '',\n                    aa: ' ',\n                    d: ' '\n                };\n                break;\n            case '123-456-7890':\n                format_tokens = {\n                    c: ' ',\n                    ab: '',\n                    aa: '-',\n                    d: '-'\n                };\n                break;\n            case '123.456.7890':\n                format_tokens = {\n                    c: ' ',\n                    ab: '',\n                    aa: '.',\n                    d: '.'\n                };\n                break;\n            default:\n                return phone;\n            }\n            switch (phoneDigits.length) {\n            case 7:\n                return phoneDigits.substring(0, 3) + format_tokens.d + phoneDigits.substring(3) + extention;\n            case 10:\n                return format_tokens.ab + phoneDigits.substring(0, 3) + format_tokens.aa + phoneDigits.substring(3, 6) + format_tokens.d + phoneDigits.substring(6) + extention;\n            case 11:\n                return phoneDigits.substring(0, 1) + format_tokens.c + format_tokens.ab + phoneDigits.substring(1, 4) + format_tokens.aa + phoneDigits.substring(4, 7) + format_tokens.d + phoneDigits.substring(7) + extention;\n            default:\n                return phone;\n            }\n        }\n        return phone;\n    }\n    // @method dateToString Convert a date object to string using international format YYYY-MM-dd\n    // Useful for inputs of type=\"date\" @param {Date} date @return {String}\n    function dateToString(date) {\n        var month = '' + (date.getMonth() + 1), day = '' + date.getDate();\n        if (month.length === 1) {\n            month = '0' + month;\n        }\n        if (day.length === 1) {\n            day = '0' + day;\n        }\n        return date.getFullYear() + '-' + month + '-' + day;\n    }\n    // @method stringToDate parse a string date into a date object.\n    // @param {String} str_date\n    // @param {format:String,plusMonth:Number} options.format: String format that specify the format of the input string. By Default YYYY-MM-dd.\n    // options.plusMonth: Number that indicate how many month offset should be applied whne creating the date object.\n    function stringToDate(str_date, options) {\n        options = _.extend({\n            format: 'YYYY-MM-dd',\n            plusMonth: -1,\n            dateSplitCharacter: '-'\n        }, options || {});\n        //plumbing\n        var date_parts = str_date ? str_date.split(options.dateSplitCharacter) : [], format_parts = options.format ? options.format.split('-') : [], year_index = _.indexOf(format_parts, 'YYYY') >= 0 ? _.indexOf(format_parts, 'YYYY') : 2, month_index = _.indexOf(format_parts, 'MM') >= 0 ? _.indexOf(format_parts, 'MM') : 1, day_index = _.indexOf(format_parts, 'dd') >= 0 ? _.indexOf(format_parts, 'dd') : 0    //Date parts\n, year = parseInt(date_parts[year_index], 10), month = parseInt(date_parts[month_index], 10) + (options.plusMonth || 0), day = parseInt(date_parts[day_index], 10), result = new Date(year, month, day);\n        if (!(result.getMonth() !== month || day !== result.getDate() || result.getFullYear() !== year)) {\n            return result;\n        }\n    }\n    // @method isDateValid @param {Date} date @return {Boolean}\n    function isDateValid(date) {\n        if (Object.prototype.toString.call(date) === '[object Date]') {\n            // it is a date\n            if (isNaN(date.getTime())) {\n                // d.valueOf() could also work\n                // date is not valid\n                return false;\n            } else {\n                // date is valid\n                // now validate the values of day, month and year\n                var dtDay = date.getDate(), dtMonth = date.getMonth() + 1, dtYear = date.getFullYear(), pattern = /^\\d{4}$/;\n                if (!pattern.test(dtYear)) {\n                    return false;\n                } else if (dtMonth < 1 || dtMonth > 12) {\n                    return false;\n                } else if (dtDay < 1 || dtDay > 31) {\n                    return false;\n                } else if ((dtMonth === 4 || dtMonth === 6 || dtMonth === 9 || dtMonth === 11) && dtDay === 31) {\n                    return false;\n                } else if (dtMonth === 2) {\n                    var isleap = dtYear % 4 === 0 && (dtYear % 100 !== 0 || dtYear % 400 === 0);\n                    if (dtDay > 29 || dtDay === 29 && !isleap) {\n                        return false;\n                    }\n                }\n                return true;\n            }\n        } else {\n            // not a date\n            return false;\n        }\n    }\n    // @method validateSecurityCode @param {String} value @return a non empty string with a internationalized warning message\n    function validateSecurityCode(value) {\n        var ccsn = trim(value);\n        if (!ccsn) {\n            return _('Security Number is required').translate();\n        }\n        if (!(Backbone.Validation.patterns.number.test(ccsn) && (ccsn.length === 3 || ccsn.length === 4))) {\n            return _('Security Number is invalid').translate();\n        }\n    }\n    // @method validatePhone @param {String} phone @return {String} an error message if the passed phone is invalid or falsy if it is valid\n    function validatePhone(phone) {\n        var minLength = 7;\n        if (_.isNumber(phone)) {\n            // phone is a number so we can't ask for .length\n            // we elevate 10 to (minLength - 1)\n            // if the number is lower, then its invalid\n            // eg: phone = 1234567890 is greater than 1000000, so its valid\n            //     phone = 123456 is lower than 1000000, so its invalid\n            if (phone < Math.pow(10, minLength - 1)) {\n                return _('Phone Number is invalid').translate();\n            }\n        } else if (phone) {\n            // if its a string, we remove all the useless characters\n            var value = phone.replace(/[()-.\\s]/g, '');\n            // we then turn the value into an integer and back to string\n            // to make sure all of the characters are numeric\n            //first remove leading zeros for number comparison\n            while (value.length && value.substring(0, 1) === '0') {\n                value = value.substring(1, value.length);\n            }\n            if (parseInt(value, 10).toString() !== value || value.length < minLength) {\n                return _('Phone Number is invalid').translate();\n            }\n        } else {\n            return _('Phone is required').translate();\n        }\n    }\n    // @method validateState @param {String} value @param {String} valName @param {Object} form @return {String} an error message if the passed state is invalid or falsy if it is valid\n    function validateState(value, valName, form) {\n        var countries = SC.ENVIRONMENT.siteSettings.countries || {};\n        if (countries[form.country] && countries[form.country].states && value === '') {\n            return _('State is required').translate();\n        }\n    }\n    // @method validateZipCode @param {String} value @param {String} valName @param {Object} form @return {String} an error message if the passed zip code is invalid or falsy if it is valid\n    function validateZipCode(value, valName, form) {\n        var countries = SC.ENVIRONMENT.siteSettings.countries || {};\n        value = trim(value);\n        if (!value && (!form.country || countries[form.country] && countries[form.country].isziprequired === 'T')) {\n            return _('Zip Code is required').translate();\n        }\n    }\n    // @method translate\n    // Used on all of the hardcoded texts in the templates. Gets the translated value from SC.Translations object literal.\n    // Please always use the syntax _('string').translate(1, 2) instead of the syntax _.translate('string', 1, 2)\n    // Example: ```_('There are $(0) apples in the tree').translate(appleCount)```\n    // @param {String} text @return {String}\n    function translate(text) {\n        if (!text) {\n            return '';\n        }\n        text = text.toString();\n        // Turns the arguments object into an array\n        var args = Array.prototype.slice.call(arguments), parameters, result = SC.Translations && SC.Translations[text] ? SC.Translations[text] : text;\n        if (args.length && result) {\n            if (_.isArray(args[1]) && args[1].length) {\n                parameters = args[1];\n            } else {\n                // Mixes in inline variables\n                parameters = _.map(args.slice(1), function (param) {\n                    return _.escape(param);\n                });\n            }\n            result = result.format.apply(result, parameters);\n        }\n        return result;\n    }\n    // @method getFullPathForElement\n    // @param {HTMLElement} el\n    // @returns {String} a string containing the path in the DOM tree of the element\n    function getFullPathForElement(el) {\n        var names = [], c, e;\n        while (el.parentNode) {\n            if (el.id) {\n                // if a parent element has an id, that is enough for our path\n                names.unshift('#' + el.id);\n                break;\n            } else if (el === document.body) {\n                names.unshift('HTML > BODY');\n                break;\n            } else if (el === (document.head || document.getElementsByTagName('head')[0])) {\n                names.unshift('HTML > HEAD');\n                break;\n            } else if (el === el.ownerDocument.documentElement) {\n                names.unshift(el.tagName);\n                break;\n            } else {\n                e = el;\n                for (c = 1; e.previousElementSibling; c++) {\n                    e = e.previousElementSibling;\n                }\n                names.unshift(el.tagName + ':nth-child(' + c + ')');\n                el = el.parentNode;\n            }\n        }\n        return names.join(' > ');\n    }\n    // @method formatCurrency @param {String} value @param {String} symbol @return {String}\n    function formatCurrency(value, symbol) {\n        var value_float = parseFloat(value), negative = value_float < 0, groupseparator = ',', decimalseparator = '.', negativeprefix = '(', negativesuffix = ')', thousand_string = '', beforeValue = true, sessionInfo = SC.getSessionInfo && SC.getSessionInfo('currentCurrency');\n        if (isNaN(value_float)) {\n            return value;\n        }\n        value_float = parseInt((Math.abs(value_float) + 0.005) * 100, 10) / 100;\n        var value_string = value_float.toString(), settings = SC && SC.ENVIRONMENT && SC.ENVIRONMENT.siteSettings ? SC.ENVIRONMENT.siteSettings : {};\n        if (Object.prototype.hasOwnProperty.call(window, 'groupseparator')) {\n            groupseparator = window.groupseparator;\n        } else if (Object.prototype.hasOwnProperty.call(settings, 'groupseparator')) {\n            groupseparator = settings.groupseparator;\n        }\n        if (Object.prototype.hasOwnProperty.call(window, 'decimalseparator')) {\n            decimalseparator = window.decimalseparator;\n        } else if (Object.prototype.hasOwnProperty.call(settings, 'decimalseparator')) {\n            decimalseparator = settings.decimalseparator;\n        }\n        if (Object.prototype.hasOwnProperty.call(window, 'negativeprefix')) {\n            negativeprefix = window.negativeprefix;\n        } else if (Object.prototype.hasOwnProperty.call(settings, 'negativeprefix')) {\n            negativeprefix = settings.negativeprefix;\n        }\n        if (Object.prototype.hasOwnProperty.call(window, 'negativesuffix')) {\n            negativesuffix = window.negativesuffix;\n        } else if (Object.prototype.hasOwnProperty.call(settings, 'negativesuffix')) {\n            negativesuffix = settings.negativesuffix;\n        }\n        value_string = value_string.replace('.', decimalseparator);\n        var decimal_position = value_string.indexOf(decimalseparator);\n        // if the string doesn't contains a .\n        if (!~decimal_position) {\n            value_string += decimalseparator + '00';\n            decimal_position = value_string.indexOf(decimalseparator);\n        }    // if it only contains one number after the .\n        else if (value_string.indexOf(decimalseparator) === value_string.length - 2) {\n            value_string += '0';\n        }\n        for (var i = value_string.length - 1; i >= 0; i--) {\n            //If the distance to the left of the decimal separator is a multiple of 3 you need to add the group separator\n            thousand_string = (i > 0 && i < decimal_position && (decimal_position - i) % 3 === 0 ? groupseparator : '') + value_string[i] + thousand_string;\n        }\n        if (!symbol) {\n            if (typeof session !== 'undefined' && session.getShopperCurrency) {\n                beforeValue = session.getShopperCurrency().beforeValue;\n                symbol = session.getShopperCurrency().symbol;\n            } else if (settings.shopperCurrency) {\n                beforeValue = settings.shopperCurrency.beforeValue;\n                symbol = settings.shopperCurrency.symbol;\n            } else if (sessionInfo) {\n                beforeValue = sessionInfo.beforeValue;\n                symbol = sessionInfo.symbol;\n            }\n            if (!symbol) {\n                symbol = '$';\n            }\n        }\n        value_string = beforeValue || _.isUndefined(beforeValue) ? symbol + thousand_string : thousand_string + symbol;\n        return negative ? negativeprefix + value_string + negativesuffix : value_string;\n    }\n    // @method formatQuantity Formats with commas as thousand separator (e.g. for displaying quantities)\n    // @param {String} number @return {String} the formatted quantity.\n    function formatQuantity(number) {\n        var result = [], parts = ('' + number).split('.'), integerPart = parts[0].split('').reverse();\n        for (var i = 0; i < integerPart.length; i++) {\n            if (i > 0 && i % 3 === 0 && integerPart[i] !== '-') {\n                result.unshift(',');\n            }\n            result.unshift(integerPart[i]);\n        }\n        if (parts.length > 1) {\n            result.push('.');\n            result.push(parts[1]);\n        }\n        return result.join('');\n    }\n    // @method highlightKeyword  given a string containing a keyword it highlights it using html strong @param {String} text @param {String} keyword\n    function highlightKeyword(text, keyword) {\n        text = text || '';\n        text = _.escape(text);\n        if (!keyword) {\n            return text;\n        }\n        keyword = trim(keyword).replace(/[\\-\\[\\]{}()*+?.,\\\\\\^$|#\\s]/g, '\\\\$&');\n        return text.replace(new RegExp('(' + keyword + ')', 'ig'), function ($1, match) {\n            return '<strong>' + match + '</strong>';\n        });\n    }\n    // @method collectionToString iterates a collection of objects, runs a custom function getValue on each item and then joins them\n    // @param {Object} options @returns {String}\n    function collectionToString(options) {\n        var temp = [];\n        _.each(options.collection, function (item) {\n            temp.push(options.getValue(item));\n        });\n        return temp.join(options.joinWith);\n    }\n    // @method addParamsToUrl\n    // @param {String} baseUrl\n    // @param {Object} params the params mapping to add @return {String}\n    // @param {Boolean} avoidDoubleRedirect If true it will modify all the url parameters to be prepended with __. We do this to prevent Netsuite platform to process some parameters and generate a double redirect. See searchApi.ssp\n    // @return {String}\n    function addParamsToUrl(baseUrl, params, avoidDoubleRedirect) {\n        if (avoidDoubleRedirect) {\n            var new_params = {};\n            _.each(params, function (param_value, param_key) {\n                new_params['__' + param_key] = param_value;\n            });\n            params = new_params;\n        }\n        // We get the search options from the config file\n        if (baseUrl && !_.isEmpty(params)) {\n            var paramString = jQuery.param(params), join_string = ~baseUrl.indexOf('?') ? '&' : '?';\n            return baseUrl + join_string + paramString;\n        }\n        return baseUrl;\n    }\n    // @method getDecodedURLParameter\n    // Takes an url parameter and returns a decoded version of it, if decodeURIComponent() wasn't previously called.\n    // Otherwise, returns the character itself.\n    // It prevents decodeURIComponent() function gets called twice over the same url parameter (EX: url_parameter = 10%+%20OFF)\n    // @param  {String} url_parameter\n    // @return {String}\n    function getDecodedURLParameter(url_parameter) {\n        url_parameter = url_parameter || '';\n        var position;\n        for (var temporal = ''; (position = url_parameter.indexOf('%')) >= 0; url_parameter = url_parameter.substring(position + 3)) {\n            temporal += url_parameter.substring(0, position);\n            var extract = url_parameter.substring(position, position + 3);\n            try {\n                temporal += decodeURIComponent(extract);\n            } catch (e) {\n                temporal += extract;\n            }\n        }\n        return temporal + url_parameter;\n    }\n    // @method parseUrlOptions\n    // Takes a url with options (or just the options part of the url) and returns an object. You can do the reverse operation (object to url string) using jQuery.param()\n    // @param {String} options_string\n    // @return {ParameterOptions}\n    function parseUrlOptions(options_string) {\n        options_string = options_string || '';\n        if (~options_string.indexOf('?')) {\n            options_string = _.last(options_string.split('?'));\n        }\n        if (~options_string.indexOf('#')) {\n            options_string = _.first(options_string.split('#'));\n        }\n        //@class ParameterOptions @extend Dictionary<String,String>\n        //This class is used as a dictionary where each string key is a parameter from the passed in string and each value\n        //is the corresponding value from the string being decodeURIComponent.\n        //Example\n        // input: /some-item?quantity=2&custcol3=12\n        // output: {quantity: decodeURIComponent(2), custcol3: decodeURIComponent(12)}\n        var options = {};\n        if (options_string.length > 0) {\n            var tokens = options_string.split(/\\&/g), current_token;\n            while (tokens.length > 0) {\n                current_token = tokens.shift().split(/\\=/g);\n                if (current_token[0].length === 0) {\n                    continue;\n                }\n                options[current_token[0]] = Utils.getDecodedURLParameter(current_token[1]);\n            }\n        }\n        return options;\n    }\n    // @method hyphenate simple hyphenation of a string, replaces non-alphanumerical characters with hyphens\n    // @param {String} string\n    // @returns {String}\n    function hyphenate(string) {\n        return string.replace(/[\\W]/g, '-');\n    }\n    var objectToAtrributesKeyMap = [\n        'href',\n        'id',\n        'title',\n        'data',\n        'data-hashtag',\n        'data-touchpoint',\n        'data-permissions'\n    ];\n    // @method objectToAtrributes @param {Object} obj @param {String} prefix @return {String}\n    function objectToAtrributes(obj, prefix) {\n        prefix = prefix || '';\n        return _.reduce(obj, function (memo, value, key) {\n            var prefixKey = prefix + key;\n            //filters attributes\n            if (_.contains(objectToAtrributesKeyMap, prefixKey) === false) {\n                return memo;\n            }\n            if (_.isObject(value)) {\n                return memo + objectToAtrributes(obj[key], key + '-');\n            } else if (_.isArray(value) === true) {\n                return memo + ' ' + _.escape(prefixKey) + '=\"' + _.escape(value.join(' ')) + '\"';\n            } else {\n                return memo + ' ' + _.escape(prefixKey) + '=\"' + _.escape(value) + '\"';\n            }\n        }, '');\n    }\n    // @method isTargetActionable\n    // @param {Event} event\n    // @return {Boolean}\n    function isTargetActionable(event) {\n        //return true if the target is actionable\n        var target = jQuery(event.target), targetTagName = target.prop('tagName').toLowerCase(), targetParentTagName = target.parent().prop('tagName').toLowerCase(), isCheckbox = target.prop('type') === 'checkbox';\n        return targetTagName === 'a' || targetParentTagName === 'a' || targetTagName === 'i' || targetParentTagName === 'button' || targetTagName === 'button' || targetTagName === 'input' && isCheckbox === false;\n    }\n    // @method resizeImage @param {Array<Object>} sizes @param {String} url @param {String} size the size id @return {String}\n    function resizeImage(sizes, url, size) {\n        var resize = _.where(sizes, { name: size })[0];\n        url = url || '';\n        if (!!resize) {\n            return url + (~url.indexOf('?') ? '&' : '?') + resize.urlsuffix;\n        }\n        return url;\n    }\n    // @method getThemeAbsoluteUrlOfNonManagedResources @param {String} file @returns {String}\n    function getThemeAbsoluteUrlOfNonManagedResources(default_value, file) {\n        if (!file) {\n            file = '';\n            if (SC.ENVIRONMENT.isExtended) {\n                file = SC.ENVIRONMENT.themeAssetsPath || '';\n            } else if (SC.ENVIRONMENT.BuildTimeInf && SC.ENVIRONMENT.BuildTimeInf.isSCLite) {\n                if (SC.CONFIGURATION.unmanagedResourcesFolderName) {\n                    file = 'site/' + SC.CONFIGURATION.unmanagedResourcesFolderName + '/';\n                } else {\n                    file = 'default/';\n                }\n            }\n            file += default_value;\n        }\n        var absoulute_path = getAbsoluteUrl('');\n        return file.indexOf(absoulute_path) !== 0 ? getAbsoluteUrl(file) : file;\n    }\n    // @method getAbsoluteUrl @param {String} file @returns {String}\n    function getAbsoluteUrl(file) {\n        var base_url = SC && SC.ENVIRONMENT && SC.ENVIRONMENT.baseUrl || '', fileReplace = file ? file : '';\n        return base_url ? base_url.replace('{{file}}', fileReplace) : file;\n    }\n    // @method getAbsoluteUrlOfNonManagedResources @param {String} file @returns {String}\n    function getAbsoluteUrlOfNonManagedResources(file) {\n        return getAbsoluteUrl(file);\n    }\n    // @method getDownloadPdfUrl @param {Object} params @returns {String}\n    function getDownloadPdfUrl(params) {\n        params = params || {};\n        params.n = SC && SC.ENVIRONMENT && SC.ENVIRONMENT.siteSettings && SC.ENVIRONMENT.siteSettings.siteid || '';\n        return _.addParamsToUrl(_.getAbsoluteUrl('download.ssp'), params);\n    }\n    // @method getWindow The reason for this method is be able to test logic regarding window.location - so tests can mock the window object @return {HTMLElement} the window global object\n    function getWindow() {\n        return window;\n    }\n    // @method doPost Performs a POST operation to a specific url @param {String} url\n    function doPost(url) {\n        var form = jQuery('<form id=\"do-post\" method=\"POST\" action=\"' + url + '\"></form>').hide();\n        // we have to append it to the dom  for browser compatibility\n        // check if the form already exists (user could cancel the operation before it gets to the submit)\n        var do_post = jQuery('#do-post');\n        if (do_post && do_post[0]) {\n            do_post[0].action = url;\n            do_post[0].method = 'POST';\n        } else {\n            jQuery('html').append(form);\n            do_post = jQuery('#do-post');\n        }\n        do_post[0].submit();\n    }\n    // @method getPathFromObject @param {Object} object @param {String} path a path with values separated by dots @param {Any} default_value value to return if nothing is found.\n    function getPathFromObject(object, path, default_value) {\n        if (!path) {\n            return object;\n        } else if (object) {\n            var tokens = path.split('.'), prev = object, n = 0;\n            while (!_.isUndefined(prev) && n < tokens.length) {\n                prev = prev[tokens[n++]];\n            }\n            if (!_.isUndefined(prev)) {\n                return prev;\n            }\n        }\n        return default_value;\n    }\n    // @method setPathFromObject @param {Object} object @param {String} path a path with values separated by dots @param {Any} value the value to set\n    function setPathFromObject(object, path, value) {\n        if (!path) {\n            return;\n        } else if (!object) {\n            return;\n        }\n        var tokens = path.split('.'), prev = object;\n        for (var token_idx = 0; token_idx < tokens.length - 1; ++token_idx) {\n            var current_token = tokens[token_idx];\n            if (_.isUndefined(prev[current_token])) {\n                prev[current_token] = {};\n            }\n            prev = prev[current_token];\n        }\n        prev[_.last(tokens)] = value;\n    }\n    // @method ellipsis creates the ellipsis animation (used visually while waiting to something) @param {String} selector\n    function ellipsis(selector) {\n        if (!jQuery(selector).data('ellipsis')) {\n            var values = [\n                    '',\n                    '.',\n                    '..',\n                    '...',\n                    '..',\n                    '.'\n                ], count = 0, timer = null, element = jQuery(selector);\n            element.data('ellipsis', true);\n            element.css('visibility', 'hidden');\n            element.html('...');\n            element.css('width', element.css('width'));\n            element.css('display', 'inline-block');\n            element.html('');\n            element.css('visibility', 'visible');\n            timer = setInterval(function () {\n                if (jQuery(selector).length) {\n                    element.html(values[count % values.length]);\n                    count++;\n                } else {\n                    clearInterval(timer);\n                    element = null;\n                }\n            }, 250);\n        }\n    }\n    // @method reorderUrlParams\n    // @param {String} url\n    // @return {String} the url with reordered parameters\n    function reorderUrlParams(url) {\n        var params = [], url_array = url.split('?');\n        if (url_array.length > 1) {\n            params = url_array[1].split('&');\n            return url_array[0] + '?' + params.sort().join('&');\n        }\n        return url_array[0];\n    }\n    // @method isShoppingDomain determines if we are in shopping domain (secure or non secure)\n    // or single domain\n    // @return {Boolean} true if in checkout or in single domain\n    function isShoppingDomain() {\n        return SC.ENVIRONMENT.siteSettings.shoppingSupported;\n    }\n    // @method isCheckoutDomain determines if we are in a secure checkout\n    // domain or in a secure single domain environment\n    // @return {Boolean} true if in checkout or in single domain\n    function isCheckoutDomain() {\n        return SC.ENVIRONMENT.siteSettings.checkoutSupported;\n    }\n    // @method isSingleDomain determines if we are in a single domain environment\n    // @return {Boolean} true if single domain\n    function isSingleDomain() {\n        return SC.ENVIRONMENT.siteSettings.isSingleDomain;\n    }\n    // @method isInShopping determines if we are in shopping ssp\n    // used when there are frontend features only shown in the shopping domain\n    // @return {Boolean} true if in shopping domain, false if in checkout or myaccount\n    function isInShopping() {\n        return _.isShoppingDomain() && (SC.ENVIRONMENT.SCTouchpoint === 'shopping' || SC.ENVIRONMENT.siteSettings.sitetype === 'STANDARD');\n    }\n    // @method isInCheckout determines if we are in checkout or my account ssp\n    // @return {Boolean} true if in checkout domain\n    function isInCheckout() {\n        return !_.isSingleDomain() ? _.isCheckoutDomain() : _.isCheckoutDomain() && (SC.ENVIRONMENT.SCTouchpoint === 'checkout' || SC.ENVIRONMENT.SCTouchpoint === 'myaccount');\n    }\n    // @method getParameterByName @param {String} url @param {String} param_name\n    function getParameterByName(url, param_name) {\n        param_name = param_name.replace(/[\\[]/, '\\\\[').replace(/[\\]]/, '\\\\]');\n        var regex = new RegExp('[\\\\?&]' + param_name + '=([^&#]*)'), results = regex.exec(url);\n        return results === null ? '' : decodeURIComponent(results[1].replace(/\\+/g, ' '));\n    }\n    function isPageGenerator() {\n        return _.result(SC, 'isPageGenerator') || _.result(SC, 'isPageGenerator');\n    }\n    var SCRIPT_REGEX = /<\\s*script\\b[^<]*(?:(?!<\\/script>)<[^<]*)*<\\/script>/gi;\n    //@function Remove script tags in a html text @param {String} text\n    function removeScripts(text) {\n        if (isPageGenerator() && text) {\n            text = text.replace(/(<!--[\\s\\S]*?-->)/g, ' $1 ');\n            //invalidates de XSS attack like <scr<!--cheat-->ipt> - keep the comment and add spaces\n            while (SCRIPT_REGEX.test(text)) {\n                text = text.replace(SCRIPT_REGEX, '');\n            }\n        }\n        return text || '';\n    }\n    //@function Reduce unnecessary spaces in html texts @param {String} text\n    function minifyMarkup(text) {\n        return text    // remove spaces between tags.\n.replace(/\\>\\s+</g, '><')    // remove html comments that our markup could have.\n.replace(/<!--[\\s\\S]*?-->/g, '')    // replace multiple spaces with a single one.\n.replace(/\\s+/g, ' ');\n    }\n    function oldIE(version) {\n        var ie_version = version || 7;\n        // IE7 detection courtesy of Backbone\n        // More info: http://www.glennjones.net/2006/02/getattribute-href-bug/\n        var isExplorer = /msie [\\w.]+/, docMode = document.documentMode;\n        return isExplorer.exec(navigator.userAgent.toLowerCase()) && (!docMode || docMode <= ie_version);\n    }\n    // @method require The motive for this method is being able to call require() of modules in-line without breaking amd-optimizer because we cannot use require() directly passing variables as dependencies because amd-optimizer will try to parse that and fail.\n    // @param {Array<String>} dependencies\n    // @param {Function} fn\n    var requireModules;\n    if (_.isFunction(window.require)) {\n        requireModules = window.require;\n    } else if (window.SCM) {\n        requireModules = function (moduleName) {\n            return window.SCM[moduleName];\n        };\n    } else {\n        requireModules = function () {\n            console.error('Impossible to retrieve dependencies');\n        };\n    }\n    // we are caching window width so this won't work on window resize. Same for data-templates in views.\n    var viewport_width = 0, viewport_height = 0;\n    // @method resetViewportWidth resets viewport width explicitly to be updated on resize.\n    function resetViewportWidth() {\n        viewport_width = 0;\n    }\n    // @method getViewportWidth @return {Number} the width of the viewport in pixels\n    function getViewportWidth() {\n        return viewport_width || (viewport_width = jQuery(window).width());\n    }\n    // @method getViewportHeight @return {Number} the height of the viewport in pixels\n    function getViewportHeight() {\n        return viewport_height || (viewport_height = jQuery(window).height());\n    }\n    // @method selectByViewportWidth depending on current viewport width it will return one of the passed options that are named 'phone', 'tablet' or 'desktop'\n    // @param {Object<String,Any>} options @param defaultValue @return {Any}\n    function selectByViewportWidth(options, defaultValue) {\n        var device = getDeviceType();\n        return options[device] || defaultValue;\n    }\n    function getDeviceType(widthToCheck) {\n        var width = widthToCheck ? widthToCheck : Utils.getViewportWidth();\n        if (width < 768) {\n            return 'phone';\n        } else if (width < 992) {\n            return 'tablet';\n        } else {\n            return 'desktop';\n        }\n    }\n    function isPhoneDevice() {\n        return getDeviceType() === 'phone';\n    }\n    function isTabletDevice() {\n        return getDeviceType() === 'tablet';\n    }\n    function isDesktopDevice() {\n        return getDeviceType() === 'desktop';\n    }\n    function isNativeDatePickerSupported() {\n        var input = document.createElement('input');\n        input.setAttribute('type', 'date');\n        //if special input is not supported browser will fall back to text\n        return input.type !== 'text';\n    }\n    function initBxSlider($element, options) {\n        if ($element.bxSlider && !oldIE() && !SC.isPageGenerator()) {\n            $element.bxSlider(options);\n        }\n        return $element;\n    }\n    function countItems(lines) {\n        var item_count = 0;\n        _.each(lines.models ? lines.models : lines, function (line) {\n            item_count += line.get('quantity');\n        });\n        return item_count;\n    }\n    function getExponentialDelay(options) {\n        var settings = options.settings || {\n            base: 1.5,\n            y: 0.8,\n            retries: 2\n        };\n        return (Math.pow(settings.base, options.x) - settings.y) * 1000;\n    }\n    // @function imageFlatten\n    // Helper function that receives the itemimages_detail (returned by the search api)\n    // and flattens it into an array of objects containing url and altimagetext\n    // @param {Object} images Receives the itemimages_detail (returned by the search api) which is a multi-level tree-like object grouped by \"categories\"\n    // @return {Array<ImageContainer>}\n    function imageFlatten(images) {\n        if ('url' in images && 'altimagetext' in images) {\n            return [images];\n        }\n        return _.flatten(_.map(images, function (item) {\n            if (_.isArray(item)) {\n                return item;\n            }\n            return imageFlatten(item);\n        }));\n    }\n    var Utils = SC.Utils = {\n        translate: translate,\n        formatPhone: formatPhone,\n        dateToString: dateToString,\n        isDateValid: isDateValid,\n        stringToDate: stringToDate,\n        validatePhone: validatePhone,\n        trim: trim,\n        validateState: validateState,\n        validateZipCode: validateZipCode,\n        validateSecurityCode: validateSecurityCode,\n        formatCurrency: formatCurrency,\n        formatQuantity: formatQuantity,\n        highlightKeyword: highlightKeyword,\n        getFullPathForElement: getFullPathForElement,\n        collectionToString: collectionToString,\n        countItems: countItems,\n        addParamsToUrl: addParamsToUrl,\n        parseUrlOptions: parseUrlOptions,\n        objectToAtrributes: objectToAtrributes,\n        isTargetActionable: isTargetActionable,\n        resizeImage: resizeImage,\n        hyphenate: hyphenate,\n        getAbsoluteUrl: getAbsoluteUrl,\n        getAbsoluteUrlOfNonManagedResources: getAbsoluteUrlOfNonManagedResources,\n        getThemeAbsoluteUrlOfNonManagedResources: getThemeAbsoluteUrlOfNonManagedResources,\n        getWindow: getWindow,\n        getDownloadPdfUrl: getDownloadPdfUrl,\n        doPost: doPost,\n        getPathFromObject: getPathFromObject,\n        setPathFromObject: setPathFromObject,\n        ellipsis: ellipsis,\n        reorderUrlParams: reorderUrlParams,\n        getParameterByName: getParameterByName,\n        isPageGenerator: isPageGenerator,\n        removeScripts: removeScripts,\n        minifyMarkup: minifyMarkup,\n        oldIE: oldIE,\n        requireModules: requireModules,\n        getViewportWidth: getViewportWidth,\n        getViewportHeight: getViewportHeight,\n        isPhoneDevice: isPhoneDevice,\n        isTabletDevice: isTabletDevice,\n        isDesktopDevice: isDesktopDevice,\n        isNativeDatePickerSupported: isNativeDatePickerSupported,\n        selectByViewportWidth: selectByViewportWidth,\n        isShoppingDomain: isShoppingDomain,\n        isCheckoutDomain: isCheckoutDomain,\n        isSingleDomain: isSingleDomain,\n        isInShopping: isInShopping,\n        isInCheckout: isInCheckout,\n        resetViewportWidth: resetViewportWidth,\n        getDeviceType: getDeviceType,\n        initBxSlider: initBxSlider,\n        getExponentialDelay: getExponentialDelay,\n        imageFlatten: imageFlatten,\n        deepCopy: deepCopy,\n        getDecodedURLParameter: getDecodedURLParameter\n    };\n    // We extend underscore with our utility methods\n    // see http://underscorejs.org/#mixin\n    _.mixin(Utils);\n    return Utils;\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module SC\n// @class SC.Configuration\n// This class is responsible of creating the front end SC.Configuration object from the properties bootstrapped in SC.CONFIGURATION from backend. Also it does some properties post processing.\ndefine('SC.Configuration', [\n    'product_views_option_radio.tpl',\n    'product_views_option_tile.tpl',\n    'product_views_option_text.tpl',\n    'product_views_option_color.tpl',\n    'product_views_option_dropdown.tpl',\n    'product_views_option_facets_color.tpl',\n    'product_views_option_facets_tile.tpl',\n    'transaction_line_views_selected_option.tpl',\n    'transaction_line_views_selected_option_color.tpl',\n    'underscore',\n    'jQuery',\n    'Utils'\n], function (product_views_option_radio_tpl, product_views_option_tile_tpl, product_views_option_text_tpl, product_views_option_color_tpl, product_views_option_dropdown_tpl, product_views_option_facets_color_tpl, product_views_option_facets_tile_tpl, transaction_line_views_selected_option_tpl, transaction_line_views_selected_option_color_tpl, _, jQuery, Utils) {\n    'use strict';\n    var baseConfiguration = SC.CONFIGURATION || {};\n    baseConfiguration.ItemOptions = baseConfiguration.ItemOptions || {};\n    baseConfiguration.ItemOptions.defaultTemplates = baseConfiguration.ItemOptions.defaultTemplates || {\n        //@class ItemOptions.DefaultTemplates\n        //@property {DefaultOptionTemplateSpecification} selectorByType\n        // each apply to specific item option types\n        selectorByType: {\n            select: product_views_option_tile_tpl,\n            'default': product_views_option_text_tpl\n        }    // for rendering selected options in the shopping cart\n,\n        selectedByType: { 'default': transaction_line_views_selected_option_tpl },\n        facetCellByType: { 'default': product_views_option_facets_color_tpl }\n    };\n    var item_option_templates = {\n        'transaction_line_views_selected_option_color.tpl': transaction_line_views_selected_option_color_tpl,\n        'transaction_line_views_selected_option.tpl': transaction_line_views_selected_option_tpl,\n        'product_views_option_color.tpl': product_views_option_color_tpl,\n        'product_views_option_dropdown.tpl': product_views_option_dropdown_tpl,\n        'product_views_option_radio.tpl': product_views_option_radio_tpl,\n        'product_views_option_text.tpl': product_views_option_text_tpl,\n        'product_views_option_tile.tpl': product_views_option_tile_tpl,\n        'product_views_option_facets_color.tpl': product_views_option_facets_color_tpl,\n        'product_views_option_facets_tile.tpl': product_views_option_facets_tile_tpl\n    };\n    _.each(baseConfiguration.ItemOptions.optionsConfiguration || [], function (item_option) {\n        if (item_option.templateSelected && item_option_templates[item_option.templateSelected]) {\n            item_option.templates = item_option.templates || {};\n            item_option.templates.selected = item_option_templates[item_option.templateSelected];\n        }\n        if (item_option.templateSelector && item_option_templates[item_option.templateSelector]) {\n            item_option.templates = item_option.templates || {};\n            item_option.templates.selector = item_option_templates[item_option.templateSelector];\n        }\n        if (item_option.templateFacetCell && item_option_templates[item_option.templateFacetCell]) {\n            item_option.templates = item_option.templates || {};\n            item_option.templates.facetCell = item_option_templates[item_option.templateFacetCell];\n        }\n    });\n    var Configuration = {\n        searchPrefs: {\n            // Keyword formatter function will format the text entered by the user in the search box. This default implementation will remove invalid keyword characters like *()+-=\"\n            keywordsFormatter: function (keywords) {\n                if (keywords === '||') {\n                    return '';\n                }\n                var anyLocationRegex = /[\\(\\)\\[\\]\\{\\~\\}\\!\\\"\\:\\/]{1}/g    // characters that cannot appear at any location\n, beginingRegex = /^[\\*\\-\\+]{1}/g    // characters that cannot appear at the begining\n, replaceWith = '';\n                // replacement for invalid chars\n                return keywords.replace(anyLocationRegex, replaceWith).replace(beginingRegex, replaceWith);\n            }\n        },\n        bxSliderDefaults: {\n            minSlides: 2,\n            slideWidth: 228,\n            maxSlides: 5,\n            forceStart: true,\n            pager: false,\n            touchEnabled: true,\n            nextText: '<a class=\"item-relations-related-carousel-next\"><span class=\"control-text\">' + _('next').translate() + '</span> <i class=\"carousel-next-arrow\"></i></a>',\n            prevText: '<a class=\"item-relations-related-carousel-prev\"><i class=\"carousel-prev-arrow\"></i> <span class=\"control-text\">' + _('prev').translate() + '</span></a>',\n            controls: true,\n            preloadImages: 'all'\n        },\n        siteSettings: SC && SC.ENVIRONMENT && SC.ENVIRONMENT.siteSettings || {},\n        get: function (path, defaultValue) {\n            return _.getPathFromObject(this, path, defaultValue);\n        },\n        getRegistrationType: function () {\n            //registrationmandatory is 'T' when customer registration is disabled\n            if (Configuration.get('siteSettings.registration.registrationmandatory') === 'T') {\n                // no login, no register, checkout as guest only\n                return 'disabled';\n            } else {\n                if (Configuration.get('siteSettings.registration.registrationoptional') === 'T') {\n                    // login, register, guest\n                    return 'optional';\n                } else {\n                    if (Configuration.get('siteSettings.registration.registrationallowed') === 'T') {\n                        // login, register, no guest\n                        return 'required';\n                    } else {\n                        // login, no register, no guest\n                        return 'existing';\n                    }\n                }\n            }\n        }\n    };\n    // Deep extend\n    jQuery.extend(true, baseConfiguration, Configuration);\n    //BACKWARDS COMPATIBILITY: all the following is a normalization to the object baseConfiguration to guarantee backguard compatibility with pre montblanc in the sense of configuration property names in application.getConfig('foo')\n    //fixing some properties for backward compatibility w montblanc:\n    var imageSizeMapping = {};\n    _.each(baseConfiguration.imageSizeMapping, function (item) {\n        imageSizeMapping[item.id] = item.value;\n    });\n    baseConfiguration.imageSizeMapping = imageSizeMapping;\n    var searchApiMasterOptions = {};\n    _.each(baseConfiguration.searchApiMasterOptions, function (item) {\n        searchApiMasterOptions[item.id] = {\n            fieldset: item.fieldset,\n            include: item.include\n        };\n    });\n    baseConfiguration.searchApiMasterOptions = searchApiMasterOptions;\n    //social sharing backward compatibility\n    var addThisOptions = {};\n    _.each(baseConfiguration.addThis && baseConfiguration.addThis.options, function (item) {\n        addThisOptions[item.key] = item.value;\n    });\n    baseConfiguration.addThis && (baseConfiguration.addThis.options = addThisOptions);\n    var addThisServicesToShow = {};\n    _.each(baseConfiguration.addThis && baseConfiguration.addThis.servicesToShow, function (item) {\n        addThisServicesToShow[item.key] = item.value;\n    });\n    baseConfiguration.addThis && (baseConfiguration.addThis.servicesToShow = addThisServicesToShow);\n    _.each(baseConfiguration.paymentmethods, function (item) {\n        try {\n            if (item.regex) {\n                item.regex = new RegExp(item.regex);\n            }\n        } catch (ex) {\n        }\n    });\n    if (baseConfiguration.productReviews && baseConfiguration.productReviews.sortOptions) {\n        _.each(baseConfiguration.productReviews.sortOptions, function (sortOptions) {\n            try {\n                sortOptions.params = JSON.parse(sortOptions.params || '{}') || {};\n            } catch (ex) {\n            }\n        });\n    }\n    if (baseConfiguration.productReviews && baseConfiguration.productReviews.filterOptions) {\n        _.each(baseConfiguration.productReviews.filterOptions, function (filterOptions) {\n            try {\n                filterOptions.params = JSON.parse(filterOptions.params || '{}') || {};\n            } catch (ex) {\n            }\n        });\n    }\n    //extraTranslations\n    var currentLocale = SC && SC.ENVIRONMENT && SC.ENVIRONMENT.currentLanguage && SC.ENVIRONMENT.currentLanguage.locale;\n    _.each(baseConfiguration.extraTranslations, function (item) {\n        if (item[currentLocale]) {\n            SC.Translations[item.key] = item[currentLocale];\n        }\n    });\n    //navigation data\n    baseConfiguration.navigationData = baseConfiguration.navigationData || [];\n    // navigation hierarchy bindings.\n    _.each(baseConfiguration.navigationData, function (entry) {\n        if (!entry) {\n            return;\n        } else {\n            // These 2 ifs were done for backwards compatibility.\n            // The correct way of fixing it would have been modifying the navigation.json\n            // Replacing dataTouchpoint with data-touchpoint and dataHashtag with data-hashtag.\n            // This way when rendering the Header.Menu.View it will pass the entry to\n            // Utils.objectToAtrributes and pass the property name filter\n            if (entry.dataTouchpoint) {\n                entry['data-touchpoint'] = entry.dataTouchpoint;\n            }\n            if (entry.dataHashtag) {\n                entry['data-hashtag'] = entry.dataHashtag;\n            }\n            if (entry.placeholder) {\n                entry.text = '';\n            }\n            entry['class'] = 'header-menu-level' + entry.level + '-anchor';\n        }\n        if (entry.parentId) {\n            var parent = _.find(baseConfiguration.navigationData, function (e) {\n                return e.id === entry.parentId;\n            });\n            parent = parent || {};\n            parent.categories = parent.categories || [];\n            parent.categories.push(entry);\n        }\n        if (entry.classnames) {\n            entry['class'] += ' ' + entry.classnames;\n        }\n    });\n    // Now, remove  non top level nav entries from the array (root nodes)\n    // heads up ! we have to re-iterate :( this is the correct way of deleting and iterating an array - not _.each()\n    for (var i = 0; i < baseConfiguration.navigationData.length; i++) {\n        var entry = baseConfiguration.navigationData[i];\n        if (!entry || entry.level > 1) {\n            baseConfiguration.navigationData.splice(i, 1);\n            i--;\n        }\n    }\n    Utils.setPathFromObject(baseConfiguration, 'forms.address.showAddressLine2', Utils.getPathFromObject(baseConfiguration, 'forms.address.showAddressLineTwo', true));\n    return baseConfiguration;\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module Wizard\ndefine('Wizard.Module', [\n    'wizard_module.tpl',\n    'GlobalViews.Message.View',\n    'Backbone',\n    'underscore',\n    'jQuery'\n], function (wizard_module_tpl, GlobalViewsMessageView, Backbone, _, jQuery) {\n    'use strict';\n    // @class Wizard.Module Abstract Representation of a Wizard Module @extends Backbone.View\n    return Backbone.View.extend({\n        tagName: 'article',\n        template: wizard_module_tpl    // @property {Array} errors\n,\n        errors: [],\n        initialize: function (options) {\n            this.wizard = options.wizard;\n            this.step = options.step;\n            this.model = options.wizard.model;\n            this.module_id = options.module_id || (this.template ? this.template.Name : '');\n            // errors array in the configuration file completely overrides the default one.\n            if (options.errors) {\n                this.errors = options.errors;\n            }\n        }    // @method disableInterface General method to disable the module interface called at the moment of submitting the step\n,\n        disableInterface: jQuery.noop,\n        enableInterface: jQuery.noop,\n        refresh: jQuery.noop,\n        _render: function () {\n            var ret;\n            if (!this.isActive()) {\n                ret = this.$el.empty();\n            } else {\n                this.$el.addClass('module-rendered');\n                ret = Backbone.View.prototype._render.apply(this, arguments);\n                // add the error message box to the module\n                if (!this.$('[data-type=\"alert-placeholder-module\"]').length) {\n                    this.$el.prepend('<div data-type=\"alert-placeholder-module\"></div>');\n                }\n                // we show module errors (if any) and remove the error object\n                if (this.error) {\n                    this.showError();\n                }\n            }\n            // We trigger the resize event of the body as the DOM is changed\n            // and some components might be positioned based on the body size\n            jQuery(document.body).trigger('resize');\n            return ret;\n        }    // @method submit by default, a module returns it's validation promise. @returns {jQuery.Deferred}\n,\n        submit: function () {\n            return this.isValid();\n        }    // @method cancel @returns {jQuery.Deferred}\n,\n        cancel: function () {\n            return jQuery.Deferred().resolve();\n        }    // @method isValid validate resolves a promise because maybe it needs to do some ajax for validation @returns {jQuery.Deferred}\n,\n        isValid: function () {\n            return jQuery.Deferred().resolve();\n        }    // @method isActive Base implementation to determines is a module is active (can be submitted, rendered or just use) or not. @returns {Boolean}\n,\n        isActive: function () {\n            return _.isFunction(this.options.isActive) ? this.options.isActive.apply(this, arguments) : true;\n        }    // @method getTitle returns the title of the module, can be overridden in the configuration file. @returns {String}\n,\n        getTitle: function () {\n            return _.isFunction(this.options.title) ? this.options.title.apply(this) : this.options.title || this.title || '';\n        }    // @method manageError @param {Wizard.Module.Error} error\n,\n        manageError: function (error) {\n            if (this.state !== 'future' && this.isActive()) {\n                //@property {Wizard.Module.Error} error the current error object if any\n                this.error = error;\n                this.trigger('error', error);\n                // if the module is being shown we show the error\n                if (this.wizard.getCurrentStep() === this.step) {\n                    this.showError();\n                }\n            }\n        }    // @method showError render the error message\n,\n        showError: function () {\n            var global_view_message = new GlobalViewsMessageView({\n                message: this.error.errorMessage,\n                type: 'error',\n                closable: true\n            });\n            //Note: in special situations (like in payment-selector), there are modules inside modules, so we have several place holders, so we only want to show the error in the first place holder.\n            var error_container = this.$('[data-type=\"alert-placeholder-module\"]:first'), error_container_parent = error_container.parents('.module-rendered:last');\n            if (error_container_parent.length) {\n                //may be more than one, we are interested in the last one\n                jQuery('html, body').animate({ scrollTop: jQuery(error_container_parent[0]).offset().top }, 600);\n            }\n            error_container.html(global_view_message.render().$el.html());\n            this.error = null;\n        }    // @method clearError empty the error message container\n,\n        clearError: function () {\n            this.$('[data-type=\"alert-placeholder-module\"]').empty();\n            this.error = null;\n        }    // @method clearGeneralMessages General method to clear any message at step level\n,\n        clearGeneralMessages: function () {\n            jQuery('[data-type=\"alert-placeholder-module\"]:first').empty();\n        }    // @method showGeneralMessage Notify a message (not just an error) at step level. Type can be a boolean (true: for errors, false: for success) or string to add a class alert-<type>\n,\n        showGeneralMessage: function (message, type) {\n            var message_type = _.isString(type) ? type : type && 'error' || 'success';\n            var global_view_message = new GlobalViewsMessageView({\n                message: message,\n                type: message_type,\n                closable: true\n            });\n            jQuery('[data-type=\"alert-placeholder-module\"]:first').html(global_view_message.render().$el.html());\n        }\n    });\n});    //@class Wizard.Module.Error \n       //@property {String} errorMessage\n       //@property {String} errorCode\n","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module GlobalViews.Pagination.View\ndefine('GlobalViews.Pagination.View', [\n    'global_views_pagination.tpl',\n    'Backbone',\n    'underscore',\n    'Utils'\n], function (global_views_pagination_tpl, Backbone, _) {\n    'use strict';\n    // @class GlobalViews.Pagination.View @extends Backbone.View\n    return Backbone.View.extend({\n        template: global_views_pagination_tpl,\n        initialize: function () {\n            //State definition\n            this.current_page;\n            this.pages;\n            this.pager;\n            this.range_start = 1;\n            this.range_end;\n            this.show_page_list;\n            this.precalculateValues();\n        }    // @method pager @param {String} url_value @returns {String}\n,\n        _pager: function (url_value) {\n            var page_number = parseInt(url_value, 10), url = Backbone.history.fragment;\n            return isNaN(page_number) || page_number === 1 ? _.removeUrlParameter(url, 'page') : _.setUrlParameter(url, 'page', page_number);\n        },\n        _getCurrentPage: function () {\n            var url_options = _.parseUrlOptions(Backbone.history.fragment);\n            return this._getPageFromUrl(url_options.page);\n        }    // @method getPageFromUrl @param {String} url_value @returns {Number}\n,\n        _getPageFromUrl: function (url_value) {\n            var page_number = parseInt(url_value, 10);\n            return !isNaN(page_number) && page_number > 0 ? page_number : 1;\n        }    //@method precalculateValues Internal method to precalculate paginator state once and being able to use it many times\n,\n        precalculateValues: function () {\n            this.current_page = this._getCurrentPage();\n            this.total_pages = parseInt(this.options.totalPages, 10);\n            this.pager = this.options.pager || this._pager;\n            this.range_end = this.total_pages + 1;\n            this.show_page_list = _.isBoolean(this.options.showPageList) ? this.options.showPageList : true;\n            var pages_to_show = parseInt(this.options.pagesToShow, 10) || 4, padding_left = pages_to_show % 2 === 0 ? pages_to_show / 2 - 1 : parseInt(pages_to_show / 2, 10);\n            if (this.show_page_list && pages_to_show < this.total_pages) {\n                // if we are getting closer to the end we need to compute from the end to the beginig\n                if (pages_to_show - padding_left > this.total_pages - this.current_page) {\n                    this.range_start = this.total_pages + 1 - pages_to_show;\n                } else {\n                    this.range_start = this.current_page - padding_left < 1 ? 1 : this.current_page - padding_left;\n                    this.range_end = this.range_start + pages_to_show > this.total_pages ? this.total_pages : this.range_start + pages_to_show;\n                }\n            }\n            var self = this;\n            this.pages = _.map(_.range(this.range_start, this.range_end), function (page_index) {\n                //@class GlobalViews.Pagination.View.PageItem\n                return {\n                    //@property {Boolean} isCurrentPageActivePage\n                    isCurrentPageActivePage: page_index === self.current_page,\n                    URL: self.pager(page_index)    //@property {String} fixedURL\n,\n                    fixedURL: _(self.pager(page_index)).fixUrl()    //@property {Number} pageIndex\n,\n                    pageIndex: page_index\n                };    //@class GlobalViews.Pagination.View\n            });\n        }    // @method getContext @return {GlobalViews.Pagination.View.Content}\n,\n        getContext: function () {\n            //@class GlobalViews.Pagination.View\n            return {\n                //@property {Boolean} currentPageLowerThanTotalPagesAndCurrentPageGreaterThan0AndPagesCountGreaterThan1\n                currentPageLowerThanTotalPagesAndCurrentPageGreaterThan0AndPagesCountGreaterThan1: this.total_pages >= this.current_page && this.current_page > 0 && this.pages.length > 1    //@property {Boolean} showPageIndicator\n,\n                showPageIndicator: this.options.showPageIndicator || true    //@property {String} paginatorClass\n,\n                paginatorClass: this.options.extraClass || ''    //@property {Number} currentPage\n,\n                currentPage: this.current_page,\n                totalPages: this.total_pages,\n                isCurrentPageDifferentThan1: this.current_page !== 1    //@property {String} currentPageURL\n,\n                currentPageURL: _(this.pager(this.current_page)).fixUrl()    //@property {String} previousPageURL\n,\n                previousPageURL: _(this.pager(this.current_page - 1)).fixUrl()    //@property {String} nextPageURL\n,\n                nextPageURL: _(this.pager(this.current_page + 1)).fixUrl()    //@property {Boolean} showPageList\n,\n                showPageList: this.show_page_list,\n                showPaginationLinksCompactClass: !this.show_page_list,\n                isRangeStartGreaterThan1: this.range_start > 1    //@property {Boolean} isRangeEndLowerThanTotalPages\n,\n                isRangeEndLowerThanTotalPages: this.range_end < this.total_pages,\n                isCurrentPageLast: this.current_page === this.total_pages,\n                pages: this.pages\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module GlobalViews\ndefine('GlobalViews.ShowingCurrent.View', [\n    'global_views_showing_current.tpl',\n    'Backbone',\n    'underscore'\n], function (global_views_showing_current_tpl, Backbone, _) {\n    'use strict';\n    // @class GlobalViews.ShowingCurrent.View @extends Backbone.View\n    return Backbone.View.extend({\n        template: global_views_showing_current_tpl,\n        _getCurrentPage: function () {\n            var url_options = _.parseUrlOptions(Backbone.history.fragment);\n            return this._getPageFromUrl(url_options.page);\n        }    // @method getPageFromUrl @param {String} url_value @returns {Number}\n,\n        _getPageFromUrl: function (url_value) {\n            var page_number = parseInt(url_value, 10);\n            return !isNaN(page_number) && page_number > 0 ? page_number : 1;\n        }    // @method getContext @return GlobalViews.ShowingCurrent.View.Content\n,\n        getContext: function () {\n            this.options.current_page = this._getCurrentPage();\n            var lastItem = this.options.current_page * this.options.items_per_page;\n            //@class GlobalViews.ShowingCurrent.View.Content\n            return {\n                //@property {String} orderText\n                orderText: this.options.order_id ? ' ' + _('for <a href=\"/ordershistory/view/$(0)\">  Order Number: #$(1)</a>').translate(this.options.order_id, this.options.order_number) : ''    //@property {String} extraClass\n,\n                extraClass: this.options.extraClass,\n                firstItem: (this.options.current_page - 1) * this.options.items_per_page + 1    //@property {Number} lastItem\n,\n                lastItem: lastItem > this.options.total_items ? this.options.total_items : lastItem    //@property {Number} totalItems\n,\n                totalItems: this.options.total_items\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n/*\n@module jQueryExtras\n\n#jQuery.ajaxSetup\n\nChanges jQuery's ajax setup defaults for adding the loading icon. Updates icon's placement on mousemove. \n*/\ndefine('jQuery.ajaxSetup', [\n    'jQuery',\n    'underscore',\n    'Utils'\n], function (jQuery, _) {\n    'use strict';\n    // Variable used to track the mouse position\n    var mouse_position = {\n        top: 0,\n        left: 0\n    };\n    jQuery(document).ready(function () {\n        var $body = jQuery(document.body), $loading_icon = jQuery('#loadingIndicator');\n        if (!$loading_icon.length && !(SC && SC.ENVIRONMENT && SC.ENVIRONMENT.isTouchEnabled)) {\n            // if the icon wasn't there, lets add it and make a reference in the global scope\n            $loading_icon = jQuery('<img/>', {\n                id: 'loadingIndicator',\n                'class': 'global-loading-indicator',\n                src: _.getThemeAbsoluteUrlOfNonManagedResources('img/ajax-loader.gif'),\n                css: {\n                    zIndex: 9999,\n                    position: 'absolute'\n                }\n            }).hide();\n            if (!_.result(SC, 'isPageGenerator')) {\n                $loading_icon.appendTo($body);\n            }\n        }\n        SC.$loadingIndicator = $loading_icon;\n        // loading icon sizes, used for positioning math\n        var icon_height = 16, icon_width = 16;\n        $body.on({\n            // On mouse move, we update the icon's position, even if its not shown\n            mousemove: _.throttle(function (e) {\n                mouse_position = {\n                    top: Math.min($body.innerHeight() - icon_height, e.pageY + icon_width),\n                    left: Math.min($body.innerWidth() - icon_width, e.pageX + icon_height)\n                };\n                $loading_icon.filter(':visible').css(mouse_position);\n            }, 50)    // when the body resizes, we move the icon to the bottom of the page\n                      // so we don't get some empty white space at the end of the body\n,\n            resize: _.throttle(function () {\n                var icon_offset = $loading_icon.offset();\n                if (!icon_offset) {\n                    return;\n                }\n                mouse_position = {\n                    top: Math.min($body.innerHeight() - icon_height, icon_offset.top),\n                    left: Math.min($body.innerWidth() - icon_width, icon_offset.left)\n                };\n                $loading_icon.filter(':visible').css(mouse_position);\n            }, 50)\n        });\n    });\n    SC.loadingIndicatorShow = function () {\n        SC.$loadingIndicator && SC.$loadingIndicator.css(mouse_position).show();\n    };\n    SC.loadingIndicatorHide = function () {\n        SC.$loadingIndicator && SC.$loadingIndicator.hide();\n    };\n    // This registers an event listener to any ajax call\n    var $document = jQuery(document)    // http://api.jquery.com/ajaxStart/\n.ajaxStart(SC.loadingIndicatorShow)    // http://api.jquery.com/ajaxStop/\n.ajaxStop(SC.loadingIndicatorHide);\n    // fix to solve APM issue (timebrowser timing): https://confluence.corp.netsuite.com/display/SCRUMPSGSVCS/RUM+API+Issues+and+Enhancements\n    if (_.result(SC.ENVIRONMENT, 'SENSORS_ENABLED')) {\n        $document.ajaxStop(function () {\n            if (typeof window.NLRUM !== 'undefined') {\n                window.NLRUM.mark('done');\n            }\n        });\n    }\n    // http://api.jquery.com/jQuery.ajaxSetup/\n    jQuery.ajaxSetup({\n        beforeSend: function (jqXhr, options) {\n            // BTW: \"!~\" means \"== -1\"\n            if (!~options.contentType.indexOf('charset')) {\n                // If there's no charset, we set it to UTF-8\n                jqXhr.setRequestHeader('Content-Type', options.contentType + '; charset=UTF-8');\n            }\n            if (!SC.dontSetRequestHeaderTouchpoint) {\n                // Add header so that suitescript code can know the current touchpoint\n                jqXhr.setRequestHeader('X-SC-Touchpoint', SC.ENVIRONMENT.SCTouchpoint);\n            }\n        }\n    });\n    jQuery.ajaxTransport('+script', function (s) {\n        // This transport only deals with cross domain requests\n        if (s.crossDomain) {\n            var script, head = document.head || jQuery('head')[0] || document.documentElement;\n            return {\n                send: function (_, callback) {\n                    script = document.createElement('script');\n                    script.async = true;\n                    if (s.scriptCharset) {\n                        script.charset = s.scriptCharset;\n                    }\n                    script.src = s.url;\n                    function clean() {\n                        // Handle memory leak in IE\n                        script.onload = script.onreadystatechange = null;\n                        // Remove the script\n                        if (script.parentNode) {\n                            script.parentNode.removeChild(script);\n                        }\n                        // Dereference the script\n                        script = null;\n                    }\n                    // Attach handlers for all browsers\n                    script.onload = script.onreadystatechange = function (_, isAbort) {\n                        if (isAbort || !script.readyState || /loaded|complete/.test(script.readyState)) {\n                            clean();\n                            // Callback if not abort\n                            if (!isAbort) {\n                                callback(200, 'success');\n                            }\n                        }\n                    };\n                    script.onerror = function () {\n                        clean();\n                        callback(404, 'error');\n                    };\n                    // Circumvent IE6 bugs with base elements (#2709 and #4378) by prepending\n                    // Use native DOM manipulation to avoid our domManip AJAX trickery\n                    head.insertBefore(script, head.firstChild);\n                },\n                abort: function () {\n                    if (script) {\n                        script.onload(undefined, true);\n                    }\n                }\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module AjaxRequestsKiller\n// Keeps trak of ongoing ajax requests and of url (or hash) changes,\n// so when the url changes it kills all pending ajax requests that other routers may have initiated.\n// It's important to note that not all ajax request are opened by the change of the url,\n// for that reason it's important that you tag those who do by adding a killerId: AjaxRequestsKiller.getKillerId() to the request (collection.fetch and model.fetch may trigger a request)\ndefine('AjaxRequestsKiller', [\n    'underscore',\n    'jQuery',\n    'Backbone',\n    'jQuery.ajaxSetup'\n], function (_, jQuery, Backbone) {\n    'use strict';\n    var killerId, lambsToBeKilled;\n    // @class AjaxRequestsKiller @extends ApplicationModule\n    return {\n        //@method getKillerId\n        getKillerId: function () {\n            return killerId;\n        }    //@method getLambsToBeKilled\n,\n        getLambsToBeKilled: function () {\n            return lambsToBeKilled;\n        }    //@method mountToApp\n,\n        mountToApp: function (application) {\n            // Sets the first Killer ID\n            // Every time the url changes this will be reseted,\n            // but as we are the last listening to the url change event\n            // this only happens after all request are made\n            killerId = _.uniqueId('ajax_killer_');\n            // Every time a request is made, a ref to it will be store in this collection.\n            lambsToBeKilled = [];\n            // Wraps the beforeSend function of the jQuery.ajaxSettings\n            jQuery.ajaxSettings.beforeSend = _.wrap(jQuery.ajaxSettings.beforeSend, function (fn, jqXhr, options) {\n                // If the killerId is set we add it to the collection\n                if (options.killerId) {\n                    jqXhr.killerId = options.killerId;\n                    lambsToBeKilled.push(jqXhr);\n                }\n                // Finally we call the original jQuery.ajaxSettings.beforeSend\n                fn.apply(this, _.toArray(arguments).slice(1));\n            });\n            // We listen to the afterStart because Backbone.history is *potentialy* not ready until after that\n            application.on('afterStart', function () {\n                // There is a timing issue involved,\n                // the on all event happens after the 2nd requests is done\n                Backbone.history.on('all', function () {\n                    // Check previous ongoing requests\n                    _.each(lambsToBeKilled, function (prev_jqXhr) {\n                        // if the new id is different than the old one, it means that there is a new killer id,\n                        // so we kill the old one if its still ongoing\n                        if (killerId && killerId !== prev_jqXhr.killerId) {\n                            if (prev_jqXhr.readyState !== 4) {\n                                // If we are killing this request we don't want the ErrorHandling.js to handle it\n                                prev_jqXhr.preventDefault = true;\n                                prev_jqXhr.abort();\n                            }\n                            // we take it off the lambsToBeKilled collection to free some space and processing.\n                            lambsToBeKilled = _.without(lambsToBeKilled, prev_jqXhr);\n                        }\n                    });\n                    // Generates a new id for the **next** request\n                    killerId = _.uniqueId('ajax_killer_');\n                });\n            });\n        }\n    };\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n/*\n@module Backbone.CompositeView @class Backbone.CompositeView\n#Description\n\nThe module Backbone.CompositeView adds support for Backbone Views composition.\n\n#Define a Composite View\n\nSince Elbrus, all Backbone.View are CompositeView by default so there is no need to required\n'Backbone.CompositeView' and call the 'CompositeView.add(this)' method.\nTo make it backwards compatible, we made the 'CompositeView.add()' method a 'noop' method, so\nyou will get no errors if you call it from your code\n\nBefore Elbrus:\n\n```js\n\tvar CompositeView = require('Backbone.CompositeView');\n\tvar MyView = new backbone.View.extend({\n\t\tinitialize: function()\n\t\t{\n\t\t\tCompositeView.add(this);\n\t\t\t//now this view is a composite view!\n\t\t}\n\t});\n```\n\nAfter Elbrus:\n\n```js\n\tvar MyView = new backbone.View.extend({\n\t\tinitialize: function()\n\t\t{\n\t\t\t//every view now is a composite view!\n\t\t}\n\t});\n```\n\n#Composition by View definition\n\nAnother change since Elbrus is that a data-view is now a container for multiple children views.\n\nThe parent view needs to declare a place holder element in its template to render the children\nin it.\n\n```html\n\t<div data-view=\"Buttons\"></div>\n```\n\nThe parent view must also declare how its sub views will be created. For doing so it declares the\n'childViews' property which is an object with properties that are the name of the children views.\nThe value of those properties are objects that define 2 properties, 'childViewIndex' and 'childViewConstructor'\n\n```js\n\tchildViews: {\n\t\t'Buttons': {\n\t\t\t'Whishlist': {\n\t\t\t\t'childViewIndex': 10\n\t\t\t,\t'childViewConstructor': function() {\n\t\t\t\t\treturn new WhishlistView();\n\t\t\t\t}\n\t\t\t}\n\t\t\t'SaveForLater': {\n\t\t\t\t'childViewIndex': 20\n\t\t\t,\t'childViewConstructor': SomeView\n\t\t\t}\n\t\t}\n\t}\n```\n\n'childViewIndex': is the order in which the children will be rendered in that container.\n'childViewConstructor': can be either functions or Backbone.View subclasses. Each defined function\nmust return an instance of a Backbone.View.\n\nTo make it backward compatible, we will still supporting the old format:\n\n```js\n\tchildViews: {\n\t\t'Promocode': function()\n\t\t{\n\t\t\treturn new PromocodeView({model: this.model.get('promocode')});\n\t\t}\n\t,\t'SomeWidget': SomeWidget\n\t}\n```\n\nIn this case, the container and the view name will have the same, and in the 'childViews' property,\nyou can combine the old and the new format.\n\n\nThe function callback takes as an arguments the data attributes of the element placeholder. For example if a placeholder\nelement contains a data attribute named color\n\n```html\n\t<div data-view=\"Rectangles.View\" data-color=\"#FF0000\"></div>\n```\n\nThe function callback will have an key named color using that value.\n\n```js\n\tchildViews: {\n\t\t'Rectangles.View':\n\t\t{\n\t\t\t'RectangleRed':\n\t\t\t{\n\t\t\t\tchildViewIndex: 10\n\t\t\t,\tchildViewConstructor: function(options)\n\t\t\t\t{\n\t\t\t\t\treturn new RectangleView({ color: options.color });\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n```\n\nIn the case of Backbone.View subclasses in the childViews properties the options are passed to the initialize function.\nSo the previous example could be written as\n\n```js\n\tchildViews: {\n\t\t'Rectangles.View':\n\t\t{\n\t\t\t'RectangleRed':\n\t\t\t{\n\t\t\t\tchildViewIndex: 10\n\t\t\t,\tchildViewConstructor: RectangleView\n\t\t\t}\n\t\t}\n\t}\n```\n\n##Summary\n\nSo in summary, the parent view has all the responsibility of declaring the location of the child\nviews in the markup and to instantiate its child views by name. Also has the responsibility of\ndestroying its children and this is done automatically.\n\nChildren constructor functions and children instances are available in the parent view.\nThere is children to parent references in the 'parentView' property and also a boolean 'hasParent'.\n\n#Composition by Extension\n\nAny view declared as Composite View can be extended with new child views externally by passing certain properties when initializing it.\nThis is extremely useful when developing components.\n\nIn this case, as in Composition by View definition, the template must indicate the location where the child view will be located by\nadding a data-view attribute.\n\n```html\n\t<div data-view=\"ExternalChildViews\"></div>\n```\n\nWhen initializing a component view that is composite you can pass in its options a property called 'childViews' that resemble the\n'childViews'.\nExample:\n\n```js\n\n//...\n\nvar component = new MyComponent({\n\tchildViews: {\n\t\tExternalChildViews: function (component_model)\n\t\t{\n\t\t\tSomeView:\n\t\t\t{\n\t\t\t\tchildViewIndex: 10\n\t\t\t,\tchildViewConstructor: function ()\n\t\t\t{\n\t\t\t\treturn new RectangleView();\n\t\t\t}\n\t\t}\n\t}\n})\n\n```\n\n*/\ndefine('Backbone.CompositeView', [\n    'Backbone.View',\n    'Backbone',\n    'jQuery',\n    'underscore',\n    'Utils',\n    'PluginContainer'\n], function (BackboneView, Backbone, jQuery, _, Utils, PluginContainer) {\n    'use strict';\n    var compositeView = {\n        // @method destroyCompositeView Destroy all the child view instances\n        destroyCompositeView: function destroyCompositeView() {\n            var self = this;\n            _(this.childViewInstances).each(function (container, container_name) {\n                _.each(container, function (generator, view_name) {\n                    self.removeChildViewInstance(container_name, view_name);\n                });\n            });\n        }    // @method renderChild Creates and render a childView\n             // @param {DOM|String}elementOrViewName The DOM element or the name of the childView\n             // @return {Backbone.View}\n,\n        renderChild: function renderChild(elementOrViewName) {\n            //console.warn('DEPRECATED: \"Backbone.View.renderChild(params)\" is deprecated. Use \"Backbone.CompositeView.renderChildViewContainer(params)\" instead');\n            if (typeof elementOrViewName !== 'string') {\n                elementOrViewName = jQuery(elementOrViewName).data('view');\n            }\n            if (elementOrViewName) {\n                this.renderChildViewContainer(elementOrViewName, true);\n            }\n            return this.getChildViewInstance(elementOrViewName);\n        }    // @method renderCompositeView Creates and renders the childViews\n,\n        renderCompositeView: function renderCompositeView() {\n            // @event beforeCompositeViewRender triggered just before a view's children finish rendering in the DOM\n            this.trigger('beforeCompositeViewRender', this);\n            this._createChildViewInstances();\n            this._renderChildViewInstances();\n            Backbone.View.afterCompositeViewRender.executeAll(this);\n            // @event afterCompositeViewRender triggered when a view's children finish rendering in the DOM\n            this.trigger('afterCompositeViewRender', this);\n        }    // @method _renderChildViewInstances Render the all the childViews\n             // @private\n,\n        _renderChildViewInstances: function _renderChildViewInstances() {\n            var self = this;\n            _.each(this.childViewInstances, function (child_views, container_name) {\n                self.renderChildViewContainer(container_name);\n            });\n        }    // @method _renderChildViewInstance Render a childView\n             // @param {Backbone.View} child_view_instance The instance of the childview\n             // @param {String} placeholder Where to insert the childView\n             // @param {Number} number_views The number of views of the container of the childView\n             // @private\n,\n        _renderChildViewInstance: function _renderChildViewInstance(child_view_instance, placeholder, number_views, isExternal) {\n            if (child_view_instance) {\n                this._setCustomTemplate(child_view_instance);\n                if (number_views === 1 && !isExternal) {\n                    this._finishRender(child_view_instance, this.$el.find(placeholder));\n                } else {\n                    child_view_instance.render();\n                    this.$(placeholder).append(child_view_instance.$el);\n                }\n            }\n        }    // @method renderChildViewContainer Renders the childViews of a container\n             // @param {String} container_name The name of the container\n             // @param {Boolean} create_child Indicate if the childView instnace is created\n,\n        renderChildViewContainer: function renderChildViewContainer(container_name, create_child) {\n            var self = this, generators = _.values(this.childViewInstances[container_name]);\n            generators.sort(function (a, b) {\n                return a.childViewIndex - b.childViewIndex;\n            });\n            _.each(generators, function (generator) {\n                if (create_child) {\n                    self.createChildViewInstance(generator);\n                }\n                var placeholder = self._getPlaceholder(generator.childViewSelector);\n                self._renderChildViewInstance(generator.childViewInstance, placeholder, generators.length, generator.childViewIsExternal);\n            });\n        }    // @method_getPlaceholder\n             // @param {Object} selector\n             // @return {String}\n             // @private\n,\n        _getPlaceholder: function _getPlaceholder(selector) {\n            var placeholder = '';\n            _.each(selector, function (value, key) {\n                placeholder += '[' + key + '=\"' + value + '\"]';\n            });\n            return placeholder;\n        }    // @method _createChildViewInstances Create instances of all childViews\n             // @private\n,\n        _createChildViewInstances: function _createChildViewInstances() {\n            var self = this;\n            _.each(this.childViewInstances, function (child_views) {\n                _.each(child_views, function (generator) {\n                    var placeholder = self._getPlaceholder(generator.childViewSelector), $element = self.$(placeholder);\n                    if ($element.length) {\n                        if (generator.childViewConstructor) {\n                            self.createChildViewInstance(generator, $element.data());\n                        }\n                    }\n                });\n            });\n        }    // @method createChildViewInstance Create a instance of a childView\n             // @param {Object} generator The generator of the childView\n             // @param {Object} element_data Data of the DOM to initialize the instance\n             // @return {Backbone.View} return the instance of the childView\n,\n        createChildViewInstance: function createChildViewInstance(generator, element_data) {\n            element_data = element_data || {};\n            var options = _.extend({}, element_data, this.options);\n            if (generator.childViewInstance) {\n                generator.childViewInstance.destroy(true);\n            }\n            if (generator.childViewConstructor.extend === Backbone.View.extend) {\n                // special case of 'Some.View': SomeView\n                // generator.childViewInstance = new generator.childViewConstructor(options);\n                generator.childViewInstance = generator.childViewIsExternal ? new generator.childViewConstructor() : new generator.childViewConstructor(options);\n            } else {\n                // common case 'Some.View': function() { ... }\n                generator.childViewInstance = generator.childViewIsExternal ? generator.childViewConstructor.call(null) : generator.childViewConstructor.call(this, options);\n                if (_.isFunction(generator.childViewInstance)) {\n                    generator.childViewInstance = generator.childViewInstance();\n                }\n            }\n            if (generator.childViewInstance) {\n                if (!generator.childViewIsExternal || generator.childViewInstance.parentView) {\n                    generator.childViewInstance.parentView = generator.childViewIsExternal ? this : generator.childViewInstance.parentView || this;\n                    generator.childViewInstance.hasParent = true;\n                }\n                var context_data_request = generator.childViewInstance.getContextDataRequest();\n                if (context_data_request.length) {\n                    var context_data = this.getContextData(context_data_request);\n                    if (generator.childViewInstance.validateContextDataRequest(context_data)) {\n                        generator.childViewInstance.contextData = context_data;\n                    } else {\n                        console.error('Requested context data is not valid for this child view instance.');\n                        generator.childViewInstance = null;\n                        return null;\n                    }\n                }\n                generator.childViewInstance.placeholderData = element_data || {};\n                generator.childViewInstance._originalTemplate = generator.childViewInstance.template;\n                if (!(generator.childViewInstance.attributes && generator.childViewInstance.attributes['data-root-component-id'])) {\n                    generator.childViewInstance.attributes = generator.childViewInstance.attributes || {};\n                    generator.childViewInstance.attributes['data-root-component-id'] = this.attributes && this.attributes['data-root-component-id'] || '';\n                }\n                this._setCustomTemplate(generator.childViewInstance);\n            }\n            return generator.childViewInstance;\n        }    // @method addChildViewInstances Add childViews to this View\n             // @param {Object} child_views The view to be added\n             // @param {Boolean} render Indicates if the childViews needs to be rendered\n,\n        addChildViewInstances: function addChildViewInstances(child_views, render) {\n            var self = this;\n            _.each(child_views, function (child_view, child_view_container) {\n                if (!self.childViewInstances[child_view_container]) {\n                    self.childViewInstances[child_view_container] = {};\n                }\n                var childViewSelector = child_view_container.indexOf('cms:') === 0 ? { 'data-cms-area': child_view_container.replace('cms:', '') } : { 'data-view': child_view_container };\n                if (_.isFunction(child_view)) {\n                    //console.warn('This --- will be deprecated, please use the follow format ---');\n                    self.childViewInstances[child_view_container][child_view_container] = {\n                        childViewIndex: 10,\n                        childViewConstructor: child_view,\n                        childViewInstance: null    // initialize??\n,\n                        childViewSelector: childViewSelector\n                    };\n                } else {\n                    _.each(child_view, function (child_view_generator, child_view_name) {\n                        self.childViewInstances[child_view_container][child_view_name] = {\n                            childViewIndex: child_view_generator.childViewIndex || 10,\n                            childViewConstructor: child_view_generator.childViewConstructor,\n                            childViewInstance: child_view_generator.childViewInstance,\n                            childViewSelector: child_view_generator.childViewSelector || childViewSelector,\n                            childViewIsExternal: child_view_generator.childViewIsExternal\n                        };\n                        if (child_view_generator.childViewInstance) {\n                            var placeholder = self._getPlaceholder(child_view_generator.childViewSelector);\n                            if (!child_view_generator.childViewIsExternal || child_view_generator.childViewInstance.parentView) {\n                                child_view_generator.childViewInstance.parentView = child_view_generator.childViewIsExternal ? self : child_view_generator.childViewInstance.parentView || self;\n                                child_view_generator.childViewInstance.hasParent = true;\n                            }\n                            child_view_generator.childViewInstance.placeholderData = self.$(placeholder).data() || {};\n                            child_view_generator.childViewInstance._originalTemplate = child_view_generator.childViewInstance.template;\n                            if (!(child_view_generator.childViewInstance.attributes && child_view_generator.childViewInstance.attributes['data-root-component-id'])) {\n                                child_view_generator.childViewInstance.attributes = child_view_generator.childViewInstance.attributes || {};\n                                child_view_generator.childViewInstance.attributes['data-root-component-id'] = self.attributes && self.attributes['data-root-component-id'] || '';\n                            }\n                            self._setCustomTemplate(child_view_generator.childViewInstance);\n                        }\n                    });\n                }\n                if (render) {\n                    self.renderChildViewContainer(child_view_container);\n                }\n            });\n        }    // @method getChildViewInstance Get a particular childView\n             // @param {String} container_name The name of the container_name\n             // @param {String} child_view_name The name of the view\n             // @return {Backbone.View}\n,\n        getChildViewInstance: function getChildViewInstance(container_name, child_view_name) {\n            child_view_name = child_view_name || container_name;\n            return this.childViewInstances[container_name] && this.childViewInstances[container_name][child_view_name] && this.childViewInstances[container_name][child_view_name].childViewInstance;\n        }    // @method getChildViewInstances Returns an Array of all the childViews instances\n             // @param {String|null} container_name The name of the container (Optional)\n             // @return {Array<Backbone.View>}\n,\n        getChildViewInstances: function getChildViewInstances(container_name) {\n            var all_child_views = [];\n            if (container_name) {\n                _.each(this.childViewInstances[container_name], function (child_view_generator) {\n                    if (child_view_generator.childViewInstance) {\n                        all_child_views.push(child_view_generator.childViewInstance);\n                    }\n                });\n            } else {\n                _.each(this.childViewInstances, function (child_views) {\n                    _.each(child_views, function (child_view_generator) {\n                        if (child_view_generator.childViewInstance) {\n                            all_child_views.push(child_view_generator.childViewInstance);\n                        }\n                    });\n                });\n            }\n            return all_child_views;\n        }    //@method updateChildViewInstances updates the render settings or the selector\n             //@param {String} selector Where the child view will be inserted\n             //@param {Backbone.View} child_instance Child View to be added\n             //@param {Backbone.CompositeView.AddChildView.Settings} render_settings Indicate how the insertion must be done. Information like where the child view will be placed\n             //@return {Void}\n,\n        updateChildViewInstances: function updateChildViewInstances(child_views, render) {\n            var self = this, promises = [];\n            _.each(child_views, function (child_view, container_name) {\n                _.each(child_view, function (generator, child_view_name) {\n                    promises.push(self.removeChildViewInstance(container_name, child_view_name));\n                });\n            });\n            return jQuery.when(promises).then(function () {\n                self.addChildViewInstances(child_views, render);\n            });\n        }    //@method removeChildViewInstance Removes a child view instance from the current view. Optionally destroy the child view\n             //@param {Backbone.View} child_instance Instance to be removed\n             //@param {Boolean} destroy Indicate if the child view will be also destroyed.\n             //@return {jQuery.Deferred|undefined}\n,\n        removeChildViewInstance: function removeChildViewInstance(container_name, child_view_name, destroy) {\n            if (this.childViewInstances[container_name] && this.childViewInstances[container_name][child_view_name]) {\n                var child_view_instance = this.childViewInstances[container_name][child_view_name].childViewInstance;\n                destroy && delete this.childViewInstances[container_name][child_view_name];\n                if (child_view_instance) {\n                    child_view_instance.$el.detach();\n                    return child_view_instance.destroy(!destroy);\n                }\n            }\n        },\n        _getCustomTemplatePrefix: function _getCustomTemplatePrefix() {\n            return [\n                'cell-',\n                'row-',\n                'child-',\n                ''\n            ];\n        }    // @method _setCustomTemplate Select the best templated based on the current view port with and set it to the child view\n             // @param {Backbone.View} child_view Instance of the child view to be inserted\n,\n        _setCustomTemplate: function _setCustomTemplate(child_view) {\n            var template_prefix = this._getCustomTemplatePrefix();\n            _.each(template_prefix, function (prefix) {\n                var template_name = child_view.placeholderData[prefix + 'template'];\n                // if (template_name)\n                // {\n                var definitive_template_name = Utils.selectByViewportWidth({\n                    phone: child_view.placeholderData[prefix + 'phoneTemplate']    //remember that data-phone-template get's converted in phoneTemplate when we use jQuery.data()\n,\n                    tablet: child_view.placeholderData[prefix + 'tabletTemplate'],\n                    desktop: template_name\n                }, template_name);\n                if (definitive_template_name) {\n                    // IMPORTANT: we are require()ing the template dynamically! In order to this to work, the template should\n                    // be ALREADY loaded and this is automatically handled at build time by gulp template\n                    child_view[prefix ? prefix + 'Template' : 'template'] = Utils.requireModules(definitive_template_name + '.tpl');\n                } else {\n                    child_view[prefix ? prefix + 'Template' : 'template'] = child_view._originalTemplate;\n                }    // }\n            });\n        }    // @method _finishRender Render the child view and insert its result into the placeholder\n             // @param {Backbone.View} child_view Instance of the view to be inserted\n             // @param {jQuery} $placeholder Element container of the child. This is the div that contains the tag data-view=\"...\"\n,\n        _finishRender: function _finishRender(child_view, $placeholder) {\n            //HEADS UP! we use the placeholder as the children view's container element ($el)\n            child_view.$el = $placeholder;\n            // keep the placeholder classes\n            var placeholder_class = $placeholder.attr('class');\n            child_view.className = (child_view.className || '') + ' ' + (placeholder_class || '');\n            child_view.render();\n        },\n        setChildViewIndex: function setChildViewIndex(container_name, view_name, index, render) {\n            if (this.childViewInstances[container_name] && this.childViewInstances[container_name][view_name]) {\n                this.childViewInstances[container_name][view_name].childViewIndex = index;\n                if (render) {\n                    this.render();\n                }\n            }\n        },\n        contextData: {}    // ie: contexts = ['item', 'order']\n,\n        getContextData: function (contexts) {\n            var contextData = {}, i = contexts.length;\n            while (i--) {\n                var selfContextData = _.extend({}, this.contextData, this.constructor.contextData);\n                if (selfContextData[contexts[i]]) {\n                    contextData[contexts[i]] = _.bind(selfContextData[contexts[i]], this);\n                    contexts.splice(i, 1);\n                }\n            }\n            if (contexts.length && this.parentView) {\n                return _.extend(this.parentView.getContextData(contexts), contextData);\n            }\n            return contextData;\n        }\n    };\n    _.extend(Backbone.View.prototype, compositeView);\n    // @module Backbone @class Backbone.View\n    // @property {PluginContainer} afterCompositeViewRender Plugins registered here will be called when\n    // a composite view finish rendering it self and all its children.\n    Backbone.View.afterCompositeViewRender = new PluginContainer();\n    // @method addExtraChildrenViews Allows adding extra child view to any view.\n    // This property will be read by the class Backbone.CompositeView when initializing a view\n    // @param {ExtraChildView} option_views\n    // @return {Void}\n    // @static\n    Backbone.View.addExtraChildrenViews = function addExtraChildrenViews(option_views) {\n        console.warn('DEPRECATED: \"Backbone.View.addExtraChildrenViews(params)\" is deprecated. Use \"Backbone.CompositeView.addChildViews(params)\" instead');\n        this.addChildViews(option_views);\n    };\n    /*\n\t\tchildViews = {\n\t\t\t'Other.View': {\n\t\t\t\t'Id1': {\n\t\t\t\t\t'childViewIndex': 10\n\t\t\t\t,\t'childViewConstructor': function() {}\n\t\t\t\t}\n\t\t\t\t'Id2': {\n\t\t\t\t\t'childViewIndex': 20\n\t\t\t\t,\t'childViewConstructor': function() {}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t*/\n    // @method setChildViewIndex Allows to change the position of a Child View in a container\n    // @param {String} container_name The name of the container\n    // @param {String} view_name The name of the Child View\n    // @param {Number} index The new index to position the Child View in the container\n    // @return {Void}\n    // @static\n    Backbone.View.setChildViewIndex = function setChildViewIndex(container_name, view_name, index) {\n        if (this.childViews[container_name]) {\n            if (_.isFunction(this.childViews[container_name])) {\n                this._normalizeChildView(container_name);\n            }\n            if (this.childViews[container_name][view_name]) {\n                this.childViews[container_name][view_name].childViewIndex = index;\n            }\n        }\n    };\n    // @method _normalizeChildView Change the format of the childView into the new format\n    // @param {String} container_name The name of the container\n    // @return {Void}\n    // @static\n    // @private\n    Backbone.View._normalizeChildView = function _normalizeChildView(container_name) {\n        var childViewConstructor = this.childViews[container_name];\n        this.childViews[container_name] = {};\n        this.childViews[container_name][container_name] = {\n            childViewIndex: 10,\n            childViewConstructor: childViewConstructor\n        };\n    };\n    // @method addChildViews adds children views to the current view\n    // @param {ChildViews} child_views\n    // @return {Void}\n    // @static\n    Backbone.View.addChildViews = function addChildViews(child_views) {\n        var self = this;\n        this.childViews = _.extend({}, this.prototype.childViews, this.childViews);\n        _.each(child_views, function (child_view, child_view_container) {\n            if (self.childViews[child_view_container]) {\n                if (_.isFunction(self.childViews[child_view_container])) {\n                    self._normalizeChildView(child_view_container);\n                }\n            } else {\n                self.childViews[child_view_container] = {};\n            }\n            if (_.isFunction(child_view)) {\n                self.childViews[child_view_container][child_view_container] = {\n                    childViewIndex: 10,\n                    childViewConstructor: child_view\n                };\n            } else {\n                _.each(child_view, function (child_view_generator, child_view_name) {\n                    self.childViews[child_view_container][child_view_name] = child_view_generator;\n                });\n            }\n        });\n    };\n    // @method removeChildView removes a particular childView\n    // @param {String} container_name\n    // @param {String} child_view_name\n    // @return {Void}\n    // @static\n    Backbone.View.removeChildView = function removeChildView(container_name, child_view_name) {\n        if (_.isFunction(this.childViews[container_name])) {\n            delete this.childViews[container_name];\n        } else if (this.childViews[container_name] && this.childViews[container_name][child_view_name]) {\n            delete this.childViews[container_name][child_view_name];\n        }\n    };\n    Backbone.View.beforeInitialize.install({\n        name: 'compositeView',\n        priority: 1,\n        execute: function () {\n            var childViews = _.extend({}, this.childViews, this.constructor.childViews);\n            this.childViewInstances = {};\n            this.addChildViewInstances(childViews);\n            if (this.options) {\n                if (this.options.extraChildViews) {\n                    console.warn('DEPRECATED: \"options.extraChildViews\" is deprecated. Use \"options.childViews\" instead');\n                    //Add extra child views from view's initialization options\n                    this.addChildViewInstances(this.options.extraChildViews);\n                }\n                if (this.options.childViews) {\n                    //Add extra child views from view's initialization options\n                    this.addChildViewInstances(this.options.childViews);\n                }\n            }\n        }\n    });\n    return { add: jQuery.noop };\n});    //@class ChildViews This class defines the type used on each childView property on composite views\n       //Each property on this object will be related with a child view and the its value must a function that when evaluated returns the instance\n       //of a Backbone View, or the constructor of a Backbone.View\n       //Example\n       //\n       //,\tchildView: {\n       //\t\t'PromoCodeContainer':\n       //\t\t{\n       //\t\t\t'PromoCodeForm':\n       //\t\t\t{\n       //\t\t\t\tchildViewIndex: 10\n       //\t\t\t,\tchildViewConstructor: function ()\n       //\t\t\t\t{\n       //\t\t\t\t\treturn new PromocodeFormView({});\n       //\t\t\t\t}\n       //\t\t\t}\n       //\t\t}\n       //\t}\n       //\n       //@class addChildViews This class define the type used to add external children views into a view by specifying them on the view options when\n       //creating a new composite view (this is a common scenario when creating components), and by specifying external child views statically using\n       //the addChildViews method present in all Backbone Views when the Backbone.CompositeView module is loaded\n       //Example\n       //\n       //\tSomeView.addChildViews({\n       //\t\t'ChildViewContainer':\n       //\t\t{\n       //\t\t\t'ChildViewName': function ()\n       //\t\t\t{\n       //\t\t\t\treturn new ExtraChildView({model: some_view_model});\n       //\t\t\t};\n       //\t\t}\n       //\t});\n       //\n","/*!\n * Bootstrap v3.3.7 (http://getbootstrap.com)\n * Copyright 2011-2016 Twitter, Inc.\n * Licensed under the MIT license\n */\ndefine('bootstrap', ['jQuery'], function () {\n    if (typeof jQuery === 'undefined') {\n        throw new Error('Bootstrap\\'s JavaScript requires jQuery');\n    }\n    +function ($) {\n        'use strict';\n        var version = $.fn.jquery.split(' ')[0].split('.');\n        if (version[0] < 2 && version[1] < 9 || version[0] == 1 && version[1] == 9 && version[2] < 1 || version[0] > 3) {\n            throw new Error('Bootstrap\\'s JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4');\n        }\n    }(jQuery);\n    /* ========================================================================\n * Bootstrap: transition.js v3.3.7\n * http://getbootstrap.com/javascript/#transitions\n * ========================================================================\n * Copyright 2011-2016 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n    +function ($) {\n        'use strict';\n        // CSS TRANSITION SUPPORT (Shoutout: http://www.modernizr.com/)\n        // ============================================================\n        function transitionEnd() {\n            var el = document.createElement('bootstrap');\n            var transEndEventNames = {\n                WebkitTransition: 'webkitTransitionEnd',\n                MozTransition: 'transitionend',\n                OTransition: 'oTransitionEnd otransitionend',\n                transition: 'transitionend'\n            };\n            for (var name in transEndEventNames) {\n                if (el.style[name] !== undefined) {\n                    return { end: transEndEventNames[name] };\n                }\n            }\n            return false    // explicit for ie8 (  ._.)\n;\n        }\n        // http://blog.alexmaccaw.com/css-transitions\n        $.fn.emulateTransitionEnd = function (duration) {\n            var called = false;\n            var $el = this;\n            $(this).one('bsTransitionEnd', function () {\n                called = true;\n            });\n            var callback = function () {\n                if (!called)\n                    $($el).trigger($.support.transition.end);\n            };\n            setTimeout(callback, duration);\n            return this;\n        };\n        $(function () {\n            $.support.transition = transitionEnd();\n            if (!$.support.transition)\n                return;\n            $.event.special.bsTransitionEnd = {\n                bindType: $.support.transition.end,\n                delegateType: $.support.transition.end,\n                handle: function (e) {\n                    if ($(e.target).is(this))\n                        return e.handleObj.handler.apply(this, arguments);\n                }\n            };\n        });\n    }(jQuery);\n    /* ========================================================================\n * Bootstrap: alert.js v3.3.7\n * http://getbootstrap.com/javascript/#alerts\n * ========================================================================\n * Copyright 2011-2016 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n    +function ($) {\n        'use strict';\n        // ALERT CLASS DEFINITION\n        // ======================\n        var dismiss = '[data-dismiss=\"alert\"]';\n        var Alert = function (el) {\n            $(el).on('click', dismiss, this.close);\n        };\n        Alert.VERSION = '3.3.7';\n        Alert.TRANSITION_DURATION = 150;\n        Alert.prototype.close = function (e) {\n            var $this = $(this);\n            var selector = $this.attr('data-target');\n            if (!selector) {\n                selector = $this.attr('href');\n                selector = selector && selector.replace(/.*(?=#[^\\s]*$)/, '')    // strip for ie7\n;\n            }\n            var $parent = $(selector === '#' ? [] : selector);\n            if (e)\n                e.preventDefault();\n            if (!$parent.length) {\n                $parent = $this.closest('.alert');\n            }\n            $parent.trigger(e = $.Event('close.bs.alert'));\n            if (e.isDefaultPrevented())\n                return;\n            $parent.removeClass('in');\n            function removeElement() {\n                // detach from parent, fire event then clean up data\n                $parent.detach().trigger('closed.bs.alert').remove();\n            }\n            $.support.transition && $parent.hasClass('fade') ? $parent.one('bsTransitionEnd', removeElement).emulateTransitionEnd(Alert.TRANSITION_DURATION) : removeElement();\n        };\n        // ALERT PLUGIN DEFINITION\n        // =======================\n        function Plugin(option) {\n            return this.each(function () {\n                var $this = $(this);\n                var data = $this.data('bs.alert');\n                if (!data)\n                    $this.data('bs.alert', data = new Alert(this));\n                if (typeof option == 'string')\n                    data[option].call($this);\n            });\n        }\n        var old = $.fn.alert;\n        $.fn.alert = Plugin;\n        $.fn.alert.Constructor = Alert;\n        // ALERT NO CONFLICT\n        // =================\n        $.fn.alert.noConflict = function () {\n            $.fn.alert = old;\n            return this;\n        };\n        // ALERT DATA-API\n        // ==============\n        $(document).on('click.bs.alert.data-api', dismiss, Alert.prototype.close);\n    }(jQuery);\n    /* ========================================================================\n * Bootstrap: button.js v3.3.7\n * http://getbootstrap.com/javascript/#buttons\n * ========================================================================\n * Copyright 2011-2016 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n    +function ($) {\n        'use strict';\n        // BUTTON PUBLIC CLASS DEFINITION\n        // ==============================\n        var Button = function (element, options) {\n            this.$element = $(element);\n            this.options = $.extend({}, Button.DEFAULTS, options);\n            this.isLoading = false;\n        };\n        Button.VERSION = '3.3.7';\n        Button.DEFAULTS = { loadingText: 'loading...' };\n        Button.prototype.setState = function (state) {\n            var d = 'disabled';\n            var $el = this.$element;\n            var val = $el.is('input') ? 'val' : 'html';\n            var data = $el.data();\n            state += 'Text';\n            if (data.resetText == null)\n                $el.data('resetText', $el[val]());\n            // push to event loop to allow forms to submit\n            setTimeout($.proxy(function () {\n                $el[val](data[state] == null ? this.options[state] : data[state]);\n                if (state == 'loadingText') {\n                    this.isLoading = true;\n                    $el.addClass(d).attr(d, d).prop(d, true);\n                } else if (this.isLoading) {\n                    this.isLoading = false;\n                    $el.removeClass(d).removeAttr(d).prop(d, false);\n                }\n            }, this), 0);\n        };\n        Button.prototype.toggle = function () {\n            var changed = true;\n            var $parent = this.$element.closest('[data-toggle=\"buttons\"]');\n            if ($parent.length) {\n                var $input = this.$element.find('input');\n                if ($input.prop('type') == 'radio') {\n                    if ($input.prop('checked'))\n                        changed = false;\n                    $parent.find('.active').removeClass('active');\n                    this.$element.addClass('active');\n                } else if ($input.prop('type') == 'checkbox') {\n                    if ($input.prop('checked') !== this.$element.hasClass('active'))\n                        changed = false;\n                    this.$element.toggleClass('active');\n                }\n                $input.prop('checked', this.$element.hasClass('active'));\n                if (changed)\n                    $input.trigger('change');\n            } else {\n                this.$element.attr('aria-pressed', !this.$element.hasClass('active'));\n                this.$element.toggleClass('active');\n            }\n        };\n        // BUTTON PLUGIN DEFINITION\n        // ========================\n        function Plugin(option) {\n            return this.each(function () {\n                var $this = $(this);\n                var data = $this.data('bs.button');\n                var options = typeof option == 'object' && option;\n                if (!data)\n                    $this.data('bs.button', data = new Button(this, options));\n                if (option == 'toggle')\n                    data.toggle();\n                else if (option)\n                    data.setState(option);\n            });\n        }\n        var old = $.fn.button;\n        $.fn.button = Plugin;\n        $.fn.button.Constructor = Button;\n        // BUTTON NO CONFLICT\n        // ==================\n        $.fn.button.noConflict = function () {\n            $.fn.button = old;\n            return this;\n        };\n        // BUTTON DATA-API\n        // ===============\n        $(document).on('click.bs.button.data-api', '[data-toggle^=\"button\"]', function (e) {\n            var $btn = $(e.target).closest('.btn');\n            Plugin.call($btn, 'toggle');\n            if (!$(e.target).is('input[type=\"radio\"], input[type=\"checkbox\"]')) {\n                // Prevent double click on radios, and the double selections (so cancellation) on checkboxes\n                e.preventDefault();\n                // The target component still receive the focus\n                if ($btn.is('input,button'))\n                    $btn.trigger('focus');\n                else\n                    $btn.find('input:visible,button:visible').first().trigger('focus');\n            }\n        }).on('focus.bs.button.data-api blur.bs.button.data-api', '[data-toggle^=\"button\"]', function (e) {\n            $(e.target).closest('.btn').toggleClass('focus', /^focus(in)?$/.test(e.type));\n        });\n    }(jQuery);\n    /* ========================================================================\n * Bootstrap: carousel.js v3.3.7\n * http://getbootstrap.com/javascript/#carousel\n * ========================================================================\n * Copyright 2011-2016 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n    +function ($) {\n        'use strict';\n        // CAROUSEL CLASS DEFINITION\n        // =========================\n        var Carousel = function (element, options) {\n            this.$element = $(element);\n            this.$indicators = this.$element.find('.carousel-indicators');\n            this.options = options;\n            this.paused = null;\n            this.sliding = null;\n            this.interval = null;\n            this.$active = null;\n            this.$items = null;\n            this.options.keyboard && this.$element.on('keydown.bs.carousel', $.proxy(this.keydown, this));\n            this.options.pause == 'hover' && !('ontouchstart' in document.documentElement) && this.$element.on('mouseenter.bs.carousel', $.proxy(this.pause, this)).on('mouseleave.bs.carousel', $.proxy(this.cycle, this));\n        };\n        Carousel.VERSION = '3.3.7';\n        Carousel.TRANSITION_DURATION = 600;\n        Carousel.DEFAULTS = {\n            interval: 5000,\n            pause: 'hover',\n            wrap: true,\n            keyboard: true\n        };\n        Carousel.prototype.keydown = function (e) {\n            if (/input|textarea/i.test(e.target.tagName))\n                return;\n            switch (e.which) {\n            case 37:\n                this.prev();\n                break;\n            case 39:\n                this.next();\n                break;\n            default:\n                return;\n            }\n            e.preventDefault();\n        };\n        Carousel.prototype.cycle = function (e) {\n            e || (this.paused = false);\n            this.interval && clearInterval(this.interval);\n            this.options.interval && !this.paused && (this.interval = setInterval($.proxy(this.next, this), this.options.interval));\n            return this;\n        };\n        Carousel.prototype.getItemIndex = function (item) {\n            this.$items = item.parent().children('.item');\n            return this.$items.index(item || this.$active);\n        };\n        Carousel.prototype.getItemForDirection = function (direction, active) {\n            var activeIndex = this.getItemIndex(active);\n            var willWrap = direction == 'prev' && activeIndex === 0 || direction == 'next' && activeIndex == this.$items.length - 1;\n            if (willWrap && !this.options.wrap)\n                return active;\n            var delta = direction == 'prev' ? -1 : 1;\n            var itemIndex = (activeIndex + delta) % this.$items.length;\n            return this.$items.eq(itemIndex);\n        };\n        Carousel.prototype.to = function (pos) {\n            var that = this;\n            var activeIndex = this.getItemIndex(this.$active = this.$element.find('.item.active'));\n            if (pos > this.$items.length - 1 || pos < 0)\n                return;\n            if (this.sliding)\n                return this.$element.one('slid.bs.carousel', function () {\n                    that.to(pos);\n                });\n            // yes, \"slid\"\n            if (activeIndex == pos)\n                return this.pause().cycle();\n            return this.slide(pos > activeIndex ? 'next' : 'prev', this.$items.eq(pos));\n        };\n        Carousel.prototype.pause = function (e) {\n            e || (this.paused = true);\n            if (this.$element.find('.next, .prev').length && $.support.transition) {\n                this.$element.trigger($.support.transition.end);\n                this.cycle(true);\n            }\n            this.interval = clearInterval(this.interval);\n            return this;\n        };\n        Carousel.prototype.next = function () {\n            if (this.sliding)\n                return;\n            return this.slide('next');\n        };\n        Carousel.prototype.prev = function () {\n            if (this.sliding)\n                return;\n            return this.slide('prev');\n        };\n        Carousel.prototype.slide = function (type, next) {\n            var $active = this.$element.find('.item.active');\n            var $next = next || this.getItemForDirection(type, $active);\n            var isCycling = this.interval;\n            var direction = type == 'next' ? 'left' : 'right';\n            var that = this;\n            if ($next.hasClass('active'))\n                return this.sliding = false;\n            var relatedTarget = $next[0];\n            var slideEvent = $.Event('slide.bs.carousel', {\n                relatedTarget: relatedTarget,\n                direction: direction\n            });\n            this.$element.trigger(slideEvent);\n            if (slideEvent.isDefaultPrevented())\n                return;\n            this.sliding = true;\n            isCycling && this.pause();\n            if (this.$indicators.length) {\n                this.$indicators.find('.active').removeClass('active');\n                var $nextIndicator = $(this.$indicators.children()[this.getItemIndex($next)]);\n                $nextIndicator && $nextIndicator.addClass('active');\n            }\n            var slidEvent = $.Event('slid.bs.carousel', {\n                relatedTarget: relatedTarget,\n                direction: direction\n            });\n            // yes, \"slid\"\n            if ($.support.transition && this.$element.hasClass('slide')) {\n                $next.addClass(type);\n                $next[0].offsetWidth;\n                // force reflow\n                $active.addClass(direction);\n                $next.addClass(direction);\n                $active.one('bsTransitionEnd', function () {\n                    $next.removeClass([\n                        type,\n                        direction\n                    ].join(' ')).addClass('active');\n                    $active.removeClass([\n                        'active',\n                        direction\n                    ].join(' '));\n                    that.sliding = false;\n                    setTimeout(function () {\n                        that.$element.trigger(slidEvent);\n                    }, 0);\n                }).emulateTransitionEnd(Carousel.TRANSITION_DURATION);\n            } else {\n                $active.removeClass('active');\n                $next.addClass('active');\n                this.sliding = false;\n                this.$element.trigger(slidEvent);\n            }\n            isCycling && this.cycle();\n            return this;\n        };\n        // CAROUSEL PLUGIN DEFINITION\n        // ==========================\n        function Plugin(option) {\n            return this.each(function () {\n                var $this = $(this);\n                var data = $this.data('bs.carousel');\n                var options = $.extend({}, Carousel.DEFAULTS, $this.data(), typeof option == 'object' && option);\n                var action = typeof option == 'string' ? option : options.slide;\n                if (!data)\n                    $this.data('bs.carousel', data = new Carousel(this, options));\n                if (typeof option == 'number')\n                    data.to(option);\n                else if (action)\n                    data[action]();\n                else if (options.interval)\n                    data.pause().cycle();\n            });\n        }\n        var old = $.fn.carousel;\n        $.fn.carousel = Plugin;\n        $.fn.carousel.Constructor = Carousel;\n        // CAROUSEL NO CONFLICT\n        // ====================\n        $.fn.carousel.noConflict = function () {\n            $.fn.carousel = old;\n            return this;\n        };\n        // CAROUSEL DATA-API\n        // =================\n        var clickHandler = function (e) {\n            var href;\n            var $this = $(this);\n            var $target = $($this.attr('data-target') || (href = $this.attr('href')) && href.replace(/.*(?=#[^\\s]+$)/, ''));\n            // strip for ie7\n            if (!$target.hasClass('carousel'))\n                return;\n            var options = $.extend({}, $target.data(), $this.data());\n            var slideIndex = $this.attr('data-slide-to');\n            if (slideIndex)\n                options.interval = false;\n            Plugin.call($target, options);\n            if (slideIndex) {\n                $target.data('bs.carousel').to(slideIndex);\n            }\n            e.preventDefault();\n        };\n        $(document).on('click.bs.carousel.data-api', '[data-slide]', clickHandler).on('click.bs.carousel.data-api', '[data-slide-to]', clickHandler);\n        $(window).on('load', function () {\n            $('[data-ride=\"carousel\"]').each(function () {\n                var $carousel = $(this);\n                Plugin.call($carousel, $carousel.data());\n            });\n        });\n    }(jQuery);\n    /* ========================================================================\n * Bootstrap: collapse.js v3.3.7\n * http://getbootstrap.com/javascript/#collapse\n * ========================================================================\n * Copyright 2011-2016 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n    /* jshint latedef: false */\n    +function ($) {\n        'use strict';\n        // COLLAPSE PUBLIC CLASS DEFINITION\n        // ================================\n        var Collapse = function (element, options) {\n            this.$element = $(element);\n            this.options = $.extend({}, Collapse.DEFAULTS, options);\n            this.$trigger = $('[data-toggle=\"collapse\"][href=\"#' + element.id + '\"],' + '[data-toggle=\"collapse\"][data-target=\"#' + element.id + '\"]');\n            this.transitioning = null;\n            if (this.options.parent) {\n                this.$parent = this.getParent();\n            } else {\n                this.addAriaAndCollapsedClass(this.$element, this.$trigger);\n            }\n            if (this.options.toggle)\n                this.toggle();\n        };\n        Collapse.VERSION = '3.3.7';\n        Collapse.TRANSITION_DURATION = 350;\n        Collapse.DEFAULTS = { toggle: true };\n        Collapse.prototype.dimension = function () {\n            var hasWidth = this.$element.hasClass('width');\n            return hasWidth ? 'width' : 'height';\n        };\n        Collapse.prototype.show = function () {\n            if (this.transitioning || this.$element.hasClass('in'))\n                return;\n            var activesData;\n            var actives = this.$parent && this.$parent.children('.panel').children('.in, .collapsing');\n            if (actives && actives.length) {\n                activesData = actives.data('bs.collapse');\n                if (activesData && activesData.transitioning)\n                    return;\n            }\n            var startEvent = $.Event('show.bs.collapse');\n            this.$element.trigger(startEvent);\n            if (startEvent.isDefaultPrevented())\n                return;\n            if (actives && actives.length) {\n                Plugin.call(actives, 'hide');\n                activesData || actives.data('bs.collapse', null);\n            }\n            var dimension = this.dimension();\n            this.$element.removeClass('collapse').addClass('collapsing')[dimension](0).attr('aria-expanded', true);\n            this.$trigger.removeClass('collapsed').attr('aria-expanded', true);\n            this.transitioning = 1;\n            var complete = function () {\n                this.$element.removeClass('collapsing').addClass('collapse in')[dimension]('');\n                this.transitioning = 0;\n                this.$element.trigger('shown.bs.collapse');\n            };\n            if (!$.support.transition)\n                return complete.call(this);\n            var scrollSize = $.camelCase([\n                'scroll',\n                dimension\n            ].join('-'));\n            this.$element.one('bsTransitionEnd', $.proxy(complete, this)).emulateTransitionEnd(Collapse.TRANSITION_DURATION)[dimension](this.$element[0][scrollSize]);\n        };\n        Collapse.prototype.hide = function () {\n            if (this.transitioning || !this.$element.hasClass('in'))\n                return;\n            var startEvent = $.Event('hide.bs.collapse');\n            this.$element.trigger(startEvent);\n            if (startEvent.isDefaultPrevented())\n                return;\n            var dimension = this.dimension();\n            this.$element[dimension](this.$element[dimension]())[0].offsetHeight;\n            this.$element.addClass('collapsing').removeClass('collapse in').attr('aria-expanded', false);\n            this.$trigger.addClass('collapsed').attr('aria-expanded', false);\n            this.transitioning = 1;\n            var complete = function () {\n                this.transitioning = 0;\n                this.$element.removeClass('collapsing').addClass('collapse').trigger('hidden.bs.collapse');\n            };\n            if (!$.support.transition)\n                return complete.call(this);\n            this.$element[dimension](0).one('bsTransitionEnd', $.proxy(complete, this)).emulateTransitionEnd(Collapse.TRANSITION_DURATION);\n        };\n        Collapse.prototype.toggle = function () {\n            this[this.$element.hasClass('in') ? 'hide' : 'show']();\n        };\n        Collapse.prototype.getParent = function () {\n            return $(this.options.parent).find('[data-toggle=\"collapse\"][data-parent=\"' + this.options.parent + '\"]').each($.proxy(function (i, element) {\n                var $element = $(element);\n                this.addAriaAndCollapsedClass(getTargetFromTrigger($element), $element);\n            }, this)).end();\n        };\n        Collapse.prototype.addAriaAndCollapsedClass = function ($element, $trigger) {\n            var isOpen = $element.hasClass('in');\n            $element.attr('aria-expanded', isOpen);\n            $trigger.toggleClass('collapsed', !isOpen).attr('aria-expanded', isOpen);\n        };\n        function getTargetFromTrigger($trigger) {\n            var href;\n            var target = $trigger.attr('data-target') || (href = $trigger.attr('href')) && href.replace(/.*(?=#[^\\s]+$)/, '');\n            // strip for ie7\n            return $(target);\n        }\n        // COLLAPSE PLUGIN DEFINITION\n        // ==========================\n        function Plugin(option) {\n            return this.each(function () {\n                var $this = $(this);\n                var data = $this.data('bs.collapse');\n                var options = $.extend({}, Collapse.DEFAULTS, $this.data(), typeof option == 'object' && option);\n                if (!data && options.toggle && /show|hide/.test(option))\n                    options.toggle = false;\n                if (!data)\n                    $this.data('bs.collapse', data = new Collapse(this, options));\n                if (typeof option == 'string')\n                    data[option]();\n            });\n        }\n        var old = $.fn.collapse;\n        $.fn.collapse = Plugin;\n        $.fn.collapse.Constructor = Collapse;\n        // COLLAPSE NO CONFLICT\n        // ====================\n        $.fn.collapse.noConflict = function () {\n            $.fn.collapse = old;\n            return this;\n        };\n        // COLLAPSE DATA-API\n        // =================\n        $(document).on('click.bs.collapse.data-api', '[data-toggle=\"collapse\"]', function (e) {\n            var $this = $(this);\n            if (!$this.attr('data-target'))\n                e.preventDefault();\n            var $target = getTargetFromTrigger($this);\n            var data = $target.data('bs.collapse');\n            var option = data ? 'toggle' : $this.data();\n            Plugin.call($target, option);\n        });\n    }(jQuery);\n    /* ========================================================================\n * Bootstrap: dropdown.js v3.3.7\n * http://getbootstrap.com/javascript/#dropdowns\n * ========================================================================\n * Copyright 2011-2016 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n    +function ($) {\n        'use strict';\n        // DROPDOWN CLASS DEFINITION\n        // =========================\n        var backdrop = '.dropdown-backdrop';\n        var toggle = '[data-toggle=\"dropdown\"]';\n        var Dropdown = function (element) {\n            $(element).on('click.bs.dropdown', this.toggle);\n        };\n        Dropdown.VERSION = '3.3.7';\n        function getParent($this) {\n            var selector = $this.attr('data-target');\n            if (!selector) {\n                selector = $this.attr('href');\n                selector = selector && /#[A-Za-z]/.test(selector) && selector.replace(/.*(?=#[^\\s]*$)/, '')    // strip for ie7\n;\n            }\n            var $parent = selector && $(selector);\n            return $parent && $parent.length ? $parent : $this.parent();\n        }\n        function clearMenus(e) {\n            if (e && e.which === 3)\n                return;\n            $(backdrop).remove();\n            $(toggle).each(function () {\n                var $this = $(this);\n                var $parent = getParent($this);\n                var relatedTarget = { relatedTarget: this };\n                if (!$parent.hasClass('open'))\n                    return;\n                if (e && e.type == 'click' && /input|textarea/i.test(e.target.tagName) && $.contains($parent[0], e.target))\n                    return;\n                $parent.trigger(e = $.Event('hide.bs.dropdown', relatedTarget));\n                if (e.isDefaultPrevented())\n                    return;\n                $this.attr('aria-expanded', 'false');\n                $parent.removeClass('open').trigger($.Event('hidden.bs.dropdown', relatedTarget));\n            });\n        }\n        Dropdown.prototype.toggle = function (e) {\n            var $this = $(this);\n            if ($this.is('.disabled, :disabled'))\n                return;\n            var $parent = getParent($this);\n            var isActive = $parent.hasClass('open');\n            clearMenus();\n            if (!isActive) {\n                if ('ontouchstart' in document.documentElement && !$parent.closest('.navbar-nav').length) {\n                    // if mobile we use a backdrop because click events don't delegate\n                    $(document.createElement('div')).addClass('dropdown-backdrop').insertAfter($(this)).on('click', clearMenus);\n                }\n                var relatedTarget = { relatedTarget: this };\n                $parent.trigger(e = $.Event('show.bs.dropdown', relatedTarget));\n                if (e.isDefaultPrevented())\n                    return;\n                $this.trigger('focus').attr('aria-expanded', 'true');\n                $parent.toggleClass('open').trigger($.Event('shown.bs.dropdown', relatedTarget));\n            }\n            return false;\n        };\n        Dropdown.prototype.keydown = function (e) {\n            if (!/(38|40|27|32)/.test(e.which) || /input|textarea/i.test(e.target.tagName))\n                return;\n            var $this = $(this);\n            e.preventDefault();\n            e.stopPropagation();\n            if ($this.is('.disabled, :disabled'))\n                return;\n            var $parent = getParent($this);\n            var isActive = $parent.hasClass('open');\n            if (!isActive && e.which != 27 || isActive && e.which == 27) {\n                if (e.which == 27)\n                    $parent.find(toggle).trigger('focus');\n                return $this.trigger('click');\n            }\n            var desc = ' li:not(.disabled):visible a';\n            var $items = $parent.find('.dropdown-menu' + desc);\n            if (!$items.length)\n                return;\n            var index = $items.index(e.target);\n            if (e.which == 38 && index > 0)\n                index--;\n            // up\n            if (e.which == 40 && index < $items.length - 1)\n                index++;\n            // down\n            if (!~index)\n                index = 0;\n            $items.eq(index).trigger('focus');\n        };\n        // DROPDOWN PLUGIN DEFINITION\n        // ==========================\n        function Plugin(option) {\n            return this.each(function () {\n                var $this = $(this);\n                var data = $this.data('bs.dropdown');\n                if (!data)\n                    $this.data('bs.dropdown', data = new Dropdown(this));\n                if (typeof option == 'string')\n                    data[option].call($this);\n            });\n        }\n        var old = $.fn.dropdown;\n        $.fn.dropdown = Plugin;\n        $.fn.dropdown.Constructor = Dropdown;\n        // DROPDOWN NO CONFLICT\n        // ====================\n        $.fn.dropdown.noConflict = function () {\n            $.fn.dropdown = old;\n            return this;\n        };\n        // APPLY TO STANDARD DROPDOWN ELEMENTS\n        // ===================================\n        $(document).on('click.bs.dropdown.data-api', clearMenus).on('click.bs.dropdown.data-api', '.dropdown form', function (e) {\n            e.stopPropagation();\n        }).on('click.bs.dropdown.data-api', toggle, Dropdown.prototype.toggle).on('keydown.bs.dropdown.data-api', toggle, Dropdown.prototype.keydown).on('keydown.bs.dropdown.data-api', '.dropdown-menu', Dropdown.prototype.keydown);\n    }(jQuery);\n    /* ========================================================================\n * Bootstrap: modal.js v3.3.7\n * http://getbootstrap.com/javascript/#modals\n * ========================================================================\n * Copyright 2011-2016 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n    +function ($) {\n        'use strict';\n        // MODAL CLASS DEFINITION\n        // ======================\n        var Modal = function (element, options) {\n            this.options = options;\n            this.$body = $(document.body);\n            this.$element = $(element);\n            this.$dialog = this.$element.find('.modal-dialog');\n            this.$backdrop = null;\n            this.isShown = null;\n            this.originalBodyPad = null;\n            this.scrollbarWidth = 0;\n            this.ignoreBackdropClick = false;\n            if (this.options.remote) {\n                this.$element.find('.modal-content').load(this.options.remote, $.proxy(function () {\n                    this.$element.trigger('loaded.bs.modal');\n                }, this));\n            }\n        };\n        Modal.VERSION = '3.3.7';\n        Modal.TRANSITION_DURATION = 300;\n        Modal.BACKDROP_TRANSITION_DURATION = 150;\n        Modal.DEFAULTS = {\n            backdrop: true,\n            keyboard: true,\n            show: true\n        };\n        Modal.prototype.toggle = function (_relatedTarget) {\n            return this.isShown ? this.hide() : this.show(_relatedTarget);\n        };\n        Modal.prototype.show = function (_relatedTarget) {\n            var that = this;\n            var e = $.Event('show.bs.modal', { relatedTarget: _relatedTarget });\n            this.$element.trigger(e);\n            if (this.isShown || e.isDefaultPrevented())\n                return;\n            this.isShown = true;\n            this.checkScrollbar();\n            this.setScrollbar();\n            this.$body.addClass('modal-open');\n            this.escape();\n            this.resize();\n            this.$element.on('click.dismiss.bs.modal', '[data-dismiss=\"modal\"]', $.proxy(this.hide, this));\n            this.$dialog.on('mousedown.dismiss.bs.modal', function () {\n                that.$element.one('mouseup.dismiss.bs.modal', function (e) {\n                    if ($(e.target).is(that.$element))\n                        that.ignoreBackdropClick = true;\n                });\n            });\n            this.backdrop(function () {\n                var transition = $.support.transition && that.$element.hasClass('fade');\n                if (!that.$element.parent().length) {\n                    that.$element.appendTo(that.$body)    // don't move modals dom position\n;\n                }\n                that.$element.show().scrollTop(0);\n                that.adjustDialog();\n                if (transition) {\n                    that.$element[0].offsetWidth;\n                }\n                that.$element.addClass('in');\n                that.enforceFocus();\n                var e = $.Event('shown.bs.modal', { relatedTarget: _relatedTarget });\n                transition ? that.$dialog.one('bsTransitionEnd', function () {\n                    that.$element.trigger('focus').trigger(e);\n                }).emulateTransitionEnd(Modal.TRANSITION_DURATION) : that.$element.trigger('focus').trigger(e);\n            });\n        };\n        Modal.prototype.hide = function (e) {\n            if (e)\n                e.preventDefault();\n            e = $.Event('hide.bs.modal');\n            this.$element.trigger(e);\n            if (!this.isShown || e.isDefaultPrevented())\n                return;\n            this.isShown = false;\n            this.escape();\n            this.resize();\n            $(document).off('focusin.bs.modal');\n            this.$element.removeClass('in').off('click.dismiss.bs.modal').off('mouseup.dismiss.bs.modal');\n            this.$dialog.off('mousedown.dismiss.bs.modal');\n            $.support.transition && this.$element.hasClass('fade') ? this.$element.one('bsTransitionEnd', $.proxy(this.hideModal, this)).emulateTransitionEnd(Modal.TRANSITION_DURATION) : this.hideModal();\n        };\n        Modal.prototype.enforceFocus = function () {\n            $(document).off('focusin.bs.modal')    // guard against infinite focus loop\n.on('focusin.bs.modal', $.proxy(function (e) {\n                if (document !== e.target && this.$element[0] !== e.target && !this.$element.has(e.target).length) {\n                    this.$element.trigger('focus');\n                }\n            }, this));\n        };\n        Modal.prototype.escape = function () {\n            if (this.isShown && this.options.keyboard) {\n                this.$element.on('keydown.dismiss.bs.modal', $.proxy(function (e) {\n                    e.which == 27 && this.hide();\n                }, this));\n            } else if (!this.isShown) {\n                this.$element.off('keydown.dismiss.bs.modal');\n            }\n        };\n        Modal.prototype.resize = function () {\n            if (this.isShown) {\n                $(window).on('resize.bs.modal', $.proxy(this.handleUpdate, this));\n            } else {\n                $(window).off('resize.bs.modal');\n            }\n        };\n        Modal.prototype.hideModal = function () {\n            var that = this;\n            this.$element.hide();\n            this.backdrop(function () {\n                that.$body.removeClass('modal-open');\n                that.resetAdjustments();\n                that.resetScrollbar();\n                that.$element.trigger('hidden.bs.modal');\n            });\n        };\n        Modal.prototype.removeBackdrop = function () {\n            this.$backdrop && this.$backdrop.remove();\n            this.$backdrop = null;\n        };\n        Modal.prototype.backdrop = function (callback) {\n            var that = this;\n            var animate = this.$element.hasClass('fade') ? 'fade' : '';\n            if (this.isShown && this.options.backdrop) {\n                var doAnimate = $.support.transition && animate;\n                this.$backdrop = $(document.createElement('div')).addClass('modal-backdrop ' + animate).appendTo(this.$body);\n                this.$element.on('click.dismiss.bs.modal', $.proxy(function (e) {\n                    if (this.ignoreBackdropClick) {\n                        this.ignoreBackdropClick = false;\n                        return;\n                    }\n                    if (e.target !== e.currentTarget)\n                        return;\n                    this.options.backdrop == 'static' ? this.$element[0].focus() : this.hide();\n                }, this));\n                if (doAnimate)\n                    this.$backdrop[0].offsetWidth;\n                // force reflow\n                this.$backdrop.addClass('in');\n                if (!callback)\n                    return;\n                doAnimate ? this.$backdrop.one('bsTransitionEnd', callback).emulateTransitionEnd(Modal.BACKDROP_TRANSITION_DURATION) : callback();\n            } else if (!this.isShown && this.$backdrop) {\n                this.$backdrop.removeClass('in');\n                var callbackRemove = function () {\n                    that.removeBackdrop();\n                    callback && callback();\n                };\n                $.support.transition && this.$element.hasClass('fade') ? this.$backdrop.one('bsTransitionEnd', callbackRemove).emulateTransitionEnd(Modal.BACKDROP_TRANSITION_DURATION) : callbackRemove();\n            } else if (callback) {\n                callback();\n            }\n        };\n        // these following methods are used to handle overflowing modals\n        Modal.prototype.handleUpdate = function () {\n            this.adjustDialog();\n        };\n        Modal.prototype.adjustDialog = function () {\n            var modalIsOverflowing = this.$element[0].scrollHeight > document.documentElement.clientHeight;\n            this.$element.css({\n                paddingLeft: !this.bodyIsOverflowing && modalIsOverflowing ? this.scrollbarWidth : '',\n                paddingRight: this.bodyIsOverflowing && !modalIsOverflowing ? this.scrollbarWidth : ''\n            });\n        };\n        Modal.prototype.resetAdjustments = function () {\n            this.$element.css({\n                paddingLeft: '',\n                paddingRight: ''\n            });\n        };\n        Modal.prototype.checkScrollbar = function () {\n            var fullWindowWidth = window.innerWidth;\n            if (!fullWindowWidth) {\n                // workaround for missing window.innerWidth in IE8\n                var documentElementRect = document.documentElement.getBoundingClientRect();\n                fullWindowWidth = documentElementRect.right - Math.abs(documentElementRect.left);\n            }\n            this.bodyIsOverflowing = document.body.clientWidth < fullWindowWidth;\n            this.scrollbarWidth = this.measureScrollbar();\n        };\n        Modal.prototype.setScrollbar = function () {\n            var bodyPad = parseInt(this.$body.css('padding-right') || 0, 10);\n            this.originalBodyPad = document.body.style.paddingRight || '';\n            if (this.bodyIsOverflowing)\n                this.$body.css('padding-right', bodyPad + this.scrollbarWidth);\n        };\n        Modal.prototype.resetScrollbar = function () {\n            this.$body.css('padding-right', this.originalBodyPad);\n        };\n        Modal.prototype.measureScrollbar = function () {\n            // thx walsh\n            var scrollDiv = document.createElement('div');\n            scrollDiv.className = 'modal-scrollbar-measure';\n            this.$body.append(scrollDiv);\n            var scrollbarWidth = scrollDiv.offsetWidth - scrollDiv.clientWidth;\n            this.$body[0].removeChild(scrollDiv);\n            return scrollbarWidth;\n        };\n        // MODAL PLUGIN DEFINITION\n        // =======================\n        function Plugin(option, _relatedTarget) {\n            return this.each(function () {\n                var $this = $(this);\n                var data = $this.data('bs.modal');\n                var options = $.extend({}, Modal.DEFAULTS, $this.data(), typeof option == 'object' && option);\n                if (!data)\n                    $this.data('bs.modal', data = new Modal(this, options));\n                if (typeof option == 'string')\n                    data[option](_relatedTarget);\n                else if (options.show)\n                    data.show(_relatedTarget);\n            });\n        }\n        var old = $.fn.modal;\n        $.fn.modal = Plugin;\n        $.fn.modal.Constructor = Modal;\n        // MODAL NO CONFLICT\n        // =================\n        $.fn.modal.noConflict = function () {\n            $.fn.modal = old;\n            return this;\n        };\n        // MODAL DATA-API\n        // ==============\n        $(document).on('click.bs.modal.data-api', '[data-toggle=\"modal\"]', function (e) {\n            var $this = $(this);\n            var href = $this.attr('href');\n            var $target = $($this.attr('data-target') || href && href.replace(/.*(?=#[^\\s]+$)/, ''));\n            // strip for ie7\n            var option = $target.data('bs.modal') ? 'toggle' : $.extend({ remote: !/#/.test(href) && href }, $target.data(), $this.data());\n            if ($this.is('a'))\n                e.preventDefault();\n            $target.one('show.bs.modal', function (showEvent) {\n                if (showEvent.isDefaultPrevented())\n                    return;\n                // only register focus restorer if modal will actually get shown\n                $target.one('hidden.bs.modal', function () {\n                    $this.is(':visible') && $this.trigger('focus');\n                });\n            });\n            Plugin.call($target, option, this);\n        });\n    }(jQuery);\n    /* ========================================================================\n * Bootstrap: tooltip.js v3.3.7\n * http://getbootstrap.com/javascript/#tooltip\n * Inspired by the original jQuery.tipsy by Jason Frame\n * ========================================================================\n * Copyright 2011-2016 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n    +function ($) {\n        'use strict';\n        // TOOLTIP PUBLIC CLASS DEFINITION\n        // ===============================\n        var Tooltip = function (element, options) {\n            this.type = null;\n            this.options = null;\n            this.enabled = null;\n            this.timeout = null;\n            this.hoverState = null;\n            this.$element = null;\n            this.inState = null;\n            this.init('tooltip', element, options);\n        };\n        Tooltip.VERSION = '3.3.7';\n        Tooltip.TRANSITION_DURATION = 150;\n        Tooltip.DEFAULTS = {\n            animation: true,\n            placement: 'top',\n            selector: false,\n            template: '<div class=\"tooltip\" role=\"tooltip\"><div class=\"tooltip-arrow\"></div><div class=\"tooltip-inner\"></div></div>',\n            trigger: 'hover focus',\n            title: '',\n            delay: 0,\n            html: false,\n            container: false,\n            viewport: {\n                selector: 'body',\n                padding: 0\n            }\n        };\n        Tooltip.prototype.init = function (type, element, options) {\n            this.enabled = true;\n            this.type = type;\n            this.$element = $(element);\n            this.options = this.getOptions(options);\n            this.$viewport = this.options.viewport && $($.isFunction(this.options.viewport) ? this.options.viewport.call(this, this.$element) : this.options.viewport.selector || this.options.viewport);\n            this.inState = {\n                click: false,\n                hover: false,\n                focus: false\n            };\n            if (this.$element[0] instanceof document.constructor && !this.options.selector) {\n                throw new Error('`selector` option must be specified when initializing ' + this.type + ' on the window.document object!');\n            }\n            var triggers = this.options.trigger.split(' ');\n            for (var i = triggers.length; i--;) {\n                var trigger = triggers[i];\n                if (trigger == 'click') {\n                    this.$element.on('click.' + this.type, this.options.selector, $.proxy(this.toggle, this));\n                } else if (trigger != 'manual') {\n                    var eventIn = trigger == 'hover' ? 'mouseenter' : 'focusin';\n                    var eventOut = trigger == 'hover' ? 'mouseleave' : 'focusout';\n                    this.$element.on(eventIn + '.' + this.type, this.options.selector, $.proxy(this.enter, this));\n                    this.$element.on(eventOut + '.' + this.type, this.options.selector, $.proxy(this.leave, this));\n                }\n            }\n            this.options.selector ? this._options = $.extend({}, this.options, {\n                trigger: 'manual',\n                selector: ''\n            }) : this.fixTitle();\n        };\n        Tooltip.prototype.getDefaults = function () {\n            return Tooltip.DEFAULTS;\n        };\n        Tooltip.prototype.getOptions = function (options) {\n            options = $.extend({}, this.getDefaults(), this.$element.data(), options);\n            if (options.delay && typeof options.delay == 'number') {\n                options.delay = {\n                    show: options.delay,\n                    hide: options.delay\n                };\n            }\n            return options;\n        };\n        Tooltip.prototype.getDelegateOptions = function () {\n            var options = {};\n            var defaults = this.getDefaults();\n            this._options && $.each(this._options, function (key, value) {\n                if (defaults[key] != value)\n                    options[key] = value;\n            });\n            return options;\n        };\n        Tooltip.prototype.enter = function (obj) {\n            var self = obj instanceof this.constructor ? obj : $(obj.currentTarget).data('bs.' + this.type);\n            if (!self) {\n                self = new this.constructor(obj.currentTarget, this.getDelegateOptions());\n                $(obj.currentTarget).data('bs.' + this.type, self);\n            }\n            if (obj instanceof $.Event) {\n                self.inState[obj.type == 'focusin' ? 'focus' : 'hover'] = true;\n            }\n            if (self.tip().hasClass('in') || self.hoverState == 'in') {\n                self.hoverState = 'in';\n                return;\n            }\n            clearTimeout(self.timeout);\n            self.hoverState = 'in';\n            if (!self.options.delay || !self.options.delay.show)\n                return self.show();\n            self.timeout = setTimeout(function () {\n                if (self.hoverState == 'in')\n                    self.show();\n            }, self.options.delay.show);\n        };\n        Tooltip.prototype.isInStateTrue = function () {\n            for (var key in this.inState) {\n                if (this.inState[key])\n                    return true;\n            }\n            return false;\n        };\n        Tooltip.prototype.leave = function (obj) {\n            var self = obj instanceof this.constructor ? obj : $(obj.currentTarget).data('bs.' + this.type);\n            if (!self) {\n                self = new this.constructor(obj.currentTarget, this.getDelegateOptions());\n                $(obj.currentTarget).data('bs.' + this.type, self);\n            }\n            if (obj instanceof $.Event) {\n                self.inState[obj.type == 'focusout' ? 'focus' : 'hover'] = false;\n            }\n            if (self.isInStateTrue())\n                return;\n            clearTimeout(self.timeout);\n            self.hoverState = 'out';\n            if (!self.options.delay || !self.options.delay.hide)\n                return self.hide();\n            self.timeout = setTimeout(function () {\n                if (self.hoverState == 'out')\n                    self.hide();\n            }, self.options.delay.hide);\n        };\n        Tooltip.prototype.show = function () {\n            var e = $.Event('show.bs.' + this.type);\n            if (this.hasContent() && this.enabled) {\n                this.$element.trigger(e);\n                var inDom = $.contains(this.$element[0].ownerDocument.documentElement, this.$element[0]);\n                if (e.isDefaultPrevented() || !inDom)\n                    return;\n                var that = this;\n                var $tip = this.tip();\n                var tipId = this.getUID(this.type);\n                this.setContent();\n                $tip.attr('id', tipId);\n                this.$element.attr('aria-describedby', tipId);\n                if (this.options.animation)\n                    $tip.addClass('fade');\n                var placement = typeof this.options.placement == 'function' ? this.options.placement.call(this, $tip[0], this.$element[0]) : this.options.placement;\n                var autoToken = /\\s?auto?\\s?/i;\n                var autoPlace = autoToken.test(placement);\n                if (autoPlace)\n                    placement = placement.replace(autoToken, '') || 'top';\n                $tip.detach().css({\n                    top: 0,\n                    left: 0,\n                    display: 'block'\n                }).addClass(placement).data('bs.' + this.type, this);\n                this.options.container ? $tip.appendTo(this.options.container) : $tip.insertAfter(this.$element);\n                this.$element.trigger('inserted.bs.' + this.type);\n                var pos = this.getPosition();\n                var actualWidth = $tip[0].offsetWidth;\n                var actualHeight = $tip[0].offsetHeight;\n                if (autoPlace) {\n                    var orgPlacement = placement;\n                    var viewportDim = this.getPosition(this.$viewport);\n                    placement = placement == 'bottom' && pos.bottom + actualHeight > viewportDim.bottom ? 'top' : placement == 'top' && pos.top - actualHeight < viewportDim.top ? 'bottom' : placement == 'right' && pos.right + actualWidth > viewportDim.width ? 'left' : placement == 'left' && pos.left - actualWidth < viewportDim.left ? 'right' : placement;\n                    $tip.removeClass(orgPlacement).addClass(placement);\n                }\n                var calculatedOffset = this.getCalculatedOffset(placement, pos, actualWidth, actualHeight);\n                this.applyPlacement(calculatedOffset, placement);\n                var complete = function () {\n                    var prevHoverState = that.hoverState;\n                    that.$element.trigger('shown.bs.' + that.type);\n                    that.hoverState = null;\n                    if (prevHoverState == 'out')\n                        that.leave(that);\n                };\n                $.support.transition && this.$tip.hasClass('fade') ? $tip.one('bsTransitionEnd', complete).emulateTransitionEnd(Tooltip.TRANSITION_DURATION) : complete();\n            }\n        };\n        Tooltip.prototype.applyPlacement = function (offset, placement) {\n            var $tip = this.tip();\n            var width = $tip[0].offsetWidth;\n            var height = $tip[0].offsetHeight;\n            // manually read margins because getBoundingClientRect includes difference\n            var marginTop = parseInt($tip.css('margin-top'), 10);\n            var marginLeft = parseInt($tip.css('margin-left'), 10);\n            // we must check for NaN for ie 8/9\n            if (isNaN(marginTop))\n                marginTop = 0;\n            if (isNaN(marginLeft))\n                marginLeft = 0;\n            offset.top += marginTop;\n            offset.left += marginLeft;\n            // $.fn.offset doesn't round pixel values\n            // so we use setOffset directly with our own function B-0\n            $.offset.setOffset($tip[0], $.extend({\n                using: function (props) {\n                    $tip.css({\n                        top: Math.round(props.top),\n                        left: Math.round(props.left)\n                    });\n                }\n            }, offset), 0);\n            $tip.addClass('in');\n            // check to see if placing tip in new offset caused the tip to resize itself\n            var actualWidth = $tip[0].offsetWidth;\n            var actualHeight = $tip[0].offsetHeight;\n            if (placement == 'top' && actualHeight != height) {\n                offset.top = offset.top + height - actualHeight;\n            }\n            var delta = this.getViewportAdjustedDelta(placement, offset, actualWidth, actualHeight);\n            if (delta.left)\n                offset.left += delta.left;\n            else\n                offset.top += delta.top;\n            var isVertical = /top|bottom/.test(placement);\n            var arrowDelta = isVertical ? delta.left * 2 - width + actualWidth : delta.top * 2 - height + actualHeight;\n            var arrowOffsetPosition = isVertical ? 'offsetWidth' : 'offsetHeight';\n            $tip.offset(offset);\n            this.replaceArrow(arrowDelta, $tip[0][arrowOffsetPosition], isVertical);\n        };\n        Tooltip.prototype.replaceArrow = function (delta, dimension, isVertical) {\n            this.arrow().css(isVertical ? 'left' : 'top', 50 * (1 - delta / dimension) + '%').css(isVertical ? 'top' : 'left', '');\n        };\n        Tooltip.prototype.setContent = function () {\n            var $tip = this.tip();\n            var title = this.getTitle();\n            $tip.find('.tooltip-inner')[this.options.html ? 'html' : 'text'](title);\n            $tip.removeClass('fade in top bottom left right');\n        };\n        Tooltip.prototype.hide = function (callback) {\n            var that = this;\n            var $tip = $(this.$tip);\n            var e = $.Event('hide.bs.' + this.type);\n            function complete() {\n                if (that.hoverState != 'in')\n                    $tip.detach();\n                if (that.$element) {\n                    // TODO: Check whether guarding this code with this `if` is really necessary.\n                    that.$element.removeAttr('aria-describedby').trigger('hidden.bs.' + that.type);\n                }\n                callback && callback();\n            }\n            this.$element.trigger(e);\n            if (e.isDefaultPrevented())\n                return;\n            $tip.removeClass('in');\n            $.support.transition && $tip.hasClass('fade') ? $tip.one('bsTransitionEnd', complete).emulateTransitionEnd(Tooltip.TRANSITION_DURATION) : complete();\n            this.hoverState = null;\n            return this;\n        };\n        Tooltip.prototype.fixTitle = function () {\n            var $e = this.$element;\n            if ($e.attr('title') || typeof $e.attr('data-original-title') != 'string') {\n                $e.attr('data-original-title', $e.attr('title') || '').attr('title', '');\n            }\n        };\n        Tooltip.prototype.hasContent = function () {\n            return this.getTitle();\n        };\n        Tooltip.prototype.getPosition = function ($element) {\n            $element = $element || this.$element;\n            var el = $element[0];\n            var isBody = el.tagName == 'BODY';\n            var elRect = el.getBoundingClientRect();\n            if (elRect.width == null) {\n                // width and height are missing in IE8, so compute them manually; see https://github.com/twbs/bootstrap/issues/14093\n                elRect = $.extend({}, elRect, {\n                    width: elRect.right - elRect.left,\n                    height: elRect.bottom - elRect.top\n                });\n            }\n            var isSvg = window.SVGElement && el instanceof window.SVGElement;\n            // Avoid using $.offset() on SVGs since it gives incorrect results in jQuery 3.\n            // See https://github.com/twbs/bootstrap/issues/20280\n            var elOffset = isBody ? {\n                top: 0,\n                left: 0\n            } : isSvg ? null : $element.offset();\n            var scroll = { scroll: isBody ? document.documentElement.scrollTop || document.body.scrollTop : $element.scrollTop() };\n            var outerDims = isBody ? {\n                width: $(window).width(),\n                height: $(window).height()\n            } : null;\n            return $.extend({}, elRect, scroll, outerDims, elOffset);\n        };\n        Tooltip.prototype.getCalculatedOffset = function (placement, pos, actualWidth, actualHeight) {\n            return placement == 'bottom' ? {\n                top: pos.top + pos.height,\n                left: pos.left + pos.width / 2 - actualWidth / 2\n            } : placement == 'top' ? {\n                top: pos.top - actualHeight,\n                left: pos.left + pos.width / 2 - actualWidth / 2\n            } : placement == 'left' ? {\n                top: pos.top + pos.height / 2 - actualHeight / 2,\n                left: pos.left - actualWidth\n            } : /* placement == 'right' */\n            {\n                top: pos.top + pos.height / 2 - actualHeight / 2,\n                left: pos.left + pos.width\n            };\n        };\n        Tooltip.prototype.getViewportAdjustedDelta = function (placement, pos, actualWidth, actualHeight) {\n            var delta = {\n                top: 0,\n                left: 0\n            };\n            if (!this.$viewport)\n                return delta;\n            var viewportPadding = this.options.viewport && this.options.viewport.padding || 0;\n            var viewportDimensions = this.getPosition(this.$viewport);\n            if (/right|left/.test(placement)) {\n                var topEdgeOffset = pos.top - viewportPadding - viewportDimensions.scroll;\n                var bottomEdgeOffset = pos.top + viewportPadding - viewportDimensions.scroll + actualHeight;\n                if (topEdgeOffset < viewportDimensions.top) {\n                    // top overflow\n                    delta.top = viewportDimensions.top - topEdgeOffset;\n                } else if (bottomEdgeOffset > viewportDimensions.top + viewportDimensions.height) {\n                    // bottom overflow\n                    delta.top = viewportDimensions.top + viewportDimensions.height - bottomEdgeOffset;\n                }\n            } else {\n                var leftEdgeOffset = pos.left - viewportPadding;\n                var rightEdgeOffset = pos.left + viewportPadding + actualWidth;\n                if (leftEdgeOffset < viewportDimensions.left) {\n                    // left overflow\n                    delta.left = viewportDimensions.left - leftEdgeOffset;\n                } else if (rightEdgeOffset > viewportDimensions.right) {\n                    // right overflow\n                    delta.left = viewportDimensions.left + viewportDimensions.width - rightEdgeOffset;\n                }\n            }\n            return delta;\n        };\n        Tooltip.prototype.getTitle = function () {\n            var title;\n            var $e = this.$element;\n            var o = this.options;\n            title = $e.attr('data-original-title') || (typeof o.title == 'function' ? o.title.call($e[0]) : o.title);\n            return title;\n        };\n        Tooltip.prototype.getUID = function (prefix) {\n            do\n                prefix += ~~(Math.random() * 1000000);\n            while (document.getElementById(prefix));\n            return prefix;\n        };\n        Tooltip.prototype.tip = function () {\n            if (!this.$tip) {\n                this.$tip = $(this.options.template);\n                if (this.$tip.length != 1) {\n                    throw new Error(this.type + ' `template` option must consist of exactly 1 top-level element!');\n                }\n            }\n            return this.$tip;\n        };\n        Tooltip.prototype.arrow = function () {\n            return this.$arrow = this.$arrow || this.tip().find('.tooltip-arrow');\n        };\n        Tooltip.prototype.enable = function () {\n            this.enabled = true;\n        };\n        Tooltip.prototype.disable = function () {\n            this.enabled = false;\n        };\n        Tooltip.prototype.toggleEnabled = function () {\n            this.enabled = !this.enabled;\n        };\n        Tooltip.prototype.toggle = function (e) {\n            var self = this;\n            if (e) {\n                self = $(e.currentTarget).data('bs.' + this.type);\n                if (!self) {\n                    self = new this.constructor(e.currentTarget, this.getDelegateOptions());\n                    $(e.currentTarget).data('bs.' + this.type, self);\n                }\n            }\n            if (e) {\n                self.inState.click = !self.inState.click;\n                if (self.isInStateTrue())\n                    self.enter(self);\n                else\n                    self.leave(self);\n            } else {\n                self.tip().hasClass('in') ? self.leave(self) : self.enter(self);\n            }\n        };\n        Tooltip.prototype.destroy = function () {\n            var that = this;\n            clearTimeout(this.timeout);\n            this.hide(function () {\n                that.$element.off('.' + that.type).removeData('bs.' + that.type);\n                if (that.$tip) {\n                    that.$tip.detach();\n                }\n                that.$tip = null;\n                that.$arrow = null;\n                that.$viewport = null;\n                that.$element = null;\n            });\n        };\n        // TOOLTIP PLUGIN DEFINITION\n        // =========================\n        function Plugin(option) {\n            return this.each(function () {\n                var $this = $(this);\n                var data = $this.data('bs.tooltip');\n                var options = typeof option == 'object' && option;\n                if (!data && /destroy|hide/.test(option))\n                    return;\n                if (!data)\n                    $this.data('bs.tooltip', data = new Tooltip(this, options));\n                if (typeof option == 'string')\n                    data[option]();\n            });\n        }\n        var old = $.fn.tooltip;\n        $.fn.tooltip = Plugin;\n        $.fn.tooltip.Constructor = Tooltip;\n        // TOOLTIP NO CONFLICT\n        // ===================\n        $.fn.tooltip.noConflict = function () {\n            $.fn.tooltip = old;\n            return this;\n        };\n    }(jQuery);\n    /* ========================================================================\n * Bootstrap: popover.js v3.3.7\n * http://getbootstrap.com/javascript/#popovers\n * ========================================================================\n * Copyright 2011-2016 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n    +function ($) {\n        'use strict';\n        // POPOVER PUBLIC CLASS DEFINITION\n        // ===============================\n        var Popover = function (element, options) {\n            this.init('popover', element, options);\n        };\n        if (!$.fn.tooltip)\n            throw new Error('Popover requires tooltip.js');\n        Popover.VERSION = '3.3.7';\n        Popover.DEFAULTS = $.extend({}, $.fn.tooltip.Constructor.DEFAULTS, {\n            placement: 'right',\n            trigger: 'click',\n            content: '',\n            template: '<div class=\"popover\" role=\"tooltip\"><div class=\"arrow\"></div><h3 class=\"popover-title\"></h3><div class=\"popover-content\"></div></div>'\n        });\n        // NOTE: POPOVER EXTENDS tooltip.js\n        // ================================\n        Popover.prototype = $.extend({}, $.fn.tooltip.Constructor.prototype);\n        Popover.prototype.constructor = Popover;\n        Popover.prototype.getDefaults = function () {\n            return Popover.DEFAULTS;\n        };\n        Popover.prototype.setContent = function () {\n            var $tip = this.tip();\n            var title = this.getTitle();\n            var content = this.getContent();\n            $tip.find('.popover-title')[this.options.html ? 'html' : 'text'](title);\n            $tip.find('.popover-content').children().detach().end()[// we use append for html objects to maintain js events\n            this.options.html ? typeof content == 'string' ? 'html' : 'append' : 'text'](content);\n            $tip.removeClass('fade top bottom left right in');\n            // IE8 doesn't accept hiding via the `:empty` pseudo selector, we have to do\n            // this manually by checking the contents.\n            if (!$tip.find('.popover-title').html())\n                $tip.find('.popover-title').hide();\n        };\n        Popover.prototype.hasContent = function () {\n            return this.getTitle() || this.getContent();\n        };\n        Popover.prototype.getContent = function () {\n            var $e = this.$element;\n            var o = this.options;\n            return $e.attr('data-content') || (typeof o.content == 'function' ? o.content.call($e[0]) : o.content);\n        };\n        Popover.prototype.arrow = function () {\n            return this.$arrow = this.$arrow || this.tip().find('.arrow');\n        };\n        // POPOVER PLUGIN DEFINITION\n        // =========================\n        function Plugin(option) {\n            return this.each(function () {\n                var $this = $(this);\n                var data = $this.data('bs.popover');\n                var options = typeof option == 'object' && option;\n                if (!data && /destroy|hide/.test(option))\n                    return;\n                if (!data)\n                    $this.data('bs.popover', data = new Popover(this, options));\n                if (typeof option == 'string')\n                    data[option]();\n            });\n        }\n        var old = $.fn.popover;\n        $.fn.popover = Plugin;\n        $.fn.popover.Constructor = Popover;\n        // POPOVER NO CONFLICT\n        // ===================\n        $.fn.popover.noConflict = function () {\n            $.fn.popover = old;\n            return this;\n        };\n    }(jQuery);\n    /* ========================================================================\n * Bootstrap: scrollspy.js v3.3.7\n * http://getbootstrap.com/javascript/#scrollspy\n * ========================================================================\n * Copyright 2011-2016 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n    +function ($) {\n        'use strict';\n        // SCROLLSPY CLASS DEFINITION\n        // ==========================\n        function ScrollSpy(element, options) {\n            this.$body = $(document.body);\n            this.$scrollElement = $(element).is(document.body) ? $(window) : $(element);\n            this.options = $.extend({}, ScrollSpy.DEFAULTS, options);\n            this.selector = (this.options.target || '') + ' .nav li > a';\n            this.offsets = [];\n            this.targets = [];\n            this.activeTarget = null;\n            this.scrollHeight = 0;\n            this.$scrollElement.on('scroll.bs.scrollspy', $.proxy(this.process, this));\n            this.refresh();\n            this.process();\n        }\n        ScrollSpy.VERSION = '3.3.7';\n        ScrollSpy.DEFAULTS = { offset: 10 };\n        ScrollSpy.prototype.getScrollHeight = function () {\n            return this.$scrollElement[0].scrollHeight || Math.max(this.$body[0].scrollHeight, document.documentElement.scrollHeight);\n        };\n        ScrollSpy.prototype.refresh = function () {\n            var that = this;\n            var offsetMethod = 'offset';\n            var offsetBase = 0;\n            this.offsets = [];\n            this.targets = [];\n            this.scrollHeight = this.getScrollHeight();\n            if (!$.isWindow(this.$scrollElement[0])) {\n                offsetMethod = 'position';\n                offsetBase = this.$scrollElement.scrollTop();\n            }\n            this.$body.find(this.selector).map(function () {\n                var $el = $(this);\n                var href = $el.data('target') || $el.attr('href');\n                var $href = /^#./.test(href) && $(href);\n                return $href && $href.length && $href.is(':visible') && [[\n                        $href[offsetMethod]().top + offsetBase,\n                        href\n                    ]] || null;\n            }).sort(function (a, b) {\n                return a[0] - b[0];\n            }).each(function () {\n                that.offsets.push(this[0]);\n                that.targets.push(this[1]);\n            });\n        };\n        ScrollSpy.prototype.process = function () {\n            var scrollTop = this.$scrollElement.scrollTop() + this.options.offset;\n            var scrollHeight = this.getScrollHeight();\n            var maxScroll = this.options.offset + scrollHeight - this.$scrollElement.height();\n            var offsets = this.offsets;\n            var targets = this.targets;\n            var activeTarget = this.activeTarget;\n            var i;\n            if (this.scrollHeight != scrollHeight) {\n                this.refresh();\n            }\n            if (scrollTop >= maxScroll) {\n                return activeTarget != (i = targets[targets.length - 1]) && this.activate(i);\n            }\n            if (activeTarget && scrollTop < offsets[0]) {\n                this.activeTarget = null;\n                return this.clear();\n            }\n            for (i = offsets.length; i--;) {\n                activeTarget != targets[i] && scrollTop >= offsets[i] && (offsets[i + 1] === undefined || scrollTop < offsets[i + 1]) && this.activate(targets[i]);\n            }\n        };\n        ScrollSpy.prototype.activate = function (target) {\n            this.activeTarget = target;\n            this.clear();\n            var selector = this.selector + '[data-target=\"' + target + '\"],' + this.selector + '[href=\"' + target + '\"]';\n            var active = $(selector).parents('li').addClass('active');\n            if (active.parent('.dropdown-menu').length) {\n                active = active.closest('li.dropdown').addClass('active');\n            }\n            active.trigger('activate.bs.scrollspy');\n        };\n        ScrollSpy.prototype.clear = function () {\n            $(this.selector).parentsUntil(this.options.target, '.active').removeClass('active');\n        };\n        // SCROLLSPY PLUGIN DEFINITION\n        // ===========================\n        function Plugin(option) {\n            return this.each(function () {\n                var $this = $(this);\n                var data = $this.data('bs.scrollspy');\n                var options = typeof option == 'object' && option;\n                if (!data)\n                    $this.data('bs.scrollspy', data = new ScrollSpy(this, options));\n                if (typeof option == 'string')\n                    data[option]();\n            });\n        }\n        var old = $.fn.scrollspy;\n        $.fn.scrollspy = Plugin;\n        $.fn.scrollspy.Constructor = ScrollSpy;\n        // SCROLLSPY NO CONFLICT\n        // =====================\n        $.fn.scrollspy.noConflict = function () {\n            $.fn.scrollspy = old;\n            return this;\n        };\n        // SCROLLSPY DATA-API\n        // ==================\n        $(window).on('load.bs.scrollspy.data-api', function () {\n            $('[data-spy=\"scroll\"]').each(function () {\n                var $spy = $(this);\n                Plugin.call($spy, $spy.data());\n            });\n        });\n    }(jQuery);\n    /* ========================================================================\n * Bootstrap: tab.js v3.3.7\n * http://getbootstrap.com/javascript/#tabs\n * ========================================================================\n * Copyright 2011-2016 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n    +function ($) {\n        'use strict';\n        // TAB CLASS DEFINITION\n        // ====================\n        var Tab = function (element) {\n            // jscs:disable requireDollarBeforejQueryAssignment\n            this.element = $(element)    // jscs:enable requireDollarBeforejQueryAssignment\n;\n        };\n        Tab.VERSION = '3.3.7';\n        Tab.TRANSITION_DURATION = 150;\n        Tab.prototype.show = function () {\n            var $this = this.element;\n            var $ul = $this.closest('ul:not(.dropdown-menu)');\n            var selector = $this.data('target');\n            if (!selector) {\n                selector = $this.attr('href');\n                selector = selector && selector.replace(/.*(?=#[^\\s]*$)/, '')    // strip for ie7\n;\n            }\n            if ($this.parent('li').hasClass('active'))\n                return;\n            var $previous = $ul.find('.active:last a');\n            var hideEvent = $.Event('hide.bs.tab', { relatedTarget: $this[0] });\n            var showEvent = $.Event('show.bs.tab', { relatedTarget: $previous[0] });\n            $previous.trigger(hideEvent);\n            $this.trigger(showEvent);\n            if (showEvent.isDefaultPrevented() || hideEvent.isDefaultPrevented())\n                return;\n            var $target = $(selector);\n            this.activate($this.closest('li'), $ul);\n            this.activate($target, $target.parent(), function () {\n                $previous.trigger({\n                    type: 'hidden.bs.tab',\n                    relatedTarget: $this[0]\n                });\n                $this.trigger({\n                    type: 'shown.bs.tab',\n                    relatedTarget: $previous[0]\n                });\n            });\n        };\n        Tab.prototype.activate = function (element, container, callback) {\n            var $active = container.find('> .active');\n            var transition = callback && $.support.transition && ($active.length && $active.hasClass('fade') || !!container.find('> .fade').length);\n            function next() {\n                $active.removeClass('active').find('> .dropdown-menu > .active').removeClass('active').end().find('[data-toggle=\"tab\"]').attr('aria-expanded', false);\n                element.addClass('active').find('[data-toggle=\"tab\"]').attr('aria-expanded', true);\n                if (transition) {\n                    element[0].offsetWidth;\n                    // reflow for transition\n                    element.addClass('in');\n                } else {\n                    element.removeClass('fade');\n                }\n                if (element.parent('.dropdown-menu').length) {\n                    element.closest('li.dropdown').addClass('active').end().find('[data-toggle=\"tab\"]').attr('aria-expanded', true);\n                }\n                callback && callback();\n            }\n            $active.length && transition ? $active.one('bsTransitionEnd', next).emulateTransitionEnd(Tab.TRANSITION_DURATION) : next();\n            $active.removeClass('in');\n        };\n        // TAB PLUGIN DEFINITION\n        // =====================\n        function Plugin(option) {\n            return this.each(function () {\n                var $this = $(this);\n                var data = $this.data('bs.tab');\n                if (!data)\n                    $this.data('bs.tab', data = new Tab(this));\n                if (typeof option == 'string')\n                    data[option]();\n            });\n        }\n        var old = $.fn.tab;\n        $.fn.tab = Plugin;\n        $.fn.tab.Constructor = Tab;\n        // TAB NO CONFLICT\n        // ===============\n        $.fn.tab.noConflict = function () {\n            $.fn.tab = old;\n            return this;\n        };\n        // TAB DATA-API\n        // ============\n        var clickHandler = function (e) {\n            e.preventDefault();\n            Plugin.call($(this), 'show');\n        };\n        $(document).on('click.bs.tab.data-api', '[data-toggle=\"tab\"]', clickHandler).on('click.bs.tab.data-api', '[data-toggle=\"pill\"]', clickHandler);\n    }(jQuery);\n    /* ========================================================================\n * Bootstrap: affix.js v3.3.7\n * http://getbootstrap.com/javascript/#affix\n * ========================================================================\n * Copyright 2011-2016 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n    +function ($) {\n        'use strict';\n        // AFFIX CLASS DEFINITION\n        // ======================\n        var Affix = function (element, options) {\n            this.options = $.extend({}, Affix.DEFAULTS, options);\n            this.$target = $(this.options.target).on('scroll.bs.affix.data-api', $.proxy(this.checkPosition, this)).on('click.bs.affix.data-api', $.proxy(this.checkPositionWithEventLoop, this));\n            this.$element = $(element);\n            this.affixed = null;\n            this.unpin = null;\n            this.pinnedOffset = null;\n            this.checkPosition();\n        };\n        Affix.VERSION = '3.3.7';\n        Affix.RESET = 'affix affix-top affix-bottom';\n        Affix.DEFAULTS = {\n            offset: 0,\n            target: window\n        };\n        Affix.prototype.getState = function (scrollHeight, height, offsetTop, offsetBottom) {\n            var scrollTop = this.$target.scrollTop();\n            var position = this.$element.offset();\n            var targetHeight = this.$target.height();\n            if (offsetTop != null && this.affixed == 'top')\n                return scrollTop < offsetTop ? 'top' : false;\n            if (this.affixed == 'bottom') {\n                if (offsetTop != null)\n                    return scrollTop + this.unpin <= position.top ? false : 'bottom';\n                return scrollTop + targetHeight <= scrollHeight - offsetBottom ? false : 'bottom';\n            }\n            var initializing = this.affixed == null;\n            var colliderTop = initializing ? scrollTop : position.top;\n            var colliderHeight = initializing ? targetHeight : height;\n            if (offsetTop != null && scrollTop <= offsetTop)\n                return 'top';\n            if (offsetBottom != null && colliderTop + colliderHeight >= scrollHeight - offsetBottom)\n                return 'bottom';\n            return false;\n        };\n        Affix.prototype.getPinnedOffset = function () {\n            if (this.pinnedOffset)\n                return this.pinnedOffset;\n            this.$element.removeClass(Affix.RESET).addClass('affix');\n            var scrollTop = this.$target.scrollTop();\n            var position = this.$element.offset();\n            return this.pinnedOffset = position.top - scrollTop;\n        };\n        Affix.prototype.checkPositionWithEventLoop = function () {\n            setTimeout($.proxy(this.checkPosition, this), 1);\n        };\n        Affix.prototype.checkPosition = function () {\n            if (!this.$element.is(':visible'))\n                return;\n            var height = this.$element.height();\n            var offset = this.options.offset;\n            var offsetTop = offset.top;\n            var offsetBottom = offset.bottom;\n            var scrollHeight = Math.max($(document).height(), $(document.body).height());\n            if (typeof offset != 'object')\n                offsetBottom = offsetTop = offset;\n            if (typeof offsetTop == 'function')\n                offsetTop = offset.top(this.$element);\n            if (typeof offsetBottom == 'function')\n                offsetBottom = offset.bottom(this.$element);\n            var affix = this.getState(scrollHeight, height, offsetTop, offsetBottom);\n            if (this.affixed != affix) {\n                if (this.unpin != null)\n                    this.$element.css('top', '');\n                var affixType = 'affix' + (affix ? '-' + affix : '');\n                var e = $.Event(affixType + '.bs.affix');\n                this.$element.trigger(e);\n                if (e.isDefaultPrevented())\n                    return;\n                this.affixed = affix;\n                this.unpin = affix == 'bottom' ? this.getPinnedOffset() : null;\n                this.$element.removeClass(Affix.RESET).addClass(affixType).trigger(affixType.replace('affix', 'affixed') + '.bs.affix');\n            }\n            if (affix == 'bottom') {\n                this.$element.offset({ top: scrollHeight - height - offsetBottom });\n            }\n        };\n        // AFFIX PLUGIN DEFINITION\n        // =======================\n        function Plugin(option) {\n            return this.each(function () {\n                var $this = $(this);\n                var data = $this.data('bs.affix');\n                var options = typeof option == 'object' && option;\n                if (!data)\n                    $this.data('bs.affix', data = new Affix(this, options));\n                if (typeof option == 'string')\n                    data[option]();\n            });\n        }\n        var old = $.fn.affix;\n        $.fn.affix = Plugin;\n        $.fn.affix.Constructor = Affix;\n        // AFFIX NO CONFLICT\n        // =================\n        $.fn.affix.noConflict = function () {\n            $.fn.affix = old;\n            return this;\n        };\n        // AFFIX DATA-API\n        // ==============\n        $(window).on('load', function () {\n            $('[data-spy=\"affix\"]').each(function () {\n                var $spy = $(this);\n                var data = $spy.data();\n                data.offset = data.offset || {};\n                if (data.offsetBottom != null)\n                    data.offset.bottom = data.offsetBottom;\n                if (data.offsetTop != null)\n                    data.offset.top = data.offsetTop;\n                Plugin.call($spy, data);\n            });\n        });\n    }(jQuery);\n    return;\n});","/* =========================================================\n * bootstrap-datepicker.js\n * Repo: https://github.com/eternicode/bootstrap-datepicker/\n * Demo: http://eternicode.github.io/bootstrap-datepicker/\n * Docs: http://bootstrap-datepicker.readthedocs.org/\n * Forked from http://www.eyecon.ro/bootstrap-datepicker\n * =========================================================\n * Started by Stefan Petre; improvements by Andrew Rowls + contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * ========================================================= */\ndefine('bootstrap-datepicker', [\n    'jQuery',\n    'bootstrap'\n], function () {\n    (function ($, undefined) {\n        var $window = $(window);\n        function UTCDate() {\n            return new Date(Date.UTC.apply(Date, arguments));\n        }\n        function UTCToday() {\n            var today = new Date();\n            return UTCDate(today.getFullYear(), today.getMonth(), today.getDate());\n        }\n        function alias(method) {\n            return function () {\n                return this[method].apply(this, arguments);\n            };\n        }\n        var DateArray = function () {\n            var extras = {\n                get: function (i) {\n                    return this.slice(i)[0];\n                },\n                contains: function (d) {\n                    // Array.indexOf is not cross-browser;\n                    // $.inArray doesn't work with Dates\n                    var val = d && d.valueOf();\n                    for (var i = 0, l = this.length; i < l; i++)\n                        if (this[i].valueOf() === val)\n                            return i;\n                    return -1;\n                },\n                remove: function (i) {\n                    this.splice(i, 1);\n                },\n                replace: function (new_array) {\n                    if (!new_array)\n                        return;\n                    if (!$.isArray(new_array))\n                        new_array = [new_array];\n                    this.clear();\n                    this.push.apply(this, new_array);\n                },\n                clear: function () {\n                    this.length = 0;\n                },\n                copy: function () {\n                    var a = new DateArray();\n                    a.replace(this);\n                    return a;\n                }\n            };\n            return function () {\n                var a = [];\n                a.push.apply(a, arguments);\n                $.extend(a, extras);\n                return a;\n            };\n        }();\n        // Picker object\n        var Datepicker = function (element, options) {\n            this.dates = new DateArray();\n            this.viewDate = UTCToday();\n            this.focusDate = null;\n            this._process_options(options);\n            this.element = $(element);\n            this.isInline = false;\n            this.isInput = this.element.is('input');\n            this.component = this.element.is('.date') ? this.element.find('.add-on, .input-group-addon, .btn') : false;\n            this.hasInput = this.component && this.element.find('input').length;\n            if (this.component && this.component.length === 0)\n                this.component = false;\n            this.picker = $(DPGlobal.template);\n            this._buildEvents();\n            this._attachEvents();\n            if (this.isInline) {\n                this.picker.addClass('datepicker-inline').appendTo(this.element);\n            } else {\n                this.picker.addClass('datepicker-dropdown dropdown-menu');\n            }\n            if (this.o.rtl) {\n                this.picker.addClass('datepicker-rtl');\n            }\n            this.viewMode = this.o.startView;\n            if (this.o.calendarWeeks)\n                this.picker.find('tfoot th.today, tfoot th.clear').attr('colspan', function (i, val) {\n                    return parseInt(val) + 1;\n                });\n            this._allow_update = false;\n            this.setStartDate(this._o.startDate);\n            this.setEndDate(this._o.endDate);\n            this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled);\n            this.fillDow();\n            this.fillMonths();\n            this._allow_update = true;\n            this.update();\n            this.showMode();\n            if (this.isInline) {\n                this.show();\n            }\n        };\n        Datepicker.prototype = {\n            constructor: Datepicker,\n            _process_options: function (opts) {\n                // Store raw options for reference\n                this._o = $.extend({}, this._o, opts);\n                // Processed options\n                var o = this.o = $.extend({}, this._o);\n                // Check if \"de-DE\" style date is available, if not language should\n                // fallback to 2 letter code eg \"de\"\n                var lang = o.language;\n                if (!dates[lang]) {\n                    lang = lang.split('-')[0];\n                    if (!dates[lang])\n                        lang = defaults.language;\n                }\n                o.language = lang;\n                switch (o.startView) {\n                case 2:\n                case 'decade':\n                    o.startView = 2;\n                    break;\n                case 1:\n                case 'year':\n                    o.startView = 1;\n                    break;\n                default:\n                    o.startView = 0;\n                }\n                switch (o.minViewMode) {\n                case 1:\n                case 'months':\n                    o.minViewMode = 1;\n                    break;\n                case 2:\n                case 'years':\n                    o.minViewMode = 2;\n                    break;\n                default:\n                    o.minViewMode = 0;\n                }\n                o.startView = Math.max(o.startView, o.minViewMode);\n                // true, false, or Number > 0\n                if (o.multidate !== true) {\n                    o.multidate = Number(o.multidate) || false;\n                    if (o.multidate !== false)\n                        o.multidate = Math.max(0, o.multidate);\n                    else\n                        o.multidate = 1;\n                }\n                o.multidateSeparator = String(o.multidateSeparator);\n                o.weekStart %= 7;\n                o.weekEnd = (o.weekStart + 6) % 7;\n                var format = DPGlobal.parseFormat(o.format);\n                if (o.startDate !== -Infinity) {\n                    if (!!o.startDate) {\n                        if (o.startDate instanceof Date)\n                            o.startDate = this._local_to_utc(this._zero_time(o.startDate));\n                        else\n                            o.startDate = DPGlobal.parseDate(o.startDate, format, o.language);\n                    } else {\n                        o.startDate = -Infinity;\n                    }\n                }\n                if (o.endDate !== Infinity) {\n                    if (!!o.endDate) {\n                        if (o.endDate instanceof Date)\n                            o.endDate = this._local_to_utc(this._zero_time(o.endDate));\n                        else\n                            o.endDate = DPGlobal.parseDate(o.endDate, format, o.language);\n                    } else {\n                        o.endDate = Infinity;\n                    }\n                }\n                o.daysOfWeekDisabled = o.daysOfWeekDisabled || [];\n                if (!$.isArray(o.daysOfWeekDisabled))\n                    o.daysOfWeekDisabled = o.daysOfWeekDisabled.split(/[,\\s]*/);\n                o.daysOfWeekDisabled = $.map(o.daysOfWeekDisabled, function (d) {\n                    return parseInt(d, 10);\n                });\n                var plc = String(o.orientation).toLowerCase().split(/\\s+/g), _plc = o.orientation.toLowerCase();\n                plc = $.grep(plc, function (word) {\n                    return /^auto|left|right|top|bottom$/.test(word);\n                });\n                o.orientation = {\n                    x: 'auto',\n                    y: 'auto'\n                };\n                if (!_plc || _plc === 'auto');\n                else if (plc.length === 1) {\n                    switch (plc[0]) {\n                    case 'top':\n                    case 'bottom':\n                        o.orientation.y = plc[0];\n                        break;\n                    case 'left':\n                    case 'right':\n                        o.orientation.x = plc[0];\n                        break;\n                    }\n                } else {\n                    _plc = $.grep(plc, function (word) {\n                        return /^left|right$/.test(word);\n                    });\n                    o.orientation.x = _plc[0] || 'auto';\n                    _plc = $.grep(plc, function (word) {\n                        return /^top|bottom$/.test(word);\n                    });\n                    o.orientation.y = _plc[0] || 'auto';\n                }\n            },\n            _events: [],\n            _secondaryEvents: [],\n            _applyEvents: function (evs) {\n                for (var i = 0, el, ch, ev; i < evs.length; i++) {\n                    el = evs[i][0];\n                    if (evs[i].length === 2) {\n                        ch = undefined;\n                        ev = evs[i][1];\n                    } else if (evs[i].length === 3) {\n                        ch = evs[i][1];\n                        ev = evs[i][2];\n                    }\n                    el.on(ev, ch);\n                }\n            },\n            _unapplyEvents: function (evs) {\n                for (var i = 0, el, ev, ch; i < evs.length; i++) {\n                    el = evs[i][0];\n                    if (evs[i].length === 2) {\n                        ch = undefined;\n                        ev = evs[i][1];\n                    } else if (evs[i].length === 3) {\n                        ch = evs[i][1];\n                        ev = evs[i][2];\n                    }\n                    el.off(ev, ch);\n                }\n            },\n            _buildEvents: function () {\n                if (this.isInput) {\n                    // single input\n                    this._events = [[\n                            this.element,\n                            {\n                                focus: $.proxy(this.show, this),\n                                keyup: $.proxy(function (e) {\n                                    if ($.inArray(e.keyCode, [\n                                            27,\n                                            37,\n                                            39,\n                                            38,\n                                            40,\n                                            32,\n                                            13,\n                                            9\n                                        ]) === -1)\n                                        this.update();\n                                }, this),\n                                keydown: $.proxy(this.keydown, this)\n                            }\n                        ]];\n                } else if (this.component && this.hasInput) {\n                    // component: input + button\n                    this._events = [\n                        // For components that are not readonly, allow keyboard nav\n                        [\n                            this.element.find('input'),\n                            {\n                                focus: $.proxy(this.show, this),\n                                keyup: $.proxy(function (e) {\n                                    if ($.inArray(e.keyCode, [\n                                            27,\n                                            37,\n                                            39,\n                                            38,\n                                            40,\n                                            32,\n                                            13,\n                                            9\n                                        ]) === -1)\n                                        this.update();\n                                }, this),\n                                keydown: $.proxy(this.keydown, this)\n                            }\n                        ],\n                        [\n                            this.component,\n                            { click: $.proxy(this.show, this) }\n                        ]\n                    ];\n                } else if (this.element.is('div')) {\n                    // inline datepicker\n                    this.isInline = true;\n                } else {\n                    this._events = [[\n                            this.element,\n                            { click: $.proxy(this.show, this) }\n                        ]];\n                }\n                this._events.push(// Component: listen for blur on element descendants\n                [\n                    this.element,\n                    '*',\n                    {\n                        blur: $.proxy(function (e) {\n                            this._focused_from = e.target;\n                        }, this)\n                    }\n                ], // Input: listen for blur on element\n                [\n                    this.element,\n                    {\n                        blur: $.proxy(function (e) {\n                            this._focused_from = e.target;\n                        }, this)\n                    }\n                ]);\n                this._secondaryEvents = [\n                    [\n                        this.picker,\n                        { click: $.proxy(this.click, this) }\n                    ],\n                    [\n                        $(window),\n                        { resize: $.proxy(this.place, this) }\n                    ],\n                    [\n                        $(document),\n                        {\n                            'mousedown touchstart': $.proxy(function (e) {\n                                // Clicked outside the datepicker, hide it\n                                if (!(this.element.is(e.target) || this.element.find(e.target).length || this.picker.is(e.target) || this.picker.find(e.target).length)) {\n                                    this.hide();\n                                }\n                            }, this)\n                        }\n                    ]\n                ];\n            },\n            _attachEvents: function () {\n                this._detachEvents();\n                this._applyEvents(this._events);\n            },\n            _detachEvents: function () {\n                this._unapplyEvents(this._events);\n            },\n            _attachSecondaryEvents: function () {\n                this._detachSecondaryEvents();\n                this._applyEvents(this._secondaryEvents);\n            },\n            _detachSecondaryEvents: function () {\n                this._unapplyEvents(this._secondaryEvents);\n            },\n            _trigger: function (event, altdate) {\n                var date = altdate || this.dates.get(-1), local_date = this._utc_to_local(date);\n                this.element.trigger({\n                    type: event,\n                    date: local_date,\n                    dates: $.map(this.dates, this._utc_to_local),\n                    format: $.proxy(function (ix, format) {\n                        if (arguments.length === 0) {\n                            ix = this.dates.length - 1;\n                            format = this.o.format;\n                        } else if (typeof ix === 'string') {\n                            format = ix;\n                            ix = this.dates.length - 1;\n                        }\n                        format = format || this.o.format;\n                        var date = this.dates.get(ix);\n                        return DPGlobal.formatDate(date, format, this.o.language);\n                    }, this)\n                });\n            },\n            show: function () {\n                if (!this.isInline)\n                    this.picker.appendTo('body');\n                this.picker.show();\n                this.place();\n                this._attachSecondaryEvents();\n                this._trigger('show');\n            },\n            hide: function () {\n                if (this.isInline)\n                    return;\n                if (!this.picker.is(':visible'))\n                    return;\n                this.focusDate = null;\n                this.picker.hide().detach();\n                this._detachSecondaryEvents();\n                this.viewMode = this.o.startView;\n                this.showMode();\n                if (this.o.forceParse && (this.isInput && this.element.val() || this.hasInput && this.element.find('input').val()))\n                    this.setValue();\n                this._trigger('hide');\n            },\n            remove: function () {\n                this.hide();\n                this._detachEvents();\n                this._detachSecondaryEvents();\n                this.picker.remove();\n                delete this.element.data().datepicker;\n                if (!this.isInput) {\n                    delete this.element.data().date;\n                }\n            },\n            _utc_to_local: function (utc) {\n                return utc && new Date(utc.getTime() + utc.getTimezoneOffset() * 60000);\n            },\n            _local_to_utc: function (local) {\n                return local && new Date(local.getTime() - local.getTimezoneOffset() * 60000);\n            },\n            _zero_time: function (local) {\n                return local && new Date(local.getFullYear(), local.getMonth(), local.getDate());\n            },\n            _zero_utc_time: function (utc) {\n                return utc && new Date(Date.UTC(utc.getUTCFullYear(), utc.getUTCMonth(), utc.getUTCDate()));\n            },\n            getDates: function () {\n                return $.map(this.dates, this._utc_to_local);\n            },\n            getUTCDates: function () {\n                return $.map(this.dates, function (d) {\n                    return new Date(d);\n                });\n            },\n            getDate: function () {\n                return this._utc_to_local(this.getUTCDate());\n            },\n            getUTCDate: function () {\n                return new Date(this.dates.get(-1));\n            },\n            setDates: function () {\n                var args = $.isArray(arguments[0]) ? arguments[0] : arguments;\n                this.update.apply(this, args);\n                this._trigger('changeDate');\n                this.setValue();\n            },\n            setUTCDates: function () {\n                var args = $.isArray(arguments[0]) ? arguments[0] : arguments;\n                this.update.apply(this, $.map(args, this._utc_to_local));\n                this._trigger('changeDate');\n                this.setValue();\n            },\n            setDate: alias('setDates'),\n            setUTCDate: alias('setUTCDates'),\n            setValue: function () {\n                var formatted = this.getFormattedDate();\n                if (!this.isInput) {\n                    if (this.component) {\n                        this.element.find('input').val(formatted).change();\n                    }\n                } else {\n                    this.element.val(formatted).change();\n                }\n            },\n            getFormattedDate: function (format) {\n                if (format === undefined)\n                    format = this.o.format;\n                var lang = this.o.language;\n                return $.map(this.dates, function (d) {\n                    return DPGlobal.formatDate(d, format, lang);\n                }).join(this.o.multidateSeparator);\n            },\n            setStartDate: function (startDate) {\n                this._process_options({ startDate: startDate });\n                this.update();\n                this.updateNavArrows();\n            },\n            setEndDate: function (endDate) {\n                this._process_options({ endDate: endDate });\n                this.update();\n                this.updateNavArrows();\n            },\n            setDaysOfWeekDisabled: function (daysOfWeekDisabled) {\n                this._process_options({ daysOfWeekDisabled: daysOfWeekDisabled });\n                this.update();\n                this.updateNavArrows();\n            },\n            place: function () {\n                if (this.isInline)\n                    return;\n                var calendarWidth = this.picker.outerWidth(), calendarHeight = this.picker.outerHeight(), visualPadding = 10, windowWidth = $window.width(), windowHeight = $window.height(), scrollTop = $window.scrollTop();\n                var parentsZindex = [];\n                this.element.parents().each(function () {\n                    var itemZIndex = $(this).css('z-index');\n                    if (itemZIndex !== 'auto' && itemZIndex !== 0)\n                        parentsZindex.push(parseInt(itemZIndex));\n                });\n                var zIndex = Math.max.apply(Math, parentsZindex) + 10;\n                var offset = this.component ? this.component.parent().offset() : this.element.offset();\n                var height = this.component ? this.component.outerHeight(true) : this.element.outerHeight(false);\n                var width = this.component ? this.component.outerWidth(true) : this.element.outerWidth(false);\n                var left = offset.left, top = offset.top;\n                this.picker.removeClass('datepicker-orient-top datepicker-orient-bottom ' + 'datepicker-orient-right datepicker-orient-left');\n                if (this.o.orientation.x !== 'auto') {\n                    this.picker.addClass('datepicker-orient-' + this.o.orientation.x);\n                    if (this.o.orientation.x === 'right')\n                        left -= calendarWidth - width;\n                }    // auto x orientation is best-placement: if it crosses a window\n                     // edge, fudge it sideways\n                else {\n                    // Default to left\n                    this.picker.addClass('datepicker-orient-left');\n                    if (offset.left < 0)\n                        left -= offset.left - visualPadding;\n                    else if (offset.left + calendarWidth > windowWidth)\n                        left = windowWidth - calendarWidth - visualPadding;\n                }\n                // auto y orientation is best-situation: top or bottom, no fudging,\n                // decision based on which shows more of the calendar\n                var yorient = this.o.orientation.y, top_overflow, bottom_overflow;\n                if (yorient === 'auto') {\n                    top_overflow = -scrollTop + offset.top - calendarHeight;\n                    bottom_overflow = scrollTop + windowHeight - (offset.top + height + calendarHeight);\n                    if (Math.max(top_overflow, bottom_overflow) === bottom_overflow)\n                        yorient = 'top';\n                    else\n                        yorient = 'bottom';\n                }\n                this.picker.addClass('datepicker-orient-' + yorient);\n                if (yorient === 'top')\n                    top += height;\n                else\n                    top -= calendarHeight + parseInt(this.picker.css('padding-top'));\n                this.picker.css({\n                    top: top,\n                    left: left,\n                    zIndex: zIndex\n                });\n            },\n            _allow_update: true,\n            update: function () {\n                if (!this._allow_update)\n                    return;\n                var oldDates = this.dates.copy(), dates = [], fromArgs = false;\n                if (arguments.length) {\n                    $.each(arguments, $.proxy(function (i, date) {\n                        if (date instanceof Date)\n                            date = this._local_to_utc(date);\n                        dates.push(date);\n                    }, this));\n                    fromArgs = true;\n                } else {\n                    dates = this.isInput ? this.element.val() : this.element.data('date') || this.element.find('input').val();\n                    if (dates && this.o.multidate)\n                        dates = dates.split(this.o.multidateSeparator);\n                    else\n                        dates = [dates];\n                    delete this.element.data().date;\n                }\n                dates = $.map(dates, $.proxy(function (date) {\n                    return DPGlobal.parseDate(date, this.o.format, this.o.language);\n                }, this));\n                dates = $.grep(dates, $.proxy(function (date) {\n                    return date < this.o.startDate || date > this.o.endDate || !date;\n                }, this), true);\n                this.dates.replace(dates);\n                if (this.dates.length)\n                    this.viewDate = new Date(this.dates.get(-1));\n                else if (this.viewDate < this.o.startDate)\n                    this.viewDate = new Date(this.o.startDate);\n                else if (this.viewDate > this.o.endDate)\n                    this.viewDate = new Date(this.o.endDate);\n                if (fromArgs) {\n                    // setting date by clicking\n                    this.setValue();\n                } else if (dates.length) {\n                    // setting date by typing\n                    if (String(oldDates) !== String(this.dates))\n                        this._trigger('changeDate');\n                }\n                if (!this.dates.length && oldDates.length)\n                    this._trigger('clearDate');\n                this.fill();\n            },\n            fillDow: function () {\n                var dowCnt = this.o.weekStart, html = '<tr>';\n                if (this.o.calendarWeeks) {\n                    var cell = '<th class=\"cw\">&nbsp;</th>';\n                    html += cell;\n                    this.picker.find('.datepicker-days thead tr:first-child').prepend(cell);\n                }\n                while (dowCnt < this.o.weekStart + 7) {\n                    html += '<th class=\"dow\">' + dates[this.o.language].daysMin[dowCnt++ % 7] + '</th>';\n                }\n                html += '</tr>';\n                this.picker.find('.datepicker-days thead').append(html);\n            },\n            fillMonths: function () {\n                var html = '', i = 0;\n                while (i < 12) {\n                    html += '<span class=\"month\">' + dates[this.o.language].monthsShort[i++] + '</span>';\n                }\n                this.picker.find('.datepicker-months td').html(html);\n            },\n            setRange: function (range) {\n                if (!range || !range.length)\n                    delete this.range;\n                else\n                    this.range = $.map(range, function (d) {\n                        return d.valueOf();\n                    });\n                this.fill();\n            },\n            getClassNames: function (date) {\n                var cls = [], year = this.viewDate.getUTCFullYear(), month = this.viewDate.getUTCMonth(), today = new Date();\n                if (date.getUTCFullYear() < year || date.getUTCFullYear() === year && date.getUTCMonth() < month) {\n                    cls.push('old');\n                } else if (date.getUTCFullYear() > year || date.getUTCFullYear() === year && date.getUTCMonth() > month) {\n                    cls.push('new');\n                }\n                if (this.focusDate && date.valueOf() === this.focusDate.valueOf())\n                    cls.push('focused');\n                // Compare internal UTC date with local today, not UTC today\n                if (this.o.todayHighlight && date.getUTCFullYear() === today.getFullYear() && date.getUTCMonth() === today.getMonth() && date.getUTCDate() === today.getDate()) {\n                    cls.push('today');\n                }\n                if (this.dates.contains(date) !== -1)\n                    cls.push('active');\n                if (date.valueOf() < this.o.startDate || date.valueOf() > this.o.endDate || $.inArray(date.getUTCDay(), this.o.daysOfWeekDisabled) !== -1) {\n                    cls.push('disabled');\n                }\n                if (this.range) {\n                    if (date > this.range[0] && date < this.range[this.range.length - 1]) {\n                        cls.push('range');\n                    }\n                    if ($.inArray(date.valueOf(), this.range) !== -1) {\n                        cls.push('selected');\n                    }\n                }\n                return cls;\n            },\n            fill: function () {\n                var d = new Date(this.viewDate), year = d.getUTCFullYear(), month = d.getUTCMonth(), startYear = this.o.startDate !== -Infinity ? this.o.startDate.getUTCFullYear() : -Infinity, startMonth = this.o.startDate !== -Infinity ? this.o.startDate.getUTCMonth() : -Infinity, endYear = this.o.endDate !== Infinity ? this.o.endDate.getUTCFullYear() : Infinity, endMonth = this.o.endDate !== Infinity ? this.o.endDate.getUTCMonth() : Infinity, todaytxt = dates[this.o.language].today || dates['en'].today || '', cleartxt = dates[this.o.language].clear || dates['en'].clear || '', tooltip;\n                if (isNaN(year) || isNaN(month))\n                    return;\n                this.picker.find('.datepicker-days thead th.datepicker-switch').text(dates[this.o.language].months[month] + ' ' + year);\n                this.picker.find('tfoot th.today').text(todaytxt).toggle(this.o.todayBtn !== false);\n                this.picker.find('tfoot th.clear').text(cleartxt).toggle(this.o.clearBtn !== false);\n                this.updateNavArrows();\n                this.fillMonths();\n                var prevMonth = UTCDate(year, month - 1, 28), day = DPGlobal.getDaysInMonth(prevMonth.getUTCFullYear(), prevMonth.getUTCMonth());\n                prevMonth.setUTCDate(day);\n                prevMonth.setUTCDate(day - (prevMonth.getUTCDay() - this.o.weekStart + 7) % 7);\n                var nextMonth = new Date(prevMonth);\n                nextMonth.setUTCDate(nextMonth.getUTCDate() + 42);\n                nextMonth = nextMonth.valueOf();\n                var html = [];\n                var clsName;\n                while (prevMonth.valueOf() < nextMonth) {\n                    if (prevMonth.getUTCDay() === this.o.weekStart) {\n                        html.push('<tr>');\n                        if (this.o.calendarWeeks) {\n                            // ISO 8601: First week contains first thursday.\n                            // ISO also states week starts on Monday, but we can be more abstract here.\n                            var\n                                // Start of current week: based on weekstart/current date\n                                ws = new Date(+prevMonth + (this.o.weekStart - prevMonth.getUTCDay() - 7) % 7 * 86400000),\n                                // Thursday of this week\n                                th = new Date(Number(ws) + (7 + 4 - ws.getUTCDay()) % 7 * 86400000),\n                                // First Thursday of year, year from thursday\n                                yth = new Date(Number(yth = UTCDate(th.getUTCFullYear(), 0, 1)) + (7 + 4 - yth.getUTCDay()) % 7 * 86400000),\n                                // Calendar week: ms between thursdays, div ms per day, div 7 days\n                                calWeek = (th - yth) / 86400000 / 7 + 1;\n                            html.push('<td class=\"cw\">' + calWeek + '</td>');\n                        }\n                    }\n                    clsName = this.getClassNames(prevMonth);\n                    clsName.push('day');\n                    if (this.o.beforeShowDay !== $.noop) {\n                        var before = this.o.beforeShowDay(this._utc_to_local(prevMonth));\n                        if (before === undefined)\n                            before = {};\n                        else if (typeof before === 'boolean')\n                            before = { enabled: before };\n                        else if (typeof before === 'string')\n                            before = { classes: before };\n                        if (before.enabled === false)\n                            clsName.push('disabled');\n                        if (before.classes)\n                            clsName = clsName.concat(before.classes.split(/\\s+/));\n                        if (before.tooltip)\n                            tooltip = before.tooltip;\n                    }\n                    clsName = $.unique(clsName);\n                    html.push('<td class=\"' + clsName.join(' ') + '\"' + (tooltip ? ' title=\"' + tooltip + '\"' : '') + '>' + prevMonth.getUTCDate() + '</td>');\n                    tooltip = null;\n                    if (prevMonth.getUTCDay() === this.o.weekEnd) {\n                        html.push('</tr>');\n                    }\n                    prevMonth.setUTCDate(prevMonth.getUTCDate() + 1);\n                }\n                this.picker.find('.datepicker-days tbody').empty().append(html.join(''));\n                var months = this.picker.find('.datepicker-months').find('th:eq(1)').text(year).end().find('span').removeClass('active');\n                $.each(this.dates, function (i, d) {\n                    if (d.getUTCFullYear() === year)\n                        months.eq(d.getUTCMonth()).addClass('active');\n                });\n                if (year < startYear || year > endYear) {\n                    months.addClass('disabled');\n                }\n                if (year === startYear) {\n                    months.slice(0, startMonth).addClass('disabled');\n                }\n                if (year === endYear) {\n                    months.slice(endMonth + 1).addClass('disabled');\n                }\n                html = '';\n                year = parseInt(year / 10, 10) * 10;\n                var yearCont = this.picker.find('.datepicker-years').find('th:eq(1)').text(year + '-' + (year + 9)).end().find('td');\n                year -= 1;\n                var years = $.map(this.dates, function (d) {\n                        return d.getUTCFullYear();\n                    }), classes;\n                for (var i = -1; i < 11; i++) {\n                    classes = ['year'];\n                    if (i === -1)\n                        classes.push('old');\n                    else if (i === 10)\n                        classes.push('new');\n                    if ($.inArray(year, years) !== -1)\n                        classes.push('active');\n                    if (year < startYear || year > endYear)\n                        classes.push('disabled');\n                    html += '<span class=\"' + classes.join(' ') + '\">' + year + '</span>';\n                    year += 1;\n                }\n                yearCont.html(html);\n            },\n            updateNavArrows: function () {\n                if (!this._allow_update)\n                    return;\n                var d = new Date(this.viewDate), year = d.getUTCFullYear(), month = d.getUTCMonth();\n                switch (this.viewMode) {\n                case 0:\n                    if (this.o.startDate !== -Infinity && year <= this.o.startDate.getUTCFullYear() && month <= this.o.startDate.getUTCMonth()) {\n                        this.picker.find('.prev').css({ visibility: 'hidden' });\n                    } else {\n                        this.picker.find('.prev').css({ visibility: 'visible' });\n                    }\n                    if (this.o.endDate !== Infinity && year >= this.o.endDate.getUTCFullYear() && month >= this.o.endDate.getUTCMonth()) {\n                        this.picker.find('.next').css({ visibility: 'hidden' });\n                    } else {\n                        this.picker.find('.next').css({ visibility: 'visible' });\n                    }\n                    break;\n                case 1:\n                case 2:\n                    if (this.o.startDate !== -Infinity && year <= this.o.startDate.getUTCFullYear()) {\n                        this.picker.find('.prev').css({ visibility: 'hidden' });\n                    } else {\n                        this.picker.find('.prev').css({ visibility: 'visible' });\n                    }\n                    if (this.o.endDate !== Infinity && year >= this.o.endDate.getUTCFullYear()) {\n                        this.picker.find('.next').css({ visibility: 'hidden' });\n                    } else {\n                        this.picker.find('.next').css({ visibility: 'visible' });\n                    }\n                    break;\n                }\n            },\n            click: function (e) {\n                e.preventDefault();\n                var target = $(e.target).closest('span, td, th'), year, month, day;\n                if (target.length === 1) {\n                    switch (target[0].nodeName.toLowerCase()) {\n                    case 'th':\n                        switch (target[0].className) {\n                        case 'datepicker-switch':\n                            this.showMode(1);\n                            break;\n                        case 'prev':\n                        case 'next':\n                            var dir = DPGlobal.modes[this.viewMode].navStep * (target[0].className === 'prev' ? -1 : 1);\n                            switch (this.viewMode) {\n                            case 0:\n                                this.viewDate = this.moveMonth(this.viewDate, dir);\n                                this._trigger('changeMonth', this.viewDate);\n                                break;\n                            case 1:\n                            case 2:\n                                this.viewDate = this.moveYear(this.viewDate, dir);\n                                if (this.viewMode === 1)\n                                    this._trigger('changeYear', this.viewDate);\n                                break;\n                            }\n                            this.fill();\n                            break;\n                        case 'today':\n                            var date = new Date();\n                            date = UTCDate(date.getFullYear(), date.getMonth(), date.getDate(), 0, 0, 0);\n                            this.showMode(-2);\n                            var which = this.o.todayBtn === 'linked' ? null : 'view';\n                            this._setDate(date, which);\n                            break;\n                        case 'clear':\n                            var element;\n                            if (this.isInput)\n                                element = this.element;\n                            else if (this.component)\n                                element = this.element.find('input');\n                            if (element)\n                                element.val('').change();\n                            this.update();\n                            this._trigger('changeDate');\n                            if (this.o.autoclose)\n                                this.hide();\n                            break;\n                        }\n                        break;\n                    case 'span':\n                        if (!target.is('.disabled')) {\n                            this.viewDate.setUTCDate(1);\n                            if (target.is('.month')) {\n                                day = 1;\n                                month = target.parent().find('span').index(target);\n                                year = this.viewDate.getUTCFullYear();\n                                this.viewDate.setUTCMonth(month);\n                                this._trigger('changeMonth', this.viewDate);\n                                if (this.o.minViewMode === 1) {\n                                    this._setDate(UTCDate(year, month, day));\n                                }\n                            } else {\n                                day = 1;\n                                month = 0;\n                                year = parseInt(target.text(), 10) || 0;\n                                this.viewDate.setUTCFullYear(year);\n                                this._trigger('changeYear', this.viewDate);\n                                if (this.o.minViewMode === 2) {\n                                    this._setDate(UTCDate(year, month, day));\n                                }\n                            }\n                            this.showMode(-1);\n                            this.fill();\n                        }\n                        break;\n                    case 'td':\n                        if (target.is('.day') && !target.is('.disabled')) {\n                            day = parseInt(target.text(), 10) || 1;\n                            year = this.viewDate.getUTCFullYear();\n                            month = this.viewDate.getUTCMonth();\n                            if (target.is('.old')) {\n                                if (month === 0) {\n                                    month = 11;\n                                    year -= 1;\n                                } else {\n                                    month -= 1;\n                                }\n                            } else if (target.is('.new')) {\n                                if (month === 11) {\n                                    month = 0;\n                                    year += 1;\n                                } else {\n                                    month += 1;\n                                }\n                            }\n                            this._setDate(UTCDate(year, month, day));\n                        }\n                        break;\n                    }\n                }\n                if (this.picker.is(':visible') && this._focused_from) {\n                    $(this._focused_from).focus();\n                }\n                delete this._focused_from;\n            },\n            _toggle_multidate: function (date) {\n                var ix = this.dates.contains(date);\n                if (!date) {\n                    this.dates.clear();\n                }\n                if (this.o.multidate === 1 && ix === 0) {\n                } else if (ix !== -1) {\n                    this.dates.remove(ix);\n                } else {\n                    this.dates.push(date);\n                }\n                if (typeof this.o.multidate === 'number')\n                    while (this.dates.length > this.o.multidate)\n                        this.dates.remove(0);\n            },\n            _setDate: function (date, which) {\n                if (!which || which === 'date')\n                    this._toggle_multidate(date && new Date(date));\n                if (!which || which === 'view')\n                    this.viewDate = date && new Date(date);\n                this.fill();\n                this.setValue();\n                this._trigger('changeDate');\n                var element;\n                if (this.isInput) {\n                    element = this.element;\n                } else if (this.component) {\n                    element = this.element.find('input');\n                }\n                if (element) {\n                    element.change();\n                }\n                if (this.o.autoclose && (!which || which === 'date')) {\n                    this.hide();\n                }\n            },\n            moveMonth: function (date, dir) {\n                if (!date)\n                    return undefined;\n                if (!dir)\n                    return date;\n                var new_date = new Date(date.valueOf()), day = new_date.getUTCDate(), month = new_date.getUTCMonth(), mag = Math.abs(dir), new_month, test;\n                dir = dir > 0 ? 1 : -1;\n                if (mag === 1) {\n                    test = dir === -1    // If going back one month, make sure month is not current month\n                         // (eg, Mar 31 -> Feb 31 == Feb 28, not Mar 02)\n ? function () {\n                        return new_date.getUTCMonth() === month;\n                    }    // If going forward one month, make sure month is as expected\n                         // (eg, Jan 31 -> Feb 31 == Feb 28, not Mar 02)\n : function () {\n                        return new_date.getUTCMonth() !== new_month;\n                    };\n                    new_month = month + dir;\n                    new_date.setUTCMonth(new_month);\n                    // Dec -> Jan (12) or Jan -> Dec (-1) -- limit expected date to 0-11\n                    if (new_month < 0 || new_month > 11)\n                        new_month = (new_month + 12) % 12;\n                } else {\n                    // For magnitudes >1, move one month at a time...\n                    for (var i = 0; i < mag; i++)\n                        // ...which might decrease the day (eg, Jan 31 to Feb 28, etc)...\n                        new_date = this.moveMonth(new_date, dir);\n                    // ...then reset the day, keeping it in the new month\n                    new_month = new_date.getUTCMonth();\n                    new_date.setUTCDate(day);\n                    test = function () {\n                        return new_month !== new_date.getUTCMonth();\n                    };\n                }\n                // Common date-resetting loop -- if date is beyond end of month, make it\n                // end of month\n                while (test()) {\n                    new_date.setUTCDate(--day);\n                    new_date.setUTCMonth(new_month);\n                }\n                return new_date;\n            },\n            moveYear: function (date, dir) {\n                return this.moveMonth(date, dir * 12);\n            },\n            dateWithinRange: function (date) {\n                return date >= this.o.startDate && date <= this.o.endDate;\n            },\n            keydown: function (e) {\n                if (this.picker.is(':not(:visible)')) {\n                    if (e.keyCode === 27)\n                        // allow escape to hide and re-show picker\n                        this.show();\n                    return;\n                }\n                var dateChanged = false, dir, newDate, newViewDate, focusDate = this.focusDate || this.viewDate;\n                switch (e.keyCode) {\n                case 27:\n                    // escape\n                    if (this.focusDate) {\n                        this.focusDate = null;\n                        this.viewDate = this.dates.get(-1) || this.viewDate;\n                        this.fill();\n                    } else\n                        this.hide();\n                    e.preventDefault();\n                    break;\n                case 37:\n                // left\n                case 39:\n                    // right\n                    if (!this.o.keyboardNavigation)\n                        break;\n                    dir = e.keyCode === 37 ? -1 : 1;\n                    if (e.ctrlKey) {\n                        newDate = this.moveYear(this.dates.get(-1) || UTCToday(), dir);\n                        newViewDate = this.moveYear(focusDate, dir);\n                        this._trigger('changeYear', this.viewDate);\n                    } else if (e.shiftKey) {\n                        newDate = this.moveMonth(this.dates.get(-1) || UTCToday(), dir);\n                        newViewDate = this.moveMonth(focusDate, dir);\n                        this._trigger('changeMonth', this.viewDate);\n                    } else {\n                        newDate = new Date(this.dates.get(-1) || UTCToday());\n                        newDate.setUTCDate(newDate.getUTCDate() + dir);\n                        newViewDate = new Date(focusDate);\n                        newViewDate.setUTCDate(focusDate.getUTCDate() + dir);\n                    }\n                    if (this.dateWithinRange(newDate)) {\n                        this.focusDate = this.viewDate = newViewDate;\n                        this.setValue();\n                        this.fill();\n                        e.preventDefault();\n                    }\n                    break;\n                case 38:\n                // up\n                case 40:\n                    // down\n                    if (!this.o.keyboardNavigation)\n                        break;\n                    dir = e.keyCode === 38 ? -1 : 1;\n                    if (e.ctrlKey) {\n                        newDate = this.moveYear(this.dates.get(-1) || UTCToday(), dir);\n                        newViewDate = this.moveYear(focusDate, dir);\n                        this._trigger('changeYear', this.viewDate);\n                    } else if (e.shiftKey) {\n                        newDate = this.moveMonth(this.dates.get(-1) || UTCToday(), dir);\n                        newViewDate = this.moveMonth(focusDate, dir);\n                        this._trigger('changeMonth', this.viewDate);\n                    } else {\n                        newDate = new Date(this.dates.get(-1) || UTCToday());\n                        newDate.setUTCDate(newDate.getUTCDate() + dir * 7);\n                        newViewDate = new Date(focusDate);\n                        newViewDate.setUTCDate(focusDate.getUTCDate() + dir * 7);\n                    }\n                    if (this.dateWithinRange(newDate)) {\n                        this.focusDate = this.viewDate = newViewDate;\n                        this.setValue();\n                        this.fill();\n                        e.preventDefault();\n                    }\n                    break;\n                case 32:\n                    // spacebar\n                    // Spacebar is used in manually typing dates in some formats.\n                    // As such, its behavior should not be hijacked.\n                    break;\n                case 13:\n                    // enter\n                    focusDate = this.focusDate || this.dates.get(-1) || this.viewDate;\n                    if (this.o.keyboardNavigation) {\n                        this._toggle_multidate(focusDate);\n                        dateChanged = true;\n                    }\n                    this.focusDate = null;\n                    this.viewDate = this.dates.get(-1) || this.viewDate;\n                    this.setValue();\n                    this.fill();\n                    if (this.picker.is(':visible')) {\n                        e.preventDefault();\n                        if (this.o.autoclose)\n                            this.hide();\n                    }\n                    break;\n                case 9:\n                    // tab\n                    this.focusDate = null;\n                    this.viewDate = this.dates.get(-1) || this.viewDate;\n                    this.fill();\n                    this.hide();\n                    break;\n                }\n                if (dateChanged) {\n                    if (this.dates.length)\n                        this._trigger('changeDate');\n                    else\n                        this._trigger('clearDate');\n                    var element;\n                    if (this.isInput) {\n                        element = this.element;\n                    } else if (this.component) {\n                        element = this.element.find('input');\n                    }\n                    if (element) {\n                        element.change();\n                    }\n                }\n            },\n            showMode: function (dir) {\n                if (dir) {\n                    this.viewMode = Math.max(this.o.minViewMode, Math.min(2, this.viewMode + dir));\n                }\n                this.picker.find('>div').hide().filter('.datepicker-' + DPGlobal.modes[this.viewMode].clsName).css('display', 'block');\n                this.updateNavArrows();\n            }\n        };\n        var DateRangePicker = function (element, options) {\n            this.element = $(element);\n            this.inputs = $.map(options.inputs, function (i) {\n                return i.jquery ? i[0] : i;\n            });\n            delete options.inputs;\n            $(this.inputs).datepicker(options).bind('changeDate', $.proxy(this.dateUpdated, this));\n            this.pickers = $.map(this.inputs, function (i) {\n                return $(i).data('datepicker');\n            });\n            this.updateDates();\n        };\n        DateRangePicker.prototype = {\n            updateDates: function () {\n                this.dates = $.map(this.pickers, function (i) {\n                    return i.getUTCDate();\n                });\n                this.updateRanges();\n            },\n            updateRanges: function () {\n                var range = $.map(this.dates, function (d) {\n                    return d.valueOf();\n                });\n                $.each(this.pickers, function (i, p) {\n                    p.setRange(range);\n                });\n            },\n            dateUpdated: function (e) {\n                // `this.updating` is a workaround for preventing infinite recursion\n                // between `changeDate` triggering and `setUTCDate` calling.  Until\n                // there is a better mechanism.\n                if (this.updating)\n                    return;\n                this.updating = true;\n                var dp = $(e.target).data('datepicker'), new_date = dp.getUTCDate(), i = $.inArray(e.target, this.inputs), l = this.inputs.length;\n                if (i === -1)\n                    return;\n                $.each(this.pickers, function (i, p) {\n                    if (!p.getUTCDate())\n                        p.setUTCDate(new_date);\n                });\n                if (new_date < this.dates[i]) {\n                    // Date being moved earlier/left\n                    while (i >= 0 && new_date < this.dates[i]) {\n                        this.pickers[i--].setUTCDate(new_date);\n                    }\n                } else if (new_date > this.dates[i]) {\n                    // Date being moved later/right\n                    while (i < l && new_date > this.dates[i]) {\n                        this.pickers[i++].setUTCDate(new_date);\n                    }\n                }\n                this.updateDates();\n                delete this.updating;\n            },\n            remove: function () {\n                $.map(this.pickers, function (p) {\n                    p.remove();\n                });\n                delete this.element.data().datepicker;\n            }\n        };\n        function opts_from_el(el, prefix) {\n            // Derive options from element data-attrs\n            var data = $(el).data(), out = {}, inkey, replace = new RegExp('^' + prefix.toLowerCase() + '([A-Z])');\n            prefix = new RegExp('^' + prefix.toLowerCase());\n            function re_lower(_, a) {\n                return a.toLowerCase();\n            }\n            for (var key in data)\n                if (prefix.test(key)) {\n                    inkey = key.replace(replace, re_lower);\n                    out[inkey] = data[key];\n                }\n            return out;\n        }\n        function opts_from_locale(lang) {\n            // Derive options from locale plugins\n            var out = {};\n            // Check if \"de-DE\" style date is available, if not language should\n            // fallback to 2 letter code eg \"de\"\n            if (!dates[lang]) {\n                lang = lang.split('-')[0];\n                if (!dates[lang])\n                    return;\n            }\n            var d = dates[lang];\n            $.each(locale_opts, function (i, k) {\n                if (k in d)\n                    out[k] = d[k];\n            });\n            return out;\n        }\n        var old = $.fn.datepicker;\n        $.fn.datepicker = function (option) {\n            var args = Array.apply(null, arguments);\n            args.shift();\n            var internal_return;\n            this.each(function () {\n                var $this = $(this), data = $this.data('datepicker'), options = typeof option === 'object' && option;\n                if (!data) {\n                    var elopts = opts_from_el(this, 'date'),\n                        // Preliminary otions\n                        xopts = $.extend({}, defaults, elopts, options), locopts = opts_from_locale(xopts.language),\n                        // Options priority: js args, data-attrs, locales, defaults\n                        opts = $.extend({}, defaults, locopts, elopts, options);\n                    if ($this.is('.input-daterange') || opts.inputs) {\n                        var ropts = { inputs: opts.inputs || $this.find('input').toArray() };\n                        $this.data('datepicker', data = new DateRangePicker(this, $.extend(opts, ropts)));\n                    } else {\n                        $this.data('datepicker', data = new Datepicker(this, opts));\n                    }\n                }\n                if (typeof option === 'string' && typeof data[option] === 'function') {\n                    internal_return = data[option].apply(data, args);\n                    if (internal_return !== undefined)\n                        return false;\n                }\n            });\n            if (internal_return !== undefined)\n                return internal_return;\n            else\n                return this;\n        };\n        var defaults = $.fn.datepicker.defaults = {\n            autoclose: false,\n            beforeShowDay: $.noop,\n            calendarWeeks: false,\n            clearBtn: false,\n            daysOfWeekDisabled: [],\n            endDate: Infinity,\n            forceParse: true,\n            format: 'mm/dd/yyyy',\n            keyboardNavigation: true,\n            language: 'en',\n            minViewMode: 0,\n            multidate: false,\n            multidateSeparator: ',',\n            orientation: 'auto',\n            rtl: false,\n            startDate: -Infinity,\n            startView: 0,\n            todayBtn: false,\n            todayHighlight: false,\n            weekStart: 0\n        };\n        var locale_opts = $.fn.datepicker.locale_opts = [\n            'format',\n            'rtl',\n            'weekStart'\n        ];\n        $.fn.datepicker.Constructor = Datepicker;\n        var dates = $.fn.datepicker.dates = {\n            en: {\n                days: [\n                    'Sunday',\n                    'Monday',\n                    'Tuesday',\n                    'Wednesday',\n                    'Thursday',\n                    'Friday',\n                    'Saturday',\n                    'Sunday'\n                ],\n                daysShort: [\n                    'Sun',\n                    'Mon',\n                    'Tue',\n                    'Wed',\n                    'Thu',\n                    'Fri',\n                    'Sat',\n                    'Sun'\n                ],\n                daysMin: [\n                    'Su',\n                    'Mo',\n                    'Tu',\n                    'We',\n                    'Th',\n                    'Fr',\n                    'Sa',\n                    'Su'\n                ],\n                months: [\n                    'January',\n                    'February',\n                    'March',\n                    'April',\n                    'May',\n                    'June',\n                    'July',\n                    'August',\n                    'September',\n                    'October',\n                    'November',\n                    'December'\n                ],\n                monthsShort: [\n                    'Jan',\n                    'Feb',\n                    'Mar',\n                    'Apr',\n                    'May',\n                    'Jun',\n                    'Jul',\n                    'Aug',\n                    'Sep',\n                    'Oct',\n                    'Nov',\n                    'Dec'\n                ],\n                today: 'Today',\n                clear: 'Clear'\n            }\n        };\n        var DPGlobal = {\n            modes: [\n                {\n                    clsName: 'days',\n                    navFnc: 'Month',\n                    navStep: 1\n                },\n                {\n                    clsName: 'months',\n                    navFnc: 'FullYear',\n                    navStep: 1\n                },\n                {\n                    clsName: 'years',\n                    navFnc: 'FullYear',\n                    navStep: 10\n                }\n            ],\n            isLeapYear: function (year) {\n                return year % 4 === 0 && year % 100 !== 0 || year % 400 === 0;\n            },\n            getDaysInMonth: function (year, month) {\n                return [\n                    31,\n                    DPGlobal.isLeapYear(year) ? 29 : 28,\n                    31,\n                    30,\n                    31,\n                    30,\n                    31,\n                    31,\n                    30,\n                    31,\n                    30,\n                    31\n                ][month];\n            },\n            validParts: /dd?|DD?|mm?|MM?|yy(?:yy)?/g,\n            nonpunctuation: /[^ -\\/:-@\\[\\u3400-\\u9fff-`{-~\\t\\n\\r]+/g,\n            parseFormat: function (format) {\n                // IE treats \\0 as a string end in inputs (truncating the value),\n                // so it's a bad format delimiter, anyway\n                var separators = format.replace(this.validParts, '\\0').split('\\0'), parts = format.match(this.validParts);\n                if (!separators || !separators.length || !parts || parts.length === 0) {\n                    throw new Error('Invalid date format.');\n                }\n                return {\n                    separators: separators,\n                    parts: parts\n                };\n            },\n            parseDate: function (date, format, language) {\n                if (!date)\n                    return undefined;\n                if (date instanceof Date)\n                    return date;\n                if (typeof format === 'string')\n                    format = DPGlobal.parseFormat(format);\n                var part_re = /([\\-+]\\d+)([dmwy])/, parts = date.match(/([\\-+]\\d+)([dmwy])/g), part, dir, i;\n                if (/^[\\-+]\\d+[dmwy]([\\s,]+[\\-+]\\d+[dmwy])*$/.test(date)) {\n                    date = new Date();\n                    for (i = 0; i < parts.length; i++) {\n                        part = part_re.exec(parts[i]);\n                        dir = parseInt(part[1]);\n                        switch (part[2]) {\n                        case 'd':\n                            date.setUTCDate(date.getUTCDate() + dir);\n                            break;\n                        case 'm':\n                            date = Datepicker.prototype.moveMonth.call(Datepicker.prototype, date, dir);\n                            break;\n                        case 'w':\n                            date.setUTCDate(date.getUTCDate() + dir * 7);\n                            break;\n                        case 'y':\n                            date = Datepicker.prototype.moveYear.call(Datepicker.prototype, date, dir);\n                            break;\n                        }\n                    }\n                    return UTCDate(date.getUTCFullYear(), date.getUTCMonth(), date.getUTCDate(), 0, 0, 0);\n                }\n                parts = date && date.match(this.nonpunctuation) || [];\n                date = new Date();\n                var parsed = {}, setters_order = [\n                        'yyyy',\n                        'yy',\n                        'M',\n                        'MM',\n                        'm',\n                        'mm',\n                        'd',\n                        'dd'\n                    ], setters_map = {\n                        yyyy: function (d, v) {\n                            return d.setUTCFullYear(v);\n                        },\n                        yy: function (d, v) {\n                            return d.setUTCFullYear(2000 + v);\n                        },\n                        m: function (d, v) {\n                            if (isNaN(d))\n                                return d;\n                            v -= 1;\n                            while (v < 0)\n                                v += 12;\n                            v %= 12;\n                            d.setUTCMonth(v);\n                            while (d.getUTCMonth() !== v)\n                                d.setUTCDate(d.getUTCDate() - 1);\n                            return d;\n                        },\n                        d: function (d, v) {\n                            return d.setUTCDate(v);\n                        }\n                    }, val, filtered;\n                setters_map['M'] = setters_map['MM'] = setters_map['mm'] = setters_map['m'];\n                setters_map['dd'] = setters_map['d'];\n                date = UTCDate(date.getFullYear(), date.getMonth(), date.getDate(), 0, 0, 0);\n                var fparts = format.parts.slice();\n                // Remove noop parts\n                if (parts.length !== fparts.length) {\n                    fparts = $(fparts).filter(function (i, p) {\n                        return $.inArray(p, setters_order) !== -1;\n                    }).toArray();\n                }\n                // Process remainder\n                function match_part() {\n                    var m = this.slice(0, parts[i].length), p = parts[i].slice(0, m.length);\n                    return m === p;\n                }\n                if (parts.length === fparts.length) {\n                    var cnt;\n                    for (i = 0, cnt = fparts.length; i < cnt; i++) {\n                        val = parseInt(parts[i], 10);\n                        part = fparts[i];\n                        if (isNaN(val)) {\n                            switch (part) {\n                            case 'MM':\n                                filtered = $(dates[language].months).filter(match_part);\n                                val = $.inArray(filtered[0], dates[language].months) + 1;\n                                break;\n                            case 'M':\n                                filtered = $(dates[language].monthsShort).filter(match_part);\n                                val = $.inArray(filtered[0], dates[language].monthsShort) + 1;\n                                break;\n                            }\n                        }\n                        parsed[part] = val;\n                    }\n                    var _date, s;\n                    for (i = 0; i < setters_order.length; i++) {\n                        s = setters_order[i];\n                        if (s in parsed && !isNaN(parsed[s])) {\n                            _date = new Date(date);\n                            setters_map[s](_date, parsed[s]);\n                            if (!isNaN(_date))\n                                date = _date;\n                        }\n                    }\n                }\n                return date;\n            },\n            formatDate: function (date, format, language) {\n                if (!date)\n                    return '';\n                if (typeof format === 'string')\n                    format = DPGlobal.parseFormat(format);\n                var val = {\n                    d: date.getUTCDate(),\n                    D: dates[language].daysShort[date.getUTCDay()],\n                    DD: dates[language].days[date.getUTCDay()],\n                    m: date.getUTCMonth() + 1,\n                    M: dates[language].monthsShort[date.getUTCMonth()],\n                    MM: dates[language].months[date.getUTCMonth()],\n                    yy: date.getUTCFullYear().toString().substring(2),\n                    yyyy: date.getUTCFullYear()\n                };\n                val.dd = (val.d < 10 ? '0' : '') + val.d;\n                val.mm = (val.m < 10 ? '0' : '') + val.m;\n                date = [];\n                var seps = $.extend([], format.separators);\n                for (var i = 0, cnt = format.parts.length; i <= cnt; i++) {\n                    if (seps.length)\n                        date.push(seps.shift());\n                    date.push(val[format.parts[i]]);\n                }\n                return date.join('');\n            },\n            headTemplate: '<thead>' + '<tr>' + '<th class=\"prev\">&laquo;</th>' + '<th colspan=\"5\" class=\"datepicker-switch\"></th>' + '<th class=\"next\">&raquo;</th>' + '</tr>' + '</thead>',\n            contTemplate: '<tbody><tr><td colspan=\"7\"></td></tr></tbody>',\n            footTemplate: '<tfoot>' + '<tr>' + '<th colspan=\"7\" class=\"today\"></th>' + '</tr>' + '<tr>' + '<th colspan=\"7\" class=\"clear\"></th>' + '</tr>' + '</tfoot>'\n        };\n        DPGlobal.template = '<div class=\"datepicker\">' + '<div class=\"datepicker-days\">' + '<table class=\" table-condensed\">' + DPGlobal.headTemplate + '<tbody></tbody>' + DPGlobal.footTemplate + '</table>' + '</div>' + '<div class=\"datepicker-months\">' + '<table class=\"table-condensed\">' + DPGlobal.headTemplate + DPGlobal.contTemplate + DPGlobal.footTemplate + '</table>' + '</div>' + '<div class=\"datepicker-years\">' + '<table class=\"table-condensed\">' + DPGlobal.headTemplate + DPGlobal.contTemplate + DPGlobal.footTemplate + '</table>' + '</div>' + '</div>';\n        $.fn.datepicker.DPGlobal = DPGlobal;\n        /* DATEPICKER NO CONFLICT\n\t* =================== */\n        $.fn.datepicker.noConflict = function () {\n            $.fn.datepicker = old;\n            return this;\n        };\n        /* DATEPICKER DATA-API\n\t* ================== */\n        $(document).on('focus.datepicker.data-api click.datepicker.data-api', '[data-provide=\"datepicker\"]', function (e) {\n            var $this = $(this);\n            if ($this.data('datepicker'))\n                return;\n            e.preventDefault();\n            // component click requires us to explicitly show it\n            $this.datepicker('show');\n        });\n        $(function () {\n            $('[data-provide=\"datepicker-inline\"]').datepicker();\n        });\n    }(window.jQuery));\n    return;\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module UrlHelper\ndefine('UrlHelper', [\n    'underscore',\n    'Utils'\n], function (_, Utils) {\n    'use strict';\n    // @class UrlHelper Keeps track of the URL, triggering custom events to specific parameters. \n    // Provides methods to add, get and remove parameters from the url. \n    // Extends Utils and add this methods to underscore. \n    // As an application module, when mounted to the application will listen to onAfterAppendView \n    // and will update itself with the new url @extends ApplicationModule\n    var UrlHelper = {\n        // @property {String} url\n        url: ''    // @property {Object} listeners\n,\n        listeners: {}    // @property {Object} parameters\n,\n        parameters: {}    // @method setUrl @param {String} url\n,\n        setUrl: function (url) {\n            var self = this;\n            this.url = url;\n            this.parameters = {};\n            // for each of the listeners\n            _.each(this.listeners, function (fn, token) {\n                var parameter_value = self.getParameterValue(token);\n                // if the key (token) is in the url\n                if (parameter_value) {\n                    // we trigger the function\n                    var value = _.isFunction(fn) ? fn(parameter_value) : fn;\n                    // if there is a value, we store it in our parameters object\n                    if (value) {\n                        if (_.isBoolean(value)) {\n                            self.parameters[token] = parameter_value;\n                        } else {\n                            self.parameters[token] = value;\n                        }\n                    }\n                }\n            });\n        }    // @method addTokenListener @param {String} token @param {Function} fn\n,\n        addTokenListener: function (token, fn) {\n            this.listeners[token] = fn;\n        }    // @method getParameters @return {Object}\n,\n        getParameters: function () {\n            return this.parameters;\n        }    // @method getParameterValue @param {String} parameter @return {String} \n,\n        getParameterValue: function (parameter) {\n            var value = this.url.match(parameter + '{1}\\\\={1}(.*?[^&#]*)');\n            if (value && value[1]) {\n                return value[1];\n            } else {\n                return '';\n            }\n        }    // @method clearValues\n,\n        clearValues: function () {\n            this.url = '';\n            this.listeners = {};\n            this.parameters = {};\n        }\n    };\n    // @module Utils @class Utils\n    // @method fixUrl added by UrlHelper @param {String} url\n    function fixUrl(url) {\n        if (!new RegExp('^http').test(url)) {\n            var parameters = UrlHelper.getParameters(), charValue = '', value = '';\n            // for each of the parameters in the helper\n            _.each(parameters, function (i, parameter) {\n                value = url.match(new RegExp(parameter + '{1}\\\\={1}(.*?[^&]*)'));\n                // if the parameter is not in the url\n                if (!value) {\n                    charValue = ~url.indexOf('?') ? '&' : '?';\n                    // we append it\n                    url += charValue + parameter + '=' + parameters[parameter];\n                }\n            });\n        }\n        return url;\n    }\n    // @method setUrlParameter changes the value of a parameter in the url \n    // @param {String} url @param {String} parameter @param {String} new_value \n    function setUrlParameter(url, parameter, new_value) {\n        var value = url.match(new RegExp(parameter + '{1}\\\\={1}(.*?[^(&|#)]*)')), charValue = '';\n        if (value) {\n            return url.replace(value[0], parameter + '=' + new_value);\n        } else {\n            charValue = ~url.indexOf('?') ? '&' : '?';\n            return url + charValue + parameter + '=' + new_value;\n        }\n    }\n    // @method removeUrlParameter @param {String} url @param {String} parameter\n    function removeUrlParameter(url, parameter) {\n        var value = url.match(new RegExp('(\\\\?|&)' + parameter + '{1}\\\\={1}(.*?[^(&|#)]*)'));\n        if (value) {\n            if (~value[0].indexOf('?') && ~url.indexOf('&')) {\n                return url.replace(value[0] + '&', '?');\n            } else {\n                return url.replace(value[0], '');\n            }\n        } else {\n            return url;\n        }\n    }\n    _.extend(Utils, {\n        fixUrl: fixUrl,\n        setUrlParameter: setUrlParameter,\n        removeUrlParameter: removeUrlParameter\n    });\n    _.mixin(Utils);\n    return _.extend(UrlHelper, {\n        mountToApp: function (Application) {\n            var self = this;\n            Application.getLayout().on('afterAppendView', function () {\n                // Every time afterAppendView is called, we set the url to the helper\n                self.setUrl(window.location.href);\n            });\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module ListHeader\ndefine('ListHeader.View', [\n    'SC.Configuration',\n    'GlobalViews.Pagination.View',\n    'GlobalViews.ShowingCurrent.View',\n    'AjaxRequestsKiller',\n    'list_header_view.tpl',\n    'Backbone',\n    'Backbone.CompositeView',\n    'underscore',\n    'jQuery',\n    'Utils',\n    'bootstrap-datepicker',\n    'UrlHelper'\n], function (Configuration, GlobalViewsPaginationView, GlobalViewsShowingCurrentView, AjaxRequestsKiller, list_header_view_tpl, Backbone, BackboneCompositeView, _, jQuery) {\n    'use strict';\n    // @class ListHeader.View\n    // View used to manipulate a collection by adding sorting and filtering capabilities\n    // based on the sort and filter options from the collection\n    // @extend Backbone.View\n    var ListHeader = Backbone.View.extend({\n        //@property {Function} template\n        template: list_header_view_tpl    //@property {Object} events\n,\n        events: {\n            'change [data-action=\"filter\"]': 'filterHandler',\n            'change [data-action=\"sort\"]': 'sortHandler',\n            'click [data-action=\"toggle-sort\"]': 'toggleSortHandler',\n            'change [data-action=\"select-all\"]': 'selectAll',\n            'change [data-action=\"unselect-all\"]': 'unselectAll'    /*\n\t\t\t * range-filter focus/blur work together to update the date range when:\n\t\t\t * Blur happens on a field and user don't focus on the other during a defined interval\n\t\t\t*/,\n            'focus [data-action=\"range-filter\"]': 'clearRangeFilterTimeout',\n            'blur [data-action=\"range-filter\"]': 'rangeFilterBlur',\n            'click [data-action=\"toggle-filters\"]': 'toggleFilters',\n            'click [data-action=\"clear-value\"]': 'clearRangeValue'\n        }    //@method initialize\n             //@param {ListHeader.View.initialize.Options} options\n             //@return {Void}\n,\n        initialize: function (options) {\n            BackboneCompositeView.add(this);\n            var view = options.view;\n            _.extend(this, options);\n            // @property {Boolean} avoidFirstFetch true only if the module using list header is the one responsible of fetching the collection for the first time (optional)\n            this.avoidFirstFetch = options.avoidFirstFetch;\n            // @property {Number} totalCount the original count of items of the collection without filtering (optional)\n            this.totalCount = options.totalCount;\n            // @property {Object} rangeFilterOptions store the range (date) filter options\n            this.rangeFilterOptions = view.rangeFilterOptions || {};\n            // @property {String} rangeFilterLabel Label for range filter (optional)\n            this.rangeFilterLabel = options.rangeFilterLabel;\n            // @property {String} expandedStatePath default value of filter collapse\n            this.expandedStatePath = this.view.className ? this.view.className + '.expanded' : 'state.expanded';\n            ListHeader.setPersistedState(this.expandedStatePath, ListHeader.getPersistedState(this.expandedStatePath, false));\n            // @property {Boolean} enable the eventName trigger\n            this.eventFilter = options.eventFilter;\n            // @property {String} to handle filter behavior in particular view\n            this.eventName = options.eventName;\n            // @property {Boolean} to allows if \"from\" or \"to\" date filters can be empty\n            this.allowEmptyBoundaries = options.allowEmptyBoundaries;\n        },\n        destroy: function () {\n            this.clearRangeFilterTimeout();\n            this._destroy();\n        },\n        childViews: {\n            'GlobalViews.Pagination': function () {\n                return new GlobalViewsPaginationView(_.extend({\n                    currentPage: this.page,\n                    totalPages: Math.ceil(this.collection.totalRecordsFound / this.collection.recordsPerPage),\n                    pager: this.pager\n                }, Configuration.defaultPaginationSettings));\n            },\n            'GlobalViews.ShowCurrentPage': function () {\n                return new GlobalViewsShowingCurrentView({\n                    current_page: this.page,\n                    items_per_page: this.collection.recordsPerPage,\n                    total_items: this.collection.totalRecordsFound,\n                    total_pages: Math.ceil(this.collection.totalRecordsFound / this.collection.recordsPerPage),\n                    extraClass: 'pull-right'\n                });\n            }\n        }    // @method getContext @returns {ListHeader.View.Context}\n,\n        getContext: function () {\n            var self = this, hideHeaderExpandable = _.isFunction(this.hideFilterExpandable) ? this.hideFilterExpandable() : this.hideFilterExpandable, selected_filter, selected_sort;\n            if (this.selectedFilter) {\n                selected_filter = _.isFunction(this.selectedFilter.value) ? this.selectedFilter.value.apply(this.view) : this.selectedFilter.value;\n            }\n            if (this.selectedSort) {\n                selected_sort = this.selectedSort.value;\n            }\n            _.each(this.displays, function (display) {\n                display.url = _(self.displayer(display.id)).fixUrl();\n                display.activeClassName = self.selectedDisplay.id === display.id ? 'active' : '';\n            });\n            _.each(this.filters, function (filter) {\n                var item_value = _.isFunction(filter.value) ? filter.value.apply(self.view) : filter.value;\n                filter.cssClassName = filter.className || '';\n                filter.itemValue = item_value;\n                filter.selected = selected_filter === item_value ? true : false;\n            });\n            _.each(this.sorts, function (sort) {\n                sort.selected = selected_sort === sort.value ? true : false;\n            });\n            // @class ListHeader.View.Context\n            return {\n                // @property {Boolean} showHeader\n                showHeader: !!(this.displays || this.rangeFilter || this.filters || this.collection.length)    // @property {String} headerMarkup\n,\n                headerMarkup: _.isFunction(this.headerMarkup) ? this.headerMarkup() : this.headerMarkup,\n                classes: this.classes || ''    // @property {Boolean} showHeaderExpandable\n,\n                showHeaderExpandable: !hideHeaderExpandable    // @property {Array} displays\n,\n                displays: this.displays,\n                rangeFilter: this.rangeFilter,\n                selectedRangeFrom: this.selectedRange && this.selectedRange.from,\n                rangeFilterLabel: _.isUndefined(this.rangeFilterLabel) ? _('From').translate() : _(this.rangeFilterLabel).translate()    // @property {String} rangeFilterFromMin\n,\n                rangeFilterFromMin: this.rangeFilterOptions.fromMin || ''    // @property {String} rangeFilterFromMax\n,\n                rangeFilterFromMax: this.rangeFilterOptions.fromMax || ''    // @property {Number} selectedRangeTo\n,\n                selectedRangeTo: this.selectedRange && this.selectedRange.to,\n                rangeFilterToMin: this.rangeFilterOptions.toMin || ''    // @property {String} rangeFilterToMax\n,\n                rangeFilterToMax: this.rangeFilterOptions.toMax || ''    // @property {Array} filters\n,\n                filters: this.filters,\n                sorts: this.sorts,\n                sortIconUp: this.order > 0 ? 'listheader-filter-sortorder-arrow-selected' : ''    // @property {String} sortIconDown\n,\n                sortIconDown: this.order < 0 ? 'listheader-filter-sortorder-arrow-selected' : ''    // @property {Boolean} showSelectAll\n,\n                showSelectAll: this.selectable && this.collection.length > 1    // @property {Number} unselectedLength\n,\n                unselectedLength: this.getUnselectedLength()    // @property {Number} collectionLength\n,\n                collectionLength: this.getCollectionLength()    // @property {Boolean} showPagination\n,\n                showPagination: !this.options.hidePagination ? !!(this.collection.totalRecordsFound && this.collection.recordsPerPage) : false    // @property {Boolean} showCurrentPage\n,\n                showCurrentPage: !!this.options.showCurrentPage,\n                initiallyCollapsed: _.isPhoneDevice() || _.isTabletDevice() ? 'collapse' : ''\n            };    // @class ListHeader.View\n        }    // @method toggleFilters\n,\n        toggleFilters: function (e) {\n            e.preventDefault();\n            var current_target = jQuery(e.currentTarget), filter_icon = current_target.find('.filter-icon'), is_expanded = ListHeader.getPersistedState(this.expandedStatePath, false);\n            is_expanded ? filter_icon.addClass('icon-chevron-down').removeClass('icon-chevron-up') : filter_icon.removeClass('icon-chevron-down').addClass('icon-chevron-up');\n            ListHeader.setPersistedState(this.expandedStatePath, !is_expanded);\n            current_target.parents('[data-type=\"accordion\"]').toggleClass('well').toggleClass('facet-header-white-well').find('[data-type=\"accordion-body\"]').stop().slideToggle().removeClass('collapse');\n        }    // @method clearRangeValue\n,\n        clearRangeValue: function (e) {\n            var input = jQuery(e.currentTarget).parent().find('[data-action=\"range-filter\"]');\n            input.val('');\n            this.rangeFilterHandler();\n        }    // @method getExpanded\n,\n        getExpanded: function () {\n            return ListHeader.getPersistedState(this.expandedStatePath, false);\n        }    //@method getInitialDateRange\n             //@param  {String} url_range\n             //@returns {from:string,to:string} the initial date range to apply\n,\n        getInitialDateRange: function (url_range) {\n            if (this.rangeFilter) {\n                var date_range_fromUrl = this.getRangeFromUrl(url_range);\n                if (date_range_fromUrl.from || date_range_fromUrl.to) {\n                    // By doing this, I can be sure I'm not entering out of range values in the filter input fields.\n                    // However, if invalid values are entered, they are not considered for filtering.\n                    this.validateDateRange(date_range_fromUrl);\n                    return date_range_fromUrl;\n                } else {\n                    var quantityDays = this.notUseDefaultDateRange ? this.quantityDaysRange : this.application.getConfig('listHeader.filterRangeQuantityDays');\n                    if (quantityDays) {\n                        var from = new Date(), to = new Date();\n                        from.setDate(from.getDate() - quantityDays);\n                        return {\n                            from: _.dateToString(from),\n                            to: _.dateToString(to)\n                        };\n                    }\n                }\n            }\n        }    // @method getUnselectedLength @returns {Number}the number of unselected items\n,\n        getUnselectedLength: function () {\n            return this.collection.filter(function (record) {\n                return !record.get('checked');\n            }).length;\n        }    // @method getCollectionLength @returns {Number} the length of the current collection. This is a function so it can be overriden be any client of the list header\n,\n        getCollectionLength: function () {\n            return this.collection.length;\n        }    // @method setSelecteds set the selected rows from url information\n,\n        setSelecteds: function () {\n            var url_options = _.parseUrlOptions(Backbone.history.fragment);\n            this.selectedFilter = this.getFilterFromUrl(url_options.filter);\n            this.selectedRange = this.getInitialDateRange(url_options.range) || {};\n            this.selectedSort = this.getSortFromUrl(url_options.sort);\n            this.order = this.getOrderFromUrl(url_options.order);\n            this.page = this.getPageFromUrl(url_options.page);\n            this.selectedDisplay = this.getDisplayFromUrl(url_options.display);\n        }    // when rendering we need to check\n             // if there are options already set up in the url\n,\n        render: function () {\n            // if there are no items in the collection, avoid rendering the list header\n            if (this.totalCount === 0) {\n                return;\n            }\n            if (!this.selectedFilter && !this.selectedSort && !this.order && !this.selectedRange && !this.selectedDisplay) {\n                this.setSelecteds();\n                // after we set the current status\n                // we update the collection\n                if (!this.avoidFirstFetch) {\n                    this.updateCollection();\n                }\n            }\n            this._render();\n            this.updateCalendarButtons();\n            if (this.options.customFilterHandler) {\n                this.options.customFilterHandler(this.selectedFilter, this.getElementSort());\n            }\n        }    // @method updateCollection\n             // the collection used by the view MUST have an update method\n             // this method is going to be called whenever a sort/filter value changes\n             // @return {ListHeader.View} Returns itself\n,\n        updateCollection: function () {\n            var range = null, collection = this.collection;\n            if (this.selectedRange) {\n                //@class RangeFilter\n                //If there is no date selected i keep the range empty in order to get \"transactions\" dated in the future\n                range = {\n                    //@property {String} from\n                    from: this.selectedRange.from || (this.allowEmptyBoundaries ? '' : this.rangeFilterOptions.fromMin)    //@property {String} to\n,\n                    to: this.selectedRange.to || (this.allowEmptyBoundaries ? '' : this.rangeFilterOptions.toMax)\n                };\n            }\n            //@lass Collection.Filter\n            collection.update && collection.update({\n                //@property {value:String} filter\n                filter: this.selectedFilter,\n                range: range    //@property {value:String} sort\n,\n                sort: this.selectedSort,\n                order: this.order,\n                page: this.page,\n                killerId: AjaxRequestsKiller.getKillerId()\n            }, this);\n            //@class ListHeader.View\n            return this;\n        }    // @method getFilter @param {String} value @returns {Object} a specific filter\n,\n        getFilter: function (value) {\n            return _(this.filters).find(function (filter) {\n                return _.isFunction(filter.value) ? filter.value.apply(this.view) === value : filter.value === value;\n            }, this);\n        }    // @method getSort @param {String} value @returns {Object} returns a specific sort\n,\n        getSort: function (value) {\n            return _.findWhere(this.sorts, { value: value });\n        }    // @metod getElementSort @returns {object} returns specific element from view\n,\n        getElementSort: function () {\n            return this.$('select[name=sort]');\n        }    // @method getDisplay @param {String} value @returns {Object} a specific display\n,\n        getDisplay: function (value) {\n            return _.findWhere(this.displays, { id: value });\n        }    // @method getFilterFromUrl @param {String} url_value @returns {Object} the selected filter from the url\n             // or the default filter if no value set up\n,\n        getFilterFromUrl: function (url_value) {\n            return this.getFilter(url_value) || this.getDefaultFilter();\n        }    // @method getRangeFromUrl @param {String} url_value @returns {from:String,to:String}\n,\n        getRangeFromUrl: function (url_value) {\n            var split = url_value ? url_value.split('to') : [];\n            return {\n                from: split[0],\n                to: split[1]\n            };\n        }    // @method getSortFromUrl @param {String} url_value @returns the selected sort from the url\n             // or the default sort if no value set up\n,\n        getSortFromUrl: function (url_value) {\n            return this.getSort(url_value) || this.getDefaultSort();\n        }    // @method getOrderFromUrl @param {String} url_value @returns the selected order from the url\n             // this could be inverse or nothing\n,\n        getOrderFromUrl: function (url_value) {\n            return url_value === 'inverse' ? -1 : 1;\n        }    // @method getDisplayFromUrl Retrieve current selected display option or 'list' by default @param {String} url_value @returns {String}\n,\n        getDisplayFromUrl: function (url_value) {\n            return this.getDisplay(url_value) || this.getDefaultDisplay();\n        }    // @method getPageFromUrl @param {String} url_value @returns {Number}\n,\n        getPageFromUrl: function (url_value) {\n            var page_number = parseInt(url_value, 10);\n            return !isNaN(page_number) && page_number > 0 ? page_number : 1;\n        }    // @method pager @param {String} url_value @returns {String}\n,\n        pager: function (url_value) {\n            var page_number = parseInt(url_value, 10), url = Backbone.history.fragment;\n            return isNaN(page_number) || page_number === 1 ? _.removeUrlParameter(url, 'page') : _.setUrlParameter(url, 'page', page_number);\n        }    // @method displayer @param {String} display_option @returns {String}\n,\n        displayer: function (display_option) {\n            var url = Backbone.history.fragment;\n            return display_option === this.getDefaultDisplay().id ? _.removeUrlParameter(url, 'display') : _.setUrlParameter(url, 'display', display_option);\n        }    // @method getDefaultFilter if there's already a default filter, return that\n             // otherwise find the one selected on the filter list @return {String}\n,\n        getDefaultFilter: function () {\n            return this.defaultFilter || (this.defaultFilter = _.findWhere(this.filters, { selected: true }) || _.first(this.filters));\n        }    // @method getDefaultSort if there's already a default sort, return that\n             // otherwise find the one selected on the sort list @return {String}\n,\n        getDefaultSort: function () {\n            return this.defaultSort || (this.defaultSort = _.findWhere(this.sorts, { selected: true }) || _.first(this.sorts));\n        }    // @method getDefaultDisplay\n,\n        getDefaultDisplay: function () {\n            return this.defaultDisplay || (this.defaultDisplay = _.findWhere(this.displays, { selected: true }) || _.first(this.displays));\n        }    // @method isDefaultFilter @returns {Boolean}\n,\n        isDefaultFilter: function (filter) {\n            return this.getDefaultFilter() === filter;\n        }    // @method isDefaultSort @returns {Boolean}\n,\n        isDefaultSort: function (sort) {\n            return this.getDefaultSort() === sort;\n        }    // @method isDefaultDisplay @returns {Boolean}\n,\n        isDefaultDisplay: function (display) {\n            return this.getDefaultDisplay() === display;\n        }    // @method filterHandler method called when dom dropdown change\n,\n        filterHandler: function (e) {\n            // unselect all elements\n            this.unselectAll({ silent: true });\n            // sets the selected filter\n            this.selectedFilter = this.getFilter(e.target.value);\n            // updates the url and the collection\n            this.updateUrl();\n        }    // @method sortHandler method called when dom dropdown change\n,\n        sortHandler: function (e) {\n            // sets the selected sort\n            this.selectedSort = this.getSort(e.target.value);\n            // updates the url and the collection\n            this.updateUrl();\n        }    // @method toggleSortHandler method called when dom button clicked\n,\n        toggleSortHandler: function (e) {\n            if (e) {\n                e.preventDefault();\n            }\n            // toggles the selected order\n            this.order *= -1;\n            // updates the url and the collection\n            this.updateUrl();\n        }    // @method selectAll selects all in collection\n,\n        selectAll: function () {\n            if ('selectAll' in this.view) {\n                this.view.selectAll();\n            }\n            return this;\n        }    // @method unselectAll unselects in collection\n,\n        unselectAll: function (options) {\n            if ('unselectAll' in this.view) {\n                this.view.unselectAll(options);\n            }\n            return this;\n        }    // @method rangeFilterBlur\n,\n        rangeFilterBlur: function () {\n            this.clearRangeFilterTimeout();\n            this.rangeFilterTimeout = setTimeout(_.bind(this.rangeFilterHandler, this), 1000);\n        }    // @method clearRangeFilterTimeout\n,\n        clearRangeFilterTimeout: function () {\n            if (this.rangeFilterTimeout) {\n                clearTimeout(this.rangeFilterTimeout);\n                this.rangeFilterTimeout = null;\n            }\n        }    // @method rangeFilterHandler\n,\n        rangeFilterHandler: function () {\n            var selected_range = this.selectedRange, $ranges = this.$('[data-action=\"range-filter\"]');\n            $ranges.each(function () {\n                if (this.value) {\n                    selected_range[this.name] = this.value;\n                } else {\n                    delete selected_range[this.name];\n                }\n            });\n            if (this.validateDateRange(selected_range)) {\n                // updates the url and the collection\n                this.updateUrl();\n            } else {\n                this.showError(this.application.getErrorMessage('invalidDateFormat'));\n            }\n            return this;\n        }    // @method validateDateRange Indicate if a certain range is valid or not\n             // @param {} selected_range\n             // @return {Boolean} If the selected range if valid or not\n,\n        validateDateRange: function (selected_range) {\n            var options = this.rangeFilterOptions, is_valid = true, to = new Date(selected_range.to), from = new Date(selected_range.from), toMin = new Date(options.toMin), toMax = new Date(options.toMax), fromMin = new Date(options.fromMin), fromMax = new Date(options.fromMax), validateRange = {};\n            if (options.toMin && _.isDateValid(toMin) && _.isDateValid(to) && to.getTime() < toMin.getTime()) {\n                validateRange.to = options.toMin;\n            } else if (!selected_range.to || options.toMax && _.isDateValid(toMax) && _.isDateValid(to) && to.getTime() > toMax.getTime()) {\n                validateRange.to = options.toMax;\n            }\n            if (!selected_range.from || options.fromMin && _.isDateValid(fromMin) && _.isDateValid(from) && from.getTime() < fromMin.getTime()) {\n                validateRange.from = options.fromMin;\n            } else if (options.fromMax && _.isDateValid(fromMax) && _.isDateValid(from) && from.getTime() > fromMax.getTime()) {\n                validateRange.from = options.fromMax;\n            }\n            if (validateRange.to && !_.isDateValid(_.stringToDate(validateRange.to))) {\n                is_valid = false;\n                delete selected_range.to;\n            }\n            if (validateRange.from && !_.isDateValid(_.stringToDate(validateRange.from))) {\n                is_valid = false;\n                delete selected_range.from;\n            }\n            return is_valid;\n        }    // @method updateUrl Updates the URL with the new applied filters\n             // @return {ListHeader.View} Return itself\n,\n        updateUrl: function () {\n            var url = Backbone.history.fragment;\n            // if the selected filter is the default one\n            //   remove the filter parameter\n            // else change it for the selected value\n            url = this.isDefaultFilter(this.selectedFilter) ? _.removeUrlParameter(url, 'filter') : _.setUrlParameter(url, 'filter', _.isFunction(this.selectedFilter.value) ? this.selectedFilter.value.apply(this.view) : this.selectedFilter.value);\n            // if the selected sort is the default one\n            //   remove the sort parameter\n            // else change it for the selected value\n            url = this.isDefaultSort(this.selectedSort) ? _.removeUrlParameter(url, 'sort') : _.setUrlParameter(url, 'sort', this.selectedSort.value);\n            // if the selected order is the default one\n            //   remove the order parameter\n            // else change it for the selected value\n            url = this.order === 1 ? _.removeUrlParameter(url, 'order') : _.setUrlParameter(url, 'order', 'inverse');\n            // if range from and range to are set up\n            //   change them in the url\n            // else remove the parameter\n            if (this.selectedRange) {\n                url = this.selectedRange.from || this.selectedRange.to ? _.setUrlParameter(url, 'range', (this.selectedRange.from || '') + 'to' + (this.selectedRange.to || '')) : _.removeUrlParameter(url, 'range');\n            }\n            url = _.removeUrlParameter(url, 'page');\n            this.page = 1;\n            // just go there already, but warn no one\n            Backbone.history.navigate(url, { trigger: false });\n            return this.updateCollection();\n        }    // @method updateCalendarButtons\n             // @return {Void}\n,\n        updateCalendarButtons: function () {\n            var $ranges = this.$('[data-action=\"range-filter\"]');\n            $ranges.each(function () {\n                var parent = jQuery(this).parent(), calendar_icon = parent.find('.list-header-view-accordion-body-calendar-icon'), clear_button = parent.find('.list-header-view-accordion-body-clear');\n                if (this.value) {\n                    calendar_icon.hide();\n                    clear_button.show();\n                } else {\n                    calendar_icon.show();\n                    clear_button.hide();\n                }\n            });\n        }\n    });\n    //class methods (static)\n    ListHeader = _.extend(ListHeader, {\n        // @method setPersistedState Allow save STATICALY any value to be shared by all ListHeader instances\n        // @param {String} path @param {String} value @static\n        setPersistedState: function (path, value) {\n            return _.setPathFromObject(this.state = this.state || {}, path, value);\n        }    // @method getPersistedState Allow get STATICALY any value to be shared by all ListHeader instances\n             // @param {String} path @param {String} default_value @static\n,\n        getPersistedState: function (path, default_value) {\n            return _.getPathFromObject(this.state = this.state || {}, path, default_value);\n        }\n    });\n    return ListHeader;\n});    //@class ListHeader.View.initialize.Options\n       //@property {Backbone.View} view\n       //@property {Boolean} avoidFirstFetch True only if the module using list header is the one responsible of fetching the collection for the first time (optional)\n       //@property {Number} totalCount\n       //@class ListHeader.View.FilterOption\n       //@property {String} value\n       //@property {String} name\n       //@property {Boolean} selected\n       //@class ListHeader.View.SortOption\n       //@property {String} value\n       //@property {String} name\n       //@property {Boolean} selected\n","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n/*\n@module BackboneExtras\n#Backbone.CachedModel - cachedSync\nadds the functionality to Backbone to support backbone models&collections cached\nin memory - it will load from memory the second fetch() will return results from memory the next time a model is fetched.\nBackbone.CachedModel and Backbone.CachedCollection classes can be extended and they use the core method\nBackbone.cachedSync, instead the normal Backbone.sync.\n*/\ndefine('Backbone.CachedSync', [\n    'Backbone',\n    'underscore',\n    'jQuery'\n], function (Backbone, _, jQuery) {\n    'use strict';\n    // @module Backbone @class Backbone\n    // @property {Object<String,jQuery.Deferred>} localCache The cache is an object where keys are a request identifier and values are a the result of the request and some metadata. @static\n    Backbone.localCache = {};\n    // @property {Number} cacheSize We will cap the size of the cache by an arbitratry number, fell free to change it to meet your needs.\n    Backbone.cacheSize = 100;\n    // Removes the oldest requests once the limit is reached\n    function evictRecords() {\n        var keys = _.keys(Backbone.localCache), cache_size = keys.length;\n        if (cache_size > Backbone.cacheSize) {\n            delete Backbone.localCache[keys[0]];\n        }\n    }\n    // @method cachedSync\n    // This method is the base for implementing backbone model caching in memory. Adds a cache\n    // layer to all read requests, but leaves all write actions unmodified. Can be used\n    // interchangeably with Backbone.sync (has the same API), it will retun a jQuery promise once\n    // it's done will call the apropiate function\n    // @return {jQuery.Deferred} Generates a new deferred for every new sync, no matter if its\n    // or not in the cache. This promise is / already-was resolved with the ajax call.\n    Backbone.cachedSync = function (action, self, options) {\n        if (action === 'read') {\n            // Generates an uninque url that will be used as the request identifier\n            var url = _.result(this, 'url');\n            if (options && options.data) {\n                url += (~url.indexOf('?') ? '&' : '?') + jQuery.param(options.data);\n            }\n            var deferred = jQuery.Deferred();\n            // jQuery.ajax maps error to fail and success to done\n            deferred.error = deferred.fail;\n            deferred.success = deferred.done;\n            // Now we make sure the success and error options are called\n            deferred.success(options.success);\n            deferred.error(options.error);\n            // We then delete them from the options that will be passed to the real call so they are not called twice, for the 1st request\n            delete options.success;\n            delete options.error;\n            // Force ajaxSetup cache to be true and not append a &_={timestamp} to the end of the URL\n            options.cache = true;\n            // Now we get the actual request from the cache or we perform it\n            Backbone.localCache[url] = Backbone.localCache[url] || Backbone.sync.apply(this, arguments);\n            // Now we resolve the Deferred by listeinig to the resolution of the real request\n            // if the request was already resolved our methods will be called imediatelly\n            Backbone.localCache[url].then(// Success Callback\n            function (response, status, jqXhr) {\n                // Sometimes parse modifies the responce object (that is passed by reference)\n                response = jqXhr.responseText ? JSON.parse(jqXhr.responseText) : response;\n                // now we resolve the defered one with results\n                deferred.resolveWith(Backbone.localCache[url], [\n                    response,\n                    status,\n                    jqXhr\n                ]);\n                // This make sure the cache is keept short\n                evictRecords();\n            }    // Error Callback\n, function () {\n                // if it fails we make sure the next time its requested, dont read from cache\n                delete Backbone.localCache[url];\n                deferred.rejectWith(Backbone.localCache[url], arguments);\n            }    // Progess Callback\n, function () {\n                deferred.notifyWith(Backbone.localCache[url], arguments);\n            });\n            // Then we just return the defered\n            return deferred;    // Bottom line: we are piping a fake ajax deferred from the original one\n        }\n        // if cache is not present we just call the original Backbone.sync\n        return Backbone.sync.apply(this, arguments);\n    };\n    // @module BackboneExtras\n    // @class Backbone.CachedModel @method addToCache @param data @param {Object} params\n    // @class Backbone.CachedCollection @method addToCache @param data @param {Object} params\n    function addToCache(data, params) {\n        /*jshint validthis:true*/\n        // Generates an uninque url that will be used as the request identifier\n        var url = _.result(this, 'url');\n        url += (~url.indexOf('?') ? '&' : '?') + jQuery.param(params || {});\n        // This defered will be used as a fake Ajax Request we are gonna store in the cache\n        var deferred = jQuery.Deferred();\n        // We resolve the defered with the data you sent and some fake ajax info\n        deferred.resolveWith(this, [\n            data,\n            'success',\n            {\n                response: data,\n                status: 'success',\n                statusCode: '200',\n                readyState: 4,\n                statusText: 'OK',\n                responseText: false    // So it will use response instead of responseText\n            }\n        ]);\n        // Stores this fake promice in the cache\n        Backbone.localCache[url] = deferred;\n    }\n    // @class Backbone.CachedModel @method isCached @param {Object} params @return {Boolean}\n    // @class Backbone.CachedCollection @method isCached @param {Object} params @return {Boolean}\n    function isCached(params) {\n        /*jshint validthis:true*/\n        // Generates an uninque url that will be used as the request identifier\n        var url = _.result(this, 'url');\n        if (params) {\n            url += (~url.indexOf('?') ? '&' : '?') + jQuery.param(params);\n        }\n        return !!Backbone.localCache[url];\n    }\n    return {\n        cachedSync: Backbone.cachedSync,\n        addToCache: addToCache,\n        isCached: isCached\n    };\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n/*\n@module BackboneExtras\nIt adds the Backbome.CachedModel class. \n@class Backbone.CachedModel \nIt is a Backbone.Model that will return results from memory the second time you call fetch(). It's \njust an extension of the original Backbone.Model but it uses the Backbone.cachedSync.\n@extends Backbone.Model\n*/\ndefine('Backbone.CachedModel', [\n    'Backbone.CachedSync',\n    'Backbone'\n], function (BackboneCachedSync, Backbone) {\n    'use strict';\n    Backbone.CachedModel = Backbone.Model.extend({\n        sync: BackboneCachedSync.cachedSync,\n        addToCache: BackboneCachedSync.addToCache,\n        isCached: BackboneCachedSync.isCached\n    });\n    return Backbone.CachedModel;\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//! © 2015 NetSuite Inc.\n// Session.js\n// -------------\n//\ndefine('Session', [\n    'underscore',\n    'Utils'\n], function (_) {\n    'use strict';\n    return {\n        get: function (path, default_value) {\n            var session_info = SC && SC.getSessionInfo && SC.getSessionInfo() || {};\n            return _.getPathFromObject(session_info, path, default_value);\n        },\n        set: function (path, value) {\n            var session_info = SC && SC.getSessionInfo && SC.getSessionInfo() || {};\n            session_info[path] = value;\n        },\n        getSearchApiParams: function () {\n            var search_api_params = {}, locale = this.get('language.locale', ''), language = '', country = '', currency = this.get('currency.code', '') ? this.get('currency.code', '') : this.get('currency', '');\n            if (~locale.indexOf('_')) {\n                var locale_tokens = locale.split('_');\n                language = locale_tokens[0];\n                country = locale_tokens[1];\n            } else {\n                language = locale;\n            }\n            //SET API PARAMS\n            if (language) {\n                search_api_params.language = language;\n            }\n            if (country) {\n                search_api_params.country = country;\n            }\n            // Currency\n            if (currency) {\n                search_api_params.currency = currency;\n            }\n            // Price Level\n            search_api_params.pricelevel = this.get('priceLevel', '');\n            // No cache\n            if (_.parseUrlOptions(location.search).nocache === 'T') {\n                search_api_params.nocache = 'T';\n            }\n            return search_api_params;\n        }\n    };\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n/*\n@module Item\n\nItem related models, like Item.Model, override its get() method to support high level item semantics defined here.\nFor example, attributes like '_url', '_name', '_images' are calculated taking into account matrix options, item type, etc.\n\nSince this holds the mapping definition of whats returned by the search api / Commerce api for items and this semantics\nis used across all the applications it is a good place to extenders to add its own high level item semantics or even\noverride existing ones.\n\nFor example, people may want to set that the name of the items are store in a custom item field instead of the display name field,\nthen you just change the mapping here instead of looking for that attribute in all templates and js files.\n\n*/\ndefine('Item.KeyMapping', [\n    'underscore',\n    'Utils',\n    'UrlHelper'\n], function (_, Utils) {\n    'use strict';\n    function getKeyMapping(configuration) {\n        /*\n\t\t@class ItemsKeyMapping can be used by Backbone Model to add high level semantic attributes defined here.\n\t\tFor example, @?class Item.Model override its get() method to support these attributes. So for example\n\t\titem.get('_name') will return the _name semantics in property defined here.\n\n\t\tIf the property value is a string then that attribute will be used. If the value is a function, then the\n\t\tfunction is evaluated passing the item model as first argument.\n\t\t*/\n        return {\n            // @property {String} _id Item Internal Id: used as a fallback to the URL and to add to cart\n            // You should not need to change this tho\n            _id: 'internalid'    // @property {String} _sku Item SKU number\n,\n            _sku: function (item) {\n                return item.get('itemid') || '';\n            }    // @property {String} _name Name of the item, some times displayname is empty but storedisplayname2 tends to be set always\n,\n            _name: function (item) {\n                // If its a matrix child it will use the name of the parent\n                var item_id = item.get('itemid') || '';\n                var parent = item.get('_matrixParent');\n                if (parent.get('internalid')) {\n                    //we need the displayname included in the itemdid, see #B-11868\n                    var matches = item_id.match(/:(.*)/);\n                    var child_name = matches && matches[1];\n                    return child_name || parent.get('storedisplayname2') || parent.get('displayname') || item_id;\n                }\n                // Otherwise return its own name\n                return item.get('storedisplayname2') || item.get('displayname') || item_id;\n            }    // @property {String} _pageTitle Page Title of the PDP\n,\n            _pageTitle: [\n                'pagetitle',\n                'storedisplayname2',\n                'displayname'\n            ]    // @property {String}  _pageHeader h1 of the PDP and also the title of the modal\n,\n            _pageHeader: [\n                'storedisplayname2',\n                'displayname'\n            ]    // @property {String}  _keywords\n,\n            _keywords: 'searchkeywords'    // @property {String} _metaTags\n,\n            _metaTags: 'metataghtml'    // @method _breadcrumb This returns the breadcrum json obj for the PDP\n                             // @property {Item.Model} item Model of a specific item\n                             // @return {Array<Object>} breadcrumb An array of objects containing breadcrumb info\n,\n            _breadcrumb: function (item) {\n                var breadcrumb = [], commercecategory = item.get('commercecategory');\n                if (commercecategory && commercecategory.primarypath && commercecategory.primarypath.length) {\n                    var primarypath = _.sortBy(commercecategory.primarypath, function (path) {\n                        return path.urls[0];\n                    });\n                    _.each(primarypath, function (path) {\n                        breadcrumb.push({\n                            href: path.urls[0],\n                            text: path.name\n                        });\n                    });\n                }\n                breadcrumb.push({\n                    href: item.get('_url'),\n                    text: item.get('_name')\n                });\n                return breadcrumb;\n            }    // @property {String} _url Url of the item\n,\n            _url: function (item) {\n                var matrixParent = item.get('_matrixParent');\n                // If this item is a child of a matrix return the URL of the parent\n                if (!_.isEmpty(matrixParent) && matrixParent.get('internalid')) {\n                    return item.get('_matrixParent').get('_url');\n                }    // if its a standard version we need to send it to the canonical URL\n                else if (SC.ENVIRONMENT.siteType && SC.ENVIRONMENT.siteType === 'STANDARD') {\n                    return item.get('canonicalurl');\n                }\n                // Other ways it will use the URL component or a default /product/ID\n                return item.get('urlcomponent') ? '/' + item.get('urlcomponent') : '/product/' + item.get('internalid');\n            }    // @property {String} _thumbnail Object containing the url and the altimagetext of the thumbnail\n,\n            _thumbnail: function (item) {\n                var item_images_detail = item.get('itemimages_detail') || {};\n                // If you generate a thumbnail position in the itemimages_detail it will be used\n                if (item_images_detail.thumbnail) {\n                    if (_.isArray(item_images_detail.thumbnail.urls) && item_images_detail.thumbnail.urls.length) {\n                        return item_images_detail.thumbnail.urls[0];\n                    }\n                    return item_images_detail.thumbnail;\n                }\n                // otherwise it will try to use the storedisplaythumbnail\n                if (SC.ENVIRONMENT.siteType && SC.ENVIRONMENT.siteType === 'STANDARD' && item.get('storedisplaythumbnail')) {\n                    return {\n                        url: item.get('storedisplaythumbnail'),\n                        altimagetext: item.get('_name')\n                    };\n                }\n                // No images huh? carry on\n                var parent_item = item.get('_matrixParent');\n                // If the item is a matrix child, it will return the thumbnail of the parent\n                if (parent_item && parent_item.get('internalid')) {\n                    return parent_item.get('_thumbnail');\n                }\n                var images = Utils.imageFlatten(item_images_detail);\n                // If you using the advance images features it will grab the 1st one\n                if (images.length) {\n                    return images[0];\n                }\n                // still nothing? image the not available\n                return {\n                    url: Utils.getThemeAbsoluteUrlOfNonManagedResources('img/no_image_available.jpeg', configuration.get('imageNotAvailable')),\n                    altimagetext: item.get('_name')\n                };\n            }    // @property {Array} _images Array of objects containing the URL and the altimagetext of the images of the item\n,\n            _images: function (item) {\n                var result = [], item_images_detail = item.get('itemimages_detail') || {};\n                item_images_detail = item_images_detail.media || item_images_detail;\n                result = Utils.imageFlatten(item_images_detail);\n                return result.length ? result : [{\n                        url: Utils.getThemeAbsoluteUrlOfNonManagedResources('img/no_image_available.jpeg', configuration.get('imageNotAvailable')),\n                        altimagetext: item.get('_name')\n                    }];\n            }    // @property _matrixParent For matrix child items in the cart we generate this position so we have a link to the parent\n,\n            _matrixParent: 'matrix_parent'    // @property _matrixChilds For matrix parent items, where are the attributes of the children\n,\n            _matrixChilds: 'matrixchilditems_detail'    // @property  _optionsDetailsThe definition of the options of items with options\n,\n            _optionsDetails: 'itemoptions_detail'    // @property _relatedItems Related items\n,\n            _relatedItems: 'related_items'    // @property _relatedItemsDetail _relatedItemsDetail Related items in the PDP.\n,\n            _relatedItemsDetail: 'relateditems_detail'    // @property _correlatedItemsDetail Correlated (Up-sell) items in the PDP.\n,\n            _correlatedItemsDetail: 'correlateditems_detail'    // @property _priceDetails Item price information. This property returned by the Search API defines the type class OnlineCustomerPriceDetail\n                                        //@class OnlineCustomerPriceDetail\n                                        //@property {Number} onlinecustomerprice This is the default price of the item. IMPORTANT: This value take into account the item already present in the cart.\n                                        //So if you have defined quantity pricing, this property wont show the price for quantity 1 but rather for the quantity already present in the cart. (Tested for NO matrix item)\n                                        //@property {String} onlinecustomerprice_formatted This property shows the value of the property onlinecustomerprice formatted with the current currency\n                                        //@property {Array<OnlineCustomerPriceDetail.PriceSchedule>?} priceschedule List of prices present when the item has quantity prices configured.\n                                        //@class OnlineCustomerPriceDetail.PriceSchedule Class that indicate for a quantity range the price of an item\n                                        //@property {Number} maximumquantity Maximum quantity inside of the current range\n                                        //@property {Number} minimumquantity Minimum quantity inside of the current range\n                                        //@property {Number} price Price corresponding to the item when the specified quantity is in the range specified for the current class\n                                        //@property {String} @property {Number} price Price property formatted based on the current currency\n                                        //@class ItemsKeyMapping\n,\n            _priceDetails: 'onlinecustomerprice_detail'    // @property {String} _price\n,\n            _price: function (item) {\n                return item.get('onlinecustomerprice_detail') && item.get('onlinecustomerprice_detail').onlinecustomerprice || '';\n            }    // @property {String} _price_formatted\n,\n            _price_formatted: function (item) {\n                return item.get('onlinecustomerprice_detail') && item.get('onlinecustomerprice_detail').onlinecustomerprice_formatted || '';\n            }    // @property {Number} _comparePriceAgainst Returns the default price of the passed in item assuming quantity minimum quantity. This method check if quantity pricing is configured.\n,\n            _comparePriceAgainst: function (item) {\n                //var prices = item.get('_priceDetails');\n                var prices = item.get('pricelevel10');\n                if (prices) {\n                    //The priceschedule is the array containing the quantity range and the price\n                    if (prices.priceschedule) {\n                        //The index 0 will be the case when the quantity is greater than 0 and lower than prices.priceschedule[0].maximumquantity\n                        //return prices.priceschedule[0].price;\n                        return item.get('pricelevel10');\n                    } else {\n                        //return prices.onlinecustomerprice;\n                        return item.get('pricelevel10');\n                    }\n                } else {\n                    //This is the default price, equivalent to onlinecustomerprice but without taking into account the amount of items into the cart\n                    //This value returns the 'Base Price'\n                    //return item.get('pricelevel1');\n                    return item.get('pricelevel10');\n                }\n            }    // @property {String} _comparePriceAgainstFormated This method a formatted version of the method _comparePriceAgainst\n,\n            _comparePriceAgainstFormated: function (item) {\n                //var prices = item.get('_priceDetails');\n                var prices = item.get('pricelevel10_formatted');\n                if (prices) {\n                    if (prices.priceschedule) {\n                        //return prices.priceschedule[0].price_formatted;\n                        return item.get('pricelevel10_formatted');\n                    } else {\n                        //return prices.onlinecustomerprice_formatted;\n                        return item.get('pricelevel10_formatted');\n                    }\n                } else {\n                    //return item.get('pricelevel1_formatted');\n                    return item.get('pricelevel10_formatted');\n                }\n            }    // @property _itemType Item Type\n,\n            _itemType: 'itemtype'    // @property {Number} _stock The number of items you have available\n,\n            _stock: 'quantityavailable'    // @property {Number} _minimumQuantity\n,\n            _minimumQuantity: function (item) {\n                return item.get('minimumquantity') || 1;\n            }    // @property {Number} _maximumQuantity\n,\n            _maximumQuantity: function (item) {\n                return item.get('maximumquantity');\n            }    // @property {Boolean} _isReturnable\n,\n            _isReturnable: function (item) {\n                var type = item.get('itemtype');\n                return type === 'InvtPart' || type === 'NonInvtPart' || type === 'Kit';\n            }    // @property {Boolean} _isInStock\n,\n            _isInStock: 'isinstock'    // @property {Boolean} _isPurchasable\n,\n            _isPurchasable: 'ispurchasable'    // @property {Boolean} _isBackorderable\n,\n            _isBackorderable: 'isbackorderable'    // @property {Boolean} _showOutOfStockMessage\n,\n            _showOutOfStockMessage: 'showoutofstockmessage'    // @property {Boolean} _isfulfillable\n,\n            _isfulfillable: function (item) {\n                return item.get('isfulfillable') !== false;\n            }    // @property {Boolean} _showInStockMessage Show the IN STOCK label, this can be configured in a per item basis\n,\n            _showInStockMessage: function () {\n                return false;\n            }    // @property {Boolean} _showQuantityAvailable Show the quantity available for this item.\n,\n            _showQuantityAvailable: function () {\n                return true;\n            }    // @property {Boolean} _showStockDescription Should we show the stock description?\n,\n            _showStockDescription: function () {\n                return true;\n            }    // @property {String} _stockDescription Stock Description, some times used to display messages like New Arrival, Ships in 3 days or Refubrished\n,\n            _stockDescription: 'stockdescription'    // @property {String} _stockDescriptionClass Stock Description class, we use this to add a class to the HTML element containing the _stockDescription so you can easily style it.\n                                  // This implementation will strip spaces and other punctuations from the _stockDescription and prepends stock-description-\n                                  // so if your _stockDescription is 'Ships in 3 days' your _stockDescriptionClass will be stock-description-ships-in-3-days\n,\n            _stockDescriptionClass: function (item) {\n                return 'stock-description-' + (item.get('_stockDescription') || '').toLowerCase().replace(/[\\W\\\"]+/g, '-').replace(/\\-+/g, '-');\n            }    // @property {String} _outOfStockMessage What to write when the item is out of stock\n,\n            _outOfStockMessage: function (item) {\n                return item.get('outofstockmessage2') || item.get('outofstockmessage');\n            }    // @property {String} _inStockMessage What to write when the item is in stock\n,\n            _inStockMessage: function () {\n                return _('In Stock').translate();\n            }    // Reviews related item attributes\n                 // @property {Number} _rating Overall item rating\n,\n            _rating: function (item) {\n                return Math.round(item.get('custitem_ns_pr_rating') * 10) / 10 || 0;\n            }    // @property {Number} _ratingsCount How many times this item was reviewed\n,\n            _ratingsCount: function (item) {\n                return item.get('custitem_ns_pr_count') || 0;\n            }    // @property {Array<String>} _attributesToRateOn What are the possible attributes I want this item to be rated on\n,\n            _attributesToRateOn: function (item) {\n                var attributes = item.get('custitem_ns_pr_item_attributes') || '';\n                return _.reject(attributes.split(', '), function (attribute) {\n                    return !attribute || attribute === '&nbsp;';\n                });\n            }    // @property _attributesRating returns a object containing the average rating per attribute\n,\n            _attributesRating: function (item) {\n                return item.get('custitem_ns_pr_attributes_rating') && JSON.parse(item.get('custitem_ns_pr_attributes_rating')) || {};\n            }    // @property _ratingsCountsByRate returns an object containing how many reviews it the item has for each particular rating\n,\n            _ratingsCountsByRate: function (item) {\n                return item.get('custitem_ns_pr_rating_by_rate') && JSON.parse(item.get('custitem_ns_pr_rating_by_rate')) || {};\n            }    // @property {Boolean} _isstorepickupallowed\n,\n            _isstorepickupallowed: 'isstorepickupallowed'    // @property {Object} _quantityavailableforstorepickup_detail returns an object with stock information per location.\n,\n            _quantityavailableforstorepickup_detail: function (item) {\n                return item.get('quantityavailableforstorepickup_detail') && item.get('quantityavailableforstorepickup_detail').locations || [];\n            }\n        };\n    }\n    return { getKeyMapping: getKeyMapping };\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module ProductLine\ndefine('ProductLine.Option.Model', ['Backbone'], function (Backbone) {\n    'use strict';\n    //@class ProductLine.Option.Model Base model class used to manage the common parts of Product, Item and Transaction.Line options\n    //@extend Backbone.Model\n    return Backbone.Model.extend({\n        //@method toJSON Override default method to send just the require data to the back-end\n        //@return {ProductLine.Option.Model.JSON}\n        toJSON: function toJSON() {\n            //@class ProductLine.Option.Model.JSON\n            return {\n                //@property {String} cartOptionId\n                cartOptionId: this.get('cartOptionId')    //@property {String} itemOptionId\n,\n                itemOptionId: this.get('itemOptionId')    //@property {String} label\n,\n                label: this.get('label')    //@property {String} type\n,\n                type: this.get('type')    //@property {ProductLine.Option.Value?} value\n,\n                value: this.get('value')\n            };    //@class ProductLine.Option.Model\n        }\n    });\n});    //@class ProductLine.Option.Value\n       //@property {String} internalid\n       //@property {String} value\n","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module Item\ndefine('Item.Option.Model', ['ProductLine.Option.Model'], function (ProductLineOptionModel) {\n    'use strict';\n    //@class Item.Option.Model @extend ProductLine.Option.Model\n    return ProductLineOptionModel.extend({});\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module ProductLine\ndefine('ProductLine.Option.Collection', [\n    'ProductLine.Option.Model',\n    'Backbone'\n], function (ProductLineOptionModel, Backbone) {\n    'use strict';\n    //@class ProdctLine.Option.Collection Base collection class used to manage the common parts of Product, Item and Transaction.Line options\n    //@extend Backbone.Collection\n    return Backbone.Collection.extend({\n        //@property {ProdctLine.Option.Model}\n        model: ProductLineOptionModel\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module Item\ndefine('Item.Option.Collection', [\n    'Item.Option.Model',\n    'ProductLine.Option.Collection'\n], function (ItemOptionModel, ProductLineOptionCollection) {\n    'use strict';\n    //@class Item.Option.Collection @extend ProductLine.Option.Collection\n    return ProductLineOptionCollection.extend({\n        //@property {Item.Option.Model} model\n        model: ItemOptionModel\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module Address\ndefine('Address.Model', [\n    'underscore',\n    'Backbone',\n    'Utils'\n], function (_, Backbone) {\n    'use strict';\n    // @method isCompanyRequired\n    // Check if company field is mandatory.\n    function isCompanyRequired() {\n        return SC && SC.ENVIRONMENT && SC.ENVIRONMENT.siteSettings && SC.ENVIRONMENT.siteSettings.registration && SC.ENVIRONMENT.siteSettings.registration.companyfieldmandatory === 'T';\n    }\n    // @method isPhoneRequired\n    // Check if phone field is mandatory.\n    function isPhoneRequired() {\n        return SC && SC.CONFIGURATION && SC.CONFIGURATION.addresses && SC.CONFIGURATION.addresses.isPhoneMandatory;\n    }\n    // @class Address.Model @extend Backbone.Model\n    return Backbone.Model.extend({\n        // @property {String} urlRoot\n        urlRoot: 'services/Address.Service.ss'    //@property validation\n                                         // Backbone.Validation attribute used for validating the form before submit.\n,\n        validation: {\n            fullname: {\n                required: true,\n                msg: _('Full Name is required').translate()\n            },\n            addr1: {\n                required: true,\n                msg: _('Address is required').translate()\n            },\n            company: {\n                required: isCompanyRequired(),\n                msg: _('Company is required').translate()\n            },\n            country: {\n                required: true,\n                msg: _('Country is required').translate()\n            },\n            state: { fn: _.validateState },\n            city: {\n                required: true,\n                msg: _('City is required').translate()\n            },\n            zip: { fn: _.validateZipCode },\n            phone: {\n                required: isPhoneRequired(),\n                fn: _.validatePhone\n            }\n        }    // @method getInvalidAttributes\n             // Returns an array of localized attributes that are invalid for the current address.\n,\n        getInvalidAttributes: function () {\n            //As this model is not always used inside a model's view, we need to check that the validation is attached\n            var attributes_to_validate = _.keys(this.validation), attribute_name, invalid_attributes = [];\n            this.get('isvalid') !== 'T' && this.isValid(true) && _.extend(this, Backbone.Validation.mixin);\n            _.each(attributes_to_validate, function (attribute) {\n                if (!this.isValid(attribute)) {\n                    attribute_name = null;\n                    switch (attribute) {\n                    case 'fullname':\n                        attribute_name = _('Full Name').translate();\n                        break;\n                    case 'addr1':\n                        attribute_name = _('Address').translate();\n                        break;\n                    case 'city':\n                        attribute_name = _('City').translate();\n                        break;\n                    case 'zip':\n                        attribute_name = _('Zip Code').translate();\n                        break;\n                    case 'country':\n                        attribute_name = _('Country').translate();\n                        break;\n                    case 'phone':\n                        attribute_name = _('Phone Number').translate();\n                        break;\n                    case 'state':\n                        attribute_name = _('State').translate();\n                        break;\n                    }\n                    if (attribute_name) {\n                        invalid_attributes.push(attribute_name);\n                    }\n                }\n            }, this);\n            return invalid_attributes;\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module Address\ndefine('Address.Collection', [\n    'Address.Model',\n    'Backbone'\n], function (Model, Backbone) {\n    'use strict';\n    //@class Address.Collection @extend Backbone.Collection\n    return Backbone.Collection.extend({\n        //@property {Address.Model} model\n        model: Model    //@property {String} url\n,\n        url: 'services/Address.Service.ss'    //@method comparator Defines a custom comparative method between address to sort the address taking into account if there are default shipping or default billing\n                                         //@param {Address.Model} model\n                                         //@return {Number}\n,\n        comparator: function (model) {\n            return model.get('defaultbilling') === 'T' || model.get('defaultshipping') === 'T' ? 0 : 1;\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module CreditCard\n// Model for handling credit cards (CRUD)\ndefine('CreditCard.Model', [\n    'Backbone',\n    'underscore',\n    'jQuery',\n    'Utils'\n], function (Backbone, _, jQuery) {\n    'use strict';\n    //@method validate that the expiration date is bigger than today\n    function validateExpirationDate(value, name, data) {\n        var current = new Date(), selected_date = new Date(data.expyear, data.expmonth - 1).getTime();\n        if (!value || _.isNaN(selected_date) || new Date(current.getFullYear(), current.getMonth()).getTime() > selected_date) {\n            return _('Please select a date in the future').translate();\n        }\n    }\n    // @class CreditCard.Model responsible of implement the REST model of a credit card and of validating \n    // the credit card properties @extends Backbone.Model\n    return Backbone.Model.extend({\n        //@property {String} urlRoot\n        urlRoot: 'services/CreditCard.Service.ss'    //@property validation. Backbone.Validation attribute used for validating the form before submit.\n,\n        validation: {\n            ccname: {\n                fn: function (cc_name) {\n                    if (!cc_name || !jQuery.trim(cc_name)) {\n                        return _('Name is required').translate();\n                    } else if (cc_name.length > 26) {\n                        return _('Name too long').translate();\n                    }\n                }\n            },\n            ccnumber: {\n                fn: function (cc_number, attr, form) {\n                    // credit card number validation\n                    // It validates that the number pass the Luhn test and also that it has the right starting digits that identify the card issuer\n                    if (!cc_number) {\n                        return _('Card Number is required').translate();\n                    }\n                    if (_.isUndefined(form.internalid)) {\n                        cc_number = cc_number.replace(/\\s/g, '');\n                        //check Luhn Algorithm\n                        var card_number_is_valid = _(cc_number.split('').reverse()).reduce(function (a, n, index) {\n                            return a + _((+n * [\n                                1,\n                                2\n                            ][index % 2]).toString().split('')).reduce(function (b, o) {\n                                return b + +o;\n                            }, 0);\n                        }, 0) % 10 === 0;\n                        if (!card_number_is_valid) {\n                            // we throw an error if the number fails the regex or the Luhn algorithm\n                            return _('Credit Card Number is invalid').translate();\n                        }\n                    }\n                }\n            },\n            paymentmethod: {\n                fn: function (paymentmethod, attr, form) {\n                    if (_.isUndefined(form.internalid) && paymentmethod === '0') {\n                        return _('Please Select a Credit Card Type').translate();\n                    }\n                }\n            },\n            expyear: { fn: validateExpirationDate },\n            expmonth: { fn: validateExpirationDate },\n            ccsecuritycode: {\n                fn: function (cc_security_code) {\n                    if (SC.ENVIRONMENT.siteSettings.checkout.requireccsecuritycode === 'T' && (this.hasSecurityCode || this.get('hasSecurityCode'))) {\n                        var errorMessage = _.validateSecurityCode(cc_security_code);\n                        if (errorMessage) {\n                            return errorMessage;\n                        }\n                    }\n                }\n            }\n        }    //@method initialize\n,\n        initialize: function (attributes, options) {\n            this.options = options;\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module CreditCard\ndefine('CreditCard.Collection', [\n    'CreditCard.Model',\n    'Backbone'\n], function (Model, Backbone) {\n    'use strict';\n    // @class CreditCard.Collection Credit cards collection @extends Backbone.Collection\n    return Backbone.Collection.extend({\n        model: Model,\n        url: 'services/CreditCard.Service.ss',\n        comparator: function (model) {\n            return model.get('ccdefault') !== 'T';    // ? 0 : 1;\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\ndefine('Singleton', function () {\n    'use strict';\n    // Singleton:\n    // Defines a simple getInstance method for:\n    // models, collections, views or any other object to use to be used as singletons\n    // How to use:\n    // Backbone.[Collection, Model, View].extend({Your code}, Singleton);\n    // or _.extend({Object literal}, Singleton);\n    var Singleton = {\n        getInstance: function () {\n            var This = this;\n            this.instance = this.instance || new This();\n            return this.instance;\n        }\n    };\n    SC.Singleton = Singleton;\n    return Singleton;\n});","/*! bignumber.js v4.0.4 https://github.com/MikeMcl/bignumber.js/LICENCE */\n;\n(function (globalObj) {\n    'use strict';\n    /*\n      bignumber.js v4.0.4\n      A JavaScript library for arbitrary-precision arithmetic.\n      https://github.com/MikeMcl/bignumber.js\n      Copyright (c) 2017 Michael Mclaughlin <M8ch88l@gmail.com>\n      MIT Expat Licence\n    */\n    var BigNumber, isNumeric = /^-?(\\d+(\\.\\d*)?|\\.\\d+)(e[+-]?\\d+)?$/i, mathceil = Math.ceil, mathfloor = Math.floor, notBool = ' not a boolean or binary digit', roundingMode = 'rounding mode', tooManyDigits = 'number type has more than 15 significant digits', ALPHABET = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_', BASE = 100000000000000, LOG_BASE = 14, MAX_SAFE_INTEGER = 9007199254740991,\n        // 2^53 - 1\n        // MAX_INT32 = 0x7fffffff,                   // 2^31 - 1\n        POWS_TEN = [\n            1,\n            10,\n            100,\n            1000,\n            10000,\n            100000,\n            1000000,\n            10000000,\n            100000000,\n            1000000000,\n            10000000000,\n            100000000000,\n            1000000000000,\n            10000000000000\n        ], SQRT_BASE = 10000000,\n        /*\n         * The limit on the value of DECIMAL_PLACES, TO_EXP_NEG, TO_EXP_POS, MIN_EXP, MAX_EXP, and\n         * the arguments to toExponential, toFixed, toFormat, and toPrecision, beyond which an\n         * exception is thrown (if ERRORS is true).\n         */\n        MAX = 1000000000;\n    // 0 to MAX_INT32\n    /*\n     * Create and return a BigNumber constructor.\n     */\n    function constructorFactory(config) {\n        var div, parseNumeric,\n            // id tracks the caller function, so its name can be included in error messages.\n            id = 0, P = BigNumber.prototype, ONE = new BigNumber(1),\n            /********************************* EDITABLE DEFAULTS **********************************/\n            /*\n             * The default values below must be integers within the inclusive ranges stated.\n             * The values can also be changed at run-time using BigNumber.config.\n             */\n            // The maximum number of decimal places for operations involving division.\n            DECIMAL_PLACES = 20,\n            // 0 to MAX\n            /*\n             * The rounding mode used when rounding to the above decimal places, and when using\n             * toExponential, toFixed, toFormat and toPrecision, and round (default value).\n             * UP         0 Away from zero.\n             * DOWN       1 Towards zero.\n             * CEIL       2 Towards +Infinity.\n             * FLOOR      3 Towards -Infinity.\n             * HALF_UP    4 Towards nearest neighbour. If equidistant, up.\n             * HALF_DOWN  5 Towards nearest neighbour. If equidistant, down.\n             * HALF_EVEN  6 Towards nearest neighbour. If equidistant, towards even neighbour.\n             * HALF_CEIL  7 Towards nearest neighbour. If equidistant, towards +Infinity.\n             * HALF_FLOOR 8 Towards nearest neighbour. If equidistant, towards -Infinity.\n             */\n            ROUNDING_MODE = 4,\n            // 0 to 8\n            // EXPONENTIAL_AT : [TO_EXP_NEG , TO_EXP_POS]\n            // The exponent value at and beneath which toString returns exponential notation.\n            // Number type: -7\n            TO_EXP_NEG = -7,\n            // 0 to -MAX\n            // The exponent value at and above which toString returns exponential notation.\n            // Number type: 21\n            TO_EXP_POS = 21,\n            // 0 to MAX\n            // RANGE : [MIN_EXP, MAX_EXP]\n            // The minimum exponent value, beneath which underflow to zero occurs.\n            // Number type: -324  (5e-324)\n            MIN_EXP = -10000000,\n            // -1 to -MAX\n            // The maximum exponent value, above which overflow to Infinity occurs.\n            // Number type:  308  (1.7976931348623157e+308)\n            // For MAX_EXP > 1e7, e.g. new BigNumber('1e100000000').plus(1) may be slow.\n            MAX_EXP = 10000000,\n            // 1 to MAX\n            // Whether BigNumber Errors are ever thrown.\n            ERRORS = true,\n            // true or false\n            // Change to intValidatorNoErrors if ERRORS is false.\n            isValidInt = intValidatorWithErrors,\n            // intValidatorWithErrors/intValidatorNoErrors\n            // Whether to use cryptographically-secure random number generation, if available.\n            CRYPTO = false,\n            // true or false\n            /*\n             * The modulo mode used when calculating the modulus: a mod n.\n             * The quotient (q = a / n) is calculated according to the corresponding rounding mode.\n             * The remainder (r) is calculated as: r = a - n * q.\n             *\n             * UP        0 The remainder is positive if the dividend is negative, else is negative.\n             * DOWN      1 The remainder has the same sign as the dividend.\n             *             This modulo mode is commonly known as 'truncated division' and is\n             *             equivalent to (a % n) in JavaScript.\n             * FLOOR     3 The remainder has the same sign as the divisor (Python %).\n             * HALF_EVEN 6 This modulo mode implements the IEEE 754 remainder function.\n             * EUCLID    9 Euclidian division. q = sign(n) * floor(a / abs(n)).\n             *             The remainder is always positive.\n             *\n             * The truncated division, floored division, Euclidian division and IEEE 754 remainder\n             * modes are commonly used for the modulus operation.\n             * Although the other rounding modes can also be used, they may not give useful results.\n             */\n            MODULO_MODE = 1,\n            // 0 to 9\n            // The maximum number of significant digits of the result of the toPower operation.\n            // If POW_PRECISION is 0, there will be unlimited significant digits.\n            POW_PRECISION = 0,\n            // 0 to MAX\n            // The format specification used by the BigNumber.prototype.toFormat method.\n            FORMAT = {\n                decimalSeparator: '.',\n                groupSeparator: ',',\n                groupSize: 3,\n                secondaryGroupSize: 0,\n                fractionGroupSeparator: '\\xA0',\n                // non-breaking space\n                fractionGroupSize: 0\n            };\n        /******************************************************************************************/\n        // CONSTRUCTOR\n        /*\n         * The BigNumber constructor and exported function.\n         * Create and return a new instance of a BigNumber object.\n         *\n         * n {number|string|BigNumber} A numeric value.\n         * [b] {number} The base of n. Integer, 2 to 64 inclusive.\n         */\n        function BigNumber(n, b) {\n            var c, e, i, num, len, str, x = this;\n            // Enable constructor usage without new.\n            if (!(x instanceof BigNumber)) {\n                // 'BigNumber() constructor call without new: {n}'\n                if (ERRORS)\n                    raise(26, 'constructor call without new', n);\n                return new BigNumber(n, b);\n            }\n            // 'new BigNumber() base not an integer: {b}'\n            // 'new BigNumber() base out of range: {b}'\n            if (b == null || !isValidInt(b, 2, 64, id, 'base')) {\n                // Duplicate.\n                if (n instanceof BigNumber) {\n                    x.s = n.s;\n                    x.e = n.e;\n                    x.c = (n = n.c) ? n.slice() : n;\n                    id = 0;\n                    return;\n                }\n                if ((num = typeof n == 'number') && n * 0 == 0) {\n                    x.s = 1 / n < 0 ? (n = -n, -1) : 1;\n                    // Fast path for integers.\n                    if (n === ~~n) {\n                        for (e = 0, i = n; i >= 10; i /= 10, e++);\n                        x.e = e;\n                        x.c = [n];\n                        id = 0;\n                        return;\n                    }\n                    str = n + '';\n                } else {\n                    if (!isNumeric.test(str = n + ''))\n                        return parseNumeric(x, str, num);\n                    x.s = str.charCodeAt(0) === 45 ? (str = str.slice(1), -1) : 1;\n                }\n            } else {\n                b = b | 0;\n                str = n + '';\n                // Ensure return value is rounded to DECIMAL_PLACES as with other bases.\n                // Allow exponential notation to be used with base 10 argument.\n                if (b == 10) {\n                    x = new BigNumber(n instanceof BigNumber ? n : str);\n                    return round(x, DECIMAL_PLACES + x.e + 1, ROUNDING_MODE);\n                }\n                // Avoid potential interpretation of Infinity and NaN as base 44+ values.\n                // Any number in exponential form will fail due to the [Ee][+-].\n                if ((num = typeof n == 'number') && n * 0 != 0 || !new RegExp('^-?' + (c = '[' + ALPHABET.slice(0, b) + ']+') + '(?:\\\\.' + c + ')?$', b < 37 ? 'i' : '').test(str)) {\n                    return parseNumeric(x, str, num, b);\n                }\n                if (num) {\n                    x.s = 1 / n < 0 ? (str = str.slice(1), -1) : 1;\n                    if (ERRORS && str.replace(/^0\\.0*|\\./, '').length > 15) {\n                        // 'new BigNumber() number type has more than 15 significant digits: {n}'\n                        raise(id, tooManyDigits, n);\n                    }\n                    // Prevent later check for length on converted number.\n                    num = false;\n                } else {\n                    x.s = str.charCodeAt(0) === 45 ? (str = str.slice(1), -1) : 1;\n                }\n                str = convertBase(str, 10, b, x.s);\n            }\n            // Decimal point?\n            if ((e = str.indexOf('.')) > -1)\n                str = str.replace('.', '');\n            // Exponential form?\n            if ((i = str.search(/e/i)) > 0) {\n                // Determine exponent.\n                if (e < 0)\n                    e = i;\n                e += +str.slice(i + 1);\n                str = str.substring(0, i);\n            } else if (e < 0) {\n                // Integer.\n                e = str.length;\n            }\n            // Determine leading zeros.\n            for (i = 0; str.charCodeAt(i) === 48; i++);\n            // Determine trailing zeros.\n            for (len = str.length; str.charCodeAt(--len) === 48;);\n            str = str.slice(i, len + 1);\n            if (str) {\n                len = str.length;\n                // Disallow numbers with over 15 significant digits if number type.\n                // 'new BigNumber() number type has more than 15 significant digits: {n}'\n                if (num && ERRORS && len > 15 && (n > MAX_SAFE_INTEGER || n !== mathfloor(n))) {\n                    raise(id, tooManyDigits, x.s * n);\n                }\n                e = e - i - 1;\n                // Overflow?\n                if (e > MAX_EXP) {\n                    // Infinity.\n                    x.c = x.e = null;    // Underflow?\n                } else if (e < MIN_EXP) {\n                    // Zero.\n                    x.c = [x.e = 0];\n                } else {\n                    x.e = e;\n                    x.c = [];\n                    // Transform base\n                    // e is the base 10 exponent.\n                    // i is where to slice str to get the first element of the coefficient array.\n                    i = (e + 1) % LOG_BASE;\n                    if (e < 0)\n                        i += LOG_BASE;\n                    if (i < len) {\n                        if (i)\n                            x.c.push(+str.slice(0, i));\n                        for (len -= LOG_BASE; i < len;) {\n                            x.c.push(+str.slice(i, i += LOG_BASE));\n                        }\n                        str = str.slice(i);\n                        i = LOG_BASE - str.length;\n                    } else {\n                        i -= len;\n                    }\n                    for (; i--; str += '0');\n                    x.c.push(+str);\n                }\n            } else {\n                // Zero.\n                x.c = [x.e = 0];\n            }\n            id = 0;\n        }\n        // CONSTRUCTOR PROPERTIES\n        BigNumber.another = constructorFactory;\n        BigNumber.ROUND_UP = 0;\n        BigNumber.ROUND_DOWN = 1;\n        BigNumber.ROUND_CEIL = 2;\n        BigNumber.ROUND_FLOOR = 3;\n        BigNumber.ROUND_HALF_UP = 4;\n        BigNumber.ROUND_HALF_DOWN = 5;\n        BigNumber.ROUND_HALF_EVEN = 6;\n        BigNumber.ROUND_HALF_CEIL = 7;\n        BigNumber.ROUND_HALF_FLOOR = 8;\n        BigNumber.EUCLID = 9;\n        /*\n         * Configure infrequently-changing library-wide settings.\n         *\n         * Accept an object or an argument list, with one or many of the following properties or\n         * parameters respectively:\n         *\n         *   DECIMAL_PLACES  {number}  Integer, 0 to MAX inclusive\n         *   ROUNDING_MODE   {number}  Integer, 0 to 8 inclusive\n         *   EXPONENTIAL_AT  {number|number[]}  Integer, -MAX to MAX inclusive or\n         *                                      [integer -MAX to 0 incl., 0 to MAX incl.]\n         *   RANGE           {number|number[]}  Non-zero integer, -MAX to MAX inclusive or\n         *                                      [integer -MAX to -1 incl., integer 1 to MAX incl.]\n         *   ERRORS          {boolean|number}   true, false, 1 or 0\n         *   CRYPTO          {boolean|number}   true, false, 1 or 0\n         *   MODULO_MODE     {number}           0 to 9 inclusive\n         *   POW_PRECISION   {number}           0 to MAX inclusive\n         *   FORMAT          {object}           See BigNumber.prototype.toFormat\n         *      decimalSeparator       {string}\n         *      groupSeparator         {string}\n         *      groupSize              {number}\n         *      secondaryGroupSize     {number}\n         *      fractionGroupSeparator {string}\n         *      fractionGroupSize      {number}\n         *\n         * (The values assigned to the above FORMAT object properties are not checked for validity.)\n         *\n         * E.g.\n         * BigNumber.config(20, 4) is equivalent to\n         * BigNumber.config({ DECIMAL_PLACES : 20, ROUNDING_MODE : 4 })\n         *\n         * Ignore properties/parameters set to null or undefined.\n         * Return an object with the properties current values.\n         */\n        BigNumber.config = BigNumber.set = function () {\n            var v, p, i = 0, r = {}, a = arguments, o = a[0], has = o && typeof o == 'object' ? function () {\n                    if (o.hasOwnProperty(p))\n                        return (v = o[p]) != null;\n                } : function () {\n                    if (a.length > i)\n                        return (v = a[i++]) != null;\n                };\n            // DECIMAL_PLACES {number} Integer, 0 to MAX inclusive.\n            // 'config() DECIMAL_PLACES not an integer: {v}'\n            // 'config() DECIMAL_PLACES out of range: {v}'\n            if (has(p = 'DECIMAL_PLACES') && isValidInt(v, 0, MAX, 2, p)) {\n                DECIMAL_PLACES = v | 0;\n            }\n            r[p] = DECIMAL_PLACES;\n            // ROUNDING_MODE {number} Integer, 0 to 8 inclusive.\n            // 'config() ROUNDING_MODE not an integer: {v}'\n            // 'config() ROUNDING_MODE out of range: {v}'\n            if (has(p = 'ROUNDING_MODE') && isValidInt(v, 0, 8, 2, p)) {\n                ROUNDING_MODE = v | 0;\n            }\n            r[p] = ROUNDING_MODE;\n            // EXPONENTIAL_AT {number|number[]}\n            // Integer, -MAX to MAX inclusive or [integer -MAX to 0 inclusive, 0 to MAX inclusive].\n            // 'config() EXPONENTIAL_AT not an integer: {v}'\n            // 'config() EXPONENTIAL_AT out of range: {v}'\n            if (has(p = 'EXPONENTIAL_AT')) {\n                if (isArray(v)) {\n                    if (isValidInt(v[0], -MAX, 0, 2, p) && isValidInt(v[1], 0, MAX, 2, p)) {\n                        TO_EXP_NEG = v[0] | 0;\n                        TO_EXP_POS = v[1] | 0;\n                    }\n                } else if (isValidInt(v, -MAX, MAX, 2, p)) {\n                    TO_EXP_NEG = -(TO_EXP_POS = (v < 0 ? -v : v) | 0);\n                }\n            }\n            r[p] = [\n                TO_EXP_NEG,\n                TO_EXP_POS\n            ];\n            // RANGE {number|number[]} Non-zero integer, -MAX to MAX inclusive or\n            // [integer -MAX to -1 inclusive, integer 1 to MAX inclusive].\n            // 'config() RANGE not an integer: {v}'\n            // 'config() RANGE cannot be zero: {v}'\n            // 'config() RANGE out of range: {v}'\n            if (has(p = 'RANGE')) {\n                if (isArray(v)) {\n                    if (isValidInt(v[0], -MAX, -1, 2, p) && isValidInt(v[1], 1, MAX, 2, p)) {\n                        MIN_EXP = v[0] | 0;\n                        MAX_EXP = v[1] | 0;\n                    }\n                } else if (isValidInt(v, -MAX, MAX, 2, p)) {\n                    if (v | 0)\n                        MIN_EXP = -(MAX_EXP = (v < 0 ? -v : v) | 0);\n                    else if (ERRORS)\n                        raise(2, p + ' cannot be zero', v);\n                }\n            }\n            r[p] = [\n                MIN_EXP,\n                MAX_EXP\n            ];\n            // ERRORS {boolean|number} true, false, 1 or 0.\n            // 'config() ERRORS not a boolean or binary digit: {v}'\n            if (has(p = 'ERRORS')) {\n                if (v === !!v || v === 1 || v === 0) {\n                    id = 0;\n                    isValidInt = (ERRORS = !!v) ? intValidatorWithErrors : intValidatorNoErrors;\n                } else if (ERRORS) {\n                    raise(2, p + notBool, v);\n                }\n            }\n            r[p] = ERRORS;\n            // CRYPTO {boolean|number} true, false, 1 or 0.\n            // 'config() CRYPTO not a boolean or binary digit: {v}'\n            // 'config() crypto unavailable: {crypto}'\n            if (has(p = 'CRYPTO')) {\n                if (v === true || v === false || v === 1 || v === 0) {\n                    if (v) {\n                        v = typeof crypto == 'undefined';\n                        if (!v && crypto && (crypto.getRandomValues || crypto.randomBytes)) {\n                            CRYPTO = true;\n                        } else if (ERRORS) {\n                            raise(2, 'crypto unavailable', v ? void 0 : crypto);\n                        } else {\n                            CRYPTO = false;\n                        }\n                    } else {\n                        CRYPTO = false;\n                    }\n                } else if (ERRORS) {\n                    raise(2, p + notBool, v);\n                }\n            }\n            r[p] = CRYPTO;\n            // MODULO_MODE {number} Integer, 0 to 9 inclusive.\n            // 'config() MODULO_MODE not an integer: {v}'\n            // 'config() MODULO_MODE out of range: {v}'\n            if (has(p = 'MODULO_MODE') && isValidInt(v, 0, 9, 2, p)) {\n                MODULO_MODE = v | 0;\n            }\n            r[p] = MODULO_MODE;\n            // POW_PRECISION {number} Integer, 0 to MAX inclusive.\n            // 'config() POW_PRECISION not an integer: {v}'\n            // 'config() POW_PRECISION out of range: {v}'\n            if (has(p = 'POW_PRECISION') && isValidInt(v, 0, MAX, 2, p)) {\n                POW_PRECISION = v | 0;\n            }\n            r[p] = POW_PRECISION;\n            // FORMAT {object}\n            // 'config() FORMAT not an object: {v}'\n            if (has(p = 'FORMAT')) {\n                if (typeof v == 'object') {\n                    FORMAT = v;\n                } else if (ERRORS) {\n                    raise(2, p + ' not an object', v);\n                }\n            }\n            r[p] = FORMAT;\n            return r;\n        };\n        /*\n         * Return a new BigNumber whose value is the maximum of the arguments.\n         *\n         * arguments {number|string|BigNumber}\n         */\n        BigNumber.max = function () {\n            return maxOrMin(arguments, P.lt);\n        };\n        /*\n         * Return a new BigNumber whose value is the minimum of the arguments.\n         *\n         * arguments {number|string|BigNumber}\n         */\n        BigNumber.min = function () {\n            return maxOrMin(arguments, P.gt);\n        };\n        /*\n         * Return a new BigNumber with a random value equal to or greater than 0 and less than 1,\n         * and with dp, or DECIMAL_PLACES if dp is omitted, decimal places (or less if trailing\n         * zeros are produced).\n         *\n         * [dp] {number} Decimal places. Integer, 0 to MAX inclusive.\n         *\n         * 'random() decimal places not an integer: {dp}'\n         * 'random() decimal places out of range: {dp}'\n         * 'random() crypto unavailable: {crypto}'\n         */\n        BigNumber.random = function () {\n            var pow2_53 = 9007199254740992;\n            // Return a 53 bit integer n, where 0 <= n < 9007199254740992.\n            // Check if Math.random() produces more than 32 bits of randomness.\n            // If it does, assume at least 53 bits are produced, otherwise assume at least 30 bits.\n            // 0x40000000 is 2^30, 0x800000 is 2^23, 0x1fffff is 2^21 - 1.\n            var random53bitInt = Math.random() * pow2_53 & 2097151 ? function () {\n                return mathfloor(Math.random() * pow2_53);\n            } : function () {\n                return (Math.random() * 1073741824 | 0) * 8388608 + (Math.random() * 8388608 | 0);\n            };\n            return function (dp) {\n                var a, b, e, k, v, i = 0, c = [], rand = new BigNumber(ONE);\n                dp = dp == null || !isValidInt(dp, 0, MAX, 14) ? DECIMAL_PLACES : dp | 0;\n                k = mathceil(dp / LOG_BASE);\n                if (CRYPTO) {\n                    // Browsers supporting crypto.getRandomValues.\n                    if (crypto.getRandomValues) {\n                        a = crypto.getRandomValues(new Uint32Array(k *= 2));\n                        for (; i < k;) {\n                            // 53 bits:\n                            // ((Math.pow(2, 32) - 1) * Math.pow(2, 21)).toString(2)\n                            // 11111 11111111 11111111 11111111 11100000 00000000 00000000\n                            // ((Math.pow(2, 32) - 1) >>> 11).toString(2)\n                            //                                     11111 11111111 11111111\n                            // 0x20000 is 2^21.\n                            v = a[i] * 131072 + (a[i + 1] >>> 11);\n                            // Rejection sampling:\n                            // 0 <= v < 9007199254740992\n                            // Probability that v >= 9e15, is\n                            // 7199254740992 / 9007199254740992 ~= 0.0008, i.e. 1 in 1251\n                            if (v >= 9000000000000000) {\n                                b = crypto.getRandomValues(new Uint32Array(2));\n                                a[i] = b[0];\n                                a[i + 1] = b[1];\n                            } else {\n                                // 0 <= v <= 8999999999999999\n                                // 0 <= (v % 1e14) <= 99999999999999\n                                c.push(v % 100000000000000);\n                                i += 2;\n                            }\n                        }\n                        i = k / 2;    // Node.js supporting crypto.randomBytes.\n                    } else if (crypto.randomBytes) {\n                        // buffer\n                        a = crypto.randomBytes(k *= 7);\n                        for (; i < k;) {\n                            // 0x1000000000000 is 2^48, 0x10000000000 is 2^40\n                            // 0x100000000 is 2^32, 0x1000000 is 2^24\n                            // 11111 11111111 11111111 11111111 11111111 11111111 11111111\n                            // 0 <= v < 9007199254740992\n                            v = (a[i] & 31) * 281474976710656 + a[i + 1] * 1099511627776 + a[i + 2] * 4294967296 + a[i + 3] * 16777216 + (a[i + 4] << 16) + (a[i + 5] << 8) + a[i + 6];\n                            if (v >= 9000000000000000) {\n                                crypto.randomBytes(7).copy(a, i);\n                            } else {\n                                // 0 <= (v % 1e14) <= 99999999999999\n                                c.push(v % 100000000000000);\n                                i += 7;\n                            }\n                        }\n                        i = k / 7;\n                    } else {\n                        CRYPTO = false;\n                        if (ERRORS)\n                            raise(14, 'crypto unavailable', crypto);\n                    }\n                }\n                // Use Math.random.\n                if (!CRYPTO) {\n                    for (; i < k;) {\n                        v = random53bitInt();\n                        if (v < 9000000000000000)\n                            c[i++] = v % 100000000000000;\n                    }\n                }\n                k = c[--i];\n                dp %= LOG_BASE;\n                // Convert trailing digits to zeros according to dp.\n                if (k && dp) {\n                    v = POWS_TEN[LOG_BASE - dp];\n                    c[i] = mathfloor(k / v) * v;\n                }\n                // Remove trailing elements which are zero.\n                for (; c[i] === 0; c.pop(), i--);\n                // Zero?\n                if (i < 0) {\n                    c = [e = 0];\n                } else {\n                    // Remove leading elements which are zero and adjust exponent accordingly.\n                    for (e = -1; c[0] === 0; c.splice(0, 1), e -= LOG_BASE);\n                    // Count the digits of the first element of c to determine leading zeros, and...\n                    for (i = 1, v = c[0]; v >= 10; v /= 10, i++);\n                    // adjust the exponent accordingly.\n                    if (i < LOG_BASE)\n                        e -= LOG_BASE - i;\n                }\n                rand.e = e;\n                rand.c = c;\n                return rand;\n            };\n        }();\n        // PRIVATE FUNCTIONS\n        // Convert a numeric string of baseIn to a numeric string of baseOut.\n        function convertBase(str, baseOut, baseIn, sign) {\n            var d, e, k, r, x, xc, y, i = str.indexOf('.'), dp = DECIMAL_PLACES, rm = ROUNDING_MODE;\n            if (baseIn < 37)\n                str = str.toLowerCase();\n            // Non-integer.\n            if (i >= 0) {\n                k = POW_PRECISION;\n                // Unlimited precision.\n                POW_PRECISION = 0;\n                str = str.replace('.', '');\n                y = new BigNumber(baseIn);\n                x = y.pow(str.length - i);\n                POW_PRECISION = k;\n                // Convert str as if an integer, then restore the fraction part by dividing the\n                // result by its base raised to a power.\n                y.c = toBaseOut(toFixedPoint(coeffToString(x.c), x.e), 10, baseOut);\n                y.e = y.c.length;\n            }\n            // Convert the number as integer.\n            xc = toBaseOut(str, baseIn, baseOut);\n            e = k = xc.length;\n            // Remove trailing zeros.\n            for (; xc[--k] == 0; xc.pop());\n            if (!xc[0])\n                return '0';\n            if (i < 0) {\n                --e;\n            } else {\n                x.c = xc;\n                x.e = e;\n                // sign is needed for correct rounding.\n                x.s = sign;\n                x = div(x, y, dp, rm, baseOut);\n                xc = x.c;\n                r = x.r;\n                e = x.e;\n            }\n            d = e + dp + 1;\n            // The rounding digit, i.e. the digit to the right of the digit that may be rounded up.\n            i = xc[d];\n            k = baseOut / 2;\n            r = r || d < 0 || xc[d + 1] != null;\n            r = rm < 4 ? (i != null || r) && (rm == 0 || rm == (x.s < 0 ? 3 : 2)) : i > k || i == k && (rm == 4 || r || rm == 6 && xc[d - 1] & 1 || rm == (x.s < 0 ? 8 : 7));\n            if (d < 1 || !xc[0]) {\n                // 1^-dp or 0.\n                str = r ? toFixedPoint('1', -dp) : '0';\n            } else {\n                xc.length = d;\n                if (r) {\n                    // Rounding up may mean the previous digit has to be rounded up and so on.\n                    for (--baseOut; ++xc[--d] > baseOut;) {\n                        xc[d] = 0;\n                        if (!d) {\n                            ++e;\n                            xc = [1].concat(xc);\n                        }\n                    }\n                }\n                // Determine trailing zeros.\n                for (k = xc.length; !xc[--k];);\n                // E.g. [4, 11, 15] becomes 4bf.\n                for (i = 0, str = ''; i <= k; str += ALPHABET.charAt(xc[i++]));\n                str = toFixedPoint(str, e);\n            }\n            // The caller will add the sign.\n            return str;\n        }\n        // Perform division in the specified base. Called by div and convertBase.\n        div = function () {\n            // Assume non-zero x and k.\n            function multiply(x, k, base) {\n                var m, temp, xlo, xhi, carry = 0, i = x.length, klo = k % SQRT_BASE, khi = k / SQRT_BASE | 0;\n                for (x = x.slice(); i--;) {\n                    xlo = x[i] % SQRT_BASE;\n                    xhi = x[i] / SQRT_BASE | 0;\n                    m = khi * xlo + xhi * klo;\n                    temp = klo * xlo + m % SQRT_BASE * SQRT_BASE + carry;\n                    carry = (temp / base | 0) + (m / SQRT_BASE | 0) + khi * xhi;\n                    x[i] = temp % base;\n                }\n                if (carry)\n                    x = [carry].concat(x);\n                return x;\n            }\n            function compare(a, b, aL, bL) {\n                var i, cmp;\n                if (aL != bL) {\n                    cmp = aL > bL ? 1 : -1;\n                } else {\n                    for (i = cmp = 0; i < aL; i++) {\n                        if (a[i] != b[i]) {\n                            cmp = a[i] > b[i] ? 1 : -1;\n                            break;\n                        }\n                    }\n                }\n                return cmp;\n            }\n            function subtract(a, b, aL, base) {\n                var i = 0;\n                // Subtract b from a.\n                for (; aL--;) {\n                    a[aL] -= i;\n                    i = a[aL] < b[aL] ? 1 : 0;\n                    a[aL] = i * base + a[aL] - b[aL];\n                }\n                // Remove leading zeros.\n                for (; !a[0] && a.length > 1; a.splice(0, 1));\n            }\n            // x: dividend, y: divisor.\n            return function (x, y, dp, rm, base) {\n                var cmp, e, i, more, n, prod, prodL, q, qc, rem, remL, rem0, xi, xL, yc0, yL, yz, s = x.s == y.s ? 1 : -1, xc = x.c, yc = y.c;\n                // Either NaN, Infinity or 0?\n                if (!xc || !xc[0] || !yc || !yc[0]) {\n                    return new BigNumber(// Return NaN if either NaN, or both Infinity or 0.\n                    !x.s || !y.s || (xc ? yc && xc[0] == yc[0] : !yc) ? NaN : // Return ±0 if x is ±0 or y is ±Infinity, or return ±Infinity as y is ±0.\n                    xc && xc[0] == 0 || !yc ? s * 0 : s / 0);\n                }\n                q = new BigNumber(s);\n                qc = q.c = [];\n                e = x.e - y.e;\n                s = dp + e + 1;\n                if (!base) {\n                    base = BASE;\n                    e = bitFloor(x.e / LOG_BASE) - bitFloor(y.e / LOG_BASE);\n                    s = s / LOG_BASE | 0;\n                }\n                // Result exponent may be one less then the current value of e.\n                // The coefficients of the BigNumbers from convertBase may have trailing zeros.\n                for (i = 0; yc[i] == (xc[i] || 0); i++);\n                if (yc[i] > (xc[i] || 0))\n                    e--;\n                if (s < 0) {\n                    qc.push(1);\n                    more = true;\n                } else {\n                    xL = xc.length;\n                    yL = yc.length;\n                    i = 0;\n                    s += 2;\n                    // Normalise xc and yc so highest order digit of yc is >= base / 2.\n                    n = mathfloor(base / (yc[0] + 1));\n                    // Not necessary, but to handle odd bases where yc[0] == ( base / 2 ) - 1.\n                    // if ( n > 1 || n++ == 1 && yc[0] < base / 2 ) {\n                    if (n > 1) {\n                        yc = multiply(yc, n, base);\n                        xc = multiply(xc, n, base);\n                        yL = yc.length;\n                        xL = xc.length;\n                    }\n                    xi = yL;\n                    rem = xc.slice(0, yL);\n                    remL = rem.length;\n                    // Add zeros to make remainder as long as divisor.\n                    for (; remL < yL; rem[remL++] = 0);\n                    yz = yc.slice();\n                    yz = [0].concat(yz);\n                    yc0 = yc[0];\n                    if (yc[1] >= base / 2)\n                        yc0++;\n                    // Not necessary, but to prevent trial digit n > base, when using base 3.\n                    // else if ( base == 3 && yc0 == 1 ) yc0 = 1 + 1e-15;\n                    do {\n                        n = 0;\n                        // Compare divisor and remainder.\n                        cmp = compare(yc, rem, yL, remL);\n                        // If divisor < remainder.\n                        if (cmp < 0) {\n                            // Calculate trial digit, n.\n                            rem0 = rem[0];\n                            if (yL != remL)\n                                rem0 = rem0 * base + (rem[1] || 0);\n                            // n is how many times the divisor goes into the current remainder.\n                            n = mathfloor(rem0 / yc0);\n                            //  Algorithm:\n                            //  1. product = divisor * trial digit (n)\n                            //  2. if product > remainder: product -= divisor, n--\n                            //  3. remainder -= product\n                            //  4. if product was < remainder at 2:\n                            //    5. compare new remainder and divisor\n                            //    6. If remainder > divisor: remainder -= divisor, n++\n                            if (n > 1) {\n                                // n may be > base only when base is 3.\n                                if (n >= base)\n                                    n = base - 1;\n                                // product = divisor * trial digit.\n                                prod = multiply(yc, n, base);\n                                prodL = prod.length;\n                                remL = rem.length;\n                                // Compare product and remainder.\n                                // If product > remainder.\n                                // Trial digit n too high.\n                                // n is 1 too high about 5% of the time, and is not known to have\n                                // ever been more than 1 too high.\n                                while (compare(prod, rem, prodL, remL) == 1) {\n                                    n--;\n                                    // Subtract divisor from product.\n                                    subtract(prod, yL < prodL ? yz : yc, prodL, base);\n                                    prodL = prod.length;\n                                    cmp = 1;\n                                }\n                            } else {\n                                // n is 0 or 1, cmp is -1.\n                                // If n is 0, there is no need to compare yc and rem again below,\n                                // so change cmp to 1 to avoid it.\n                                // If n is 1, leave cmp as -1, so yc and rem are compared again.\n                                if (n == 0) {\n                                    // divisor < remainder, so n must be at least 1.\n                                    cmp = n = 1;\n                                }\n                                // product = divisor\n                                prod = yc.slice();\n                                prodL = prod.length;\n                            }\n                            if (prodL < remL)\n                                prod = [0].concat(prod);\n                            // Subtract product from remainder.\n                            subtract(rem, prod, remL, base);\n                            remL = rem.length;\n                            // If product was < remainder.\n                            if (cmp == -1) {\n                                // Compare divisor and new remainder.\n                                // If divisor < new remainder, subtract divisor from remainder.\n                                // Trial digit n too low.\n                                // n is 1 too low about 5% of the time, and very rarely 2 too low.\n                                while (compare(yc, rem, yL, remL) < 1) {\n                                    n++;\n                                    // Subtract divisor from remainder.\n                                    subtract(rem, yL < remL ? yz : yc, remL, base);\n                                    remL = rem.length;\n                                }\n                            }\n                        } else if (cmp === 0) {\n                            n++;\n                            rem = [0];\n                        }\n                        // else cmp === 1 and n will be 0\n                        // Add the next digit, n, to the result array.\n                        qc[i++] = n;\n                        // Update the remainder.\n                        if (rem[0]) {\n                            rem[remL++] = xc[xi] || 0;\n                        } else {\n                            rem = [xc[xi]];\n                            remL = 1;\n                        }\n                    } while ((xi++ < xL || rem[0] != null) && s--);\n                    more = rem[0] != null;\n                    // Leading zero?\n                    if (!qc[0])\n                        qc.splice(0, 1);\n                }\n                if (base == BASE) {\n                    // To calculate q.e, first get the number of digits of qc[0].\n                    for (i = 1, s = qc[0]; s >= 10; s /= 10, i++);\n                    round(q, dp + (q.e = i + e * LOG_BASE - 1) + 1, rm, more);    // Caller is convertBase.\n                } else {\n                    q.e = e;\n                    q.r = +more;\n                }\n                return q;\n            };\n        }();\n        /*\n         * Return a string representing the value of BigNumber n in fixed-point or exponential\n         * notation rounded to the specified decimal places or significant digits.\n         *\n         * n is a BigNumber.\n         * i is the index of the last digit required (i.e. the digit that may be rounded up).\n         * rm is the rounding mode.\n         * caller is caller id: toExponential 19, toFixed 20, toFormat 21, toPrecision 24.\n         */\n        function format(n, i, rm, caller) {\n            var c0, e, ne, len, str;\n            rm = rm != null && isValidInt(rm, 0, 8, caller, roundingMode) ? rm | 0 : ROUNDING_MODE;\n            if (!n.c)\n                return n.toString();\n            c0 = n.c[0];\n            ne = n.e;\n            if (i == null) {\n                str = coeffToString(n.c);\n                str = caller == 19 || caller == 24 && ne <= TO_EXP_NEG ? toExponential(str, ne) : toFixedPoint(str, ne);\n            } else {\n                n = round(new BigNumber(n), i, rm);\n                // n.e may have changed if the value was rounded up.\n                e = n.e;\n                str = coeffToString(n.c);\n                len = str.length;\n                // toPrecision returns exponential notation if the number of significant digits\n                // specified is less than the number of digits necessary to represent the integer\n                // part of the value in fixed-point notation.\n                // Exponential notation.\n                if (caller == 19 || caller == 24 && (i <= e || e <= TO_EXP_NEG)) {\n                    // Append zeros?\n                    for (; len < i; str += '0', len++);\n                    str = toExponential(str, e);    // Fixed-point notation.\n                } else {\n                    i -= ne;\n                    str = toFixedPoint(str, e);\n                    // Append zeros?\n                    if (e + 1 > len) {\n                        if (--i > 0)\n                            for (str += '.'; i--; str += '0');\n                    } else {\n                        i += e - len;\n                        if (i > 0) {\n                            if (e + 1 == len)\n                                str += '.';\n                            for (; i--; str += '0');\n                        }\n                    }\n                }\n            }\n            return n.s < 0 && c0 ? '-' + str : str;\n        }\n        // Handle BigNumber.max and BigNumber.min.\n        function maxOrMin(args, method) {\n            var m, n, i = 0;\n            if (isArray(args[0]))\n                args = args[0];\n            m = new BigNumber(args[0]);\n            for (; ++i < args.length;) {\n                n = new BigNumber(args[i]);\n                // If any number is NaN, return NaN.\n                if (!n.s) {\n                    m = n;\n                    break;\n                } else if (method.call(m, n)) {\n                    m = n;\n                }\n            }\n            return m;\n        }\n        /*\n         * Return true if n is an integer in range, otherwise throw.\n         * Use for argument validation when ERRORS is true.\n         */\n        function intValidatorWithErrors(n, min, max, caller, name) {\n            if (n < min || n > max || n != truncate(n)) {\n                raise(caller, (name || 'decimal places') + (n < min || n > max ? ' out of range' : ' not an integer'), n);\n            }\n            return true;\n        }\n        /*\n         * Strip trailing zeros, calculate base 10 exponent and check against MIN_EXP and MAX_EXP.\n         * Called by minus, plus and times.\n         */\n        function normalise(n, c, e) {\n            var i = 1, j = c.length;\n            // Remove trailing zeros.\n            for (; !c[--j]; c.pop());\n            // Calculate the base 10 exponent. First get the number of digits of c[0].\n            for (j = c[0]; j >= 10; j /= 10, i++);\n            // Overflow?\n            if ((e = i + e * LOG_BASE - 1) > MAX_EXP) {\n                // Infinity.\n                n.c = n.e = null;    // Underflow?\n            } else if (e < MIN_EXP) {\n                // Zero.\n                n.c = [n.e = 0];\n            } else {\n                n.e = e;\n                n.c = c;\n            }\n            return n;\n        }\n        // Handle values that fail the validity test in BigNumber.\n        parseNumeric = function () {\n            var basePrefix = /^(-?)0([xbo])(?=\\w[\\w.]*$)/i, dotAfter = /^([^.]+)\\.$/, dotBefore = /^\\.([^.]+)$/, isInfinityOrNaN = /^-?(Infinity|NaN)$/, whitespaceOrPlus = /^\\s*\\+(?=[\\w.])|^\\s+|\\s+$/g;\n            return function (x, str, num, b) {\n                var base, s = num ? str : str.replace(whitespaceOrPlus, '');\n                // No exception on ±Infinity or NaN.\n                if (isInfinityOrNaN.test(s)) {\n                    x.s = isNaN(s) ? null : s < 0 ? -1 : 1;\n                } else {\n                    if (!num) {\n                        // basePrefix = /^(-?)0([xbo])(?=\\w[\\w.]*$)/i\n                        s = s.replace(basePrefix, function (m, p1, p2) {\n                            base = (p2 = p2.toLowerCase()) == 'x' ? 16 : p2 == 'b' ? 2 : 8;\n                            return !b || b == base ? p1 : m;\n                        });\n                        if (b) {\n                            base = b;\n                            // E.g. '1.' to '1', '.1' to '0.1'\n                            s = s.replace(dotAfter, '$1').replace(dotBefore, '0.$1');\n                        }\n                        if (str != s)\n                            return new BigNumber(s, base);\n                    }\n                    // 'new BigNumber() not a number: {n}'\n                    // 'new BigNumber() not a base {b} number: {n}'\n                    if (ERRORS)\n                        raise(id, 'not a' + (b ? ' base ' + b : '') + ' number', str);\n                    x.s = null;\n                }\n                x.c = x.e = null;\n                id = 0;\n            };\n        }();\n        // Throw a BigNumber Error.\n        function raise(caller, msg, val) {\n            var error = new Error([\n                'new BigNumber',\n                // 0\n                'cmp',\n                // 1\n                'config',\n                // 2\n                'div',\n                // 3\n                'divToInt',\n                // 4\n                'eq',\n                // 5\n                'gt',\n                // 6\n                'gte',\n                // 7\n                'lt',\n                // 8\n                'lte',\n                // 9\n                'minus',\n                // 10\n                'mod',\n                // 11\n                'plus',\n                // 12\n                'precision',\n                // 13\n                'random',\n                // 14\n                'round',\n                // 15\n                'shift',\n                // 16\n                'times',\n                // 17\n                'toDigits',\n                // 18\n                'toExponential',\n                // 19\n                'toFixed',\n                // 20\n                'toFormat',\n                // 21\n                'toFraction',\n                // 22\n                'pow',\n                // 23\n                'toPrecision',\n                // 24\n                'toString',\n                // 25\n                'BigNumber'    // 26\n            ][caller] + '() ' + msg + ': ' + val);\n            error.name = 'BigNumber Error';\n            id = 0;\n            throw error;\n        }\n        /*\n         * Round x to sd significant digits using rounding mode rm. Check for over/under-flow.\n         * If r is truthy, it is known that there are more digits after the rounding digit.\n         */\n        function round(x, sd, rm, r) {\n            var d, i, j, k, n, ni, rd, xc = x.c, pows10 = POWS_TEN;\n            // if x is not Infinity or NaN...\n            if (xc) {\n                // rd is the rounding digit, i.e. the digit after the digit that may be rounded up.\n                // n is a base 1e14 number, the value of the element of array x.c containing rd.\n                // ni is the index of n within x.c.\n                // d is the number of digits of n.\n                // i is the index of rd within n including leading zeros.\n                // j is the actual index of rd within n (if < 0, rd is a leading zero).\n                out: {\n                    // Get the number of digits of the first element of xc.\n                    for (d = 1, k = xc[0]; k >= 10; k /= 10, d++);\n                    i = sd - d;\n                    // If the rounding digit is in the first element of xc...\n                    if (i < 0) {\n                        i += LOG_BASE;\n                        j = sd;\n                        n = xc[ni = 0];\n                        // Get the rounding digit at index j of n.\n                        rd = n / pows10[d - j - 1] % 10 | 0;\n                    } else {\n                        ni = mathceil((i + 1) / LOG_BASE);\n                        if (ni >= xc.length) {\n                            if (r) {\n                                // Needed by sqrt.\n                                for (; xc.length <= ni; xc.push(0));\n                                n = rd = 0;\n                                d = 1;\n                                i %= LOG_BASE;\n                                j = i - LOG_BASE + 1;\n                            } else {\n                                break out;\n                            }\n                        } else {\n                            n = k = xc[ni];\n                            // Get the number of digits of n.\n                            for (d = 1; k >= 10; k /= 10, d++);\n                            // Get the index of rd within n.\n                            i %= LOG_BASE;\n                            // Get the index of rd within n, adjusted for leading zeros.\n                            // The number of leading zeros of n is given by LOG_BASE - d.\n                            j = i - LOG_BASE + d;\n                            // Get the rounding digit at index j of n.\n                            rd = j < 0 ? 0 : n / pows10[d - j - 1] % 10 | 0;\n                        }\n                    }\n                    r = r || sd < 0 || // Are there any non-zero digits after the rounding digit?\n                    // The expression  n % pows10[ d - j - 1 ]  returns all digits of n to the right\n                    // of the digit at j, e.g. if n is 908714 and j is 2, the expression gives 714.\n                    xc[ni + 1] != null || (j < 0 ? n : n % pows10[d - j - 1]);\n                    r = rm < 4 ? (rd || r) && (rm == 0 || rm == (x.s < 0 ? 3 : 2)) : rd > 5 || rd == 5 && (rm == 4 || r || rm == 6 && // Check whether the digit to the left of the rounding digit is odd.\n                    (i > 0 ? j > 0 ? n / pows10[d - j] : 0 : xc[ni - 1]) % 10 & 1 || rm == (x.s < 0 ? 8 : 7));\n                    if (sd < 1 || !xc[0]) {\n                        xc.length = 0;\n                        if (r) {\n                            // Convert sd to decimal places.\n                            sd -= x.e + 1;\n                            // 1, 0.1, 0.01, 0.001, 0.0001 etc.\n                            xc[0] = pows10[(LOG_BASE - sd % LOG_BASE) % LOG_BASE];\n                            x.e = -sd || 0;\n                        } else {\n                            // Zero.\n                            xc[0] = x.e = 0;\n                        }\n                        return x;\n                    }\n                    // Remove excess digits.\n                    if (i == 0) {\n                        xc.length = ni;\n                        k = 1;\n                        ni--;\n                    } else {\n                        xc.length = ni + 1;\n                        k = pows10[LOG_BASE - i];\n                        // E.g. 56700 becomes 56000 if 7 is the rounding digit.\n                        // j > 0 means i > number of leading zeros of n.\n                        xc[ni] = j > 0 ? mathfloor(n / pows10[d - j] % pows10[j]) * k : 0;\n                    }\n                    // Round up?\n                    if (r) {\n                        for (;;) {\n                            // If the digit to be rounded up is in the first element of xc...\n                            if (ni == 0) {\n                                // i will be the length of xc[0] before k is added.\n                                for (i = 1, j = xc[0]; j >= 10; j /= 10, i++);\n                                j = xc[0] += k;\n                                for (k = 1; j >= 10; j /= 10, k++);\n                                // if i != k the length has increased.\n                                if (i != k) {\n                                    x.e++;\n                                    if (xc[0] == BASE)\n                                        xc[0] = 1;\n                                }\n                                break;\n                            } else {\n                                xc[ni] += k;\n                                if (xc[ni] != BASE)\n                                    break;\n                                xc[ni--] = 0;\n                                k = 1;\n                            }\n                        }\n                    }\n                    // Remove trailing zeros.\n                    for (i = xc.length; xc[--i] === 0; xc.pop());\n                }\n                // Overflow? Infinity.\n                if (x.e > MAX_EXP) {\n                    x.c = x.e = null;    // Underflow? Zero.\n                } else if (x.e < MIN_EXP) {\n                    x.c = [x.e = 0];\n                }\n            }\n            return x;\n        }\n        // PROTOTYPE/INSTANCE METHODS\n        /*\n         * Return a new BigNumber whose value is the absolute value of this BigNumber.\n         */\n        P.absoluteValue = P.abs = function () {\n            var x = new BigNumber(this);\n            if (x.s < 0)\n                x.s = 1;\n            return x;\n        };\n        /*\n         * Return a new BigNumber whose value is the value of this BigNumber rounded to a whole\n         * number in the direction of Infinity.\n         */\n        P.ceil = function () {\n            return round(new BigNumber(this), this.e + 1, 2);\n        };\n        /*\n         * Return\n         * 1 if the value of this BigNumber is greater than the value of BigNumber(y, b),\n         * -1 if the value of this BigNumber is less than the value of BigNumber(y, b),\n         * 0 if they have the same value,\n         * or null if the value of either is NaN.\n         */\n        P.comparedTo = P.cmp = function (y, b) {\n            id = 1;\n            return compare(this, new BigNumber(y, b));\n        };\n        /*\n         * Return the number of decimal places of the value of this BigNumber, or null if the value\n         * of this BigNumber is ±Infinity or NaN.\n         */\n        P.decimalPlaces = P.dp = function () {\n            var n, v, c = this.c;\n            if (!c)\n                return null;\n            n = ((v = c.length - 1) - bitFloor(this.e / LOG_BASE)) * LOG_BASE;\n            // Subtract the number of trailing zeros of the last number.\n            if (v = c[v])\n                for (; v % 10 == 0; v /= 10, n--);\n            if (n < 0)\n                n = 0;\n            return n;\n        };\n        /*\n         *  n / 0 = I\n         *  n / N = N\n         *  n / I = 0\n         *  0 / n = 0\n         *  0 / 0 = N\n         *  0 / N = N\n         *  0 / I = 0\n         *  N / n = N\n         *  N / 0 = N\n         *  N / N = N\n         *  N / I = N\n         *  I / n = I\n         *  I / 0 = I\n         *  I / N = N\n         *  I / I = N\n         *\n         * Return a new BigNumber whose value is the value of this BigNumber divided by the value of\n         * BigNumber(y, b), rounded according to DECIMAL_PLACES and ROUNDING_MODE.\n         */\n        P.dividedBy = P.div = function (y, b) {\n            id = 3;\n            return div(this, new BigNumber(y, b), DECIMAL_PLACES, ROUNDING_MODE);\n        };\n        /*\n         * Return a new BigNumber whose value is the integer part of dividing the value of this\n         * BigNumber by the value of BigNumber(y, b).\n         */\n        P.dividedToIntegerBy = P.divToInt = function (y, b) {\n            id = 4;\n            return div(this, new BigNumber(y, b), 0, 1);\n        };\n        /*\n         * Return true if the value of this BigNumber is equal to the value of BigNumber(y, b),\n         * otherwise returns false.\n         */\n        P.equals = P.eq = function (y, b) {\n            id = 5;\n            return compare(this, new BigNumber(y, b)) === 0;\n        };\n        /*\n         * Return a new BigNumber whose value is the value of this BigNumber rounded to a whole\n         * number in the direction of -Infinity.\n         */\n        P.floor = function () {\n            return round(new BigNumber(this), this.e + 1, 3);\n        };\n        /*\n         * Return true if the value of this BigNumber is greater than the value of BigNumber(y, b),\n         * otherwise returns false.\n         */\n        P.greaterThan = P.gt = function (y, b) {\n            id = 6;\n            return compare(this, new BigNumber(y, b)) > 0;\n        };\n        /*\n         * Return true if the value of this BigNumber is greater than or equal to the value of\n         * BigNumber(y, b), otherwise returns false.\n         */\n        P.greaterThanOrEqualTo = P.gte = function (y, b) {\n            id = 7;\n            return (b = compare(this, new BigNumber(y, b))) === 1 || b === 0;\n        };\n        /*\n         * Return true if the value of this BigNumber is a finite number, otherwise returns false.\n         */\n        P.isFinite = function () {\n            return !!this.c;\n        };\n        /*\n         * Return true if the value of this BigNumber is an integer, otherwise return false.\n         */\n        P.isInteger = P.isInt = function () {\n            return !!this.c && bitFloor(this.e / LOG_BASE) > this.c.length - 2;\n        };\n        /*\n         * Return true if the value of this BigNumber is NaN, otherwise returns false.\n         */\n        P.isNaN = function () {\n            return !this.s;\n        };\n        /*\n         * Return true if the value of this BigNumber is negative, otherwise returns false.\n         */\n        P.isNegative = P.isNeg = function () {\n            return this.s < 0;\n        };\n        /*\n         * Return true if the value of this BigNumber is 0 or -0, otherwise returns false.\n         */\n        P.isZero = function () {\n            return !!this.c && this.c[0] == 0;\n        };\n        /*\n         * Return true if the value of this BigNumber is less than the value of BigNumber(y, b),\n         * otherwise returns false.\n         */\n        P.lessThan = P.lt = function (y, b) {\n            id = 8;\n            return compare(this, new BigNumber(y, b)) < 0;\n        };\n        /*\n         * Return true if the value of this BigNumber is less than or equal to the value of\n         * BigNumber(y, b), otherwise returns false.\n         */\n        P.lessThanOrEqualTo = P.lte = function (y, b) {\n            id = 9;\n            return (b = compare(this, new BigNumber(y, b))) === -1 || b === 0;\n        };\n        /*\n         *  n - 0 = n\n         *  n - N = N\n         *  n - I = -I\n         *  0 - n = -n\n         *  0 - 0 = 0\n         *  0 - N = N\n         *  0 - I = -I\n         *  N - n = N\n         *  N - 0 = N\n         *  N - N = N\n         *  N - I = N\n         *  I - n = I\n         *  I - 0 = I\n         *  I - N = N\n         *  I - I = N\n         *\n         * Return a new BigNumber whose value is the value of this BigNumber minus the value of\n         * BigNumber(y, b).\n         */\n        P.minus = P.sub = function (y, b) {\n            var i, j, t, xLTy, x = this, a = x.s;\n            id = 10;\n            y = new BigNumber(y, b);\n            b = y.s;\n            // Either NaN?\n            if (!a || !b)\n                return new BigNumber(NaN);\n            // Signs differ?\n            if (a != b) {\n                y.s = -b;\n                return x.plus(y);\n            }\n            var xe = x.e / LOG_BASE, ye = y.e / LOG_BASE, xc = x.c, yc = y.c;\n            if (!xe || !ye) {\n                // Either Infinity?\n                if (!xc || !yc)\n                    return xc ? (y.s = -b, y) : new BigNumber(yc ? x : NaN);\n                // Either zero?\n                if (!xc[0] || !yc[0]) {\n                    // Return y if y is non-zero, x if x is non-zero, or zero if both are zero.\n                    return yc[0] ? (y.s = -b, y) : new BigNumber(xc[0] ? x : // IEEE 754 (2008) 6.3: n - n = -0 when rounding to -Infinity\n                    ROUNDING_MODE == 3 ? -0 : 0);\n                }\n            }\n            xe = bitFloor(xe);\n            ye = bitFloor(ye);\n            xc = xc.slice();\n            // Determine which is the bigger number.\n            if (a = xe - ye) {\n                if (xLTy = a < 0) {\n                    a = -a;\n                    t = xc;\n                } else {\n                    ye = xe;\n                    t = yc;\n                }\n                t.reverse();\n                // Prepend zeros to equalise exponents.\n                for (b = a; b--; t.push(0));\n                t.reverse();\n            } else {\n                // Exponents equal. Check digit by digit.\n                j = (xLTy = (a = xc.length) < (b = yc.length)) ? a : b;\n                for (a = b = 0; b < j; b++) {\n                    if (xc[b] != yc[b]) {\n                        xLTy = xc[b] < yc[b];\n                        break;\n                    }\n                }\n            }\n            // x < y? Point xc to the array of the bigger number.\n            if (xLTy)\n                t = xc, xc = yc, yc = t, y.s = -y.s;\n            b = (j = yc.length) - (i = xc.length);\n            // Append zeros to xc if shorter.\n            // No need to add zeros to yc if shorter as subtract only needs to start at yc.length.\n            if (b > 0)\n                for (; b--; xc[i++] = 0);\n            b = BASE - 1;\n            // Subtract yc from xc.\n            for (; j > a;) {\n                if (xc[--j] < yc[j]) {\n                    for (i = j; i && !xc[--i]; xc[i] = b);\n                    --xc[i];\n                    xc[j] += BASE;\n                }\n                xc[j] -= yc[j];\n            }\n            // Remove leading zeros and adjust exponent accordingly.\n            for (; xc[0] == 0; xc.splice(0, 1), --ye);\n            // Zero?\n            if (!xc[0]) {\n                // Following IEEE 754 (2008) 6.3,\n                // n - n = +0  but  n - n = -0  when rounding towards -Infinity.\n                y.s = ROUNDING_MODE == 3 ? -1 : 1;\n                y.c = [y.e = 0];\n                return y;\n            }\n            // No need to check for Infinity as +x - +y != Infinity && -x - -y != Infinity\n            // for finite x and y.\n            return normalise(y, xc, ye);\n        };\n        /*\n         *   n % 0 =  N\n         *   n % N =  N\n         *   n % I =  n\n         *   0 % n =  0\n         *  -0 % n = -0\n         *   0 % 0 =  N\n         *   0 % N =  N\n         *   0 % I =  0\n         *   N % n =  N\n         *   N % 0 =  N\n         *   N % N =  N\n         *   N % I =  N\n         *   I % n =  N\n         *   I % 0 =  N\n         *   I % N =  N\n         *   I % I =  N\n         *\n         * Return a new BigNumber whose value is the value of this BigNumber modulo the value of\n         * BigNumber(y, b). The result depends on the value of MODULO_MODE.\n         */\n        P.modulo = P.mod = function (y, b) {\n            var q, s, x = this;\n            id = 11;\n            y = new BigNumber(y, b);\n            // Return NaN if x is Infinity or NaN, or y is NaN or zero.\n            if (!x.c || !y.s || y.c && !y.c[0]) {\n                return new BigNumber(NaN);    // Return x if y is Infinity or x is zero.\n            } else if (!y.c || x.c && !x.c[0]) {\n                return new BigNumber(x);\n            }\n            if (MODULO_MODE == 9) {\n                // Euclidian division: q = sign(y) * floor(x / abs(y))\n                // r = x - qy    where  0 <= r < abs(y)\n                s = y.s;\n                y.s = 1;\n                q = div(x, y, 0, 3);\n                y.s = s;\n                q.s *= s;\n            } else {\n                q = div(x, y, 0, MODULO_MODE);\n            }\n            return x.minus(q.times(y));\n        };\n        /*\n         * Return a new BigNumber whose value is the value of this BigNumber negated,\n         * i.e. multiplied by -1.\n         */\n        P.negated = P.neg = function () {\n            var x = new BigNumber(this);\n            x.s = -x.s || null;\n            return x;\n        };\n        /*\n         *  n + 0 = n\n         *  n + N = N\n         *  n + I = I\n         *  0 + n = n\n         *  0 + 0 = 0\n         *  0 + N = N\n         *  0 + I = I\n         *  N + n = N\n         *  N + 0 = N\n         *  N + N = N\n         *  N + I = N\n         *  I + n = I\n         *  I + 0 = I\n         *  I + N = N\n         *  I + I = I\n         *\n         * Return a new BigNumber whose value is the value of this BigNumber plus the value of\n         * BigNumber(y, b).\n         */\n        P.plus = P.add = function (y, b) {\n            var t, x = this, a = x.s;\n            id = 12;\n            y = new BigNumber(y, b);\n            b = y.s;\n            // Either NaN?\n            if (!a || !b)\n                return new BigNumber(NaN);\n            // Signs differ?\n            if (a != b) {\n                y.s = -b;\n                return x.minus(y);\n            }\n            var xe = x.e / LOG_BASE, ye = y.e / LOG_BASE, xc = x.c, yc = y.c;\n            if (!xe || !ye) {\n                // Return ±Infinity if either ±Infinity.\n                if (!xc || !yc)\n                    return new BigNumber(a / 0);\n                // Either zero?\n                // Return y if y is non-zero, x if x is non-zero, or zero if both are zero.\n                if (!xc[0] || !yc[0])\n                    return yc[0] ? y : new BigNumber(xc[0] ? x : a * 0);\n            }\n            xe = bitFloor(xe);\n            ye = bitFloor(ye);\n            xc = xc.slice();\n            // Prepend zeros to equalise exponents. Faster to use reverse then do unshifts.\n            if (a = xe - ye) {\n                if (a > 0) {\n                    ye = xe;\n                    t = yc;\n                } else {\n                    a = -a;\n                    t = xc;\n                }\n                t.reverse();\n                for (; a--; t.push(0));\n                t.reverse();\n            }\n            a = xc.length;\n            b = yc.length;\n            // Point xc to the longer array, and b to the shorter length.\n            if (a - b < 0)\n                t = yc, yc = xc, xc = t, b = a;\n            // Only start adding at yc.length - 1 as the further digits of xc can be ignored.\n            for (a = 0; b;) {\n                a = (xc[--b] = xc[b] + yc[b] + a) / BASE | 0;\n                xc[b] = BASE === xc[b] ? 0 : xc[b] % BASE;\n            }\n            if (a) {\n                xc = [a].concat(xc);\n                ++ye;\n            }\n            // No need to check for zero, as +x + +y != 0 && -x + -y != 0\n            // ye = MAX_EXP + 1 possible\n            return normalise(y, xc, ye);\n        };\n        /*\n         * Return the number of significant digits of the value of this BigNumber.\n         *\n         * [z] {boolean|number} Whether to count integer-part trailing zeros: true, false, 1 or 0.\n         */\n        P.precision = P.sd = function (z) {\n            var n, v, x = this, c = x.c;\n            // 'precision() argument not a boolean or binary digit: {z}'\n            if (z != null && z !== !!z && z !== 1 && z !== 0) {\n                if (ERRORS)\n                    raise(13, 'argument' + notBool, z);\n                if (z != !!z)\n                    z = null;\n            }\n            if (!c)\n                return null;\n            v = c.length - 1;\n            n = v * LOG_BASE + 1;\n            if (v = c[v]) {\n                // Subtract the number of trailing zeros of the last element.\n                for (; v % 10 == 0; v /= 10, n--);\n                // Add the number of digits of the first element.\n                for (v = c[0]; v >= 10; v /= 10, n++);\n            }\n            if (z && x.e + 1 > n)\n                n = x.e + 1;\n            return n;\n        };\n        /*\n         * Return a new BigNumber whose value is the value of this BigNumber rounded to a maximum of\n         * dp decimal places using rounding mode rm, or to 0 and ROUNDING_MODE respectively if\n         * omitted.\n         *\n         * [dp] {number} Decimal places. Integer, 0 to MAX inclusive.\n         * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\n         *\n         * 'round() decimal places out of range: {dp}'\n         * 'round() decimal places not an integer: {dp}'\n         * 'round() rounding mode not an integer: {rm}'\n         * 'round() rounding mode out of range: {rm}'\n         */\n        P.round = function (dp, rm) {\n            var n = new BigNumber(this);\n            if (dp == null || isValidInt(dp, 0, MAX, 15)) {\n                round(n, ~~dp + this.e + 1, rm == null || !isValidInt(rm, 0, 8, 15, roundingMode) ? ROUNDING_MODE : rm | 0);\n            }\n            return n;\n        };\n        /*\n         * Return a new BigNumber whose value is the value of this BigNumber shifted by k places\n         * (powers of 10). Shift to the right if n > 0, and to the left if n < 0.\n         *\n         * k {number} Integer, -MAX_SAFE_INTEGER to MAX_SAFE_INTEGER inclusive.\n         *\n         * If k is out of range and ERRORS is false, the result will be ±0 if k < 0, or ±Infinity\n         * otherwise.\n         *\n         * 'shift() argument not an integer: {k}'\n         * 'shift() argument out of range: {k}'\n         */\n        P.shift = function (k) {\n            var n = this;\n            return isValidInt(k, -MAX_SAFE_INTEGER, MAX_SAFE_INTEGER, 16, 'argument')    // k < 1e+21, or truncate(k) will produce exponential notation.\n ? n.times('1e' + truncate(k)) : new BigNumber(n.c && n.c[0] && (k < -MAX_SAFE_INTEGER || k > MAX_SAFE_INTEGER) ? n.s * (k < 0 ? 0 : 1 / 0) : n);\n        };\n        /*\n         *  sqrt(-n) =  N\n         *  sqrt( N) =  N\n         *  sqrt(-I) =  N\n         *  sqrt( I) =  I\n         *  sqrt( 0) =  0\n         *  sqrt(-0) = -0\n         *\n         * Return a new BigNumber whose value is the square root of the value of this BigNumber,\n         * rounded according to DECIMAL_PLACES and ROUNDING_MODE.\n         */\n        P.squareRoot = P.sqrt = function () {\n            var m, n, r, rep, t, x = this, c = x.c, s = x.s, e = x.e, dp = DECIMAL_PLACES + 4, half = new BigNumber('0.5');\n            // Negative/NaN/Infinity/zero?\n            if (s !== 1 || !c || !c[0]) {\n                return new BigNumber(!s || s < 0 && (!c || c[0]) ? NaN : c ? x : 1 / 0);\n            }\n            // Initial estimate.\n            s = Math.sqrt(+x);\n            // Math.sqrt underflow/overflow?\n            // Pass x to Math.sqrt as integer, then adjust the exponent of the result.\n            if (s == 0 || s == 1 / 0) {\n                n = coeffToString(c);\n                if ((n.length + e) % 2 == 0)\n                    n += '0';\n                s = Math.sqrt(n);\n                e = bitFloor((e + 1) / 2) - (e < 0 || e % 2);\n                if (s == 1 / 0) {\n                    n = '1e' + e;\n                } else {\n                    n = s.toExponential();\n                    n = n.slice(0, n.indexOf('e') + 1) + e;\n                }\n                r = new BigNumber(n);\n            } else {\n                r = new BigNumber(s + '');\n            }\n            // Check for zero.\n            // r could be zero if MIN_EXP is changed after the this value was created.\n            // This would cause a division by zero (x/t) and hence Infinity below, which would cause\n            // coeffToString to throw.\n            if (r.c[0]) {\n                e = r.e;\n                s = e + dp;\n                if (s < 3)\n                    s = 0;\n                // Newton-Raphson iteration.\n                for (;;) {\n                    t = r;\n                    r = half.times(t.plus(div(x, t, dp, 1)));\n                    if (coeffToString(t.c).slice(0, s) === (n = coeffToString(r.c)).slice(0, s)) {\n                        // The exponent of r may here be one less than the final result exponent,\n                        // e.g 0.0009999 (e-4) --> 0.001 (e-3), so adjust s so the rounding digits\n                        // are indexed correctly.\n                        if (r.e < e)\n                            --s;\n                        n = n.slice(s - 3, s + 1);\n                        // The 4th rounding digit may be in error by -1 so if the 4 rounding digits\n                        // are 9999 or 4999 (i.e. approaching a rounding boundary) continue the\n                        // iteration.\n                        if (n == '9999' || !rep && n == '4999') {\n                            // On the first iteration only, check to see if rounding up gives the\n                            // exact result as the nines may infinitely repeat.\n                            if (!rep) {\n                                round(t, t.e + DECIMAL_PLACES + 2, 0);\n                                if (t.times(t).eq(x)) {\n                                    r = t;\n                                    break;\n                                }\n                            }\n                            dp += 4;\n                            s += 4;\n                            rep = 1;\n                        } else {\n                            // If rounding digits are null, 0{0,4} or 50{0,3}, check for exact\n                            // result. If not, then there are further digits and m will be truthy.\n                            if (!+n || !+n.slice(1) && n.charAt(0) == '5') {\n                                // Truncate to the first rounding digit.\n                                round(r, r.e + DECIMAL_PLACES + 2, 1);\n                                m = !r.times(r).eq(x);\n                            }\n                            break;\n                        }\n                    }\n                }\n            }\n            return round(r, r.e + DECIMAL_PLACES + 1, ROUNDING_MODE, m);\n        };\n        /*\n         *  n * 0 = 0\n         *  n * N = N\n         *  n * I = I\n         *  0 * n = 0\n         *  0 * 0 = 0\n         *  0 * N = N\n         *  0 * I = N\n         *  N * n = N\n         *  N * 0 = N\n         *  N * N = N\n         *  N * I = N\n         *  I * n = I\n         *  I * 0 = N\n         *  I * N = N\n         *  I * I = I\n         *\n         * Return a new BigNumber whose value is the value of this BigNumber times the value of\n         * BigNumber(y, b).\n         */\n        P.times = P.mul = function (y, b) {\n            var c, e, i, j, k, m, xcL, xlo, xhi, ycL, ylo, yhi, zc, base, sqrtBase, x = this, xc = x.c, yc = (id = 17, y = new BigNumber(y, b)).c;\n            // Either NaN, ±Infinity or ±0?\n            if (!xc || !yc || !xc[0] || !yc[0]) {\n                // Return NaN if either is NaN, or one is 0 and the other is Infinity.\n                if (!x.s || !y.s || xc && !xc[0] && !yc || yc && !yc[0] && !xc) {\n                    y.c = y.e = y.s = null;\n                } else {\n                    y.s *= x.s;\n                    // Return ±Infinity if either is ±Infinity.\n                    if (!xc || !yc) {\n                        y.c = y.e = null;    // Return ±0 if either is ±0.\n                    } else {\n                        y.c = [0];\n                        y.e = 0;\n                    }\n                }\n                return y;\n            }\n            e = bitFloor(x.e / LOG_BASE) + bitFloor(y.e / LOG_BASE);\n            y.s *= x.s;\n            xcL = xc.length;\n            ycL = yc.length;\n            // Ensure xc points to longer array and xcL to its length.\n            if (xcL < ycL)\n                zc = xc, xc = yc, yc = zc, i = xcL, xcL = ycL, ycL = i;\n            // Initialise the result array with zeros.\n            for (i = xcL + ycL, zc = []; i--; zc.push(0));\n            base = BASE;\n            sqrtBase = SQRT_BASE;\n            for (i = ycL; --i >= 0;) {\n                c = 0;\n                ylo = yc[i] % sqrtBase;\n                yhi = yc[i] / sqrtBase | 0;\n                for (k = xcL, j = i + k; j > i;) {\n                    xlo = xc[--k] % sqrtBase;\n                    xhi = xc[k] / sqrtBase | 0;\n                    m = yhi * xlo + xhi * ylo;\n                    xlo = ylo * xlo + m % sqrtBase * sqrtBase + zc[j] + c;\n                    c = (xlo / base | 0) + (m / sqrtBase | 0) + yhi * xhi;\n                    zc[j--] = xlo % base;\n                }\n                zc[j] = c;\n            }\n            if (c) {\n                ++e;\n            } else {\n                zc.splice(0, 1);\n            }\n            return normalise(y, zc, e);\n        };\n        /*\n         * Return a new BigNumber whose value is the value of this BigNumber rounded to a maximum of\n         * sd significant digits using rounding mode rm, or ROUNDING_MODE if rm is omitted.\n         *\n         * [sd] {number} Significant digits. Integer, 1 to MAX inclusive.\n         * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\n         *\n         * 'toDigits() precision out of range: {sd}'\n         * 'toDigits() precision not an integer: {sd}'\n         * 'toDigits() rounding mode not an integer: {rm}'\n         * 'toDigits() rounding mode out of range: {rm}'\n         */\n        P.toDigits = function (sd, rm) {\n            var n = new BigNumber(this);\n            sd = sd == null || !isValidInt(sd, 1, MAX, 18, 'precision') ? null : sd | 0;\n            rm = rm == null || !isValidInt(rm, 0, 8, 18, roundingMode) ? ROUNDING_MODE : rm | 0;\n            return sd ? round(n, sd, rm) : n;\n        };\n        /*\n         * Return a string representing the value of this BigNumber in exponential notation and\n         * rounded using ROUNDING_MODE to dp fixed decimal places.\n         *\n         * [dp] {number} Decimal places. Integer, 0 to MAX inclusive.\n         * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\n         *\n         * 'toExponential() decimal places not an integer: {dp}'\n         * 'toExponential() decimal places out of range: {dp}'\n         * 'toExponential() rounding mode not an integer: {rm}'\n         * 'toExponential() rounding mode out of range: {rm}'\n         */\n        P.toExponential = function (dp, rm) {\n            return format(this, dp != null && isValidInt(dp, 0, MAX, 19) ? ~~dp + 1 : null, rm, 19);\n        };\n        /*\n         * Return a string representing the value of this BigNumber in fixed-point notation rounding\n         * to dp fixed decimal places using rounding mode rm, or ROUNDING_MODE if rm is omitted.\n         *\n         * Note: as with JavaScript's number type, (-0).toFixed(0) is '0',\n         * but e.g. (-0.00001).toFixed(0) is '-0'.\n         *\n         * [dp] {number} Decimal places. Integer, 0 to MAX inclusive.\n         * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\n         *\n         * 'toFixed() decimal places not an integer: {dp}'\n         * 'toFixed() decimal places out of range: {dp}'\n         * 'toFixed() rounding mode not an integer: {rm}'\n         * 'toFixed() rounding mode out of range: {rm}'\n         */\n        P.toFixed = function (dp, rm) {\n            return format(this, dp != null && isValidInt(dp, 0, MAX, 20) ? ~~dp + this.e + 1 : null, rm, 20);\n        };\n        /*\n         * Return a string representing the value of this BigNumber in fixed-point notation rounded\n         * using rm or ROUNDING_MODE to dp decimal places, and formatted according to the properties\n         * of the FORMAT object (see BigNumber.config).\n         *\n         * FORMAT = {\n         *      decimalSeparator : '.',\n         *      groupSeparator : ',',\n         *      groupSize : 3,\n         *      secondaryGroupSize : 0,\n         *      fractionGroupSeparator : '\\xA0',    // non-breaking space\n         *      fractionGroupSize : 0\n         * };\n         *\n         * [dp] {number} Decimal places. Integer, 0 to MAX inclusive.\n         * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\n         *\n         * 'toFormat() decimal places not an integer: {dp}'\n         * 'toFormat() decimal places out of range: {dp}'\n         * 'toFormat() rounding mode not an integer: {rm}'\n         * 'toFormat() rounding mode out of range: {rm}'\n         */\n        P.toFormat = function (dp, rm) {\n            var str = format(this, dp != null && isValidInt(dp, 0, MAX, 21) ? ~~dp + this.e + 1 : null, rm, 21);\n            if (this.c) {\n                var i, arr = str.split('.'), g1 = +FORMAT.groupSize, g2 = +FORMAT.secondaryGroupSize, groupSeparator = FORMAT.groupSeparator, intPart = arr[0], fractionPart = arr[1], isNeg = this.s < 0, intDigits = isNeg ? intPart.slice(1) : intPart, len = intDigits.length;\n                if (g2)\n                    i = g1, g1 = g2, g2 = i, len -= i;\n                if (g1 > 0 && len > 0) {\n                    i = len % g1 || g1;\n                    intPart = intDigits.substr(0, i);\n                    for (; i < len; i += g1) {\n                        intPart += groupSeparator + intDigits.substr(i, g1);\n                    }\n                    if (g2 > 0)\n                        intPart += groupSeparator + intDigits.slice(i);\n                    if (isNeg)\n                        intPart = '-' + intPart;\n                }\n                str = fractionPart ? intPart + FORMAT.decimalSeparator + ((g2 = +FORMAT.fractionGroupSize) ? fractionPart.replace(new RegExp('\\\\d{' + g2 + '}\\\\B', 'g'), '$&' + FORMAT.fractionGroupSeparator) : fractionPart) : intPart;\n            }\n            return str;\n        };\n        /*\n         * Return a string array representing the value of this BigNumber as a simple fraction with\n         * an integer numerator and an integer denominator. The denominator will be a positive\n         * non-zero value less than or equal to the specified maximum denominator. If a maximum\n         * denominator is not specified, the denominator will be the lowest value necessary to\n         * represent the number exactly.\n         *\n         * [md] {number|string|BigNumber} Integer >= 1 and < Infinity. The maximum denominator.\n         *\n         * 'toFraction() max denominator not an integer: {md}'\n         * 'toFraction() max denominator out of range: {md}'\n         */\n        P.toFraction = function (md) {\n            var arr, d0, d2, e, exp, n, n0, q, s, k = ERRORS, x = this, xc = x.c, d = new BigNumber(ONE), n1 = d0 = new BigNumber(ONE), d1 = n0 = new BigNumber(ONE);\n            if (md != null) {\n                ERRORS = false;\n                n = new BigNumber(md);\n                ERRORS = k;\n                if (!(k = n.isInt()) || n.lt(ONE)) {\n                    if (ERRORS) {\n                        raise(22, 'max denominator ' + (k ? 'out of range' : 'not an integer'), md);\n                    }\n                    // ERRORS is false:\n                    // If md is a finite non-integer >= 1, round it to an integer and use it.\n                    md = !k && n.c && round(n, n.e + 1, 1).gte(ONE) ? n : null;\n                }\n            }\n            if (!xc)\n                return x.toString();\n            s = coeffToString(xc);\n            // Determine initial denominator.\n            // d is a power of 10 and the minimum max denominator that specifies the value exactly.\n            e = d.e = s.length - x.e - 1;\n            d.c[0] = POWS_TEN[(exp = e % LOG_BASE) < 0 ? LOG_BASE + exp : exp];\n            md = !md || n.cmp(d) > 0 ? e > 0 ? d : n1 : n;\n            exp = MAX_EXP;\n            MAX_EXP = 1 / 0;\n            n = new BigNumber(s);\n            // n0 = d1 = 0\n            n0.c[0] = 0;\n            for (;;) {\n                q = div(n, d, 0, 1);\n                d2 = d0.plus(q.times(d1));\n                if (d2.cmp(md) == 1)\n                    break;\n                d0 = d1;\n                d1 = d2;\n                n1 = n0.plus(q.times(d2 = n1));\n                n0 = d2;\n                d = n.minus(q.times(d2 = d));\n                n = d2;\n            }\n            d2 = div(md.minus(d0), d1, 0, 1);\n            n0 = n0.plus(d2.times(n1));\n            d0 = d0.plus(d2.times(d1));\n            n0.s = n1.s = x.s;\n            e *= 2;\n            // Determine which fraction is closer to x, n0/d0 or n1/d1\n            arr = div(n1, d1, e, ROUNDING_MODE).minus(x).abs().cmp(div(n0, d0, e, ROUNDING_MODE).minus(x).abs()) < 1 ? [\n                n1.toString(),\n                d1.toString()\n            ] : [\n                n0.toString(),\n                d0.toString()\n            ];\n            MAX_EXP = exp;\n            return arr;\n        };\n        /*\n         * Return the value of this BigNumber converted to a number primitive.\n         */\n        P.toNumber = function () {\n            return +this;\n        };\n        /*\n         * Return a BigNumber whose value is the value of this BigNumber raised to the power n.\n         * If m is present, return the result modulo m.\n         * If n is negative round according to DECIMAL_PLACES and ROUNDING_MODE.\n         * If POW_PRECISION is non-zero and m is not present, round to POW_PRECISION using\n         * ROUNDING_MODE.\n         *\n         * The modular power operation works efficiently when x, n, and m are positive integers,\n         * otherwise it is equivalent to calculating x.toPower(n).modulo(m) (with POW_PRECISION 0).\n         *\n         * n {number} Integer, -MAX_SAFE_INTEGER to MAX_SAFE_INTEGER inclusive.\n         * [m] {number|string|BigNumber} The modulus.\n         *\n         * 'pow() exponent not an integer: {n}'\n         * 'pow() exponent out of range: {n}'\n         *\n         * Performs 54 loop iterations for n of 9007199254740991.\n         */\n        P.toPower = P.pow = function (n, m) {\n            var k, y, z, i = mathfloor(n < 0 ? -n : +n), x = this;\n            if (m != null) {\n                id = 23;\n                m = new BigNumber(m);\n            }\n            // Pass ±Infinity to Math.pow if exponent is out of range.\n            if (!isValidInt(n, -MAX_SAFE_INTEGER, MAX_SAFE_INTEGER, 23, 'exponent') && (!isFinite(n) || i > MAX_SAFE_INTEGER && (n /= 0) || parseFloat(n) != n && !(n = NaN)) || n == 0) {\n                k = Math.pow(+x, n);\n                return new BigNumber(m ? k % m : k);\n            }\n            if (m) {\n                if (n > 1 && x.gt(ONE) && x.isInt() && m.gt(ONE) && m.isInt()) {\n                    x = x.mod(m);\n                } else {\n                    z = m;\n                    // Nullify m so only a single mod operation is performed at the end.\n                    m = null;\n                }\n            } else if (POW_PRECISION) {\n                // Truncating each coefficient array to a length of k after each multiplication\n                // equates to truncating significant digits to POW_PRECISION + [28, 41],\n                // i.e. there will be a minimum of 28 guard digits retained.\n                // (Using + 1.5 would give [9, 21] guard digits.)\n                k = mathceil(POW_PRECISION / LOG_BASE + 2);\n            }\n            y = new BigNumber(ONE);\n            for (;;) {\n                if (i % 2) {\n                    y = y.times(x);\n                    if (!y.c)\n                        break;\n                    if (k) {\n                        if (y.c.length > k)\n                            y.c.length = k;\n                    } else if (m) {\n                        y = y.mod(m);\n                    }\n                }\n                i = mathfloor(i / 2);\n                if (!i)\n                    break;\n                x = x.times(x);\n                if (k) {\n                    if (x.c && x.c.length > k)\n                        x.c.length = k;\n                } else if (m) {\n                    x = x.mod(m);\n                }\n            }\n            if (m)\n                return y;\n            if (n < 0)\n                y = ONE.div(y);\n            return z ? y.mod(z) : k ? round(y, POW_PRECISION, ROUNDING_MODE) : y;\n        };\n        /*\n         * Return a string representing the value of this BigNumber rounded to sd significant digits\n         * using rounding mode rm or ROUNDING_MODE. If sd is less than the number of digits\n         * necessary to represent the integer part of the value in fixed-point notation, then use\n         * exponential notation.\n         *\n         * [sd] {number} Significant digits. Integer, 1 to MAX inclusive.\n         * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\n         *\n         * 'toPrecision() precision not an integer: {sd}'\n         * 'toPrecision() precision out of range: {sd}'\n         * 'toPrecision() rounding mode not an integer: {rm}'\n         * 'toPrecision() rounding mode out of range: {rm}'\n         */\n        P.toPrecision = function (sd, rm) {\n            return format(this, sd != null && isValidInt(sd, 1, MAX, 24, 'precision') ? sd | 0 : null, rm, 24);\n        };\n        /*\n         * Return a string representing the value of this BigNumber in base b, or base 10 if b is\n         * omitted. If a base is specified, including base 10, round according to DECIMAL_PLACES and\n         * ROUNDING_MODE. If a base is not specified, and this BigNumber has a positive exponent\n         * that is equal to or greater than TO_EXP_POS, or a negative exponent equal to or less than\n         * TO_EXP_NEG, return exponential notation.\n         *\n         * [b] {number} Integer, 2 to 64 inclusive.\n         *\n         * 'toString() base not an integer: {b}'\n         * 'toString() base out of range: {b}'\n         */\n        P.toString = function (b) {\n            var str, n = this, s = n.s, e = n.e;\n            // Infinity or NaN?\n            if (e === null) {\n                if (s) {\n                    str = 'Infinity';\n                    if (s < 0)\n                        str = '-' + str;\n                } else {\n                    str = 'NaN';\n                }\n            } else {\n                str = coeffToString(n.c);\n                if (b == null || !isValidInt(b, 2, 64, 25, 'base')) {\n                    str = e <= TO_EXP_NEG || e >= TO_EXP_POS ? toExponential(str, e) : toFixedPoint(str, e);\n                } else {\n                    str = convertBase(toFixedPoint(str, e), b | 0, 10, s);\n                }\n                if (s < 0 && n.c[0])\n                    str = '-' + str;\n            }\n            return str;\n        };\n        /*\n         * Return a new BigNumber whose value is the value of this BigNumber truncated to a whole\n         * number.\n         */\n        P.truncated = P.trunc = function () {\n            return round(new BigNumber(this), this.e + 1, 1);\n        };\n        /*\n         * Return as toString, but do not accept a base argument, and include the minus sign for\n         * negative zero.\n         */\n        P.valueOf = P.toJSON = function () {\n            var str, n = this, e = n.e;\n            if (e === null)\n                return n.toString();\n            str = coeffToString(n.c);\n            str = e <= TO_EXP_NEG || e >= TO_EXP_POS ? toExponential(str, e) : toFixedPoint(str, e);\n            return n.s < 0 ? '-' + str : str;\n        };\n        P.isBigNumber = true;\n        if (config != null)\n            BigNumber.config(config);\n        return BigNumber;\n    }\n    // PRIVATE HELPER FUNCTIONS\n    function bitFloor(n) {\n        var i = n | 0;\n        return n > 0 || n === i ? i : i - 1;\n    }\n    // Return a coefficient array as a string of base 10 digits.\n    function coeffToString(a) {\n        var s, z, i = 1, j = a.length, r = a[0] + '';\n        for (; i < j;) {\n            s = a[i++] + '';\n            z = LOG_BASE - s.length;\n            for (; z--; s = '0' + s);\n            r += s;\n        }\n        // Determine trailing zeros.\n        for (j = r.length; r.charCodeAt(--j) === 48;);\n        return r.slice(0, j + 1 || 1);\n    }\n    // Compare the value of BigNumbers x and y.\n    function compare(x, y) {\n        var a, b, xc = x.c, yc = y.c, i = x.s, j = y.s, k = x.e, l = y.e;\n        // Either NaN?\n        if (!i || !j)\n            return null;\n        a = xc && !xc[0];\n        b = yc && !yc[0];\n        // Either zero?\n        if (a || b)\n            return a ? b ? 0 : -j : i;\n        // Signs differ?\n        if (i != j)\n            return i;\n        a = i < 0;\n        b = k == l;\n        // Either Infinity?\n        if (!xc || !yc)\n            return b ? 0 : !xc ^ a ? 1 : -1;\n        // Compare exponents.\n        if (!b)\n            return k > l ^ a ? 1 : -1;\n        j = (k = xc.length) < (l = yc.length) ? k : l;\n        // Compare digit by digit.\n        for (i = 0; i < j; i++)\n            if (xc[i] != yc[i])\n                return xc[i] > yc[i] ^ a ? 1 : -1;\n        // Compare lengths.\n        return k == l ? 0 : k > l ^ a ? 1 : -1;\n    }\n    /*\n     * Return true if n is a valid number in range, otherwise false.\n     * Use for argument validation when ERRORS is false.\n     * Note: parseInt('1e+1') == 1 but parseFloat('1e+1') == 10.\n     */\n    function intValidatorNoErrors(n, min, max) {\n        return (n = truncate(n)) >= min && n <= max;\n    }\n    function isArray(obj) {\n        return Object.prototype.toString.call(obj) == '[object Array]';\n    }\n    /*\n     * Convert string of baseIn to an array of numbers of baseOut.\n     * Eg. convertBase('255', 10, 16) returns [15, 15].\n     * Eg. convertBase('ff', 16, 10) returns [2, 5, 5].\n     */\n    function toBaseOut(str, baseIn, baseOut) {\n        var j, arr = [0], arrL, i = 0, len = str.length;\n        for (; i < len;) {\n            for (arrL = arr.length; arrL--; arr[arrL] *= baseIn);\n            arr[j = 0] += ALPHABET.indexOf(str.charAt(i++));\n            for (; j < arr.length; j++) {\n                if (arr[j] > baseOut - 1) {\n                    if (arr[j + 1] == null)\n                        arr[j + 1] = 0;\n                    arr[j + 1] += arr[j] / baseOut | 0;\n                    arr[j] %= baseOut;\n                }\n            }\n        }\n        return arr.reverse();\n    }\n    function toExponential(str, e) {\n        return (str.length > 1 ? str.charAt(0) + '.' + str.slice(1) : str) + (e < 0 ? 'e' : 'e+') + e;\n    }\n    function toFixedPoint(str, e) {\n        var len, z;\n        // Negative exponent?\n        if (e < 0) {\n            // Prepend zeros.\n            for (z = '0.'; ++e; z += '0');\n            str = z + str;    // Positive exponent\n        } else {\n            len = str.length;\n            // Append zeros.\n            if (++e > len) {\n                for (z = '0', e -= len; --e; z += '0');\n                str += z;\n            } else if (e < len) {\n                str = str.slice(0, e) + '.' + str.slice(e);\n            }\n        }\n        return str;\n    }\n    function truncate(n) {\n        n = parseFloat(n);\n        return n < 0 ? mathceil(n) : mathfloor(n);\n    }\n    // EXPORT\n    BigNumber = constructorFactory();\n    BigNumber['default'] = BigNumber.BigNumber = BigNumber;\n    // AMD.\n    if (typeof define == 'function' && define.amd) {\n        define('bignumber', [], function () {\n            return BigNumber;\n        });    // Node.js and other environments that support module.exports.\n    } else if (typeof module != 'undefined' && module.exports) {\n        module.exports = BigNumber;    // Browser.\n    } else {\n        if (!globalObj)\n            globalObj = typeof self != 'undefined' ? self : Function('return this')();\n        globalObj.BigNumber = BigNumber;\n    }\n}(this));","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module Profile\ndefine('Profile.Model', [\n    'Address.Collection',\n    'SC.Configuration',\n    'CreditCard.Collection',\n    'Singleton',\n    'underscore',\n    'jQuery',\n    'Backbone',\n    'bignumber',\n    'Utils'\n], function (AddressCollection, Configuration, CreditCardsCollection, Singleton, _, jQuery, Backbone, BigNumber, Utils) {\n    'use strict';\n    var classProperties = _.extend({\n            // @method getPromise\n            // @static\n            // @return {jQuery.Deferred}\n            getPromise: function () {\n                var self = this;\n                if (!SC.PROFILE_PROMISE) {\n                    SC.PROFILE_PROMISE = jQuery.Deferred().done(function (profile) {\n                        delete SC.ENVIRONMENT.PROFILE;\n                        self.getInstance().set(profile);\n                    });\n                }\n                // if the user.env has already loaded, resolve the profile promise if not already resolved\n                if (SC.ENVIRONMENT.PROFILE && SC.PROFILE_PROMISE.state() !== 'resolved') {\n                    SC.PROFILE_PROMISE.resolve(SC.ENVIRONMENT.PROFILE);\n                }\n                return SC.PROFILE_PROMISE;\n            }\n        }, Singleton)    //@class Profile.Model @extend Backbone.Model\n, ProfileModel = Backbone.Model.extend({\n            validation: {\n                firstname: {\n                    required: true,\n                    msg: _('First Name is required').translate()\n                }    // This code is commented temporally, because of the inconsistence between Checkout and My Account regarding the require data from profile information (Checkout can miss last name)\n,\n                lastname: {\n                    required: true,\n                    msg: _('Last Name is required').translate()\n                },\n                email: {\n                    required: true,\n                    pattern: 'email',\n                    msg: _('Valid Email is required').translate()\n                },\n                phone: {\n                    required: true,\n                    fn: Utils.validatePhone\n                },\n                companyname: {\n                    required: function isCompanyRequired() {\n                        return Configuration.get('siteSettings.registration.companyfieldmandatory', 'F') === 'T';\n                    },\n                    msg: _('Company Name is required').translate()\n                }    // if the user wants to change its email we need ask for confirmation and current password.\n                     // We leave this validation in this model, instead of creating a new one like UpdatePassword, because\n                     // the email is updated in the same window than the rest of the attributes\n,\n                confirm_email: function (confirm_email, attr, form) {\n                    if (Utils.trim(form.email) !== this.attributes.email && Utils.trim(confirm_email) !== Utils.trim(form.email)) {\n                        return _('Emails do not match').translate();\n                    }\n                },\n                current_password: function (current_password, attr, form) {\n                    if (Utils.trim(form.email) !== this.attributes.email && (_.isNull(current_password) || _.isUndefined(current_password) || _.isString(current_password) && Utils.trim(current_password) === '')) {\n                        return _('Current password is required').translate();\n                    }\n                }\n            },\n            urlRoot: 'services/Profile.Service.ss',\n            initialize: function initialize(attributes) {\n                this.on('change:addresses', function () {\n                    this.get('addresses').on('change:defaultshipping change:defaultbilling add destroy reset', this.checkDefaultsAddresses, this);\n                });\n                this.on('change:creditcards', function (model, creditcards) {\n                    model.set('creditcards', new CreditCardsCollection(creditcards), { silent: true });\n                    this.get('creditcards').on('change:ccdefault add destroy reset', this.checkDefaultsCreditCard, this);\n                });\n                this.on('change:balance', function (model) {\n                    if (_.isNumber(model.get('creditlimit')) && _.isNumber(model.get('balance'))) {\n                        var balance_available;\n                        if (typeof BigNumber !== 'undefined') {\n                            balance_available = new BigNumber(model.get('creditlimit')).minus(model.get('balance'));\n                        } else {\n                            balance_available = model.get('creditlimit') - model.get('balance');\n                        }\n                        model.set('balance_available', balance_available);\n                        model.set('balance_available_formatted', Utils.formatCurrency(balance_available));\n                    }\n                });\n                this.set('addresses', attributes && attributes.addresses || new AddressCollection());\n                this.set('creditcards', attributes && attributes.creditcards || new CreditCardsCollection());\n            }    // @method checkDefaultsAddresses\n                 // @param {Profile.Model} model\n                 // @return {Void}\n,\n            checkDefaultsAddresses: function checkDefaultsAddresses(model) {\n                var addresses = this.get('addresses'), Model = addresses.model;\n                if (model instanceof Model) {\n                    // if the created/modified address is set as default for shipping we set every other one as not default\n                    if (model.get('defaultshipping') === 'T') {\n                        _.each(addresses.where({ defaultshipping: 'T' }), function (address) {\n                            if (model !== address) {\n                                address.set({ defaultshipping: 'F' }, { silent: true });\n                            }\n                        });\n                    }\n                    // if the created/modified address is set as default for billing we set every other one as not default\n                    if (model.get('defaultbilling') === 'T') {\n                        _.each(addresses.where({ defaultbilling: 'T' }), function (address) {\n                            if (model !== address) {\n                                address.set({ defaultbilling: 'F' }, { silent: true });\n                            }\n                        });\n                    }\n                }\n            }    // @method checkDefaultsCreditCard\n                 // @param {Profile.Model} model\n                 // @return {Void}\n,\n            checkDefaultsCreditCard: function (model) {\n                var creditcards = this.get('creditcards'), Model = creditcards.model;\n                // if the created/modified card is set as default we set every other card as not default\n                if (model.get('ccdefault') === 'T') {\n                    _.each(creditcards.where({ ccdefault: 'T' }), function (creditCard) {\n                        if (creditCard && model !== creditCard) {\n                            creditCard.set({ ccdefault: 'F' }, { silent: true });\n                        }\n                    });\n                }\n                var default_creditcard = creditcards.find(function (model) {\n                    return model.get('ccdefault') === 'T';\n                });\n                // set the default card in the collection as the profile's default card\n                this.set('defaultCreditCard', default_creditcard || new Model({ ccdefault: 'T' }));\n            }    // @method getSearchApiUrl\n                 // @return {String}\n,\n            getSearchApiUrl: function () {\n                //We've got to disable passwordProtectedSite and loginToSeePrices features if customer registration is disabled.\n                if (Configuration.getRegistrationType() !== 'disabled' && (Configuration.get('siteSettings.requireloginforpricing', 'F') === 'T' || Configuration.get('siteSettings.siteloginrequired', 'F') === 'T') && this.get('isLoggedIn') === 'T') {\n                    return Utils.getAbsoluteUrl('searchApi.ssp');\n                }\n                return '/api/items';\n            }    // @method isAvoidingDoubleRedirect\n                 // @return {Boolean}\n,\n            isAvoidingDoubleRedirect: function () {\n                //We've got to disable passwordProtectedSite and loginToSeePrices features if customer registration is disabled.\n                return Configuration.getRegistrationType() !== 'disabled' && (Configuration.get('siteSettings.requireloginforpricing', 'F') === 'T' || Configuration.get('siteSettings.siteloginrequired', 'F') === 'T') && this.get('isLoggedIn') === 'T';\n            }    // @method hidePrices Determines -when LoginToSeePrices feature is enabled- if the prices should be hidden.\n                 // @return {Boolean}\n,\n            hidePrices: function () {\n                //We've got to disable loginToSeePrices feature if customer registration is disabled.\n                return Configuration.getRegistrationType() !== 'disabled' && Configuration.get('siteSettings.requireloginforpricing', 'F') === 'T' && this.get('isLoggedIn') !== 'T';\n            },\n            set: function (key, val, options) {\n                //If the addresses attribute is not an instance of AddressCollection, will be converted into one.\n                // attributes both `\"key\", value` and `{key: value}` -style arguments.\n                var attributes = {};\n                if (typeof key === 'object') {\n                    attributes = key;\n                    options = val;\n                } else {\n                    attributes[key] = val;\n                }\n                if (attributes.addresses && !(attributes.addresses instanceof AddressCollection)) {\n                    attributes.addresses = new AddressCollection(attributes.addresses);\n                }\n                return Backbone.Model.prototype.set.call(this, attributes, options);\n            }\n        }, classProperties);\n    return ProfileModel;\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module Item\ndefine('Item.Model', [\n    'Backbone.CachedModel',\n    'Session',\n    'Item.KeyMapping',\n    'Item.Option.Collection',\n    'SC.Configuration',\n    'Profile.Model',\n    'underscore',\n    'Utils'\n], function (BackboneCachedModel, Session, ItemKeyMapping, ItemOptionCollection, Configuration, ProfileModel, _, Utils) {\n    'use strict';\n    var ItemCollection = null    // @class Item.Model Represents 1 single product of the web store\n                // This model is enhanced with high level attributes defined in @class ItemKeyMapping\n                // @extends Backbone.CachedModel\n, ItemModel = BackboneCachedModel.extend({\n            moduleName: 'Item.Model',\n            constructor: function (attributes) {\n                this.sanitize(attributes);\n                BackboneCachedModel.apply(this, arguments);\n            }    //@method url\n                 //@return {String}\n,\n            url: function url() {\n                var profile = ProfileModel.getInstance(), url = Utils.addParamsToUrl(profile.getSearchApiUrl(), _.extend({}, this.searchApiMasterOptions, Session.getSearchApiParams()), profile.isAvoidingDoubleRedirect());\n                return url;\n            }    //@method parse The API returns the items as an array always this takes care of returning the object\n                 //@return {Item.Model.Model.Attributes}\n,\n            parse: function parse(response) {\n                // if we are performing a direct API call the item is response.items[0]\n                // but if you are using the Item.Collection to fetch this guys\n                // The item is the response\n                var single_item = response.items && response.items[0];\n                if (single_item) {\n                    single_item.facets = response.facets;\n                }\n                return single_item ? this.sanitize(single_item) : this.sanitize(response);\n            },\n            sanitize: function (attributes) {\n                if (attributes && attributes.onlinecustomerprice_detail && attributes.onlinecustomerprice_detail.onlinecustomerprice === '') {\n                    attributes.onlinecustomerprice_detail.onlinecustomerprice = null;\n                }\n                return attributes;\n            }    //@method generateURL Returns the current URL. This method is just an alias over get('_url') to provide a unified interface with the Product.Model\n                 //@return {String}\n,\n            generateURL: function generateURL() {\n                return this.get('_url');\n            }    //@method getFullLink Generates a String ready to be used to a link for a PDP. In difference to the method generateURL, getFullLink\n                 //returns a string that contains the value of href, data-hashtag and data-touchpoint.\n                 //output example: href=\"/Californium-Mtr\" data-touchpoint=\"home\" data-hashtag=\"#/Californium-Mtr\"\n                 //@return {Object}\n,\n            getFullLink: function getFullLink() {\n                var url = this.generateURL(), link_attributes = { href: url };\n                if (SC.ENVIRONMENT.siteSettings.sitetype === 'ADVANCED') {\n                    _.extend(link_attributes, {\n                        data: {\n                            touchpoint: 'home',\n                            hashtag: Configuration.get('currentTouchpoint') !== 'home' ? encodeURIComponent(url) : url\n                        }\n                    });\n                }\n                return Utils.objectToAtrributes(link_attributes);\n            }    //@method initialize\n                 //@return {Void}\n,\n            initialize: function initialize() {\n                // Wires the config options to the URL of the model\n                this.searchApiMasterOptions = Configuration.get('searchApiMasterOptions.itemDetails', {});\n                this.itemOptionsConfig = Configuration.get('ItemOptions.optionsConfiguration', []);\n                var self = this;\n                this.set('options', this.getPosibleOptions(), { silent: true });\n                this.on('change:itemoptions_detail', function () {\n                    self.set('options', self.getPosibleOptions(), { silent: true });\n                }, this);\n            },\n            deepCopy: function deepCopy() {\n                var self = this, obj = this.attributes || {}, item_key_mapping = this.getKeyMapping(Configuration);\n                _.each(item_key_mapping, function (value, attr) {\n                    if (attr.charAt(0) === '_') {\n                        attr = 'keyMapping' + attr;\n                    }\n                    obj[attr] = _.isFunction(value) ? value(self) : value;\n                });\n                return obj;\n            }    // @method getPosibleOptions\n                 // @returns {Item.Options.Collection} an array of all the possible options with values and information\n,\n            getPosibleOptions: function getPosibleOptions() {\n                if (this.cachedPosibleOptions) {\n                    return this.cachedPosibleOptions;\n                }\n                var result = new ItemOptionCollection();\n                if (this.get('_optionsDetails') && this.get('_optionsDetails').fields) {\n                    var self = this    // Prepares a simple map of the configuration\n, options_config_map = {};\n                    _.each(this.itemOptionsConfig, function (option) {\n                        if (option.cartOptionId) {\n                            options_config_map[option.cartOptionId] = option;\n                        }\n                    });\n                    // if you are an child in the cart it then checks for the options of the parent\n                    var fields = this.get('_matrixParent').get('_id') ? this.get('_matrixParent').get('_optionsDetails').fields : this.get('_optionsDetails').fields;\n                    // Walks the _optionsDetails to generate a standard options response.\n                    _.each(fields, function (option_details) {\n                        //@class Item.Model.Option.Value\n                        //@property {String} internalid\n                        //@property {String} label\n                        //@property {String} url The url of the option to navigate to the PDP with that option selected by default\n                        //@class Item.Model.Option\n                        var option = {\n                            //@property {String} label Visible option name\n                            label: option_details.label,\n                            values: option_details.values,\n                            type: option_details.type,\n                            cartOptionId: option_details.internalid,\n                            itemOptionId: option_details.sourcefrom || ''    //@property {Boolean} isMatrixDimension\n,\n                            isMatrixDimension: !!option_details.ismatrixdimension || false    //@property {Boolean} isMandatory Indicate if the options is required or not\n,\n                            isMandatory: !!option_details.ismandatory || false    //@property {String} urlParameterName Parameter used to generate the url of this options. For example size instead or custcol12 in www.yourdomain.com/item?size=12&custcol12=3\n,\n                            urlParameterName: option_details.internalid,\n                            useLabelsOnUrl: false    //@property {Number} index Property used to sort options. 10 by default\n,\n                            index: 10\n                        };\n                        // Makes sure all options are availabe by defualt\n                        _.each(option.values, function (value) {\n                            value.isAvailable = true;\n                        });\n                        // Merges this with the configuration object\n                        if (options_config_map[option.cartOptionId]) {\n                            option = _.extend(option, options_config_map[option.cartOptionId]);\n                        }\n                        option.values = _.map(option.values, function (value) {\n                            value.url = Utils.setUrlParameter(self.get('_url'), option.urlParameterName, option.useLabelsOnUrl ? value.label : value.internalid);\n                            return value;\n                        });\n                        if (option_details.ismatrixdimension && self.get('_matrixChilds').length) {\n                            var item_values = self.get('_matrixChilds').pluck(option.itemOptionId);\n                            option.values = _.filter(option.values, function (value) {\n                                if (value.internalid) {\n                                    return _.contains(item_values, value.label);\n                                }\n                                return true;\n                            });\n                        }\n                        result.add(option);\n                    });\n                    // Since this is not going to change in the life of the model we can cache it\n                    this.cachedPosibleOptions = result;\n                }\n                return result;\n            }    // @method isProperlyConfigured Check in case the item has options all options have a itemOptionId property and in the item is matrix\n                 // check there are child matrix items\n                 // @returns {Boolean} true If the current item is properly configured\n,\n            isProperlyConfigured: function isProperlyConfigured() {\n                var options = this.getPosibleOptions(), option = null;\n                if (options && options.length) {\n                    for (var i = 0; i < options.length; i++) {\n                        option = options.at(i);\n                        if (option.get('isMatrixDimension') && !option.get('itemOptionId')) {\n                            return false;\n                        }\n                    }\n                }    // If you omit item options from the field set and use matrix, that's an issue.\n                else if (this.get('_matrixChilds') && this.get('_matrixChilds').length) {\n                    return false;\n                }\n                return true;\n            }    // @method getKeyMapping\n                 // @return {ItemsKeyMapping}\n,\n            getKeyMapping: function getKeyMapping() {\n                if (!this._keyMapping) {\n                    this._keyMapping = _.defaults(Configuration.itemKeyMapping || {}, ItemKeyMapping.getKeyMapping(Configuration));\n                }\n                return this._keyMapping;\n            }    // @method get We have override the get function for this model in order to honor the ItemKeyMapping\n                 // It also makes sure that _matrixChilds and _relatedItems are Item.Collection and _matrixParent is an Item.Model\n                 // @param {String} attr\n                 // @param {Boolean} dont_cache if true it won't return the cached attribute value.\n,\n            get: function get(attr, dont_cache) {\n                var keyMapping = this.getKeyMapping();\n                // var keyMapping = this.keyMapping || (this.collection && this.collection.keyMapping); // TODO: Dev Tools migration concern...\n                if (dont_cache || keyMapping && !this.attributes[attr] && keyMapping[attr]) {\n                    var mapped_key = keyMapping[attr];\n                    if (_.isFunction(mapped_key)) {\n                        this.attributes[attr] = mapped_key(this);\n                    } else if (_.isArray(mapped_key)) {\n                        // then the value is get(arr[0]) || get(arr[1]) || ...\n                        for (var i = 0; i < mapped_key.length; i++) {\n                            if (this.attributes[mapped_key[i]]) {\n                                this.attributes[attr] = this.attributes[mapped_key[i]];\n                                break;\n                            }\n                        }\n                    } else {\n                        this.attributes[attr] = this.attributes[mapped_key];\n                    }\n                    if (attr === '_matrixChilds' || attr === '_relatedItems') {\n                        ItemCollection = ItemCollection || Utils.requireModules('Item.Collection');\n                        if (!(this.attributes[attr] instanceof ItemCollection)) {\n                            this.attributes[attr] = new ItemCollection(this.attributes[attr] || []);\n                        }\n                    } else if (attr === '_matrixParent') {\n                        if (!(this.attributes[attr] instanceof ItemModel)) {\n                            this.attributes[attr] = new ItemModel(this.attributes[attr] || {});\n                        }\n                    }\n                }\n                return this.attributes[attr];\n            }    // @method  getDefaultPrice Given the price details of an item (class OnlineCustomerPriceDetail) returns the default onlinecustomerprice_formatted and onlinecustomerprice\n                 // @param {OnlineCustomerPriceDetail} details_object\n                 // @return {ItemPrice}\n,\n            getDefaultPrice: function getDefaultPrice(details_object) {\n                //@class ItemPrice\n                return {\n                    //@property {Number} price\n                    price: details_object.onlinecustomerprice,\n                    price_formatted: details_object.onlinecustomerprice_formatted\n                };    //@class Item.Model\n            }    //IMPORTANT: The following method are shared with Product.Model, allowing to use Products or Items interchangeably\n                 //If you edit them, please consider reflect the same changes in the Product.Model and potentially in the\n                 //Transaction.Line.Model\n                 // @method getPrice Gets the price based on the selection of the item and the quantity\n                 // @param {Number} quantity\n                 // @param {Array<Item.Model>?} selected_matrix_children\n                 // @return {ItemPrice}\n,\n            getPrice: function getPrice(quantity, selected_matrix_children) {\n                selected_matrix_children = selected_matrix_children || (this.get('_matrixChilds') ? this.get('_matrixChilds').models : []);\n                quantity = quantity || 1;\n                var details_object = this.get('_priceDetails') || {}, result = this.getDefaultPrice(details_object);\n                // Computes Quantity pricing based on the quantity specified as parameter\n                if (details_object.priceschedule && details_object.priceschedule.length) {\n                    var price_schedule, min, max;\n                    for (var i = 0; i < details_object.priceschedule.length; i++) {\n                        price_schedule = details_object.priceschedule[i];\n                        min = parseInt(price_schedule.minimumquantity, 10);\n                        max = parseInt(price_schedule.maximumquantity, 10);\n                        if (min <= quantity && quantity < max || min <= quantity && !max) {\n                            result = {\n                                price: price_schedule.price,\n                                price_formatted: price_schedule.price_formatted\n                            };\n                        }\n                    }\n                }\n                // if it's a matrix it will compute the matrix price\n                if (selected_matrix_children.length) {\n                    // Gets the price of each child\n                    var children_prices = [];\n                    _.each(selected_matrix_children, function (child) {\n                        children_prices.push(child.getPrice(quantity));\n                    });\n                    if (children_prices.length === 1) {\n                        // If there is only one it means there is only one price to show\n                        result = children_prices[0];\n                    } else {\n                        // otherwise we should compute max and min to show a range in the GUI\n                        var children_prices_values = _.pluck(children_prices, 'price'), min_value = _.min(children_prices_values)    //Minimum price from all children items\n, max_value = _.max(children_prices_values);\n                        //Maximum price from all children items\n                        if (min_value !== max_value) {\n                            // We return them alongside the result of the parent\n                            //@class ItemPrice\n                            //@property {Number?} min This value will be present only in the case the current item is Matrix, has a partial selection and its children have different range\n                            //of prices. When this property is present will contain the minimum price of all the children items valid to be selected.\n                            result.min = _.where(children_prices, { price: min_value })[0];\n                            //@property {Number?} max This value will be present only in the case the current item is Matrix, has a partial selection and its children have different range\n                            //of prices. When this property is present will contain the maximum price of all the children items valid to be selected.\n                            result.max = _.where(children_prices, { price: max_value })[0];    //@class Item.Model\n                        } else {\n                            // they are all alike so we can show any of them\n                            result = children_prices[0];\n                        }\n                    }\n                }\n                // Adds the compare against price if its not set by one of the children\n                if (!result.compare_price && this.get('_comparePriceAgainst')) {\n                    //@class ItemPrice\n                    //@property {Number} compare_price\n                    result.compare_price = this.get('_comparePriceAgainst');\n                    //@property {String} compare_price_formatted\n                    result.compare_price_formatted = this.get('_comparePriceAgainstFormated');    //@class Item.Model\n                }\n                return result;\n            }    //@method getThumbnail Gets the thumbnail. This method acts as an alias for get('_thumbnail') which allows to use\n                 //Item.Model in places where Product.Model or Transaction.Line.Model is expected\n                 //@return {ImageContainer}\n,\n            getThumbnail: function getThumbnail() {\n                return this.get('_thumbnail');\n            }    //@method getSku Returns the sky of the current item. This method exist to complain with the Product.Model interface\n                 //@return {String}\n,\n            getSku: function getSku() {\n                return this.get('_sku');\n            }    //@method getImages Returns the list of the item images\n                 //@return {Array<ImageContainer>}\n,\n            getImages: function getImages() {\n                var result = [], item_images_detail = this.get('itemimages_detail') || {};\n                item_images_detail = item_images_detail.media || item_images_detail;\n                result = Utils.imageFlatten(item_images_detail);\n                //@class ImageContainer\n                return result.length ? result : [{\n                        //@property {String} url\n                        url: Utils.getThemeAbsoluteUrlOfNonManagedResources('img/no_image_available.jpeg', Configuration.get('imageNotAvailable'))    //@property {String} altimagetext\n,\n                        altimagetext: this.get('_name')\n                    }];    //@class Item.Model\n            }    // @method getOption\n                 // Returns an item option\n                 // @param {String} cart_option_id\n                 // @return {Item.Option.Model}\n,\n            getOption: function getOption(cart_option_id) {\n                return this.get('options').findWhere({ cartOptionId: cart_option_id });\n            }    // @method getStockInfo\n                 // Returns an standard formated object for the stock info taking in consideration current matrix option selection.\n                 // the login is the following: if there is an unique child selected use that. Else use the parent as default\n                 // values and open children properties if it has the same value for all selected children.\n                 // @param {Array<Item.Model>} selected_matrix_children\n                 // @param {OptionHelper.MatrixSelection} options_selection\n                 // @return {Item.StockInfo} the stock information of the current item\n,\n            getStockInfo: function getStockInfo(selected_matrix_children, options_selection) {\n                options_selection = options_selection || {};\n                // Standardize the result object\n                selected_matrix_children = selected_matrix_children || [];\n                // if we have one selected child we use that - else we use the parent as default\n                var model = selected_matrix_children.length === 1 ? selected_matrix_children[0] : this, parent = this.get('_matrixParent')    //@class Item.StockInfo\n, stock_info = {\n                        //@property {Object}stock\n                        stock: model.get('_stock')    //@property {Boolean} isInStock\n,\n                        isInStock: model.get('_isInStock')    //@property {String} outOfStockMessage\n,\n                        outOfStockMessage: model.get('_outOfStockMessage') || this.get('_outOfStockMessage') || parent && parent.get('_outOfStockMessage') || _('Out of Stock').translate()    //@property {Boolean} showOutOfStockMessage\n,\n                        showOutOfStockMessage: model.get('_showOutOfStockMessage') || this.get('_showOutOfStockMessage')    //@property {String} inStockMessage\n,\n                        inStockMessage: model.get('_inStockMessage')    //@property {Boolean} showInStockMessage\n,\n                        showInStockMessage: model.get('_showInStockMessage')    //@property {String} stockDescription\n,\n                        stockDescription: model.get('_stockDescription') || this.get('_stockDescription')    //@property {Boolean} showStockDescription\n,\n                        showStockDescription: model.get('_showStockDescription')    //@property {String} stockDescriptionClass\n,\n                        stockDescriptionClass: model.get('_stockDescriptionClass')    //@property {Boolean} isNotAvailableInStore Indicate if the item is present in the store (returned by the store item and the search API)\n,\n                        isNotAvailableInStore: _.isUndefined(model.get('_isPurchasable'))    //@property {Object} stockPerLocation\n,\n                        stockPerLocation: model.get('_quantityavailableforstorepickup_detail')    //@propery {Boolean} isAvailableForPickUp\n,\n                        isAvailableForPickup: !!model.get('_isstorepickupallowed')    //@propery {Boolean} showQuantityAvailable\n,\n                        showQuantityAvailable: !!model.get('_showQuantityAvailable')\n                    }    //@class Item.Model\n, is_something_selected = _(options_selection).keys().length;\n                // if this is an open selection we compute them all\n                if (is_something_selected && selected_matrix_children.length > 1) {\n                    var matrix_children_stock_info = [];\n                    _.each(selected_matrix_children, function (child) {\n                        matrix_children_stock_info.push(child.getStockInfo());\n                    });\n                    // If all matrix children return the same value for a given attribute that becomes the output,\n                    // with the exception of stock that is an addition of the stocks of the children - but only if the parent has\n                    _.each(stock_info, function (value, key) {\n                        var children_values_for_attribute = _.pluck(matrix_children_stock_info, key);\n                        if (key === 'stock') {\n                            stock_info.stock = _.reduce(children_values_for_attribute, function (memo, num) {\n                                return memo + num;\n                            }, 0);\n                            if (isNaN(stock_info.stock)) {\n                                delete stock_info.stock;\n                            }\n                        } else if (key === 'isInStock') {\n                            // the parent is in stock if any of the child items is in stock\n                            // so, if in the array of the values of 'isInStock' for the childs\n                            // there is a 'true', then the parent item is in stock\n                            stock_info.isInStock = _.contains(children_values_for_attribute, true);\n                        } else {\n                            children_values_for_attribute = _.uniq(children_values_for_attribute);\n                            if (children_values_for_attribute.length === 1) {\n                                stock_info[key] = children_values_for_attribute[0];\n                            }\n                        }\n                    });\n                }\n                return stock_info;\n            }\n        });\n    return ItemModel;\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module Transaction\ndefine('Transaction.Line.Option.Model', ['ProductLine.Option.Model'], function (ProductLineOptionModel) {\n    'use strict';\n    //@class Transaction.Line.Option.Model @extend ProductLine.Option.Model\n    return ProductLineOptionModel.extend({});\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module Transaction\ndefine('Transaction.Line.Option.Collection', [\n    'Transaction.Line.Option.Model',\n    'ProductLine.Option.Collection'\n], function (TransactionLineOptionModel, ProductLineOptionCollection) {\n    'use strict';\n    //@class Transaction.Line.Option.Collection @extend ProductLine.Option.Collection\n    return ProductLineOptionCollection.extend({\n        //@property {Transaction.Line.Model} model\n        model: TransactionLineOptionModel\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module ProductLine\ndefine('ProductLine.Common.Url', [\n    'underscore',\n    'Utils',\n    'PluginContainer',\n    'SC.Configuration'\n], function (_, utils, PluginContainer, Configuration) {\n    'use strict';\n    // @class ProductLine.Common.Url\n    var ProductLineCommonUrl = {\n        //@property {Array<String>} attributesReflectedInURL\n        attributesReflectedInURL: [\n            'options',\n            'quantity'\n        ],\n        preURLGenerated: new PluginContainer(),\n        preItemSetFromURL: new PluginContainer()    //@method getQuery Generates a string query with all the parameters of the current line set\n                                 //@param {Dictionary<String, String?>} parameters_to_override Object where each key indicate a parameter value to override or null if the parameter want to be removed\n                                 //@return {String}\n,\n        getQuery: function getQuery(parameters_to_override) {\n            var query = '', line_model = this, attributes_to_map_in_url = _.filter(_.keys(line_model.attributes), function (attribute) {\n                    return !!~_.indexOf(ProductLineCommonUrl.attributesReflectedInURL, attribute);\n                }), all_parameters = _.map(attributes_to_map_in_url, function (attribute) {\n                    //@class Product.Model.URLParameter\n                    return {\n                        //@param {String} param\n                        param: attribute    //@param {String} value\n,\n                        value: line_model.get(attribute)\n                    };    //@class Product.Model\n                });\n            all_parameters = this.mapOptionsToURLParameters(all_parameters);\n            all_parameters = ProductLineCommonUrl.preURLGenerated.executeAll(all_parameters, this) || all_parameters;\n            _.each(parameters_to_override || {}, function (value, parameter) {\n                var selected_parameter = _.findWhere(all_parameters, { param: parameter });\n                if (selected_parameter) {\n                    if (_.isNull(value)) {\n                        //Remove parameter\n                        all_parameters.splice(_.indexOf(all_parameters, selected_parameter), 1);\n                    } else {\n                        //Override value\n                        selected_parameter.value = value;\n                    }\n                } else if (!_.isNull(value)) {\n                    //New extra value\n                    all_parameters.push({\n                        param: parameter,\n                        value: value\n                    });\n                }\n            });\n            var params_to_set = _.filter(all_parameters, _.property('value'));\n            query = _.reduce(params_to_set, function (memo_url, option) {\n                return utils.setUrlParameter(memo_url, option.param, encodeURIComponent(option.value));\n            }, query);\n            return query;\n        }    //@method generateURL Generates a string URL to a PDP with all the parameters of the current line set\n             //@param {Dictionary<String, String?>} parameters_to_override Object where each key indicate a parameter value to override or null if the parameter want to be removed\n             //@return {String}\n,\n        generateURL: function generateURL(parameters_to_override) {\n            return this.get('item').get('_url') + this.getQuery(parameters_to_override);\n        }    //@method mapOptionsToURLParameters This method make the invert behavior as the method mapURLParametersToOptions.\n             //It is called when a URL for the current line is required and based on the current configuration and the options set it generate a list\n             //of parameters values that will be reduced into the URL string by the method generateURL\n             //@param {Array<Product.Model.URLParameter>} all_parameters\n             //@return {Array<Product.Model.URLParameter>}\n,\n        mapOptionsToURLParameters: function mapOptionsToURLParameters(all_parameters) {\n            var options_parameter = _.findWhere(all_parameters, { param: 'options' });\n            if (options_parameter) {\n                all_parameters.splice(_.indexOf(all_parameters, options_parameter), 1);\n                this.get('options').each(function (option) {\n                    if (option.get('value')) {\n                        all_parameters.push({\n                            param: option.get('urlParameterName'),\n                            value: option.get('useLabelsOnUrl') ? option.get('value').label : option.get('value').internalid\n                        });\n                    }\n                });\n            }\n            return all_parameters;\n        }    //@method getFullLink Generates a String ready to be used to a link for a PDP. In difference to the method generateURL, getFullLink\n             //returns a string that contains the value of href, data-hashtag and data-touchpoint.\n             //output example: href=\"/Californium-Mtr?internalid=910_1&amp;quantity=2\" data-touchpoint=\"home\" data-hashtag=\"#/Californium-Mtr?internalid=910_1&amp;quantity=2\"\n             //@param {Dictionary<String, String?>} parameters_to_override Object where each key indicate a parameter value to override or null if the parameter want to be removed\n             //@return {Object}\n,\n        getFullLink: function getFullLink(parameters_to_override) {\n            var url = this.generateURL(parameters_to_override), link_attributes = { href: url };\n            if (SC.ENVIRONMENT.siteSettings.sitetype === 'ADVANCED') {\n                _.extend(link_attributes, {\n                    data: {\n                        touchpoint: 'home',\n                        hashtag: Configuration.get('currentTouchpoint') !== 'home' ? encodeURIComponent(url) : url\n                    }\n                });\n            }\n            return utils.objectToAtrributes(link_attributes);\n        }    // @method setOptionsFromURL Given a URL query string, it sets the options in the model\n             // @param {ParameterOptions} options\n             // @return {Void}\n,\n        setOptionsFromURL: function setOptionsFromURL(options) {\n            var self = this;\n            options = options || {};\n            options = this.mapURLParametersToOptions(options);\n            options.quantity && (options.quantity = parseInt(options.quantity, 10));\n            options = ProductLineCommonUrl.preItemSetFromURL.executeAll(options, self) || options;\n            _.each(options, function (value, name) {\n                if (value && !!~_.indexOf(ProductLineCommonUrl.attributesReflectedInURL, name)) {\n                    self.set(name, value);\n                }\n            });\n        }    //@method mapURLParametersToOptions Map parameters from URL to its real/internal value. This is needed as based on the configuration\n             //it is possible to show in the URL the label of the options and the string of the selected value instead of the internal id.\n             //Something like: /item-name?color=red or /item-name?custcol3=2 are both valid urls depending on the configuration\n             // @param {ParameterOptions} url_parameters\n             // @return {ParameterOptions}\n,\n        mapURLParametersToOptions: function mapURLParametersToOptions(url_parameters) {\n            var self = this;\n            this.get('options').each(function (option) {\n                if (url_parameters[option.get('urlParameterName')]) {\n                    var aux_param_value = url_parameters[option.get('urlParameterName')], selected_option_value;\n                    //Clean URL parameter based on URL option to change to option cartOptionId\n                    delete url_parameters[option.get('urlParameterName')];\n                    if (option.get('useLabelsOnUrl')) {\n                        selected_option_value = _.findWhere(option.get('values'), { label: aux_param_value });\n                        url_parameters[option.get('cartOptionId')] = selected_option_value ? selected_option_value.internalid : aux_param_value;\n                    } else {\n                        url_parameters[option.get('cartOptionId')] = aux_param_value;\n                    }\n                    self.setOption(option.get('cartOptionId'), url_parameters[option.get('cartOptionId')]);\n                }\n            });\n            return url_parameters;\n        }\n    };\n    return ProductLineCommonUrl;\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module ProductLine\ndefine('ProductLine.Common.Image', [\n    'SC.Configuration',\n    'underscore',\n    'Utils'\n], function (Configuration, _, Utils) {\n    'use strict';\n    //@class ProductLine.Common.Image\n    return {\n        //@method filterImages Given the tree-like object returned by the Search API containing the item's images and a group of options,\n        // filters the item images\n        // @param {Object} item_images_detail\n        // @param {Array<String>} image_option_filters\n        // @return {Object} The same input parameters filtered based on the current selection of the line/product taking into account the image option filters\n        filterImages: function filterImages(item_images_detail, image_option_filters) {\n            var self = this, images_container = item_images_detail, selected_option_filter;\n            _.each(image_option_filters, function (image_filter) {\n                selected_option_filter = self.get('options').findWhere({ cartOptionId: image_filter });\n                //if the option/dimension has a value set\n                if (selected_option_filter && selected_option_filter.get('value') && selected_option_filter.get('value').label) {\n                    var label = selected_option_filter.get('value').label.toLowerCase();\n                    _.each(images_container, function (value, key) {\n                        if (key.toLowerCase() === label) {\n                            images_container = value;\n                        }\n                    });\n                }\n            });\n            return images_container;\n        }    //@method getThumbnail Gets the thumbnail for the model based on the current selection\n             //@return {ImageContainer}\n,\n        getThumbnail: function getThumbnail() {\n            var item = this.get('item'), item_images_detail = item.get('itemimages_detail') || {}, image_filters = Configuration.get('productline.multiImageOption', []), images = [], images_container = {};\n            if (_.isEqual(item_images_detail, {}) && item.get('_matrixParent').get('internalid') && item.get('_matrixParent').get('itemimages_detail')) {\n                item_images_detail = item.get('_matrixParent').get('itemimages_detail');\n            }\n            // If you generate a thumbnail position in the itemimages_detail it will be used\n            if (item_images_detail.thumbnail) {\n                images_container = this.filterImages(item_images_detail.thumbnail, image_filters);\n                images = Utils.imageFlatten(images_container);\n                return _.first(images) || item_images_detail.thumbnail;\n            } else if (SC.ENVIRONMENT.siteType === 'STANDARD') {\n                return item.getThumbnail();\n            } else {\n                item_images_detail = item_images_detail.media || item_images_detail;\n                images_container = this.filterImages(item_images_detail, image_filters);\n                images = Utils.imageFlatten(images_container);\n                return images.length ? // If you using the advance images features it will grab the 1st one\n                _.first(images) : // still nothing? image the not available\n                {\n                    url: Utils.getThemeAbsoluteUrlOfNonManagedResources('img/no_image_available.jpeg', Configuration.get('imageNotAvailable')),\n                    altimagetext: item.get('_name')\n                };\n            }\n        }\n    };\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module ProductLine\ndefine('ProductLine.Common', [\n    'ProductLine.Common.Url',\n    'ProductLine.Common.Image',\n    'SC.Configuration',\n    'underscore'\n], function (ProductLineCommonUrl, ProductLineCommonImage, Configuration, _) {\n    'use strict';\n    // @class ProductLine.Common\n    var ProductLineCommon = {\n        //@method getSku Gets the SKU for the current line or product based on the current item\n        //@return {String}\n        getSku: function getSku() {\n            return this.getItem().getSku();\n        }    // @method getOption\n             // Returns an item option\n             // @param {String} cart_option_id\n             // @return {Item.Option.Model}\n,\n        getOption: function getOption(cart_option_id) {\n            return this.get('options').findWhere({ cartOptionId: cart_option_id });\n        }    //@method getVisibleOptions If the property ItemOptions.showOnlyTheListedOptions is true return only the\n             //transactions item options and transaction column fields models configured in the property ItemOptions.optionsConfiguration,\n             //otherwise return all of them. The array is going to be ordered by \"index\"\n             //@return {Array<Product.Model|Transaction.Line.Model>}\n,\n        getVisibleOptions: function getVisibleOptions() {\n            var collection;\n            if (Configuration.get('ItemOptions.showOnlyTheListedOptions')) {\n                collection = this.get('options').filter(function (option) {\n                    return _.find(Configuration.get('ItemOptions.optionsConfiguration'), function (optionConfiguration) {\n                        return optionConfiguration.cartOptionId === option.get('cartOptionId');\n                    });\n                });\n            } else {\n                collection = this.get('options').models;\n            }\n            return _.sortBy(collection, function (option) {\n                return option.get('index');\n            });\n        }    //@method extendOptionsFromItem Extend the options in the product or line passed in based on the option from the item.\n             //Notice that is the item who read from the configuration\n             //@param {Item.Model} item\n             //@param {Product.Model|Transaction.Line.Model} productline\n             //@return {void}\n,\n        extendOptionsFromItem: function extendOptionsFromItem(item, productline) {\n            // Here we make sure that the options collection of the line always\n            // (event when the line is loaded from an already created transaction via SuiteScript) have all the properties\n            item.get('options').each(function (item_option) {\n                //IMPORTANT: The comparison here is done in lowercase because both the LiveOrder.Model and the Transaction.Model in\n                // the back-end send their option in lower case. However the search API returns some option (Gift certificate ones) in\n                // Uppercase and this case is require to be preserved so the Commerce API actually add the item into the cart.\n                var item_option_cartId = item_option.get('cartOptionId').toLowerCase(), productline_option = productline.get('options').find(function (product_option) {\n                        return product_option.get('cartOptionId').toLowerCase() === item_option_cartId;\n                    });\n                if (productline_option) {\n                    productline_option.attributes = _.extend({}, productline_option.attributes, item_option.attributes);\n                }\n            });\n        }    //@method toJSON Override default method to send only require data to the back-end\n             //@return {Transaction.Line.Model.JSON}\n,\n        toJSON: function toJSON() {\n            //@class Transaction.Line.Model.JSON Class used to send a transaction line representation to the back-end\n            //without sending all the heavy weight JSON that is not totally needed by the back-end\n            return {\n                //@property {Transaction.Line.Model.JSON.Item} item\n                //@class Transaction.Line.Model.JSON.Item\n                item: {\n                    //@property {String} internalid\n                    internalid: this.getItemId()    //@property {String} type\n,\n                    type: this.attributes.item.get('itemtype')\n                }    //@class Transaction.Line.Model.JSON\n                     //@property {Number} quantity\n,\n                quantity: this.attributes.quantity,\n                internalid: this.attributes.internalid,\n                options: this.get('options').toJSON()    //@property {Number} shipaddress\n,\n                shipaddress: this.attributes.shipaddress,\n                shipmethod: this.attributes.shipmethod,\n                location: this.attributes.location && this.attributes.location.attributes && this.attributes.location.attributes.internalid || ''    //@property {Object} fulfillmentChoice\n,\n                fulfillmentChoice: this.attributes.fulfillmentChoice || 'ship'\n            };    //@class Transaction.Line.Model\n        }\n    };\n    return _.extend(ProductLineCommon, ProductLineCommonUrl, ProductLineCommonImage);\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module Transaction\ndefine('Transaction.Line.Model', [\n    'Item.Model',\n    'Transaction.Line.Option.Collection',\n    'ProductLine.Common',\n    'SC.Configuration',\n    'underscore',\n    'Backbone'\n], function (ItemModel, TransactionLineOptionCollection, ProductLineCommon, Configuration, _, Backbone) {\n    'use strict';\n    // @class Transaction.Line.Model Model for showing information about a line in the order @extends Backbone.Model\n    var TransactionLineModel = Backbone.Model.extend({\n        //@method initialize Override default initialize method to assure the correct data structure\n        //@param {Transaction.Model.Get.Line} attributes\n        //@return {Void}\n        initialize: function initialize(attributes) {\n            Backbone.Model.prototype.initialize.apply(this, arguments);\n            var self = this;\n            this.on('change:item', function (model, item) {\n                model.set('item', item instanceof ItemModel ? item.clone() : new ItemModel(item), { silent: true });\n                var item_options = model.get('item').get('options'), options = model.get('options') || item_options.toJSON();\n                model.set('options', options instanceof TransactionLineOptionCollection ? options : new TransactionLineOptionCollection(options), { silent: true });\n                self.extendOptionsFromItem(model.get('item'), self);\n            });\n            this.trigger('change:item', this, attributes && attributes.item || {});\n            // Extend the model with Backbone.Validation.mixin to validate it without a View\n            _.extend(this, Backbone.Validation.mixin);\n        },\n        moduleName: 'Transaction.Line.Model'    //@method getItem Returns the current selected item. This method exists to share a common interface with the Product\n                                    //@return {Item.Model}\n,\n        getItem: function getItem() {\n            return this.get('item');\n        }    //@method getStockInfo Get the stock information of the current item. Indicate if any stock message should be shown or not, and if the current item is valid to be purchased\n             //@return {Item.StockInfo}\n,\n        getStockInfo: function getStockInfo() {\n            return this.get('item').getStockInfo();\n        }    //@method getPrice Returns the object specifying the price of the current selection\n             //@return {ItemPrice}\n,\n        getPrice: function getPrice() {\n            return this.getItem().getPrice(this.get('quantity'), []);\n        }    //@method getItemId Returns the id of the current selected item. This method exists to share a common interface with the Product\n             //@return {String}\n,\n        getItemId: function getItemId() {\n            return this.get('item').id;\n        }    //@method isEqual\n             //@param {Transaction.Line.Model} other_line\n             //@return {Boolean}\n,\n        isEqual: function isEqual(other_line) {\n            return !!(other_line && this.getItemId() === other_line.getItemId() && _.isEqual(this.get('options').toJSON(), other_line.get('options').toJSON()));\n        }\n    }, {\n        //@method createFromProduct Convert a Product.Model (ProductList.Item.Model) into a Transaction.Line.Model\n        //@param {Product.Model} product\n        //@return {Transaction.Line.Model}\n        createFromProduct: function createFromProduct(product) {\n            var line = new TransactionLineModel(product.toJSON()), item = product.get('item'), item_images_detail = item.get('itemimages_detail'), is_matrix_item = !!item.get('_matrixChilds').length;\n            if (_.isEqual(item_images_detail, {}) && item.get('_matrixParent').get('internalid') && item.get('_matrixParent').get('itemimages_detail')) {\n                item_images_detail = item.get('_matrixParent').get('itemimages_detail');\n            }\n            line.set('item', product.getItem().clone(), { silent: true });\n            line.get('item').set('itemimages_detail', item_images_detail, { silent: true });\n            line.get('item').set('itemid', item.get('itemid'), { silent: true });\n            line.set('minimumquantity', product.get('item').minimumquantity);\n            line.set('maximumquantity', product.get('item').maximumquantity);\n            if (is_matrix_item) {\n                line.get('item').set('matrix_parent', product.get('item'));\n            }\n            var price = product.getPrice();\n            line.set('rate', price.price, { silent: true });\n            line.set('rate_formatted', price.price_formatted, { silent: true });\n            product.get('options').each(function (product_option) {\n                var line_option = line.get('options').findWhere({ cartOptionId: product_option.get('cartOptionId') });\n                line_option.attributes = _.extend({}, product_option.attributes, line_option.attributes);\n            });\n            return line;\n        }\n    });\n    TransactionLineModel.prototype = _.extend(TransactionLineModel.prototype, ProductLineCommon);\n    return TransactionLineModel;\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module Transaction\ndefine('Transaction.Line.Collection', [\n    'Transaction.Line.Model',\n    'Backbone'\n], function (TransactionLineModel, Backbone) {\n    'use strict';\n    // @class Transaction.Line.Collection Order Line collection @extends Backbone.Collection\n    return Backbone.Collection.extend({\n        // @property {Transaction.Line.Model} model\n        model: TransactionLineModel\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module Transaction\ndefine('Transaction.Shipmethod.Model', ['Backbone'], function (Backbone) {\n    'use strict';\n    // @class Transaction.Shipmethod.Model Single ship method @extend Backbone.Model\n    return Backbone.Model.extend({\n        // @method getFormattedShipmethod\n        // @return {String}\n        getFormattedShipmethod: function () {\n            return this.get('name');\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module Transaction\ndefine('Transaction.Shipmethod.Collection', [\n    'Transaction.Shipmethod.Model',\n    'Backbone'\n], function (TransactionShipmethodModel, Backbone) {\n    'use strict';\n    // @class OrderShipmethod.Collection Shipping methods collection @extends Backbone.Collection\n    return Backbone.Collection.extend({\n        // @property {Transaction.Shipmethod.Model} model\n        model: TransactionShipmethodModel    // @property {String} comparator\n,\n        comparator: 'name'\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module Transaction\ndefine('Transaction.Paymentmethod.Model', ['Backbone'], function (Backbone) {\n    'use strict';\n    // @class Transaction.Paymentmethod.Model Payment method Model @extends Backbone.Model\n    return Backbone.Model.extend({\n        // @method getFormattedPaymentmethod Returns the current model's type\n        // @return {String}\n        getFormattedPaymentmethod: function () {\n            return this.get('type');\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module Transaction\ndefine('Transaction.Paymentmethod.Collection', [\n    'Transaction.Paymentmethod.Model',\n    'Backbone'\n], function (TransactionPaymentmethodModel, Backbone) {\n    'use strict';\n    // @class Transaction.Paymentmethod.Collection Collection of possible payment method @extends Backbone.Collection\n    return Backbone.Collection.extend({\n        // @property {Transaction.Paymentmethod.Model} model\n        model: TransactionPaymentmethodModel\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module Transaction\ndefine('Transaction.Model', [\n    'Transaction.Line.Collection',\n    'Transaction.Shipmethod.Collection',\n    'Transaction.Paymentmethod.Collection',\n    'Address.Collection',\n    'CreditCard.Collection',\n    'underscore',\n    'Backbone',\n    'Backbone.CachedSync'\n], function (TransactionLineCollection, TransactionShipmethodCollection, TransactionPaymentmethodCollection, AddressesCollection, CreditCardsCollection, _, Backbone, BackboneCachedSync) {\n    'use strict';\n    // @class Transaction.Model Model for showing information about an order @extends Backbone.Model\n    return Backbone.Model.extend({\n        //@property {Transaction.Line.Collection} linesCollection Property used to make it easy to override this model and change the class used\n        //to generates lines\n        linesCollection: TransactionLineCollection,\n        defaults: {\n            //@property {Address.Collection} addresses\n            'addresses': null    //@property {Address.Collection} shipmethods\n,\n            'shipmethods': null\n        }    //@property {Boolean} cacheSupport enable or disable the support for cache (Backbone.CachedModel)\n,\n        cacheSupport: false    //@method initialize Creates the initial properties in order to generate the current complex object that a transaction is\n                 //@param {Transaction.Model.InitializationParameter} attributes\n                 //@return {Void}\n,\n        initialize: function (attributes) {\n            if (this.cacheSupport) {\n                var self = this;\n                _.each(BackboneCachedSync, function (fn, name) {\n                    self[name === 'cachedSync' ? 'sync' : name] = fn;\n                });\n            }\n            this.on('change:lines', function (model, lines) {\n                if (model.previous('lines') instanceof model.linesCollection) {\n                    model.set('lines', model.previous('lines'), { silent: true });\n                    model.get('lines').reset(lines instanceof model.linesCollection ? lines.models : lines);\n                } else {\n                    model.set('lines', new model.linesCollection(lines), { silent: true });\n                }\n            });\n            this.trigger('change:lines', this, attributes && attributes.lines || []);\n            this.on('change:shipmethods', function (model, shipmethods) {\n                if (model.previous('shipmethods') instanceof TransactionShipmethodCollection) {\n                    model.set('shipmethods', model.previous('shipmethods'), { silent: true });\n                    model.get('shipmethods').reset(shipmethods instanceof TransactionShipmethodCollection ? shipmethods.models : shipmethods);\n                } else {\n                    model.set('shipmethods', new TransactionShipmethodCollection(shipmethods), { silent: true });\n                }\n            });\n            this.trigger('change:shipmethods', this, attributes && attributes.shipmethods || []);\n            this.on('change:paymentmethods', function (model, paymentmethods) {\n                if (model.previous('paymentmethods') instanceof TransactionPaymentmethodCollection) {\n                    model.set('paymentmethods', model.previous('paymentmethods'), { silent: true });\n                    model.get('paymentmethods').reset(paymentmethods instanceof TransactionPaymentmethodCollection ? paymentmethods.models : paymentmethods);\n                } else {\n                    model.set('paymentmethods', new TransactionPaymentmethodCollection(paymentmethods), { silent: true });\n                }\n            });\n            this.trigger('change:paymentmethods', this, attributes && attributes.paymentmethods || []);\n            this.on('change:addresses', function (model, addresses) {\n                if (model.previous('addresses') instanceof AddressesCollection) {\n                    model.set('addresses', model.previous('addresses'), { silent: true });\n                    model.get('addresses').reset(addresses instanceof AddressesCollection ? addresses.models : addresses);\n                } else {\n                    model.set('addresses', new AddressesCollection(addresses), { silent: true });\n                }\n            });\n            this.trigger('change:addresses', this, attributes && attributes.addresses || []);\n        }    // @method _submit Internal method invoked when the user place/submit a transaction\n             // @return {jQuery.Deferred}\n,\n        _submit: function () {\n            //Force a POST\n            this.set('internalid', null);\n            var creditcard = this.get('paymentmethods').findWhere({ type: 'creditcard' }), paypal = this.get('paymentmethods').findWhere({ type: 'paypal' });\n            if (creditcard && !creditcard.get('creditcard')) {\n                this.get('paymentmethods').remove(creditcard);\n            }\n            if (paypal && !paypal.get('complete')) {\n                this.get('paymentmethods').remove(paypal);\n            }\n            if (_.isFunction(this.shippingAddressIsRequired) && !this.shippingAddressIsRequired()) {\n                this.unset('shipaddress', { silent: true });\n                this.set('sameAs', false, { silent: true });\n            }\n            return this.save();\n        },\n        addPayment: function addPayment(payment_method) {\n            // Gets the payment method collection\n            var payment_methods = this.get('paymentmethods');\n            // Removes the primary if any\n            payment_methods.remove(payment_methods.where({ primary: true }));\n            // Sets it as primary\n            payment_method.set('primary', true);\n            // Adds it to the collection\n            payment_methods.add(payment_method);\n        },\n        setAddress: function setAddress(address_type, address_id, options) {\n            this.set(address_type, address_id, options);\n        }\n    });\n});    //@class Transaction.Model.InitializationParameter\n       //@property {Arra<Transaction.Model.Get.Line>?} lines\n       //@property {Arra<Transaction.Model.Get.ShipMethod>?} shipmethods\n       //@property {Arra<Transaction.Model.Get.PaymentMethod>?} paymentmethods\n       //@property {Arra<Address.Model.Attributes>?} addresses\n","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module Transaction\ndefine('Transaction.Collection', [\n    'Transaction.Model',\n    'Backbone',\n    'Backbone.CachedSync',\n    'underscore'\n], function (TransactionModel, Backbone, BackboneCachedSync, _) {\n    'use strict';\n    //@class Transaction.Collection @extend Backbone.Collection\n    return Backbone.Collection.extend({\n        //@property {Transaction.Model} model\n        model: TransactionModel    //@property {Boolean} cacheSupport enable or disable the support for cache (Backbone.CachedCollection)\n,\n        cacheSupport: false    //@method  initialize\n,\n        initialize: function () {\n            if (this.cacheSupport) {\n                var self = this;\n                _.each(BackboneCachedSync, function (fn, name) {\n                    self[name === 'cachedSync' ? 'sync' : name] = fn;\n                });\n            }\n        }    //@property {String} url\n,\n        url: 'services/Transaction.Service.ss'    //@method parse Transform the JSON response to extract away the array of model from the correct\n                                             //response as to know what page is loaded\n                                             //@param {Transaction.Model.List.Result} response\n                                             //@return {Transaction.Model.List.Result.Record}\n,\n        parse: function (response) {\n            if (response.page) {\n                this.totalRecordsFound = response.totalRecordsFound;\n                this.recordsPerPage = response.recordsPerPage;\n                this.page = response.page;\n                return response.records;\n            } else {\n                return response;\n            }\n        }    //@method update\n             //@param {Transaction.Collection.UpdateOptions} options\n             //@return {Void}\n,\n        update: function (options) {\n            //@class Transaction.Collection.UpdateOptions\n            //@property {DateRange?} range\n            var range = options.range || {};\n            this.fetch({\n                data: {\n                    //@property {value:String?} filter\n                    filter: options.filter && options.filter.value,\n                    sort: options.sort.value,\n                    order: options.order,\n                    from: range.from,\n                    to: range.to,\n                    page: options.page\n                },\n                reset: true    //@property {String?} killerId\n,\n                killerId: options.killerId\n            });\n        }\n    });\n});    //@class DateRange\n       //@property {String} from Date expressed in millisecond (getTime)\n       //@property {String} to Date expressed in millisecond (getTime)\n","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module Invoice\ndefine('Invoice.Model', [\n    'Transaction.Collection',\n    'Transaction.Model',\n    'underscore',\n    'Utils'\n], function (TransactionCollection, TransactionModel, _) {\n    'use strict';\n    function validatePayment(value) {\n        value = parseFloat((value + '').replace(',', '.'));\n        if (isNaN(value)) {\n            return _('The amount to pay is not a valid number').translate();\n        }\n        if (value <= 0) {\n            return _('The amount to apply has to be positive').translate();\n        }\n        /*jshint validthis:true */\n        if (value > this.get('due')) {\n            return _('The amount to pay cannot exceed the remaining').translate();\n        }\n    }\n    //@class Invoice.Model @extends Backbone.Model\n    return TransactionModel.extend({\n        //@property {String} urlRoot\n        urlRoot: 'services/Invoice.Service.ss'    //@property {Object} validation\n,\n        validation: { amount: { fn: validatePayment } }    //@property {Boolean} cacheSupport enable or disable the support for cache (Backbone.CachedModel)\n,\n        cacheSupport: true    //@method initialize\n,\n        initialize: function (attributes) {\n            // call the initialize of the parent object, equivalent to super()\n            TransactionModel.prototype.initialize.apply(this, arguments);\n            this.on('change:adjustments', function (model, adjustments) {\n                model.set('adjustments', new TransactionCollection(adjustments), { silent: true });\n            });\n            this.trigger('change:adjustments', this, attributes && attributes.adjustments || []);\n        }    //@method isPayFull\n,\n        isPayFull: function () {\n            if (this.get('discountapplies')) {\n                return this.get('amount') === this.get('duewithdiscount');\n            } else {\n                return this.get('amount') === this.get('due');\n            }\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module Invoice\ndefine('Invoice.Collection', [\n    'Invoice.Model',\n    'underscore',\n    'Backbone',\n    'Utils'\n], function (Model, _, Backbone) {\n    'use strict';\n    //@class Invoice.Collection @extends Backbone.Collection\n    return Backbone.Collection.extend({\n        //@property {Invoice.Model} model\n        model: Model    //@property {Boolean} cacheSupport enable or disable the support for cache (Backbone.CachedModel)\n,\n        cacheSupport: true    //@property {String} url\n,\n        url: 'services/Invoice.Service.ss'    //@method initialize\n,\n        initialize: function () {\n            // The first time the collection is filled with data\n            // we store a copy of the original collection\n            this.once('sync reset', function () {\n                if (!this.original) {\n                    this.original = this.clone();\n                }\n            });\n        }    //@method getOpenInvoices\n,\n        getOpenInvoices: function () {\n            return this.filter(function (invoice) {\n                // status might not be an obj\n                var status = invoice.get('status');\n                return _.isObject(status) ? status.internalid === 'open' : status === 'open';\n            });\n        }    //@method getPaidInvoices\n,\n        getPaidInvoices: function () {\n            return this.filter(function (invoice) {\n                // status might not be an obj\n                var status = invoice.get('status');\n                return _.isObject(status) ? status.internalid !== 'open' : status !== 'open';\n            });\n        }    //@method clearFilters Unset any filter, sorting and order options previously set in the collection\n,\n        clearFilters: function () {\n            this.selectedFilter = null;\n            this.selectedSort = null;\n            this.order = null;\n            this.range = null;\n        }    //@method update\n             // custom method called by ListHeader view\n             // it receives the currently applied filter,\n             // currently applied sort and currently applied order\n,\n        update: function (options) {\n            var filter_changed = this.selectedFilter !== options.filter, sort_changed = this.selectedSort !== options.sort, order_changed = this.order !== options.order, range_changed = !_.isEqual(options.range, this.range) && (this.range || options.range);\n            this.selectedFilter = options.filter;\n            this.selectedSort = options.sort;\n            this.order = options.order;\n            this.range = options.range;\n            if (filter_changed) {\n                this.applyFilter().applySort();\n            } else if (range_changed) {\n                this.applyRangeFilter().applySort();\n            } else if (sort_changed) {\n                this.applySort();\n            } else if (order_changed) {\n                this.reverseOrder();\n            }\n            // All of the previous methods where silent\n            // so if anything changed, we trigger the event\n            // after everything was done\n            if (filter_changed || sort_changed || order_changed || range_changed) {\n                this.trigger('reset');\n            }\n        }    //@method applyFilter Resets the collection based on the applied filter\n,\n        applyFilter: function () {\n            this.reset(this.selectedFilter.filter.call(this), { silent: true });\n            return this;\n        }    //@method fixDateRangeWithTimeZoneOffset\n,\n        fixDateRangeWithTimeZoneOffset: function (selected_range) {\n            if (selected_range) {\n                var offset = new Date().getTimezoneOffset() * 60 * 1000, from = _.stringToDate(selected_range.from), to = _.stringToDate(selected_range.to);\n                if (_.isDateValid(from) && _.isDateValid(to)) {\n                    var toAux = new Date(to.getTime() + offset), fromAux = new Date(from.getTime() + offset);\n                    toAux.setHours(23, 59, 59);\n                    fromAux.setHours(0, 0, 0);\n                    return {\n                        from: fromAux,\n                        to: toAux\n                    };\n                }\n            }\n        }    //@method applyRangeFilter\n,\n        applyRangeFilter: function () {\n            var range = this.fixDateRangeWithTimeZoneOffset(this.range) || {}, from = range.from && new Date(range.from).getTime(), to = range.to && new Date(range.to).getTime();\n            this.reset(this.original.filter(function (invoice) {\n                var when = new Date(invoice.get('tranDateInMilliseconds')).getTime();\n                if (from && !to) {\n                    return when >= from;\n                }\n                if (!from && to) {\n                    return when <= to;\n                }\n                if (from && to) {\n                    return when >= from && when <= to;\n                }\n                return true;\n            }), { silent: true });\n            return this;\n        }    //@method applySort Resets the collection based on the applied sort\n,\n        applySort: function () {\n            this.reset(this.selectedSort.sort.call(this), { silent: true });\n            // if the current order is inverse\n            if (this.order === -1) {\n                // we need to reverse the order\n                this.reverseOrder();\n            }\n            return this;\n        }    //@method reverseOrder Reverses the collection\n,\n        reverseOrder: function () {\n            this.reset(this.models.reverse(), { silent: true });\n            return this;\n        }\n    });\n});","// Backbone.Stickit v0.9.2, MIT Licensed\n// Copyright (c) 2012-2015 The New York Times, CMS Group, Matthew DeLambo <delambo@gmail.com>\n(function (factory) {\n    // Set up Stickit appropriately for the environment. Start with AMD.\n    if (typeof define === 'function' && define.amd)\n        define('backbone.stickit', [\n            'underscore',\n            'Backbone',\n            'exports'\n        ], factory);    // Next for Node.js or CommonJS.\n    else if (typeof exports === 'object')\n        factory(require('underscore'), require('Backbone'), exports);    // Finally, as a browser global.\n    else\n        factory(_, Backbone, {});\n}(function (_, Backbone, Stickit) {\n    // Stickit Namespace\n    // --------------------------\n    // Export onto Backbone object\n    Backbone.Stickit = Stickit;\n    Stickit._handlers = [];\n    Stickit.addHandler = function (handlers) {\n        // Fill-in default values.\n        handlers = _.map(_.flatten([handlers]), function (handler) {\n            return _.defaults({}, handler, {\n                updateModel: true,\n                updateView: true,\n                updateMethod: 'text'\n            });\n        });\n        this._handlers = this._handlers.concat(handlers);\n    };\n    // Backbone.View Mixins\n    // --------------------\n    Stickit.ViewMixin = {\n        // Collection of model event bindings.\n        //   [{model,event,fn,config}, ...]\n        _modelBindings: null,\n        // Unbind the model and event bindings from `this._modelBindings` and\n        // `this.$el`. If the optional `model` parameter is defined, then only\n        // delete bindings for the given `model` and its corresponding view events.\n        unstickit: function (model, bindingSelector) {\n            // Support passing a bindings hash in place of bindingSelector.\n            if (_.isObject(bindingSelector)) {\n                _.each(bindingSelector, _.bind(function (v, selector) {\n                    this.unstickit(model, selector);\n                }, this));\n                return;\n            }\n            var models = [], destroyFns = [];\n            this._modelBindings = _.reject(this._modelBindings, function (binding) {\n                if (model && binding.model !== model)\n                    return;\n                if (bindingSelector && binding.config.selector != bindingSelector)\n                    return;\n                binding.model.off(binding.event, binding.fn);\n                destroyFns.push(binding.config._destroy);\n                models.push(binding.model);\n                return true;\n            });\n            // Trigger an event for each model that was unbound.\n            _.each(_.uniq(models), _.bind(function (model) {\n                model.trigger('stickit:unstuck', this.cid);\n            }, this));\n            // Call `_destroy` on a unique list of the binding callbacks.\n            _.each(_.uniq(destroyFns), _.bind(function (fn) {\n                fn.call(this);\n            }, this));\n            this.$el.off('.stickit' + (model ? '.' + model.cid : ''), bindingSelector);\n        },\n        // Initilize Stickit bindings for the view. Subsequent binding additions\n        // can either call `stickit` with the new bindings, or add them directly\n        // with `addBinding`. Both arguments to `stickit` are optional.\n        stickit: function (optionalModel, optionalBindingsConfig) {\n            var model = optionalModel || this.model, bindings = optionalBindingsConfig || _.result(this, 'bindings') || {};\n            this._modelBindings || (this._modelBindings = []);\n            // Add bindings in bulk using `addBinding`.\n            this.addBinding(model, bindings);\n            // Wrap `view.remove` to unbind stickit model and dom events.\n            var remove = this.remove;\n            if (!remove.stickitWrapped) {\n                this.remove = function () {\n                    var ret = this;\n                    this.unstickit();\n                    if (remove)\n                        ret = remove.apply(this, arguments);\n                    return ret;\n                };\n            }\n            this.remove.stickitWrapped = true;\n            return this;\n        },\n        // Add a single Stickit binding or a hash of bindings to the model. If\n        // `optionalModel` is ommitted, will default to the view's `model` property.\n        addBinding: function (optionalModel, selector, binding) {\n            var model = optionalModel || this.model, namespace = '.stickit.' + model.cid;\n            binding = binding || {};\n            // Support jQuery-style {key: val} event maps.\n            if (_.isObject(selector)) {\n                var bindings = selector;\n                _.each(bindings, _.bind(function (val, key) {\n                    this.addBinding(model, key, val);\n                }, this));\n                return;\n            }\n            // Special case the ':el' selector to use the view's this.$el.\n            var $el = selector === ':el' ? this.$el : this.$(selector);\n            // Clear any previous matching bindings.\n            this.unstickit(model, selector);\n            // Fail fast if the selector didn't match an element.\n            if (!$el.length)\n                return;\n            // Allow shorthand setting of model attributes - `'selector':'observe'`.\n            if (_.isString(binding))\n                binding = { observe: binding };\n            // Handle case where `observe` is in the form of a function.\n            if (_.isFunction(binding.observe))\n                binding.observe = binding.observe.call(this);\n            // Find all matching Stickit handlers that could apply to this element\n            // and store in a config object.\n            var config = getConfiguration($el, binding);\n            // The attribute we're observing in our config.\n            var modelAttr = config.observe;\n            // Store needed properties for later.\n            config.selector = selector;\n            config.view = this;\n            // Create the model set options with a unique `bindId` so that we\n            // can avoid double-binding in the `change:attribute` event handler.\n            var bindId = config.bindId = _.uniqueId();\n            // Add a reference to the view for handlers of stickitChange events\n            var options = _.extend({ stickitChange: config }, config.setOptions);\n            // Add a `_destroy` callback to the configuration, in case `destroy`\n            // is a named function and we need a unique function when unsticking.\n            config._destroy = function () {\n                applyViewFn.call(this, config.destroy, $el, model, config);\n            };\n            initializeAttributes($el, config, model, modelAttr);\n            initializeVisible($el, config, model, modelAttr);\n            initializeClasses($el, config, model, modelAttr);\n            if (modelAttr) {\n                // Setup one-way (input element -> model) bindings.\n                _.each(config.events, _.bind(function (type) {\n                    var eventName = type + namespace;\n                    var listener = function (event) {\n                        var val = applyViewFn.call(this, config.getVal, $el, event, config, slice.call(arguments, 1));\n                        // Don't update the model if false is returned from the `updateModel` configuration.\n                        var currentVal = evaluateBoolean(config.updateModel, val, event, config);\n                        if (currentVal)\n                            setAttr(model, modelAttr, val, options, config);\n                    };\n                    var sel = selector === ':el' ? '' : selector;\n                    this.$el.on(eventName, sel, _.bind(listener, this));\n                }, this));\n                // Setup a `change:modelAttr` observer to keep the view element in sync.\n                // `modelAttr` may be an array of attributes or a single string value.\n                _.each(_.flatten([modelAttr]), function (attr) {\n                    observeModelEvent(model, 'change:' + attr, config, function (m, val, options) {\n                        var changeId = options && options.stickitChange && options.stickitChange.bindId;\n                        if (changeId !== bindId) {\n                            var currentVal = getAttr(model, modelAttr, config);\n                            updateViewBindEl($el, config, currentVal, model);\n                        }\n                    });\n                });\n                var currentVal = getAttr(model, modelAttr, config);\n                updateViewBindEl($el, config, currentVal, model, true);\n            }\n            // After each binding is setup, call the `initialize` callback.\n            applyViewFn.call(this, config.initialize, $el, model, config);\n        }\n    };\n    _.extend(Backbone.View.prototype, Stickit.ViewMixin);\n    // Helpers\n    // -------\n    var slice = [].slice;\n    // Evaluates the given `path` (in object/dot-notation) relative to the given\n    // `obj`. If the path is null/undefined, then the given `obj` is returned.\n    var evaluatePath = function (obj, path) {\n        var parts = (path || '').split('.');\n        var result = _.reduce(parts, function (memo, i) {\n            return memo[i];\n        }, obj);\n        return result == null ? obj : result;\n    };\n    // If the given `fn` is a string, then view[fn] is called, otherwise it is\n    // a function that should be executed.\n    var applyViewFn = function (fn) {\n        fn = _.isString(fn) ? evaluatePath(this, fn) : fn;\n        if (fn)\n            return fn.apply(this, slice.call(arguments, 1));\n    };\n    // Given a function, string (view function reference), or a boolean\n    // value, returns the truthy result. Any other types evaluate as false.\n    // The first argument must be `reference` and the last must be `config`, but\n    // middle arguments can be variadic.\n    var evaluateBoolean = function (reference, val, config) {\n        if (_.isBoolean(reference)) {\n            return reference;\n        } else if (_.isFunction(reference) || _.isString(reference)) {\n            var view = _.last(arguments).view;\n            return applyViewFn.apply(view, arguments);\n        }\n        return false;\n    };\n    // Setup a model event binding with the given function, and track the event\n    // in the view's _modelBindings.\n    var observeModelEvent = function (model, event, config, fn) {\n        var view = config.view;\n        model.on(event, fn, view);\n        view._modelBindings.push({\n            model: model,\n            event: event,\n            fn: fn,\n            config: config\n        });\n    };\n    // Prepares the given `val`ue and sets it into the `model`.\n    var setAttr = function (model, attr, val, options, config) {\n        var value = {}, view = config.view;\n        if (config.onSet) {\n            val = applyViewFn.call(view, config.onSet, val, config);\n        }\n        if (config.set) {\n            applyViewFn.call(view, config.set, attr, val, options, config);\n        } else {\n            value[attr] = val;\n            // If `observe` is defined as an array and `onSet` returned\n            // an array, then map attributes to their values.\n            if (_.isArray(attr) && _.isArray(val)) {\n                value = _.reduce(attr, function (memo, attribute, index) {\n                    memo[attribute] = _.has(val, index) ? val[index] : null;\n                    return memo;\n                }, {});\n            }\n            model.set(value, options);\n        }\n    };\n    // Returns the given `attr`'s value from the `model`, escaping and\n    // formatting if necessary. If `attr` is an array, then an array of\n    // respective values will be returned.\n    var getAttr = function (model, attr, config) {\n        var view = config.view;\n        var retrieveVal = function (field) {\n            return model[config.escape ? 'escape' : 'get'](field);\n        };\n        var sanitizeVal = function (val) {\n            return val == null ? '' : val;\n        };\n        var val = _.isArray(attr) ? _.map(attr, retrieveVal) : retrieveVal(attr);\n        if (config.onGet)\n            val = applyViewFn.call(view, config.onGet, val, config);\n        return _.isArray(val) ? _.map(val, sanitizeVal) : sanitizeVal(val);\n    };\n    // Find handlers in `Backbone.Stickit._handlers` with selectors that match\n    // `$el` and generate a configuration by mixing them in the order that they\n    // were found with the given `binding`.\n    var getConfiguration = Stickit.getConfiguration = function ($el, binding) {\n        var handlers = [{\n                updateModel: false,\n                updateMethod: 'text',\n                update: function ($el, val, m, opts) {\n                    if ($el[opts.updateMethod])\n                        $el[opts.updateMethod](val);\n                },\n                getVal: function ($el, e, opts) {\n                    return $el[opts.updateMethod]();\n                }\n            }];\n        handlers = handlers.concat(_.filter(Stickit._handlers, function (handler) {\n            return $el.is(handler.selector);\n        }));\n        handlers.push(binding);\n        // Merge handlers into a single config object. Last props in wins.\n        var config = _.extend.apply(_, handlers);\n        // `updateView` is defaulted to false for configutrations with\n        // `visible`; otherwise, `updateView` is defaulted to true.\n        if (!_.has(config, 'updateView'))\n            config.updateView = !config.visible;\n        return config;\n    };\n    // Setup the attributes configuration - a list that maps an attribute or\n    // property `name`, to an `observe`d model attribute, using an optional\n    // `onGet` formatter.\n    //\n    //     attributes: [{\n    //       name: 'attributeOrPropertyName',\n    //       observe: 'modelAttrName'\n    //       onGet: function(modelAttrVal, modelAttrName) { ... }\n    //     }, ...]\n    //\n    var initializeAttributes = function ($el, config, model, modelAttr) {\n        var props = [\n            'autofocus',\n            'autoplay',\n            'async',\n            'checked',\n            'controls',\n            'defer',\n            'disabled',\n            'hidden',\n            'indeterminate',\n            'loop',\n            'multiple',\n            'open',\n            'readonly',\n            'required',\n            'scoped',\n            'selected'\n        ];\n        var view = config.view;\n        _.each(config.attributes || [], function (attrConfig) {\n            attrConfig = _.clone(attrConfig);\n            attrConfig.view = view;\n            var lastClass = '';\n            var observed = attrConfig.observe || (attrConfig.observe = modelAttr);\n            var updateAttr = function () {\n                var updateType = _.includes(props, attrConfig.name) ? 'prop' : 'attr', val = getAttr(model, observed, attrConfig);\n                // If it is a class then we need to remove the last value and add the new.\n                if (attrConfig.name === 'class') {\n                    $el.removeClass(lastClass).addClass(val);\n                    lastClass = val;\n                } else {\n                    $el[updateType](attrConfig.name, val);\n                }\n            };\n            _.each(_.flatten([observed]), function (attr) {\n                observeModelEvent(model, 'change:' + attr, config, updateAttr);\n            });\n            // Initialize the matched element's state.\n            updateAttr();\n        });\n    };\n    var initializeClasses = function ($el, config, model, modelAttr) {\n        _.each(config.classes || [], function (classConfig, name) {\n            if (_.isString(classConfig))\n                classConfig = { observe: classConfig };\n            classConfig.view = config.view;\n            var observed = classConfig.observe;\n            var updateClass = function () {\n                var val = getAttr(model, observed, classConfig);\n                $el.toggleClass(name, !!val);\n            };\n            _.each(_.flatten([observed]), function (attr) {\n                observeModelEvent(model, 'change:' + attr, config, updateClass);\n            });\n            updateClass();\n        });\n    };\n    // If `visible` is configured, then the view element will be shown/hidden\n    // based on the truthiness of the modelattr's value or the result of the\n    // given callback. If a `visibleFn` is also supplied, then that callback\n    // will be executed to manually handle showing/hiding the view element.\n    //\n    //     observe: 'isRight',\n    //     visible: true, // or function(val, options) {}\n    //     visibleFn: function($el, isVisible, options) {} // optional handler\n    //\n    var initializeVisible = function ($el, config, model, modelAttr) {\n        if (config.visible == null)\n            return;\n        var view = config.view;\n        var visibleCb = function () {\n            var visible = config.visible, visibleFn = config.visibleFn, val = getAttr(model, modelAttr, config), isVisible = !!val;\n            // If `visible` is a function then it should return a boolean result to show/hide.\n            if (_.isFunction(visible) || _.isString(visible)) {\n                isVisible = !!applyViewFn.call(view, visible, val, config);\n            }\n            // Either use the custom `visibleFn`, if provided, or execute the standard show/hide.\n            if (visibleFn) {\n                applyViewFn.call(view, visibleFn, $el, isVisible, config);\n            } else {\n                $el.toggle(isVisible);\n            }\n        };\n        _.each(_.flatten([modelAttr]), function (attr) {\n            observeModelEvent(model, 'change:' + attr, config, visibleCb);\n        });\n        visibleCb();\n    };\n    // Update the value of `$el` using the given configuration and trigger the\n    // `afterUpdate` callback. This action may be blocked by `config.updateView`.\n    //\n    //     update: function($el, val, model, options) {},  // handler for updating\n    //     updateView: true, // defaults to true\n    //     afterUpdate: function($el, val, options) {} // optional callback\n    //\n    var updateViewBindEl = function ($el, config, val, model, isInitializing) {\n        var view = config.view;\n        if (!evaluateBoolean(config.updateView, val, config))\n            return;\n        applyViewFn.call(view, config.update, $el, val, model, config);\n        if (!isInitializing)\n            applyViewFn.call(view, config.afterUpdate, $el, val, config);\n    };\n    // Default Handlers\n    // ----------------\n    Stickit.addHandler([\n        {\n            selector: '[contenteditable]',\n            updateMethod: 'html',\n            events: [\n                'input',\n                'change'\n            ]\n        },\n        {\n            selector: 'input',\n            events: [\n                'propertychange',\n                'input',\n                'change'\n            ],\n            update: function ($el, val) {\n                $el.val(val);\n            },\n            getVal: function ($el) {\n                return $el.val();\n            }\n        },\n        {\n            selector: 'textarea',\n            events: [\n                'propertychange',\n                'input',\n                'change'\n            ],\n            update: function ($el, val) {\n                $el.val(val);\n            },\n            getVal: function ($el) {\n                return $el.val();\n            }\n        },\n        {\n            selector: 'input[type=\"radio\"]',\n            events: ['change'],\n            update: function ($el, val) {\n                // Because we use \" in the value descriptor, we need to escape any\n                // quotes in the value itself otherwise jQuery/Sizzle complain that\n                // the selector is invalid.\n                var escapedVal = val.toString().replace(/\"/g, '\\\\\"');\n                $el.filter('[value=\"' + escapedVal + '\"]').prop('checked', true);\n            },\n            getVal: function ($el) {\n                return $el.filter(':checked').val();\n            }\n        },\n        {\n            selector: 'input[type=\"checkbox\"]',\n            events: ['change'],\n            update: function ($el, val, model, options) {\n                if ($el.length > 1) {\n                    // There are multiple checkboxes so we need to go through them and check\n                    // any that have value attributes that match what's in the array of `val`s.\n                    val || (val = []);\n                    $el.each(function (i, el) {\n                        var checkbox = Backbone.$(el);\n                        var checkboxVal = checkbox.val();\n                        var checked = _.some(val, function (item) {\n                            return '' + item === checkboxVal;\n                        });\n                        checkbox.prop('checked', checked);\n                    });\n                } else {\n                    var checked = _.isBoolean(val) ? val : '' + val === $el.val();\n                    $el.prop('checked', checked);\n                }\n            },\n            getVal: function ($el) {\n                var val;\n                if ($el.length > 1) {\n                    val = _.reduce($el, function (memo, el) {\n                        var checkbox = Backbone.$(el);\n                        if (checkbox.prop('checked'))\n                            memo.push(checkbox.val());\n                        return memo;\n                    }, []);\n                } else {\n                    val = $el.prop('checked');\n                    // If the checkbox has a value attribute defined, then\n                    // use that value. Most browsers use \"on\" as a default.\n                    var boxval = $el.val();\n                    if (boxval !== 'on' && boxval != null) {\n                        val = val ? $el.val() : null;\n                    }\n                }\n                return val;\n            }\n        },\n        {\n            selector: 'select',\n            events: ['change'],\n            update: function ($el, val, model, options) {\n                var optList, selectConfig = options.selectOptions, list = selectConfig && selectConfig.collection || undefined, isMultiple = $el.prop('multiple');\n                // If there are no `selectOptions` then we assume that the `<select>`\n                // is pre-rendered and that we need to generate the collection.\n                if (!selectConfig) {\n                    selectConfig = {};\n                    var getList = function ($el) {\n                        return $el.map(function (index, option) {\n                            // Retrieve the text and value of the option, preferring \"stickit-bind-val\"\n                            // data attribute over value property.\n                            var dataVal = Backbone.$(option).data('stickit-bind-val');\n                            return {\n                                value: dataVal !== undefined ? dataVal : option.value,\n                                label: option.text\n                            };\n                        }).get();\n                    };\n                    if ($el.find('optgroup').length) {\n                        list = { opt_labels: [] };\n                        // Search for options without optgroup\n                        if ($el.find('> option').length) {\n                            list.opt_labels.push(undefined);\n                            _.each($el.find('> option'), function (el) {\n                                list[undefined] = getList(Backbone.$(el));\n                            });\n                        }\n                        _.each($el.find('optgroup'), function (el) {\n                            var label = Backbone.$(el).attr('label');\n                            list.opt_labels.push(label);\n                            list[label] = getList(Backbone.$(el).find('option'));\n                        });\n                    } else {\n                        list = getList($el.find('option'));\n                    }\n                }\n                // Fill in default label and path values.\n                selectConfig.valuePath = selectConfig.valuePath || 'value';\n                selectConfig.labelPath = selectConfig.labelPath || 'label';\n                selectConfig.disabledPath = selectConfig.disabledPath || 'disabled';\n                var addSelectOptions = function (optList, $el, fieldVal) {\n                    var fragment = document.createDocumentFragment();\n                    _.each(optList, function (obj) {\n                        var option = Backbone.$('<option/>'), optionVal = obj;\n                        var fillOption = function (text, val, disabled) {\n                            option.text(text);\n                            optionVal = val;\n                            // Save the option value as data so that we can reference it later.\n                            option.data('stickit-bind-val', optionVal);\n                            if (!_.isArray(optionVal) && !_.isObject(optionVal))\n                                option.val(optionVal);\n                            if (disabled === true)\n                                option.prop('disabled', 'disabled');\n                        };\n                        var text, val, disabled;\n                        if (obj === '__default__') {\n                            text = fieldVal.label, val = fieldVal.value, disabled = fieldVal.disabled;\n                        } else {\n                            text = evaluatePath(obj, selectConfig.labelPath), val = evaluatePath(obj, selectConfig.valuePath), disabled = evaluatePath(obj, selectConfig.disabledPath);\n                        }\n                        fillOption(text, val, disabled);\n                        // Determine if this option is selected.\n                        var isSelected = function () {\n                            if (!isMultiple && optionVal != null && fieldVal != null && optionVal === fieldVal) {\n                                return true;\n                            } else if (_.isObject(fieldVal) && _.isEqual(optionVal, fieldVal)) {\n                                return true;\n                            }\n                            return false;\n                        };\n                        if (isSelected()) {\n                            option.prop('selected', true);\n                        } else if (isMultiple && _.isArray(fieldVal)) {\n                            _.each(fieldVal, function (val) {\n                                if (_.isObject(val))\n                                    val = evaluatePath(val, selectConfig.valuePath);\n                                if (val === optionVal || _.isObject(val) && _.isEqual(optionVal, val))\n                                    option.prop('selected', true);\n                            });\n                        }\n                        option.appendTo(fragment);\n                    });\n                    $el.append(fragment);\n                };\n                $el.empty();\n                // The `list` configuration is a function that returns the options list or a string\n                // which represents the path to the list relative to `window` or the view/`this`.\n                if (_.isString(list)) {\n                    var context = window;\n                    if (list.indexOf('this.') === 0)\n                        context = this;\n                    list = list.replace(/^[a-z]*\\.(.+)$/, '$1');\n                    optList = evaluatePath(context, list);\n                } else if (_.isFunction(list)) {\n                    optList = applyViewFn.call(this, list, $el, options);\n                } else {\n                    optList = list;\n                }\n                // Support Backbone.Collection and deserialize.\n                if (optList instanceof Backbone.Collection) {\n                    var collection = optList;\n                    var refreshSelectOptions = function () {\n                        var currentVal = getAttr(model, options.observe, options);\n                        applyViewFn.call(this, options.update, $el, currentVal, model, options);\n                    };\n                    // We need to call this function after unstickit and after an update so we don't end up\n                    // with multiple listeners doing the same thing\n                    var removeCollectionListeners = function () {\n                        collection.off('add remove reset sort', refreshSelectOptions);\n                    };\n                    var removeAllListeners = function () {\n                        removeCollectionListeners();\n                        collection.off('stickit:selectRefresh');\n                        collection.off('stickit:selectRefreshForView');\n                        model.off('stickit:selectRefresh');\n                    };\n                    collection.trigger('stickit:selectRefreshForView', this.cid);\n                    // Compare the view cid on the event to this.cid to ensure we don't\n                    // remove events from the collection that are tied to other views.\n                    collection.once('stickit:selectRefreshForView', function (viewCid) {\n                        if (this.cid == viewCid) {\n                            // Remove previously set event listeners by triggering a custom event\n                            collection.trigger('stickit:selectRefresh');\n                        }\n                    }, this);\n                    collection.once('stickit:selectRefresh', removeCollectionListeners, this);\n                    // Listen to the collection and trigger an update of the select options\n                    collection.on('add remove reset sort', refreshSelectOptions, this);\n                    // Remove the previous model event listener\n                    model.trigger('stickit:selectRefresh');\n                    model.once('stickit:selectRefresh', function () {\n                        model.off('stickit:unstuck', removeAllListeners);\n                    });\n                    // Remove collection event listeners once this binding is unstuck\n                    model.once('stickit:unstuck', removeAllListeners, this);\n                    optList = optList.toJSON();\n                }\n                if (selectConfig.defaultOption) {\n                    var option = _.isFunction(selectConfig.defaultOption) ? selectConfig.defaultOption.call(this, $el, options) : selectConfig.defaultOption;\n                    addSelectOptions(['__default__'], $el, option);\n                }\n                if (_.isArray(optList)) {\n                    addSelectOptions(optList, $el, val);\n                } else if (optList.opt_labels) {\n                    // To define a select with optgroups, format selectOptions.collection as an object\n                    // with an 'opt_labels' property, as in the following:\n                    //\n                    //     {\n                    //       'opt_labels': ['Looney Tunes', 'Three Stooges'],\n                    //       'Looney Tunes': [{id: 1, name: 'Bugs Bunny'}, {id: 2, name: 'Donald Duck'}],\n                    //       'Three Stooges': [{id: 3, name : 'moe'}, {id: 4, name : 'larry'}, {id: 5, name : 'curly'}]\n                    //     }\n                    //\n                    _.each(optList.opt_labels, function (label) {\n                        var $group = Backbone.$('<optgroup/>').attr('label', label);\n                        addSelectOptions(optList[label], $group, val);\n                        $el.append($group);\n                    });    // With no 'opt_labels' parameter, the object is assumed to be a simple value-label map.\n                           // Pass a selectOptions.comparator to override the default order of alphabetical by label.\n                } else {\n                    var opts = [], opt;\n                    for (var i in optList) {\n                        opt = {};\n                        opt[selectConfig.valuePath] = i;\n                        opt[selectConfig.labelPath] = optList[i];\n                        opts.push(opt);\n                    }\n                    opts = _.sortBy(opts, selectConfig.comparator || selectConfig.labelPath);\n                    addSelectOptions(opts, $el, val);\n                }\n            },\n            getVal: function ($el) {\n                var selected = $el.find('option:selected');\n                if ($el.prop('multiple')) {\n                    return _.map(selected, function (el) {\n                        return Backbone.$(el).data('stickit-bind-val');\n                    });\n                } else {\n                    return selected.data('stickit-bind-val');\n                }\n            }\n        }\n    ]);\n    return Stickit;\n}));","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n/*\n@module BackboneExtras\n#Form Views\n\nSee @?ref Backbone.FormView\n\n@class Backbone.FormView\n\nThis class add two main utilities to classes that contains forms:\n\nOn one side it provides the method saveForm that can be binded with a form submit and it will\nautomatically serialize the form data and save() the backbone model associated with this view.\nModel validation is implemented by library backbone.validation.\n\nOn the other side, if 'bindings' property is found it will setup the double binding so when\ninput elements are modified b the user the model is automatically validated. This will trigger\nvalidation error messages while the user types instead of only doing it when user submits the form.\nCurrently binding is implemented by library backbone.stickit.\n\nThis class is meant to be used as a mixing to add the functionality to other classes.\nInstead Class.extend() please use Backbone.FormView.add(my_instance)\n\n@extends Backbone.View\n*/\ndefine('Backbone.FormView', [\n    'Backbone',\n    'underscore',\n    'jQuery',\n    'backbone.stickit',\n    'Backbone.Validation'\n], function (Backbone, _, jQuery) {\n    'use strict';\n    function buttonSubmitProgress(savingForm) {\n        savingForm.find('[type=\"submit\"]').each(function () {\n            var element = jQuery(this);\n            element.attr('disabled', true);\n            element.data('default-text', jQuery.trim(element.text()));\n            element.text(_('Processing...').translate());\n        });\n    }\n    function buttonSubmitDone(savingForm) {\n        savingForm.find('[type=\"submit\"]').each(function () {\n            var element = jQuery(this);\n            element.attr('disabled', false);\n            element.text(element.data('default-text'));\n        });\n    }\n    // override default handler to uncheck radio buttons.\n    var handler_radio = _.findWhere(Backbone.Stickit._handlers, { 'selector': 'input[type=\"radio\"]' });\n    if (handler_radio) {\n        handler_radio.update = function ($el, val) {\n            if (val) {\n                $el.filter('[value=\"' + val + '\"]').prop('checked', true);\n            } else {\n                $el.prop('checked', false);\n            }\n        };\n    }\n    return {\n        // override render() to add support to double binding using Backbone.stickit:\n        bindViewToStickit: function () {\n            var view = this;\n            Backbone.Validation.bind(view, {\n                model: view.validationModel,\n                forceUpdate: true\n            });\n            view.stickit(view.validationModel, view.bindings);\n        },\n        formatBindings: function (view) {\n            // we want to automatically add default desired configuration to stickit bindings without deleting stickit passed config.\n            // The default action is 'blur' and model modifications will be silent - this can be customized for particular inputs\n            _(view.bindings).each(function (binding, name) {\n                if (_(binding).isString()) {\n                    view.bindings[name] = {\n                        observe: binding,\n                        setOptions: {\n                            validate: true,\n                            silent: true\n                        },\n                        events: ['blur']\n                    };\n                } else if (!binding.setOptions || typeof binding.setOptions.validate === 'undefined') {\n                    binding.setOptions = binding.setOptions || {};\n                    binding.setOptions.validate = true;\n                    binding.setOptions.silent = true;\n                }\n            });\n        }    // @method add makes the passed view a Form View. Views that want to be form views should call this method at initialize @static\n             // @param {Backbone.View} view the view instance we want to transform in a FormView.\n,\n        add: function (view, options) {\n            options = options || {};\n            this.formatBindings(view);\n            view.validationModel = options.noCloneModel ? view.model : view.model.clone();\n            !options.noCloneModel && view.model.on('change', this.synchronizeModels, view);\n            view.on(view.childViews ? 'afterCompositeViewRender' : 'afterViewRender', this.bindViewToStickit);\n            var self = this;\n            // overrides destroy() so we unstickit (remove bindings event listeners)\n            view.destroy = _.wrap(view.destroy, function (fn) {\n                this.unstickit();\n                view.model.off('change', self.synchronizeModels);\n                return fn.apply(this, Array.prototype.slice.call(arguments));\n            });\n            view.model.bind('validated', function (isValid) {\n                //user clicked on submit AND there are validation errors -> focus on first error.\n                if (view.isSavingForm && isValid === false) {\n                    var $first_input_error = jQuery('body [data-validation-error]:first input');\n                    if ($first_input_error) {\n                        if (!jQuery('.global-views-message-error').length && $first_input_error.closest('[data-validation=\"control-group\"]').length) {\n                            jQuery('body').animate({ scrollTop: $first_input_error.closest('[data-validation=\"control-group\"]').offset().top }, 600);\n                        }\n                        $first_input_error.focus();\n                    }\n                }\n                //user clicked on submit AND form is OK -> show progress button.\n                if (view.isSavingForm && isValid === true) {\n                    buttonSubmitProgress(view.$savingForm);\n                }\n                view.isSavingForm = false;\n            });\n            // when we have two FormViews and we switch focus from one to another we want to erase the validation error messages from the first one:\n            view.events = view.events || {};\n            view.events['focusin *'] = 'formViewFocusHandler';\n            var removeValidationErrors = function ($el) {\n                $el.find('[data-validation-error=\"block\"]').remove();\n                $el.find('[data-validation-error]').removeAttr('data-validation-error');\n            };\n            // @method removeValidationErrors remove all visual validation errors of this form view if any\n            view.removeValidationErrors = function () {\n                removeValidationErrors(this.$el);\n            };\n            view.formViewFocusHandler = function () {\n                if (!this.$el.hasClass('focused-form-view')) {\n                    removeValidationErrors(jQuery('.focused-form-view'));\n                    jQuery('.focused-form-view').removeClass('focused-form-view');\n                }\n                this.$el.addClass('focused-form-view');\n            };\n            view.saveForm = this.saveForm;\n            return view.validationModel;\n        }    //@method synchronizeModels Auxiliary method used to keep sync all changes made on the view's model and the cloned model\n             //It is important to notice that this method is expected to run in the context of the view\n             //@param {Backbone.Model} view_model Original view's model\n             //@return {Void}\n,\n        synchronizeModels: function (view_model) {\n            if (!view_model) {\n                return;\n            }\n            var changed_attributes = view_model.changedAttributes(), view = this;\n            _.each(changed_attributes, function (value, attribute) {\n                view.validationModel.set(attribute, value);\n            });\n        }    // @method saveForm will serialize the input of some form and save() the given model using it\n             // @param {HTMLEvent} e @param {Backbone.Model} model @param {Object} props properties to pass to model.save()\n             // @return {jQuery.Deferred}\n,\n        saveForm: function (e, model, props) {\n            e.preventDefault();\n            //Add validate method into the view.model\n            Backbone.Validation.bind(this);\n            model = model || this.model;\n            this.$savingForm = jQuery(e.target).closest('form');\n            this.isSavingForm = true;\n            if (this.$savingForm.length) {\n                // and hides reset buttons\n                this.$savingForm.find('input[type=\"reset\"], button[type=\"reset\"]').hide();\n            }\n            this.hideError();\n            var self = this, options = self.selector ? { selector: self.selector } : {}    // Returns the promise of the save action of the model\n, result = model.save(props || this.$savingForm.serializeObject(), _.extend({\n                    wait: true,\n                    forceUpdate: false    // Hides error messages, re enables buttons and triggers the save event\n                             // if we are in a modal this also closes it\n,\n                    success: function (model, response) {\n                        if (self.inModal && self.$containerModal) {\n                            self.$containerModal.modal('hide');\n                        }\n                        if (self.$savingForm.length) {\n                            self.hideError(self.$savingForm);\n                            buttonSubmitDone(self.$savingForm);\n                            model.trigger('save', model, response);\n                        }\n                        model.trigger('saveCompleted');\n                    }    // Re enables all button and shows an error message\n,\n                    error: function (model, response) {\n                        buttonSubmitDone(self.$savingForm);\n                        if (response.responseText) {\n                            model.trigger('error', jQuery.parseJSON(response.responseText));\n                        }\n                    }\n                }, options));\n            if (result === false) {\n                this.$savingForm.find('input[type=\"reset\"], button[type=\"reset\"]').show();\n                this.$savingForm.find('*[type=submit], *[type=reset]').attr('disabled', false);\n            }\n            return result;\n        }\n    };\n});","/**!\n\n @license\n handlebars v4.0.10\n\nCopyright (C) 2011-2016 by Yehuda Katz\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE.\n\n*/\n!function (a, b) {\n    'object' == typeof exports && 'object' == typeof module ? module.exports = b() : 'function' == typeof define && define.amd ? define('Handlebars', [], b) : 'object' == typeof exports ? exports.Handlebars = b() : a.Handlebars = b();\n}(this, function () {\n    return function (a) {\n        function b(d) {\n            if (c[d])\n                return c[d].exports;\n            var e = c[d] = {\n                exports: {},\n                id: d,\n                loaded: !1\n            };\n            return a[d].call(e.exports, e, e.exports, b), e.loaded = !0, e.exports;\n        }\n        var c = {};\n        return b.m = a, b.c = c, b.p = '', b(0);\n    }([\n        function (a, b, c) {\n            'use strict';\n            function d() {\n                var a = new h.HandlebarsEnvironment();\n                return n.extend(a, h), a.SafeString = j['default'], a.Exception = l['default'], a.Utils = n, a.escapeExpression = n.escapeExpression, a.VM = p, a.template = function (b) {\n                    return p.template(b, a);\n                }, a;\n            }\n            var e = c(1)['default'], f = c(2)['default'];\n            b.__esModule = !0;\n            var g = c(3), h = e(g), i = c(20), j = f(i), k = c(5), l = f(k), m = c(4), n = e(m), o = c(21), p = e(o), q = c(33), r = f(q), s = d();\n            s.create = d, r['default'](s), s['default'] = s, b['default'] = s, a.exports = b['default'];\n        },\n        function (a, b) {\n            'use strict';\n            b['default'] = function (a) {\n                if (a && a.__esModule)\n                    return a;\n                var b = {};\n                if (null != a)\n                    for (var c in a)\n                        Object.prototype.hasOwnProperty.call(a, c) && (b[c] = a[c]);\n                return b['default'] = a, b;\n            }, b.__esModule = !0;\n        },\n        function (a, b) {\n            'use strict';\n            b['default'] = function (a) {\n                return a && a.__esModule ? a : { 'default': a };\n            }, b.__esModule = !0;\n        },\n        function (a, b, c) {\n            'use strict';\n            function d(a, b, c) {\n                this.helpers = a || {}, this.partials = b || {}, this.decorators = c || {}, i.registerDefaultHelpers(this), j.registerDefaultDecorators(this);\n            }\n            var e = c(2)['default'];\n            b.__esModule = !0, b.HandlebarsEnvironment = d;\n            var f = c(4), g = c(5), h = e(g), i = c(9), j = c(17), k = c(19), l = e(k), m = '4.0.10';\n            b.VERSION = m;\n            var n = 7;\n            b.COMPILER_REVISION = n;\n            var o = {\n                1: '<= 1.0.rc.2',\n                2: '== 1.0.0-rc.3',\n                3: '== 1.0.0-rc.4',\n                4: '== 1.x.x',\n                5: '== 2.0.0-alpha.x',\n                6: '>= 2.0.0-beta.1',\n                7: '>= 4.0.0'\n            };\n            b.REVISION_CHANGES = o;\n            var p = '[object Object]';\n            d.prototype = {\n                constructor: d,\n                logger: l['default'],\n                log: l['default'].log,\n                registerHelper: function (a, b) {\n                    if (f.toString.call(a) === p) {\n                        if (b)\n                            throw new h['default']('Arg not supported with multiple helpers');\n                        f.extend(this.helpers, a);\n                    } else\n                        this.helpers[a] = b;\n                },\n                unregisterHelper: function (a) {\n                    delete this.helpers[a];\n                },\n                registerPartial: function (a, b) {\n                    if (f.toString.call(a) === p)\n                        f.extend(this.partials, a);\n                    else {\n                        if ('undefined' == typeof b)\n                            throw new h['default']('Attempting to register a partial called \"' + a + '\" as undefined');\n                        this.partials[a] = b;\n                    }\n                },\n                unregisterPartial: function (a) {\n                    delete this.partials[a];\n                },\n                registerDecorator: function (a, b) {\n                    if (f.toString.call(a) === p) {\n                        if (b)\n                            throw new h['default']('Arg not supported with multiple decorators');\n                        f.extend(this.decorators, a);\n                    } else\n                        this.decorators[a] = b;\n                },\n                unregisterDecorator: function (a) {\n                    delete this.decorators[a];\n                }\n            };\n            var q = l['default'].log;\n            b.log = q, b.createFrame = f.createFrame, b.logger = l['default'];\n        },\n        function (a, b) {\n            'use strict';\n            function c(a) {\n                return k[a];\n            }\n            function d(a) {\n                for (var b = 1; b < arguments.length; b++)\n                    for (var c in arguments[b])\n                        Object.prototype.hasOwnProperty.call(arguments[b], c) && (a[c] = arguments[b][c]);\n                return a;\n            }\n            function e(a, b) {\n                for (var c = 0, d = a.length; c < d; c++)\n                    if (a[c] === b)\n                        return c;\n                return -1;\n            }\n            function f(a) {\n                if ('string' != typeof a) {\n                    if (a && a.toHTML)\n                        return a.toHTML();\n                    if (null == a)\n                        return '';\n                    if (!a)\n                        return a + '';\n                    a = '' + a;\n                }\n                return m.test(a) ? a.replace(l, c) : a;\n            }\n            function g(a) {\n                return !a && 0 !== a || !(!p(a) || 0 !== a.length);\n            }\n            function h(a) {\n                var b = d({}, a);\n                return b._parent = a, b;\n            }\n            function i(a, b) {\n                return a.path = b, a;\n            }\n            function j(a, b) {\n                return (a ? a + '.' : '') + b;\n            }\n            b.__esModule = !0, b.extend = d, b.indexOf = e, b.escapeExpression = f, b.isEmpty = g, b.createFrame = h, b.blockParams = i, b.appendContextPath = j;\n            var k = {\n                    '&': '&amp;',\n                    '<': '&lt;',\n                    '>': '&gt;',\n                    '\"': '&quot;',\n                    '\\'': '&#x27;',\n                    '`': '&#x60;',\n                    '=': '&#x3D;'\n                }, l = /[&<>\"'`=]/g, m = /[&<>\"'`=]/, n = Object.prototype.toString;\n            b.toString = n;\n            var o = function (a) {\n                return 'function' == typeof a;\n            };\n            o(/x/) && (b.isFunction = o = function (a) {\n                return 'function' == typeof a && '[object Function]' === n.call(a);\n            }), b.isFunction = o;\n            var p = Array.isArray || function (a) {\n                return !(!a || 'object' != typeof a) && '[object Array]' === n.call(a);\n            };\n            b.isArray = p;\n        },\n        function (a, b, c) {\n            'use strict';\n            function d(a, b) {\n                var c = b && b.loc, g = void 0, h = void 0;\n                c && (g = c.start.line, h = c.start.column, a += ' - ' + g + ':' + h);\n                for (var i = Error.prototype.constructor.call(this, a), j = 0; j < f.length; j++)\n                    this[f[j]] = i[f[j]];\n                Error.captureStackTrace && Error.captureStackTrace(this, d);\n                try {\n                    c && (this.lineNumber = g, e ? Object.defineProperty(this, 'column', {\n                        value: h,\n                        enumerable: !0\n                    }) : this.column = h);\n                } catch (k) {\n                }\n            }\n            var e = c(6)['default'];\n            b.__esModule = !0;\n            var f = [\n                'description',\n                'fileName',\n                'lineNumber',\n                'message',\n                'name',\n                'number',\n                'stack'\n            ];\n            d.prototype = new Error(), b['default'] = d, a.exports = b['default'];\n        },\n        function (a, b, c) {\n            a.exports = {\n                'default': c(7),\n                __esModule: !0\n            };\n        },\n        function (a, b, c) {\n            var d = c(8);\n            a.exports = function (a, b, c) {\n                return d.setDesc(a, b, c);\n            };\n        },\n        function (a, b) {\n            var c = Object;\n            a.exports = {\n                create: c.create,\n                getProto: c.getPrototypeOf,\n                isEnum: {}.propertyIsEnumerable,\n                getDesc: c.getOwnPropertyDescriptor,\n                setDesc: c.defineProperty,\n                setDescs: c.defineProperties,\n                getKeys: c.keys,\n                getNames: c.getOwnPropertyNames,\n                getSymbols: c.getOwnPropertySymbols,\n                each: [].forEach\n            };\n        },\n        function (a, b, c) {\n            'use strict';\n            function d(a) {\n                g['default'](a), i['default'](a), k['default'](a), m['default'](a), o['default'](a), q['default'](a), s['default'](a);\n            }\n            var e = c(2)['default'];\n            b.__esModule = !0, b.registerDefaultHelpers = d;\n            var f = c(10), g = e(f), h = c(11), i = e(h), j = c(12), k = e(j), l = c(13), m = e(l), n = c(14), o = e(n), p = c(15), q = e(p), r = c(16), s = e(r);\n        },\n        function (a, b, c) {\n            'use strict';\n            b.__esModule = !0;\n            var d = c(4);\n            b['default'] = function (a) {\n                a.registerHelper('blockHelperMissing', function (b, c) {\n                    var e = c.inverse, f = c.fn;\n                    if (b === !0)\n                        return f(this);\n                    if (b === !1 || null == b)\n                        return e(this);\n                    if (d.isArray(b))\n                        return b.length > 0 ? (c.ids && (c.ids = [c.name]), a.helpers.each(b, c)) : e(this);\n                    if (c.data && c.ids) {\n                        var g = d.createFrame(c.data);\n                        g.contextPath = d.appendContextPath(c.data.contextPath, c.name), c = { data: g };\n                    }\n                    return f(b, c);\n                });\n            }, a.exports = b['default'];\n        },\n        function (a, b, c) {\n            'use strict';\n            var d = c(2)['default'];\n            b.__esModule = !0;\n            var e = c(4), f = c(5), g = d(f);\n            b['default'] = function (a) {\n                a.registerHelper('each', function (a, b) {\n                    function c(b, c, f) {\n                        j && (j.key = b, j.index = c, j.first = 0 === c, j.last = !!f, k && (j.contextPath = k + b)), i += d(a[b], {\n                            data: j,\n                            blockParams: e.blockParams([\n                                a[b],\n                                b\n                            ], [\n                                k + b,\n                                null\n                            ])\n                        });\n                    }\n                    if (!b)\n                        throw new g['default']('Must pass iterator to #each');\n                    var d = b.fn, f = b.inverse, h = 0, i = '', j = void 0, k = void 0;\n                    if (b.data && b.ids && (k = e.appendContextPath(b.data.contextPath, b.ids[0]) + '.'), e.isFunction(a) && (a = a.call(this)), b.data && (j = e.createFrame(b.data)), a && 'object' == typeof a)\n                        if (e.isArray(a))\n                            for (var l = a.length; h < l; h++)\n                                h in a && c(h, h, h === a.length - 1);\n                        else {\n                            var m = void 0;\n                            for (var n in a)\n                                a.hasOwnProperty(n) && (void 0 !== m && c(m, h - 1), m = n, h++);\n                            void 0 !== m && c(m, h - 1, !0);\n                        }\n                    return 0 === h && (i = f(this)), i;\n                });\n            }, a.exports = b['default'];\n        },\n        function (a, b, c) {\n            'use strict';\n            var d = c(2)['default'];\n            b.__esModule = !0;\n            var e = c(5), f = d(e);\n            b['default'] = function (a) {\n                a.registerHelper('helperMissing', function () {\n                    if (1 !== arguments.length)\n                        throw new f['default']('Missing helper: \"' + arguments[arguments.length - 1].name + '\"');\n                });\n            }, a.exports = b['default'];\n        },\n        function (a, b, c) {\n            'use strict';\n            b.__esModule = !0;\n            var d = c(4);\n            b['default'] = function (a) {\n                a.registerHelper('if', function (a, b) {\n                    return d.isFunction(a) && (a = a.call(this)), !b.hash.includeZero && !a || d.isEmpty(a) ? b.inverse(this) : b.fn(this);\n                }), a.registerHelper('unless', function (b, c) {\n                    return a.helpers['if'].call(this, b, {\n                        fn: c.inverse,\n                        inverse: c.fn,\n                        hash: c.hash\n                    });\n                });\n            }, a.exports = b['default'];\n        },\n        function (a, b) {\n            'use strict';\n            b.__esModule = !0, b['default'] = function (a) {\n                a.registerHelper('log', function () {\n                    for (var b = [void 0], c = arguments[arguments.length - 1], d = 0; d < arguments.length - 1; d++)\n                        b.push(arguments[d]);\n                    var e = 1;\n                    null != c.hash.level ? e = c.hash.level : c.data && null != c.data.level && (e = c.data.level), b[0] = e, a.log.apply(a, b);\n                });\n            }, a.exports = b['default'];\n        },\n        function (a, b) {\n            'use strict';\n            b.__esModule = !0, b['default'] = function (a) {\n                a.registerHelper('lookup', function (a, b) {\n                    return a && a[b];\n                });\n            }, a.exports = b['default'];\n        },\n        function (a, b, c) {\n            'use strict';\n            b.__esModule = !0;\n            var d = c(4);\n            b['default'] = function (a) {\n                a.registerHelper('with', function (a, b) {\n                    d.isFunction(a) && (a = a.call(this));\n                    var c = b.fn;\n                    if (d.isEmpty(a))\n                        return b.inverse(this);\n                    var e = b.data;\n                    return b.data && b.ids && (e = d.createFrame(b.data), e.contextPath = d.appendContextPath(b.data.contextPath, b.ids[0])), c(a, {\n                        data: e,\n                        blockParams: d.blockParams([a], [e && e.contextPath])\n                    });\n                });\n            }, a.exports = b['default'];\n        },\n        function (a, b, c) {\n            'use strict';\n            function d(a) {\n                g['default'](a);\n            }\n            var e = c(2)['default'];\n            b.__esModule = !0, b.registerDefaultDecorators = d;\n            var f = c(18), g = e(f);\n        },\n        function (a, b, c) {\n            'use strict';\n            b.__esModule = !0;\n            var d = c(4);\n            b['default'] = function (a) {\n                a.registerDecorator('inline', function (a, b, c, e) {\n                    var f = a;\n                    return b.partials || (b.partials = {}, f = function (e, f) {\n                        var g = c.partials;\n                        c.partials = d.extend({}, g, b.partials);\n                        var h = a(e, f);\n                        return c.partials = g, h;\n                    }), b.partials[e.args[0]] = e.fn, f;\n                });\n            }, a.exports = b['default'];\n        },\n        function (a, b, c) {\n            'use strict';\n            b.__esModule = !0;\n            var d = c(4), e = {\n                    methodMap: [\n                        'debug',\n                        'info',\n                        'warn',\n                        'error'\n                    ],\n                    level: 'info',\n                    lookupLevel: function (a) {\n                        if ('string' == typeof a) {\n                            var b = d.indexOf(e.methodMap, a.toLowerCase());\n                            a = b >= 0 ? b : parseInt(a, 10);\n                        }\n                        return a;\n                    },\n                    log: function (a) {\n                        if (a = e.lookupLevel(a), 'undefined' != typeof console && e.lookupLevel(e.level) <= a) {\n                            var b = e.methodMap[a];\n                            console[b] || (b = 'log');\n                            for (var c = arguments.length, d = Array(c > 1 ? c - 1 : 0), f = 1; f < c; f++)\n                                d[f - 1] = arguments[f];\n                            console[b].apply(console, d);\n                        }\n                    }\n                };\n            b['default'] = e, a.exports = b['default'];\n        },\n        function (a, b) {\n            'use strict';\n            function c(a) {\n                this.string = a;\n            }\n            b.__esModule = !0, c.prototype.toString = c.prototype.toHTML = function () {\n                return '' + this.string;\n            }, b['default'] = c, a.exports = b['default'];\n        },\n        function (a, b, c) {\n            'use strict';\n            function d(a) {\n                var b = a && a[0] || 1, c = s.COMPILER_REVISION;\n                if (b !== c) {\n                    if (b < c) {\n                        var d = s.REVISION_CHANGES[c], e = s.REVISION_CHANGES[b];\n                        throw new r['default']('Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version (' + d + ') or downgrade your runtime to an older version (' + e + ').');\n                    }\n                    throw new r['default']('Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version (' + a[1] + ').');\n                }\n            }\n            function e(a, b) {\n                function c(c, d, e) {\n                    e.hash && (d = p.extend({}, d, e.hash), e.ids && (e.ids[0] = !0)), c = b.VM.resolvePartial.call(this, c, d, e);\n                    var f = b.VM.invokePartial.call(this, c, d, e);\n                    if (null == f && b.compile && (e.partials[e.name] = b.compile(c, a.compilerOptions, b), f = e.partials[e.name](d, e)), null != f) {\n                        if (e.indent) {\n                            for (var g = f.split('\\n'), h = 0, i = g.length; h < i && (g[h] || h + 1 !== i); h++)\n                                g[h] = e.indent + g[h];\n                            f = g.join('\\n');\n                        }\n                        return f;\n                    }\n                    throw new r['default']('The partial ' + e.name + ' could not be compiled when running in runtime-only mode');\n                }\n                function d(b) {\n                    function c(b) {\n                        return '' + a.main(e, b, e.helpers, e.partials, g, i, h);\n                    }\n                    var f = arguments.length <= 1 || void 0 === arguments[1] ? {} : arguments[1], g = f.data;\n                    d._setup(f), !f.partial && a.useData && (g = j(b, g));\n                    var h = void 0, i = a.useBlockParams ? [] : void 0;\n                    return a.useDepths && (h = f.depths ? b != f.depths[0] ? [b].concat(f.depths) : f.depths : [b]), (c = k(a.main, c, e, f.depths || [], g, i))(b, f);\n                }\n                if (!b)\n                    throw new r['default']('No environment passed to template');\n                if (!a || !a.main)\n                    throw new r['default']('Unknown template object: ' + typeof a);\n                a.main.decorator = a.main_d, b.VM.checkRevision(a.compiler);\n                var e = {\n                    strict: function (a, b) {\n                        if (!(b in a))\n                            throw new r['default']('\"' + b + '\" not defined in ' + a);\n                        return a[b];\n                    },\n                    lookup: function (a, b) {\n                        for (var c = a.length, d = 0; d < c; d++)\n                            if (a[d] && null != a[d][b])\n                                return a[d][b];\n                    },\n                    lambda: function (a, b) {\n                        return 'function' == typeof a ? a.call(b) : a;\n                    },\n                    escapeExpression: p.escapeExpression,\n                    invokePartial: c,\n                    fn: function (b) {\n                        var c = a[b];\n                        return c.decorator = a[b + '_d'], c;\n                    },\n                    programs: [],\n                    program: function (a, b, c, d, e) {\n                        var g = this.programs[a], h = this.fn(a);\n                        return b || e || d || c ? g = f(this, a, h, b, c, d, e) : g || (g = this.programs[a] = f(this, a, h)), g;\n                    },\n                    data: function (a, b) {\n                        for (; a && b--;)\n                            a = a._parent;\n                        return a;\n                    },\n                    merge: function (a, b) {\n                        var c = a || b;\n                        return a && b && a !== b && (c = p.extend({}, b, a)), c;\n                    },\n                    nullContext: l({}),\n                    noop: b.VM.noop,\n                    compilerInfo: a.compiler\n                };\n                return d.isTop = !0, d._setup = function (c) {\n                    c.partial ? (e.helpers = c.helpers, e.partials = c.partials, e.decorators = c.decorators) : (e.helpers = e.merge(c.helpers, b.helpers), a.usePartial && (e.partials = e.merge(c.partials, b.partials)), (a.usePartial || a.useDecorators) && (e.decorators = e.merge(c.decorators, b.decorators)));\n                }, d._child = function (b, c, d, g) {\n                    if (a.useBlockParams && !d)\n                        throw new r['default']('must pass block params');\n                    if (a.useDepths && !g)\n                        throw new r['default']('must pass parent depths');\n                    return f(e, b, a[b], c, 0, d, g);\n                }, d;\n            }\n            function f(a, b, c, d, e, f, g) {\n                function h(b) {\n                    var e = arguments.length <= 1 || void 0 === arguments[1] ? {} : arguments[1], h = g;\n                    return !g || b == g[0] || b === a.nullContext && null === g[0] || (h = [b].concat(g)), c(a, b, a.helpers, a.partials, e.data || d, f && [e.blockParams].concat(f), h);\n                }\n                return h = k(c, h, a, g, d, f), h.program = b, h.depth = g ? g.length : 0, h.blockParams = e || 0, h;\n            }\n            function g(a, b, c) {\n                return a ? a.call || c.name || (c.name = a, a = c.partials[a]) : a = '@partial-block' === c.name ? c.data['partial-block'] : c.partials[c.name], a;\n            }\n            function h(a, b, c) {\n                var d = c.data && c.data['partial-block'];\n                c.partial = !0, c.ids && (c.data.contextPath = c.ids[0] || c.data.contextPath);\n                var e = void 0;\n                if (c.fn && c.fn !== i && !function () {\n                        c.data = s.createFrame(c.data);\n                        var a = c.fn;\n                        e = c.data['partial-block'] = function (b) {\n                            var c = arguments.length <= 1 || void 0 === arguments[1] ? {} : arguments[1];\n                            return c.data = s.createFrame(c.data), c.data['partial-block'] = d, a(b, c);\n                        }, a.partials && (c.partials = p.extend({}, c.partials, a.partials));\n                    }(), void 0 === a && e && (a = e), void 0 === a)\n                    throw new r['default']('The partial ' + c.name + ' could not be found');\n                if (a instanceof Function)\n                    return a(b, c);\n            }\n            function i() {\n                return '';\n            }\n            function j(a, b) {\n                return b && 'root' in b || (b = b ? s.createFrame(b) : {}, b.root = a), b;\n            }\n            function k(a, b, c, d, e, f) {\n                if (a.decorator) {\n                    var g = {};\n                    b = a.decorator(b, g, c, d && d[0], e, f, d), p.extend(b, g);\n                }\n                return b;\n            }\n            var l = c(22)['default'], m = c(1)['default'], n = c(2)['default'];\n            b.__esModule = !0, b.checkRevision = d, b.template = e, b.wrapProgram = f, b.resolvePartial = g, b.invokePartial = h, b.noop = i;\n            var o = c(4), p = m(o), q = c(5), r = n(q), s = c(3);\n        },\n        function (a, b, c) {\n            a.exports = {\n                'default': c(23),\n                __esModule: !0\n            };\n        },\n        function (a, b, c) {\n            c(24), a.exports = c(29).Object.seal;\n        },\n        function (a, b, c) {\n            var d = c(25);\n            c(26)('seal', function (a) {\n                return function (b) {\n                    return a && d(b) ? a(b) : b;\n                };\n            });\n        },\n        function (a, b) {\n            a.exports = function (a) {\n                return 'object' == typeof a ? null !== a : 'function' == typeof a;\n            };\n        },\n        function (a, b, c) {\n            var d = c(27), e = c(29), f = c(32);\n            a.exports = function (a, b) {\n                var c = (e.Object || {})[a] || Object[a], g = {};\n                g[a] = b(c), d(d.S + d.F * f(function () {\n                    c(1);\n                }), 'Object', g);\n            };\n        },\n        function (a, b, c) {\n            var d = c(28), e = c(29), f = c(30), g = 'prototype', h = function (a, b, c) {\n                    var i, j, k, l = a & h.F, m = a & h.G, n = a & h.S, o = a & h.P, p = a & h.B, q = a & h.W, r = m ? e : e[b] || (e[b] = {}), s = m ? d : n ? d[b] : (d[b] || {})[g];\n                    m && (c = b);\n                    for (i in c)\n                        j = !l && s && i in s, j && i in r || (k = j ? s[i] : c[i], r[i] = m && 'function' != typeof s[i] ? c[i] : p && j ? f(k, d) : q && s[i] == k ? function (a) {\n                            var b = function (b) {\n                                return this instanceof a ? new a(b) : a(b);\n                            };\n                            return b[g] = a[g], b;\n                        }(k) : o && 'function' == typeof k ? f(Function.call, k) : k, o && ((r[g] || (r[g] = {}))[i] = k));\n                };\n            h.F = 1, h.G = 2, h.S = 4, h.P = 8, h.B = 16, h.W = 32, a.exports = h;\n        },\n        function (a, b) {\n            var c = a.exports = 'undefined' != typeof window && window.Math == Math ? window : 'undefined' != typeof self && self.Math == Math ? self : Function('return this')();\n            'number' == typeof __g && (__g = c);\n        },\n        function (a, b) {\n            var c = a.exports = { version: '1.2.6' };\n            'number' == typeof __e && (__e = c);\n        },\n        function (a, b, c) {\n            var d = c(31);\n            a.exports = function (a, b, c) {\n                if (d(a), void 0 === b)\n                    return a;\n                switch (c) {\n                case 1:\n                    return function (c) {\n                        return a.call(b, c);\n                    };\n                case 2:\n                    return function (c, d) {\n                        return a.call(b, c, d);\n                    };\n                case 3:\n                    return function (c, d, e) {\n                        return a.call(b, c, d, e);\n                    };\n                }\n                return function () {\n                    return a.apply(b, arguments);\n                };\n            };\n        },\n        function (a, b) {\n            a.exports = function (a) {\n                if ('function' != typeof a)\n                    throw TypeError(a + ' is not a function!');\n                return a;\n            };\n        },\n        function (a, b) {\n            a.exports = function (a) {\n                try {\n                    return !!a();\n                } catch (b) {\n                    return !0;\n                }\n            };\n        },\n        function (a, b) {\n            (function (c) {\n                'use strict';\n                b.__esModule = !0, b['default'] = function (a) {\n                    var b = 'undefined' != typeof c ? c : window, d = b.Handlebars;\n                    a.noConflict = function () {\n                        return b.Handlebars === a && (b.Handlebars = d), a;\n                    };\n                }, a.exports = b['default'];\n            }.call(b, function () {\n                return this;\n            }()));\n        }\n    ]);\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module PaymentWizard\ndefine('PaymentWizard.EditAmount.View', [\n    'payment_wizard_edit_amount_layout.tpl',\n    'Backbone',\n    'Backbone.FormView',\n    'Utils',\n    'Handlebars',\n    'underscore',\n    'jQuery'\n], function (payment_wizard_edit_amount_layout_tpl, Backbone, BackboneFormView, Utils, Handlebars, _, jQuery) {\n    'use strict';\n    //@class OrderWizard.EditDeposit.View @extend Backbone,View\n    return Backbone.View.extend({\n        template: payment_wizard_edit_amount_layout_tpl,\n        events: {\n            'submit [data-action=\"edit-amount-form\"]': 'modifyAmount',\n            'change [data-action=\"edit-amount\"]': 'changedAmount'\n        },\n        bindings: { '[name=\"amount\"]': 'amount' },\n        initialize: function (options) {\n            this.parentView = options.parentView;\n            this.model = options.model;\n            this.type = options.type;\n            this.selectedInvoicesLength = options.selectedInvoicesLength;\n            this.invoicesTotal = options.invoicesTotal;\n            if (this.type === 'invoice') {\n                this.original_amount_attribute = 'total';\n                this.amount_due_attribute = 'due';\n                this.input_label = _('Amount to Pay').translate();\n                this.original_amount_label = _('Original Amount').translate();\n                this.amount_due_label = _('Amount Due').translate();\n                this.page_header = _('Invoice #$(0)').translate(this.model.get('tranid'));\n                this.title = _('Amount to pay for invoice #$(0)').translate(this.model.get('tranid'));\n            } else if (this.type === 'deposit') {\n                this.input_label = _('Amount to apply').translate();\n                this.original_amount_label = _('Remaining amount').translate();\n                this.original_amount_attribute = 'remaining';\n                this.page_header = _('Deposit #$(0)').translate(this.model.get('refnum'));\n                this.title = _('Amount to apply for deposit #$(0)').translate(this.model.get('refnum'));\n            } else if (this.type === 'credit') {\n                this.input_label = _('Amount to apply').translate();\n                this.original_amount_attribute = 'remaining';\n                this.original_amount_label = _('Remaining amount').translate();\n                this.page_header = _('$(0) #$(1)').translate(this.model.get('type'), this.model.get('refnum'));\n                this.title = _('Amount to apply for credit #$(0)').translate(this.model.get('refnum'));\n            }\n            this.page_header = new Handlebars.SafeString('<b>' + this.page_header.toUpperCase() + '</b>');\n            this.clonedModel = BackboneFormView.add(this);\n        },\n        _getOriginalDiscountAmount: function _getOriginalDiscountAmount() {\n            !this.model.get('original_discamt') && this.model.set('original_discamt', this.model.get('discamt'));\n            return this.model.get('original_discamt');\n        },\n        _getOriginalTransactionAmount: function _getOriginalTransactionAmount() {\n            !this.model.get('original_amount') && this.model.set('original_amount', this.model.get('amount'));\n            return this.model.get('original_amount');\n        },\n        changedAmount: function changedAmount(e) {\n            var amount_to_pay_str = (jQuery(e.target).val() || '').replace(',', '.'), amount_to_pay = parseFloat(amount_to_pay_str);\n            if (this.model.get('discountapplies') && !isNaN(amount_to_pay)) {\n                var original_discount_ammount = this._getOriginalDiscountAmount(), original_amount = this._getOriginalTransactionAmount(), new_discount_amount = amount_to_pay * original_discount_ammount / original_amount, new_discount_amount_formatted = Utils.formatCurrency(new_discount_amount);\n                this.model.set('discamt', new_discount_amount);\n                this.model.set('discamt_formatted', new_discount_amount_formatted);\n                this.$('[data-type=\"applied-discount-ammount\"]').text(new_discount_amount_formatted);\n                this.$('[data-type=\"specified-payment-ammount\"]').text(Utils.formatCurrency(amount_to_pay));\n            }\n        },\n        modifyAmount: function (e) {\n            var model = this.model, original_amount = model.get('amount'), new_amount = parseFloat(this.$('[data-action=\"edit-amount\"]').val()), wizard_model = this.parentView.wizard.model, original_total = model.get('orderTotal') || wizard_model.calculeTotal(true);\n            e.preventDefault();\n            if (model.get('discountapplies') && new_amount === model.get('due')) {\n                new_amount = model.get('duewithdiscount');\n            }\n            model.set('amount', new_amount).set('orderTotal', wizard_model.calculeTotal(true));\n            this.clonedModel.validate();\n            if (this.clonedModel.isValid()) {\n                model.set('amount_formatted', _.formatCurrency(new_amount));\n                if (this.type === 'invoice') {\n                    wizard_model.distributeCredits();\n                } else {\n                    wizard_model.calculeTotal();\n                }\n                this.$containerModal && this.$containerModal.modal('hide');\n                this.destroy();\n            } else {\n                model.set({\n                    amount: original_amount,\n                    orderTotal: original_total\n                });\n            }\n        }    //@method getContext @return {OrderWizard.EditDeposit.View.Context}\n,\n        getContext: function () {\n            //@class OrderWizard.EditDeposit.View.Context\n            return {\n                //@property {String} originalAmountLabel\n                originalAmountLabel: this.original_amount_label,\n                originalAmountFormatted: this.model.get(this.original_amount_attribute + '_formatted')    //@property {Boolean} showAmountDue\n,\n                showAmountDue: !!this.amount_due_label,\n                amountDueLabel: this.amount_due_label,\n                amountDueFormatted: this.model.get(this.amount_due_attribute + '_formatted')    //@property {Boolean} showSelectedInvoicesLength\n,\n                showSelectedInvoicesLength: !!this.selectedInvoicesLength,\n                selectedInvoicesLength: this.selectedInvoicesLength,\n                invoiceTotalFormatted: _.formatCurrency(this.invoicesTotal)    //@property {String} inputLabel\n,\n                inputLabel: this.input_label,\n                inputValue: this.model.get('discountapplies') && this.model.isPayFull() ? this.model.get('due') : this.model.get('amount')    //@property {String} currencySymbol\n,\n                currencySymbol: SC.ENVIRONMENT.currentCurrency && SC.ENVIRONMENT.currentCurrency.symbol || '$'    //@property {Boolean} showDiscountApplied\n,\n                showDiscountApplied: !!this.model.get('discountapplies')    //@property {String} discountFormatted\n,\n                discountFormatted: this.model.get('discount_formatted')    //@property {String} discountAmountFormatted\n,\n                discountAmountFormatted: this.model.get('discamt_formatted')    //@property {String} dueWithDiscountFormatted\n,\n                dueWithDiscountFormatted: this.model.get('duewithdiscount_formatted')\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\ndefine('HandlebarsExtras', [\n    'SC.Configuration',\n    'Utils',\n    'Handlebars',\n    'Backbone',\n    'underscore',\n    'jQuery'\n], function (Configuration, Utils, Handlebars, Backbone, _, jQuery) {\n    'use strict';\n    Handlebars.registerHelper('getThemeAssetsPathWithDefault', function (img_path, default_img_path) {\n        if (img_path && img_path === Utils.getAbsoluteUrlOfNonManagedResources('')) {\n            img_path = null;\n        }\n        //If the theme path provided by the template's context is an url (and not a relative path) I'll use it as it's\n        //This is used for the local devtool in order to serve the assets locally\n        if (/^https?:\\/\\//.test(this._theme_path) && !img_path) {\n            return this._theme_path + default_img_path;\n        }\n        return Utils.getThemeAbsoluteUrlOfNonManagedResources(default_img_path, img_path);\n    });\n    Handlebars.registerHelper('getThemeAssetsPath', function (default_img_path) {\n        return Handlebars.helpers.getThemeAssetsPathWithDefault.apply(this, [\n            null,\n            default_img_path\n        ]);\n    });\n    Handlebars.registerHelper('getExtensionAssetsPathWithDefault', function (img_path, default_img_path) {\n        if (img_path && img_path !== Utils.getAbsoluteUrl()) {\n            return img_path;\n        }\n        //If the extension path provided by the template's context is an url (and not a relative path) I'll use it as it's\n        //This is used for the local devtool in order to serve the assets locally\n        if (/^https?:\\/\\//.test(this._extension_path)) {\n            return this._extension_path + default_img_path;\n        }\n        img_path = (this._extension_path || '') + default_img_path;\n        return Utils.getAbsoluteUrl(img_path);\n    });\n    Handlebars.registerHelper('getExtensionAssetsPath', function (default_img_path) {\n        return Handlebars.helpers.getExtensionAssetsPathWithDefault.apply(this, [\n            null,\n            default_img_path\n        ]);\n    });\n    Handlebars.registerHelper('translate', function () {\n        //NOTE: translate returns a safe string\n        return new Handlebars.SafeString(_.translate.apply(_, arguments));\n    });\n    Handlebars.registerHelper('highlightKeyword', function (text, keyword) {\n        //NOTE: highlightKeyword returns a safe string\n        return new Handlebars.SafeString(Utils.highlightKeyword(text, keyword));\n    });\n    var objectToAttributesFn = function () {\n        //Note: object to attributes\n        return new Handlebars.SafeString(Utils.objectToAtrributes(this, ''));\n    };\n    Handlebars.registerHelper('objectToAtrributes', objectToAttributesFn);\n    Handlebars.registerHelper('objectToAttributes', objectToAttributesFn);\n    //define our own each helper with support for backbone collections\n    Handlebars.registerHelper('each', function (context, options) {\n        var ret = '', iterable = context instanceof Backbone.Collection ? context.models : context, length = iterable && iterable.length || 0;\n        for (var i = 0, j = length; i < j; i++) {\n            ret = ret + options.fn(iterable[i], {\n                data: {\n                    first: i === 0,\n                    last: i === iterable.length - 1,\n                    index: i,\n                    indexPlusOne: i + 1\n                }\n            });\n        }\n        if (!length) {\n            ret = options.inverse(this);\n        }\n        return ret;\n    });\n    Handlebars.registerHelper('resizeImage', function (url, size) {\n        url = url || _.getThemeAbsoluteUrlOfNonManagedResources('img/no_image_available.jpeg', Configuration.get('imageNotAvailable'));\n        var mapped_size = Configuration['imageSizeMapping.' + size] || size;\n        return Utils.resizeImage(SC.ENVIRONMENT.siteSettings.imagesizes || [], url, mapped_size);\n    });\n    Handlebars.registerHelper('trimHtml', function (htmlString, length) {\n        var htmlStringSelector;\n        try {\n            htmlStringSelector = jQuery(htmlString);\n        } catch (e) {\n        }\n        var trimmedString = htmlStringSelector && htmlStringSelector.length > 0 ? jQuery.trim(htmlStringSelector.text()) : jQuery.trim(htmlString), moreContent = '';\n        if (trimmedString.length > length) {\n            moreContent = '...';\n        }\n        return trimmedString.substring(0, length) + moreContent;\n    });\n    //Helper 'breaklines' places <br/> tags instead of the newlines provided by backend\n    //Used in messages in Quotes, Return, Case, Review.\n    Handlebars.registerHelper('breaklines', function (text) {\n        text = Handlebars.Utils.escapeExpression(text || '');\n        text = text.replace(/(\\r\\n|\\n|\\r|\\u0005)/gm, '<br/>');\n        return new Handlebars.SafeString(text);\n    });\n    //Helper 'ifEqual' works like if (v1 == v2) {} else {}\n    Handlebars.registerHelper('ifEquals', function (v1, v2, options) {\n        /*jslint eqeq: true*/\n        if (v1 == v2) {\n            return options.fn(this);\n        }\n        return options.inverse(this);\n    });\n    Handlebars.registerHelper('formatCurrency', function (amount, symbol) {\n        //Handlebars sets an object as the last arguement. If formatCurrency was called with one argument, second argument won't be the expected string symbol\n        if (typeof symbol === 'string') {\n            return Utils.formatCurrency(amount, symbol);\n        } else {\n            return Utils.formatCurrency(amount);\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n/*\n@module BackboneExtras\n#Backbone.View.render()\nThis file extends native Backbone.View with a custom rendering method. Basically a View must have the 'template'\nproperty pointing to a Function and that function is evaluated using the result of view.getContext()\n@module Backbone\n@class Backbone.View\n*/\ndefine('Backbone.View.render', [\n    'Backbone',\n    'underscore',\n    'jQuery',\n    'PluginContainer',\n    'Utils',\n    'Backbone.CompositeView',\n    'Backbone.Validation',\n    'Handlebars',\n    'HandlebarsExtras'\n], function (Backbone, _, jQuery, PluginContainer, Utils) {\n    'use strict';\n    _.extend(Backbone.View.prototype, {\n        //@method getTemplateContext @return {Object} the exact object that is passed to the template function as parameter\n        getTemplateContext: function () {\n            var template_context;\n            if (this.getContext) {\n                template_context = this.getContext();\n                if (this.constructor.extraContextProperties) {\n                    //Item key mapping? >> get item info using item key mapping\n                    //what about Model property?\n                    var safe_context = Utils.deepCopy(template_context);\n                    _.each(this.constructor.extraContextProperties, function contextExtender(property_generator, property_name) {\n                        template_context[property_name] = property_generator.fn(safe_context);\n                    });\n                }\n            } else {\n                template_context = {};\n                if (this.model) {\n                    template_context.model = this.model;\n                }\n                if (this.collection) {\n                    template_context.collection = this.collection;\n                }\n            }\n            return template_context;\n        }    //@method compileTemplate executes the template passing the context which generates a HTML string. @return {String}\n,\n        compileTemplate: function () {\n            var template_context = this.getTemplateContext();\n            this.template = Backbone.View.preCompile.executeAll(this.template, this, template_context) || this.template;\n            if (!this.template) {\n                throw new Error('View doesn\\'t have a template');\n            }\n            if (!_.isFunction(this.template)) {\n                var templateName = this.template + '';\n                this.template = Utils.requireModules(templateName);\n                if (!this.template) {\n                    console.log('View render error, template not found: ', templateName);\n                }\n            }\n            var tmpl_str = this.template(template_context);\n            tmpl_str = Backbone.View.postCompile.executeAll(tmpl_str, this);\n            return tmpl_str;\n        }    // @method _initialize\n,\n        _initialize: function () {\n        }    // @method initialize\n,\n        initialize: function () {\n            this._initialize();\n        }    // @method _render Implements the templates execution, rendering and append to DOM.\n             // Plugins can be hooked in these interesting 'template rendering' moments to perform customizations.\n,\n        _render: function () {\n            if (this.events) {\n                this.undelegateEvents();\n            }\n            var tmpl_str = this.compileTemplate();\n            // Rendering: generating DOM from the HTML string\n            var $tmpl = SC.ENVIRONMENT.jsEnvironment === 'server' ? jQuery('<div/>').append(tmpl_str) : jQuery(tmpl_str);\n            $tmpl = Backbone.View.preRender.executeAll($tmpl, this);\n            // @property {PluginContainer} preRenderPlugins Instance prerender plugins. Useful for extending the DOM using plugins per instance or per class using JavaScript\n            $tmpl = this.preRenderPlugins ? this.preRenderPlugins.executeAll($tmpl, this) : $tmpl;\n            this.$el.empty();\n            this.trigger('beforeViewRender', this);\n            // Appends/render the content HTML string to the view's element\n            if (SC.ENVIRONMENT.jsEnvironment === 'server') {\n                // If $el[0] doesn't exists it means that the ExtraChildView don't need to be shown on this page\n                if (this.$el[0]) {\n                    // in page generator we append the content this way because of envjs bug.\n                    this.$el[0].innerHTML = $tmpl[0].innerHTML;\n                }\n            } else {\n                this.$el.append($tmpl);\n            }\n            this.renderCompositeView();\n            Backbone.View.postRender.executeAll(this.$el, this);\n            this.trigger('afterViewRender', this);\n            if (this.events) {\n                this.delegateEvents();\n            }\n            return this;\n        }    //@method render public overridable render method used as a facade for the internal _render method\n,\n        render: function () {\n            return this._render();\n        }    // @method _destroy \"private\", shouldn't be overwritten if a custom destroy method is required override the destroy method. This method should still be called\n             // @param {Boolean} softDestroy decides if the view should be empty instead of removed\n,\n        _destroy: function (softDestroy) {\n            this.destroyCompositeView();\n            if (this.$el) {\n                // http://backbonejs.org/#View-undelegateEvents\n                this.undelegateEvents();\n            }\n            // http://backbonejs.org/#Events-off\n            this.model && this.model.off(null, null, this);\n            this.collection && this.collection.off && this.collection.off(null, null, this);\n            if (this.$el && softDestroy) {\n                this.$el.empty();\n            } else if (this.$el) {\n                // http://backbonejs.org/#View-remove\n                this.remove();\n                // unbind all DOM events not just delegated ones\n                this.$el.unbind();\n            }\n            this.trigger('destroy');\n        }    // @method destroy\n,\n        destroy: function (softDestroy) {\n            this._destroy(softDestroy);\n        }\n    });\n    var isDataTypeValid = function (data_type) {\n        var valid_data_types = [\n            'number',\n            'string',\n            'object',\n            'array',\n            'boolean',\n            'null'\n        ];\n        if (_.isString(data_type)) {\n            return _.indexOf(valid_data_types, data_type) >= 0;\n        } else if (_.isArray(data_type)) {\n            return !_.difference(data_type, valid_data_types).length;\n        }\n        return false;\n    };\n    // Install the plugin containers\n    _.extend(Backbone.View, {\n        // @property {PluginContainer} preCompile These hooks are executed before the template function is executed and generates a HTML string\n        // Each execute method of each plugin will receive: the template function, the view and the context where the template will execute. @static\n        preCompile: new PluginContainer()    //@property {PluginContainer} postCompile These hooks are executed after the template the template function is executed and generates a HTML string\n                                 //Each execute method of each plugin will receive: the template string (result of having running the template) and the view. @static\n,\n        postCompile: new PluginContainer()    //@property {PluginContainer} preRender These hooks are executed before the template result is appended to DOM\n                                 //Each execute method of each plugin will receive: the template  DOM object (without begin insert into the DOM) and the view. @static\n,\n        preRender: new PluginContainer()    //@property {PluginContainer} postRender These hooks are executed after the template is appended to DOM\n                                 //Each execute method of each plugin will receive: the template DOM object (already in the DOM) and the view. @static\n,\n        postRender: new PluginContainer()    // @method addExtraContextProperty Allows adding an extra context property into a view.\n                                 // @param {String} property_name Unique name of the extra property to be added\n                                 // @param {String} type Name of the type of the new property\n                                 // @param {Function} callback Function invoked each time the View's UI context is being generated\n                                 // @return {Void}\n                                 // @public\n                                 // @static\n,\n        addExtraContextProperty: function addExtraContextProperty(property_name, type, callback) {\n            this.extraContextProperties = this.extraContextProperties || {};\n            var error = {};\n            if (!isDataTypeValid(type)) {\n                error = new Error('Invalid data type. Please check the json-schema documentation for valid data types.');\n                error.name = 'INVALID_DATA_TYPE';\n                throw error;\n            }\n            if (this.extraContextProperties[property_name]) {\n                error = new Error('Duplicated property_name. Trying to add more than one extra context property with the same name.');\n                error.name = 'DUPLICATED_CONTEXT_PROPERTY';\n                throw error;\n            }\n            this.extraContextProperties[property_name] = {\n                type: type,\n                fn: callback\n            };\n        }    //@method removeExtraContextProperty Removes a previously extra context property\n             //@param {String} property_name Name of the property\n             //@return {Void}\n             //@public\n             //@static\n,\n        removeExtraContextProperty: function removeExtraContextProperty(property_name) {\n            this.extraContextProperties = this.extraContextProperties || {};\n            delete this.extraContextProperties[property_name];\n        }\n    });\n    return Backbone.View;\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n/*\n@module BackboneExtras\n#Collection View\n\nSee @?ref Backbone.CollectionView\n\n@class Backbone.CollectionView\nA collection view is a concrete tool view for showing a collection of items all of the same type.\nWe just create a collection view instance and give it the collection of items (array or backbone collection)\nand the view class used for rendering each item.\n\nIt support the high level concept of rows and cells to group / grid the items and let use custom templates\nfor cells and rows.\n\n@extends Backbone.View\n*/\ndefine('Backbone.CollectionView', [\n    'Backbone',\n    'jQuery',\n    'underscore',\n    'Backbone.View',\n    'Backbone.View.render'\n], function (Backbone, jQuery, _) {\n    'use strict';\n    return Backbone.View.extend({\n        // @property {Class} childView the View class of this collection view children\n        childView: Backbone.View,\n        template: null    // @property {Object} childViewOptions the options to be passed to children views\n,\n        childViewOptions: {}    // @property {Number} viewsPerRow\n,\n        viewsPerRow: 3    // @property {Number} rowsCount Total number of rows used by the CSS framework\n,\n        rowsCount: 12    // @property {Function} childTemplate Template used to override the default child view template\n,\n        childTemplate: null    // @property {Function} cellTemplate Template used to create a cell\n,\n        cellTemplate: null    // @property {Function} rowTemplate Template used to create a row\n,\n        rowTemplate: null    // @property  {String} cellsContainerId Defines the data type values used to find the container element of the cells in a row\n,\n        cellsContainerId: 'backbone.collection.view.cells'    // @property  {String} cellContainerId Defines the data type values used to find the container elements of the child view in a cell\n,\n        cellContainerId: 'backbone.collection.view.cell'    // @property  {String} rowsContainerId Defines the data type values used to find the container elements of the rows in a template\n,\n        rowsContainerId: 'backbone.collection.view.rows'    // @property {Object} allows the user to define a custom context.\n,\n        context: {},\n        initialize: function (options) {\n            this.childView = options.childView || this.childView;\n            this.childViewOptions = options.childViewOptions || this.childViewOptions;\n            this.viewsPerRow = options.viewsPerRow ? options.viewsPerRow : this.viewsPerRow;\n            if (this.viewsPerRow < 1) {\n                this.viewsPerRow = Infinity;\n            }\n            this.context = options.context || {};\n            this.collection = options.collection;\n            this.childTemplate = options.childTemplate || this.childTemplate;\n            this.cellTemplate = options.cellTemplate || this.cellTemplate;\n            this.rowTemplate = options.rowTemplate || this.rowTemplate;\n            this.cellsContainerId = options.cellsContainerId || this.cellsContainerId;\n            this.cellContainerId = options.cellContainerId || this.cellContainerId;\n            this.template = options.template || this.template;\n            this.childCells = [];\n        },\n        createChildElement: function () {\n            var data = this.placeholderData || {}, tag_name = data.childTagName || 'div', element = jQuery('<' + tag_name + '></' + tag_name + '>');\n            if (data.childId) {\n                element.attr('id', data.childId);\n            }\n            if (data.childClass) {\n                element.addClass(data.childClass);\n            }\n            if (data.childDataAction) {\n                element.attr('data-action', data.childDataAction);\n            }\n            if (data.childDataType) {\n                element.attr('data-type', data.childDataType);\n            }\n            return element;\n        }    // @method generateRowContext Generates the context used by the row template. This method is aimed to be overrided @return {Backbone.CollectionView.RowContext}\n,\n        generateRowContext: function () {\n            //@class Backbone.CollectionView.RowContext\n            return {};\n        }    // @method generateCellContext Generates the context used by the cell template @return {Backbone.CollectionView.CellContext}\n,\n        generateCellContext: function (child_view_instance) {\n            var child_view_instance_context = child_view_instance.getTemplateContext ? child_view_instance.getTemplateContext() : child_view_instance.getContext ? child_view_instance.getContext() : {};\n            //@class Backbone.CollectionView.CellContext\n            return _.extend(child_view_instance_context, {\n                //@property {Number} spanSize\n                spanSize: this.calculateSpanSize()\n            });\n        },\n        calculateSpanSize: function () {\n            return this.rowsCount / this.viewsPerRow;\n        }    // @method createCell Internal method for generate the render result of a child view wrapping it into a cell container.\n,\n        createCell: function (model, index) {\n            var options = _.extend({}, this.childViewOptions, {\n                    model: model,\n                    index: index\n                }), child_view_instance = new this.childView(options);\n            this.childCells.push(child_view_instance);\n            if (!(child_view_instance.attributes && child_view_instance.attributes['data-root-component-id'])) {\n                child_view_instance.attributes = child_view_instance.attributes || {};\n                child_view_instance.attributes['data-root-component-id'] = this.attributes && this.attributes['data-root-component-id'] || '';\n            }\n            child_view_instance.parentView = child_view_instance.parentView || this;\n            child_view_instance.hasParent = true;\n            child_view_instance.setElement(this.createChildElement());\n            child_view_instance.render();\n            if (child_view_instance.$el.children().length === 1) {\n                child_view_instance.setElement(child_view_instance.$el.children()[0]);\n            }\n            if (this.cellTemplate) {\n                var $cell = jQuery(this.cellTemplate(this.generateCellContext(child_view_instance))), $placeholder = $cell.find('[data-type=\"' + this.cellContainerId + '\"]');\n                if ($placeholder.length) {\n                    $placeholder.replaceWith(child_view_instance.$el);\n                } else {\n                    $cell = jQuery('<div></div>');\n                    $cell.append(child_view_instance.$el);\n                }\n                return $cell;\n            } else {\n                return child_view_instance.$el;\n            }\n        }    // @method appendCellsToRow Add an array of jQuery cells into an jQuery row @param {Array<jQuery>} cells\n,\n        appendCellsToRow: function (cells) {\n            var $cells = jQuery(_(cells).map(function (element) {\n                return element.get(0);\n            }));\n            if (this.rowTemplate) {\n                var $row = jQuery(this.rowTemplate(this.generateRowContext())), $placeholder = $row.find('[data-type=\"' + this.cellsContainerId + '\"]');\n                if ($placeholder.length) {\n                    $placeholder.replaceWith($cells);\n                } else {\n                    $row = jQuery('<div></div>');\n                    $row.append($cells);\n                }\n                return $row;\n            } else {\n                return $cells;\n            }\n        }    // @method render Override default render to give support to iteration and multiple items per row\n,\n        render: function () {\n            this.collection = this.collection instanceof Backbone.Collection ? this.collection : new Backbone.Collection(this.collection);\n            //Empty the div before starting the render\n            this.$el.empty();\n            if (this.template) {\n                this._render();\n            }\n            var self = this, rows = [], cells_in_row = [];\n            if (self.childTemplate) {\n                self.childView.prototype.template = self.childTemplate;\n            }\n            this.viewsPerRow = this.placeholderData && this.placeholderData.viewsPerRow || this.viewsPerRow;\n            // @property {Array<Object>} collection this kind of view should be always have a collection property which is what is rendered.\n            this.collection.each(function (model, index) {\n                var cell = self.createCell(model, index);\n                if (self.rowTemplate) {\n                    cells_in_row.push(cell);\n                    if (self.viewsPerRow === 1 || (index + 1) % self.viewsPerRow === 0 || index + 1 === self.collection.length) {\n                        rows.push(self.appendCellsToRow(cells_in_row));\n                        cells_in_row = [];\n                    }\n                } else {\n                    rows.push(cell);\n                }\n            });\n            var $content = jQuery(_(rows).map(function (element) {\n                return element.get(0);\n            }));\n            if (this.template) {\n                this.$('[data-type=\"' + this.rowsContainerId + '\"]').replaceWith($content);\n            } else {\n                this.$el.append($content);\n            }\n        },\n        destroy: function () {\n            _.each(this.childCells, function (child) {\n                child && child.destroy();\n            });\n            Backbone.View.prototype.destroy.apply(this, Array.prototype.slice.call(arguments));\n        },\n        getContext: function () {\n            var context = {\n                collection: this.collection,\n                showCells: !!this.collection.length\n            };\n            return _.extend(context, this.context);\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module RecordViews\ndefine('RecordViews.View', [\n    'recordviews.tpl',\n    'Backbone.CompositeView',\n    'Backbone',\n    'underscore'\n], function (record_views_tpl, BackboneCompositeView, Backbone, _) {\n    'use strict';\n    //@class RecordViews.View @extend Backbone.View\n    return Backbone.View.extend({\n        //@property {Function} template\n        template: record_views_tpl    //@method initialize\n                            //@param {RecordViews.View.Initialize} options\n                            //@return {Void}\n,\n        initialize: function () {\n            this.extendChildViews();\n            BackboneCompositeView.add(this);\n        }    //@property {Object} childViews\n,\n        childViews: {}    //@method extendChildViews Internal method that based on the list of columns that the current model has, extend the childViews property object by adding\n              //each of the composite views specified in the columns. Notice here that each column is of type RecordViews.View.Column\n              //@return {Void}\n,\n        extendChildViews: function () {\n            var self = this;\n            _.each(self.model.get('columns'), function (column) {\n                if (column.compositeKey) {\n                    var childView = {};\n                    childView['' + column.compositeKey] = function () {\n                        return column.composite;\n                    };\n                    self.addChildViewInstances(childView);\n                }\n            });\n        }    //@method normalizeColumns Add the properties showLabel and isComposite to each of the RecordViews.View.Column of the current model.\n             //@return {Array<RecordViews.View.Column>}\n,\n        normalizeColumns: function () {\n            return _.map(this.model.get('columns'), function (column) {\n                column.showLabel = !!column.label;\n                column.isComposite = !!column.compositeKey;\n                return column;\n            });\n        }    //@method getContext @return {RecordViews.View.Context}\n,\n        getContext: function () {\n            //@class RecordViews.View.Context\n            return {\n                //@property {Backbone.Model} model\n                model: this.model,\n                id: this.model.id,\n                isNavigable: _.isBoolean(this.model.get('isNavigable')) ? this.model.get('isNavigable') : true    //@property {Boolean} showInModal\n,\n                showInModal: _.isBoolean(this.model.get('showInModal')) ? this.model.get('showInModal') : false    //@property {String} touchpoint\n,\n                touchpoint: this.model.get('touchpoint') || 'customercenter'    //@property {String} detailsURL\n,\n                detailsURL: this.options.referrer ? this.model.get('detailsURL') + '/' + this.options.referrer : this.model.get('detailsURL')    //@property {String} title\n,\n                title: this.model.get('title')    //@property {Array<RecordViews.View.Column>} columns\n,\n                columns: this.normalizeColumns()\n            };\n        }\n    });\n});    //@class RecordViews.View.Initialize\n       //@property {RecordViews.View.Initialize.Model} model\n       //@class RecordViews.View.Initialize.Model @extends Backbone.Model\n       //@property {String} id\n       //@property {Boolean?} isNavigable The default value is true\n       //@property {Boolean?} showInModal The default value is false\n       //@property {String?} touchpoint The default value is 'customercenter'\n       //@property {String} detailsURL\n       //@property {String} title\n       //@property {Array<RecordViews.View.Column>} columns\n       //@class RecordViews.View.Column\n       //@property {String} label\n       //@property {Boolean} showLabel This field is calculated\n       //@property {Boolean} isComposite This field is calculated\n       //@property {String} type\n       //@property {String} name\n       //@property {String|Number|Boolean} value\n       //@property {String} compositeKey\n       //@property {Backbone.View} composite In instance of a view\n","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module RecordViews\ndefine('RecordViews.SelectableActionable.View', [\n    'Backbone.CompositeView',\n    'RecordViews.View',\n    'recordviews_selectable_actionable.tpl',\n    'Backbone',\n    'underscore'\n], function (BackboneCompositeView, RecordViewsView, recordviews_selectable_actionable_tpl, Backbone, _) {\n    'use strict';\n    //@class RecordViews.SelectableActionable.View @extend RecordViews.View\n    return RecordViewsView.extend({\n        //@property {Function} template\n        template: recordviews_selectable_actionable_tpl    //@method initialize\n                                                 //@param {RecordViews.SelectableActionable.View.Initialize} options\n                                                 //@return {Void}\n,\n        initialize: function () {\n            RecordViewsView.prototype.initialize.apply(this, arguments);\n        }    //@property {Object} childViews Override the base property by adding a default Action.View composite View\n,\n        childViews: {\n            'Action.View': function () {\n                var action_options = _.extend({ model: this.model }, this.options.actionOptions || {}), view = this.options.actionView;\n                return new view(action_options);\n            }\n        }    //@method getContext @return {RecordViews.SelectableActionable.View.Context}\n,\n        getContext: function () {\n            //@class RecordViews.SelectableActionable.View.Context\n            return {\n                //@property {RecordViews.SelectableActionable.View.Initialize.Model} model\n                model: this.model,\n                id: this.model.id,\n                isChecked: !!this.model.get('check')    //@property {Boolean} isActive\n,\n                isActive: !!this.model.get('active')    //@property {Boolean} isChecked\n,\n                checkboxIsHidden: _.isUndefined(this.options.checkboxIsHidden) ? false : !!this.options.checkboxIsHidden,\n                actionType: this.model.get('actionType') || ''    //@property {Boolean} isNavigable\n,\n                isNavigable: !!(this.options.navigable || this.model.get('navigable'))    //@property {String} url\n,\n                url: this.model.get('url')    //@property {String} title\n,\n                title: this.model.get('title')    //@property {Array<RecordViews.View.Column>} columns\n,\n                columns: this.normalizeColumns()\n            };\n        }\n    });\n});    //@class RecordViews.SelectableActionable.View.Initialize\n       //@property {RecordViews.SelectableActionable.View.Initialize.Model} model\n       //@property {Object} actionOptions\n       //@property {Backbone.View} actionView\n       //@property {Boolean} navigable This value will takes precedence over the value of the model\n       //@class RecordViews.SelectableActionable.View.Initialize.Model @extends Backbone.Model\n       //@property {String} id\n       //@property {Boolean} isChecked\n       //@property {Boolean} active\n       //@property {String?} actionType Default value is ''\n       //@property {String} title\n       //@property {String} url\n       //@property {Boolean} navigable\n       //@property {Array<RecordViews.View.Column>} columns\n","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module PaymentWizard\ndefine('PaymentWizard.Module.Invoice.Subject.View', [\n    'payment_wizard_invoice_subject.tpl',\n    'Backbone'\n], function (payment_wizard_invoice_subject_tpl, Backbone) {\n    'use strict';\n    //@class PaymentWizard.Module.Invoice.Subject.View @extend Backbone.View\n    return Backbone.View.extend({\n        template: payment_wizard_invoice_subject_tpl    //@method getContext @return {PaymentWizard.Module.Invoice.Subject.View.Context}\n,\n        getContext: function () {\n            //@class PaymentWizard.Module.Invoice.Subject.View.Context\n            return {\n                //@property {Boolean} isOverdue\n                isOverdue: !!this.model.get('isoverdue')    //@property {String} dueDate\n,\n                dueDate: this.model.get('duedate') || ' '    //@property {Boolean} isDiscountApplied\n,\n                isDiscountApplied: !!this.model.get('discountapplies')    //@property {String} discountFormatted\n,\n                discountFormatted: this.model.get('discount_formatted')    //@property {String} discDate\n,\n                discDate: this.model.get('discdate')    //@property {Boolean} isPaid\n,\n                isPaid: !!this.model.get('ispaid')\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module PaymentWizard\ndefine('PaymentWizard.Module.Invoice.Action.View', [\n    'payment_wizard_invoice_action.tpl',\n    'Backbone'\n], function (payment_wizard_invoice_action_tpl, Backbone) {\n    'use strict';\n    //@class PaymentWizard.Module.Invoice.Action.View @extend Backbone.View\n    return Backbone.View.extend({\n        template: payment_wizard_invoice_action_tpl    //@method getContext @return {PaymentWizard.Module.Invoice.Action.View.Context}\n,\n        getContext: function () {\n            //@class PaymentWizard.Module.Invoice.Action.View.Context\n            return {\n                //@property {Boolean} isPayfull\n                isPayfull: !!this.model.get('isPayFull')    //@property {Boolean} showAction\n,\n                showAction: !!this.model.get('check')\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module PaymentWizard\ndefine('PaymentWizard.Module.Invoice', [\n    'Wizard.Module',\n    'ListHeader.View',\n    'Invoice.Collection',\n    'PaymentWizard.EditAmount.View',\n    'Backbone.CompositeView',\n    'Backbone.CollectionView',\n    'RecordViews.SelectableActionable.View',\n    'PaymentWizard.Module.Invoice.Subject.View',\n    'PaymentWizard.Module.Invoice.Action.View',\n    'payment_wizard_invoice_module.tpl',\n    'underscore',\n    'Backbone',\n    'jQuery',\n    'Utils'\n], function (WizardModule, ListHeaderView, InvoiceCollection, PaymentWizardEditAmountView, BackboneCompositeView, BackboneCollectionView, RecordViewsSelectableActionableView, PaymentWizardModuleInvoiceSubjectView, PaymentWizardModuleInvoiceActionView, payment_wizard_invoice_module_tpl, _, Backbone, jQuery) {\n    'use strict';\n    // returns the amount of days based on milliseconds\n    function getDays(milliseconds) {\n        return milliseconds / 1000 / 60 / 60 / 24;\n    }\n    //@class PaymentWizard.Module.Invoice @extend Wizard.Module\n    return WizardModule.extend({\n        template: payment_wizard_invoice_module_tpl,\n        className: 'PaymentWizard.Module.Invoice',\n        events: {\n            'click [data-action=\"invoice\"]': 'toggleInvoiceHandler',\n            'click [data-action=\"edit\"]': 'editInvoice'\n        },\n        initialize: function (options) {\n            this.wizard = options.wizard;\n            this.invoices = new InvoiceCollection();\n            this.invoices.reset(this.wizard.model.get('invoices').models);\n            // PaymentWizard.Module.Invoice.listHeader:\n            // manges sorting and filtering of the collection\n            this.listHeader = new ListHeaderView({\n                view: this,\n                application: options.wizard.application,\n                collection: this.invoices,\n                filters: this.filterOptions,\n                sorts: this.sortOptions,\n                selectable: true\n            });\n            this.addEventListeners();\n            BackboneCompositeView.add(this);\n        },\n        addEventListeners: function () {\n            var self = this;\n            // Whenever the invoice collection changes, we re write\n            // this.invoices.on('reset', jQuery.proxy(this, 'render'));\n            this.invoices.on('reset', function () {\n                self.render();\n            });\n            // this.wizard.model.on('change:invoices_total', jQuery.proxy(this, 'render'));\n            this.wizard.model.on('change:invoices_total', function () {\n                self.render();\n            });\n            this.wizard.model.on('change:invoices', function () {\n                self.invoices.clearFilters();\n                self.invoices.reset(self.wizard.model.get('invoices').models);\n                self.invoices.original = self.invoices.clone();\n            });\n        }    // the render is called whenever the invoice collection is resetd\n             // to prevent multiple innecesary renders, we use this boolean flag\n             // so the \"real\" render will only happen if the step is present\n,\n        present: function () {\n            this.renderable = true;\n            this.listHeader.updateCollection();\n        },\n        render: function () {\n            if (this.renderable) {\n                this._render();\n            }\n        }    // Array of default filter options\n             // filters always apply on the original collection\n,\n        filterOptions: [\n            {\n                value: 'overdue',\n                name: _('Show Overdue').translate(),\n                filter: function () {\n                    return this.original.filter(function (invoice) {\n                        return !invoice.get('dueinmilliseconds') || invoice.get('isOverdue');\n                    });\n                }\n            },\n            {\n                value: 'next7days',\n                name: _('Show Due next 7 days').translate(),\n                filter: function () {\n                    return this.original.filter(function (invoice) {\n                        return !invoice.get('dueinmilliseconds') || getDays(invoice.get('dueinmilliseconds')) <= 7;\n                    });\n                }\n            },\n            {\n                value: 'next30days',\n                name: _('Show Due next 30 days').translate(),\n                filter: function () {\n                    return this.original.filter(function (invoice) {\n                        return !invoice.get('dueinmilliseconds') || getDays(invoice.get('dueinmilliseconds')) <= 30;\n                    });\n                }\n            },\n            {\n                value: 'next60days',\n                name: _('Show Due next 60 days').translate(),\n                filter: function () {\n                    return this.original.filter(function (invoice) {\n                        return !invoice.get('dueinmilliseconds') || getDays(invoice.get('dueinmilliseconds')) <= 60;\n                    });\n                }\n            },\n            {\n                value: 'next90days',\n                name: _('Show Due next 90 days').translate(),\n                filter: function () {\n                    return this.original.filter(function (invoice) {\n                        return !invoice.get('dueinmilliseconds') || getDays(invoice.get('dueinmilliseconds')) <= 90;\n                    });\n                }\n            },\n            {\n                value: 'all',\n                name: _('Show All').translate(),\n                selected: true,\n                filter: function () {\n                    return this.original.models;\n                }\n            }\n        ]    // Array of default sort options\n             // sorts only apply on the current collection\n             // which might be a filtered version of the original\n,\n        sortOptions: [\n            {\n                value: 'duedate',\n                name: _('By Due Date').translate(),\n                selected: true,\n                sort: function () {\n                    return this.models.sort(function (invoiceOne, invoiceTwo) {\n                        var milli_inv_one = invoiceOne.get('dueinmilliseconds') || 0, milli_inv_two = invoiceTwo.get('dueinmilliseconds') || 0;\n                        if (milli_inv_one !== milli_inv_two) {\n                            return milli_inv_one < milli_inv_two ? -1 : 1;\n                        }\n                        return invoiceOne.get('tranid') < invoiceTwo.get('tranid') ? -1 : 1;\n                    });\n                }\n            },\n            {\n                value: 'invoicenumber',\n                name: _('By Invoice Number').translate(),\n                sort: function () {\n                    return this.sortBy(function (invoice) {\n                        return invoice.get('tranid');\n                    });\n                }\n            },\n            {\n                value: 'amountdue',\n                name: _('By Amount Due').translate(),\n                sort: function () {\n                    return this.sortBy(function (invoice) {\n                        return invoice.get('due') ? invoice.get('due') : invoice.get('amount');\n                    });\n                }\n            }\n        ]    // When an invoice is clicked, call toggleInvoice\n,\n        toggleInvoiceHandler: function (e) {\n            var $target = jQuery(e.target);\n            if ($target.hasClass('disabled')) {\n                return;\n            }\n            if ($target.data('toggle') !== 'show-in-modal') {\n                this.toggleInvoice($target.closest('[data-action=\"invoice\"]').data('id'));\n            }\n        },\n        toggleInvoice: function (invoice) {\n            invoice = this.invoices.get(invoice);\n            if (invoice) {\n                // toggles the state of the invoice, by selecting or unselecting it\n                this[invoice.get('apply') ? 'unselectInvoice' : 'selectInvoice'](invoice);\n            }\n            this.render();\n        }    // tries to select the invoice\n,\n        selectInvoice: function (invoice) {\n            invoice.set('checked', true);\n            this.wizard.model.selectInvoice(invoice);\n        }    // tries to unselect the invoice\n,\n        unselectInvoice: function (invoice) {\n            invoice.set('checked', false);\n            this.wizard.model.unselectInvoice(invoice);\n        }    // selects all invoices\n,\n        selectAll: function () {\n            var self = this, has_changed = false;\n            this.invoices.each(function (invoice) {\n                if (!invoice.get('apply')) {\n                    has_changed = true;\n                    // select the invoice\n                    self.selectInvoice(invoice);\n                }\n            });\n        }    // unselects all invoices\n,\n        unselectAll: function () {\n            var self = this, has_changed = false;\n            this.invoices.each(function (invoice) {\n                if (invoice.get('apply')) {\n                    has_changed = true;\n                    // unselects the invoice\n                    self.unselectInvoice(invoice);\n                }\n            });\n        },\n        editInvoice: function (e) {\n            var $target = jQuery(e.target), $invoice = $target.closest('[data-action=\"invoice\"]'), $checkbox = $invoice.find('[data-action=\"select\"]'), invoice = this.invoices.get($checkbox.val());\n            e.preventDefault();\n            e.stopPropagation();\n            this.wizard.application.getLayout().showInModal(new PaymentWizardEditAmountView({\n                application: this.wizard.applicationx,\n                parentView: this,\n                model: invoice,\n                type: 'invoice'\n            }), { application: this.wizard.application });\n        }    // whenever this module is in the past\n,\n        past: function () {\n            var wizard = this.wizard;\n            // if the payment model doesn't has any invoice selected\n            if (!wizard.model.getSelectedInvoices().length && !wizard.model.get('confirmation')) {\n                // that is just wrong, get back to the first step son\n                wizard.navigate('/' + wizard.steps[wizard.stepsOrder[0]].stepGroup.url);\n            }\n        },\n        childViews: {\n            'ListHeader.View': function () {\n                return this.listHeader;\n            },\n            'Invoices.Collection': function () {\n                var invoices_to_show = this.invoices.map(function (invoice) {\n                    var invoice_number = invoice.get('tranid') || invoice.get('refnum'), navigable = !!invoice_number;\n                    return new Backbone.Model({\n                        internalid: invoice.id,\n                        check: invoice.get('apply'),\n                        active: invoice.get('due') !== 0,\n                        navigable: navigable,\n                        url: 'invoices/' + invoice.id,\n                        title: navigable ? _('Invoice #$(0)').translate(invoice_number) : _('Journal').translate(),\n                        actionType: 'invoice',\n                        isPayFull: invoice.isPayFull(),\n                        columns: [\n                            {\n                                label: _('Due date:').translate(),\n                                type: 'date',\n                                name: 'original-amount',\n                                compositeKey: 'PaymentWizardModuleInvoiceSubjectView',\n                                composite: new PaymentWizardModuleInvoiceSubjectView({\n                                    model: new Backbone.Model({\n                                        isoverdue: invoice.get('isOverdue'),\n                                        duedate: invoice.get('duedate'),\n                                        discountapplies: invoice.get('discountapplies'),\n                                        isPayFull: invoice.isPayFull(),\n                                        discount_formatted: invoice.get('discount_formatted'),\n                                        discdate: invoice.get('discdate'),\n                                        ispaid: invoice.get('due') === 0\n                                    })\n                                })\n                            },\n                            {\n                                label: _('Amount Due:').translate(),\n                                type: 'currency',\n                                name: 'amount',\n                                value: invoice.get('due') ? invoice.get('due_formatted') : invoice.get('amount_formatted')\n                            }\n                        ]\n                    });\n                });\n                return new BackboneCollectionView({\n                    collection: invoices_to_show,\n                    childView: RecordViewsSelectableActionableView,\n                    viewsPerRow: 1,\n                    childViewOptions: { actionView: PaymentWizardModuleInvoiceActionView }\n                });\n            }\n        }    //@method getContext @return {PaymentWizard.Module.Invoice.Context}\n,\n        getContext: function () {\n            //@class PaymentWizard.Module.Invoice.Context\n            return {\n                //@property {Boolean} isInvoiceLengthGreaterThan0\n                isInvoiceLengthGreaterThan0: !!this.invoices.length\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module PaymentWizard\ndefine('PaymentWizard.Module.Summary', [\n    'Wizard.Module',\n    'SC.Configuration',\n    'payment_wizard_summary_module.tpl',\n    'underscore',\n    'jQuery'\n], function (WizardModule, Configuration, payment_wizard_summary_module_tpl, _, jQuery) {\n    'use strict';\n    //@class PaymentWizard.Module.Summary @extend Wizard.Module\n    return WizardModule.extend({\n        template: payment_wizard_summary_module_tpl,\n        className: 'PaymentWizard.Module.Summary',\n        initialize: function (options) {\n            this.is_active = false;\n            this.options = options;\n            this.wizard = options.wizard;\n            this.wizard.model.on('change', jQuery.proxy(this, 'render'));\n        },\n        isActive: function () {\n            return this.is_active;\n        },\n        future: function () {\n            this.is_active = false;\n        },\n        present: function () {\n            this.is_active = true;\n        },\n        past: function () {\n            this.is_active = false;\n        },\n        render: function () {\n            this.continueButtonDisabled = '';\n            if (this.options.submit) {\n                this.continueButtonLabel = _('Submit').translate();\n            } else {\n                var selected_invoices = this.wizard.model.getSelectedInvoices();\n                this.continueButtonLabel = _('Continue').translate();\n                if (!selected_invoices.length) {\n                    this.continueButtonLabel = _('0 Invoices Selected').translate();\n                    this.continueButtonDisabled = 'disabled=\"disabled\"';\n                }\n            }\n            this._render();\n            if (this.isActive()) {\n                this.trigger('change_enable_continue', !this.continueButtonDisabled);\n                this.trigger('change_label_continue', this.continueButtonLabel);\n            }\n        }    //@method getContext @return {PaymentWizard.Module.Summary.Context}\n,\n        getContext: function () {\n            var model = this.wizard.model;\n            //@class PaymentWizard.Module.Summary.Context\n            return {\n                //@property {Number} selectedInvoicesLength\n                selectedInvoicesLength: model.getSelectedInvoices().length,\n                invoiceTotalFormatted: _.formatCurrency(model.get('invoices_total'))    //@property {String} paymentFormatted\n,\n                paymentFormatted: model.get('payment_formatted')    //@property {String} depositTotalFormatted\n,\n                depositTotalFormatted: model.get('deposits_total_formatted')    //@property {String} creditTotalFormatted\n,\n                creditTotalFormatted: model.get('credits_total_formatted')    //@property {Boolean} showTotalLabel\n,\n                showTotalLabel: !!this.options.total_label,\n                totalLabel: this.options.total_label ? this.options.total_label : _('Estimated payment').translate()    //@property {Boolean} showEstimatedAsInvoiceTotal\n,\n                showEstimatedAsInvoiceTotal: this.options.show_estimated_as_invoices_total,\n                showCreditCardInformatioRequrieLabel: !!(this.options.total_label && model.get('payment') && Configuration.get('siteSettings.checkout.requireccsecuritycode') === 'T')    //@property {Boolean} showPaymentMethodRequireLabel\n,\n                showPaymentMethodRequireLabel: !!(this.options.total_label && !model.get('payment'))    //@property {String} continueButtonDisabled\n,\n                continueButtonDisabled: this.continueButtonDisabled,\n                continueButtonLabel: this.continueButtonLabel\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module PaymentWizard\ndefine('PaymentWizard.Module.ShowInvoices', [\n    'Wizard.Module',\n    'Invoice.Collection',\n    'payment_wizard_showinvoices_module.tpl',\n    'underscore',\n    'jQuery'\n], function (WizardModule, InvoiceCollection, payment_wizard_showinvoices_module_tpl, _, jQuery) {\n    'use strict';\n    //@class PaymentWizard.Module.ShowInvoices @extend Wizard.Module\n    return WizardModule.extend({\n        template: payment_wizard_showinvoices_module_tpl,\n        className: 'PaymentWizard.Module.ShowInvoices',\n        initialize: function (options) {\n            this.wizard = options.wizard;\n            this.wizard.model.on('change:confirmation', jQuery.proxy(this, 'render'));\n        },\n        render: function () {\n            if (this.wizard.model.get('confirmation')) {\n                this.invoices = new InvoiceCollection(_.where(this.wizard.model.get('confirmation').invoices, { apply: true }));\n            } else {\n                this.invoices = this.wizard.model.getSelectedInvoices();\n                this.wizard.model.calculeTotal();\n            }\n            this._render();\n        }    //@method getContext @return {PaymentWizard.Module.ShowInvoices.Context}\n,\n        getContext: function () {\n            var invoices_to_show = this.invoices.map(function (invoice) {\n                var invoice_number = invoice.get('tranid') || invoice.get('refnum');\n                //@class PaymentWizard.Module.ShowInvoices.Invoice.Record\n                return {\n                    //@property {String} title\n                    title: invoice_number ? _('Invoice #$(0)').translate(invoice_number) : _('Invoice').translate()    //@property {String} id\n,\n                    id: invoice.get('internalid')    //@property {String} amountFormatted\n,\n                    amountFormatted: invoice.get('amount_formatted')\n                };\n            });\n            //@class PaymentWizard.Module.ShowInvoices.Context\n            return {\n                //@property {Number} invoicesLength\n                invoicesLength: this.invoices.length,\n                invoicesTotalFormatted: this.wizard.model.get('confirmation') ? this.wizard.model.get('confirmation').invoices_total_formatted : this.wizard.model.get('invoices_total_formatted')    //@property {Array<PaymentWizard.Module.ShowInvoices.Invoice.Record>} invoices\n,\n                invoices: invoices_to_show    //@property {Boolean} showOpenedAccordion\n,\n                showOpenedAccordion: _.isTabletDevice() || _.isDesktopDevice()\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module PaymentWizard\ndefine('PaymentWizard.Module.CreditTransaction.Edit.Action.View', [\n    'payment_wizard_credit_transaction_edit_action.tpl',\n    'Backbone'\n], function (payment_wizard_credit_transaction_edit_action_tpl, Backbone) {\n    'use strict';\n    //@class PaymentWizard.Module.CreditTransaction.Edit.Action.View @extend Backbone.View\n    return Backbone.View.extend({\n        template: payment_wizard_credit_transaction_edit_action_tpl    //@method getContext @return {PaymentWizard.Module.CreditTransaction.Edit.Action.View.Context}\n,\n        getContext: function () {\n            //@class PaymentWizard.Module.CreditTransaction.Edit.Action.View.Context\n            return {\n                //@property {Boolean} showEditAction\n                showEditAction: !!this.model.get('check')\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module PaymentWizard\ndefine('PaymentWizard.CreditTransaction.Model', [\n    'underscore',\n    'Backbone',\n    'Utils'\n], function (_, Backbone) {\n    'use strict';\n    function validateAmountRemaining(value, name, form) {\n        if (isNaN(parseFloat(value))) {\n            return _('The amount to apply is not a valid number').translate();\n        }\n        if (value <= 0) {\n            return _('The amount to apply has to be positive').translate();\n        }\n        if (value > form.remaining) {\n            return _('The amount to apply cannot exceed the remaining amount').translate();\n        }\n        if (form.orderTotal < 0) {\n            return _('The amount to apply cannot exceed the remaining payment total').translate();\n        }\n    }\n    //@class PaymentWizard.CreditTransaction.Model @extend Backbone.Model\n    return Backbone.Model.extend({\n        validation: { amount: { fn: validateAmountRemaining } },\n        initialize: function () {\n            if (!this.get('type')) {\n                this.set('type', 'Deposit');\n            }\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module PaymentWizard\ndefine('PaymentWizard.CreditTransaction.Collection', [\n    'PaymentWizard.CreditTransaction.Model',\n    'Backbone'\n], function (Model, Backbone) {\n    'use strict';\n    //@class PaymentWizard.CreditTransaction.Collection @extend Backbone.Collection\n    return Backbone.Collection.extend({ model: Model });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module LivePayment\ndefine('LivePayment.Model', [\n    'Invoice.Collection',\n    'PaymentWizard.CreditTransaction.Collection',\n    'Address.Collection',\n    'Transaction.Paymentmethod.Collection',\n    'Profile.Model',\n    'Transaction.Model',\n    'Singleton',\n    'bignumber',\n    'underscore',\n    'Backbone',\n    'Utils'\n], function (InvoiceCollection, CreditTransactionCollection, AddressesCollection, TransactionPaymentmethodCollection, ProfileModel, TransactionModel, Singleton, BigNumber, _, Backbone) {\n    'use strict';\n    // @class LivePayment.Model Is singleton. @extends Backbone.Model\n    return Backbone.Model.extend({\n        urlRoot: 'services/LivePayment.Service.ss',\n        initialize: function (attributes) {\n            this.set('invoices_total', 0);\n            this.on('sync', function (model) {\n                model.set('invoices_total', 0);\n            });\n            this.on('change:addresses', function (model, addresses) {\n                model.set('addresses', new AddressesCollection(addresses), { silent: true });\n            });\n            this.trigger('change:addresses', this, attributes && attributes.addresses || []);\n            this.on('change:paymentmethods', function (model, paymentmethods) {\n                model.set('paymentmethods', new TransactionPaymentmethodCollection(paymentmethods), { silent: true });\n            });\n            this.trigger('change:paymentmethods', this, attributes && attributes.paymentmethod || []);\n            this.on('change:invoices', function (model, invoices) {\n                model.set('invoices', new InvoiceCollection(invoices), { silent: true });\n            });\n            this.trigger('change:invoices', this, attributes && attributes.invoices || []);\n            this.on('change:deposits', function (model, deposits) {\n                model.set('deposits', new CreditTransactionCollection(deposits), { silent: true });\n            });\n            this.trigger('change:deposits', this, attributes && attributes.deposits || []);\n            this.on('change:credits', function (model, credits) {\n                model.set('credits', new CreditTransactionCollection(credits), { silent: true });\n            });\n            this.trigger('change:credits', this, attributes && attributes.credits || []);\n            this.on('change:balance', function (model) {\n                var profile_model = ProfileModel.getInstance();\n                profile_model.set('balance', model.get('balance'));\n                profile_model.set('balance_formatted', model.get('balance_formatted'));\n            });\n        }    // @method getSelectedInvoices @return {Invoice.Collection}\n,\n        getSelectedInvoices: function () {\n            return new InvoiceCollection(this.get('invoices').filter(function (invoice) {\n                return invoice.get('apply');\n            }));\n        }    // @method getAppliedTransactions @return  {PaymentWizard.CreditTransaction.Collection}\n,\n        getAppliedTransactions: function (type) {\n            return new CreditTransactionCollection(this.get(type).filter(function (transaction) {\n                return transaction.get('apply');\n            }));\n        }    // @method selectInvoice @param {Invoice.Model}\n,\n        selectInvoice: function (invoice) {\n            invoice = this.get('invoices').get(invoice);\n            if (invoice && invoice.get('due')) {\n                // marks the invoice as checked\n                invoice.set('apply', true);\n                invoice.set('checked', true);\n                var amount = invoice.get('due') ? invoice.get('due') : invoice.get('amount');\n                invoice.set('amount', amount);\n                invoice.set('amount_formatted', _.formatCurrency(amount));\n            }\n            return this.distributeCredits();\n        }    // @method unselectInvoice @param {Invoice.Model}\n,\n        unselectInvoice: function (invoice) {\n            invoice = this.get('invoices').get(invoice);\n            if (invoice) {\n                invoice.set('apply', false);\n                invoice.set('checked', false);\n            }\n            return this.distributeCredits();\n        }    // @method selectCredit @param {PaymentWizard.CreditTransaction.Model} credit\n,\n        selectCredit: function (credit) {\n            credit = this.get('credits').get(credit);\n            if (credit && credit.get('remaining')) {\n                // marks the credit as checked\n                credit.set('apply', true);\n                var amount = new BigNumber(credit.get('remaining')).minus(this.get('payment')).toNumber();\n                if (new BigNumber(amount).greaterThan(0)) {\n                    amount = new BigNumber(credit.get('remaining')).minus(amount).toNumber();\n                } else {\n                    amount = credit.get('remaining');\n                }\n                credit.set('amount', amount);\n                credit.set('amount_formatted', _.formatCurrency(amount));\n            }\n            return this.calculeTotal();\n        }    // @method selectDeposit @param {PaymentWizard.CreditTransaction.Model} deposit\n,\n        selectDeposit: function (deposit) {\n            deposit = this.get('deposits').get(deposit);\n            if (deposit && deposit.get('remaining')) {\n                // marks the credit as checked\n                deposit.set('apply', true);\n                var amount = new BigNumber(deposit.get('remaining')).minus(this.get('payment')).toNumber();\n                if (new BigNumber(amount).greaterThan(0)) {\n                    amount = new BigNumber(deposit.get('remaining')).minus(amount).toNumber();\n                } else {\n                    amount = deposit.get('remaining');\n                }\n                deposit.set('amount', amount);\n                deposit.set('amount_formatted', _.formatCurrency(amount));\n            }\n            return this.calculeTotal();\n        }    // @method unselectCredit @param {PaymentWizard.CreditTransaction.Model} credit\n,\n        unselectCredit: function (credit) {\n            credit = this.get('credits').get(credit);\n            if (credit) {\n                credit.set('apply', false);\n                credit.set('amount', 0);\n                credit.set('amount_formatted', _.formatCurrency(0));\n            }\n            return this.calculeTotal();\n        }    // @method unselectDeposit @param {PaymentWizard.CreditTransaction.Model} deposit\n,\n        unselectDeposit: function (deposit) {\n            deposit = this.get('deposits').get(deposit);\n            if (deposit) {\n                deposit.set('apply', false);\n                deposit.set('amount', 0);\n                deposit.set('amount_formatted', _.formatCurrency(0));\n            }\n            return this.calculeTotal();\n        }    // @method normalizeDate @param {Date} date @return {Date|Number}\n,\n        normalizeDate: function (date) {\n            if (!date) {\n                return;\n            } else if (date instanceof Date) {\n                return date.getTime();\n            } else if (typeof date === 'string') {\n                return Date.parse(date);\n            } else if (typeof date === 'number') {\n                return date;\n            }\n        }    // Distributes deposits, payments and credit memos\n             // @method distributeCredits\n,\n        distributeCredits: function () {\n            // First thing is to order everything by date and initialize parameters\n            var self = this, invoices = new InvoiceCollection(this.getSelectedInvoices().sortBy(function (invoice) {\n                    return self.normalizeDate(invoice.get('duedate'));\n                })), deposits = this.get('deposits'), credits = this.get('credits'), invoices_total = 0;\n            invoices.each(function (invoice) {\n                invoices_total = new BigNumber(invoices_total).plus(invoice.get('amount')).toNumber();\n            });\n            //Then apply remaining deposits to complete\n            deposits.each(function (deposit) {\n                if (new BigNumber(deposit.get('remaining')).greaterThan(0) && new BigNumber(invoices_total).greaterThan(0)) {\n                    var amount = new BigNumber(invoices_total).greaterThanOrEqualTo(deposit.get('remaining')) ? deposit.get('remaining') : invoices_total;\n                    deposit.set('apply', true);\n                    deposit.set('amount', amount);\n                    deposit.set('amount_formatted', _.formatCurrency(amount));\n                    invoices_total = new BigNumber(invoices_total).minus(amount).toNumber();\n                } else {\n                    deposit.set('apply', false);\n                    deposit.set('amount', 0);\n                    deposit.set('amount_formatted', _.formatCurrency(0));\n                }\n            });\n            //Now try to apply credit memo and payments.\n            credits.each(function (credit) {\n                if (new BigNumber(credit.get('remaining')).greaterThan(0) && new BigNumber(invoices_total).greaterThan(0)) {\n                    var amount = new BigNumber(invoices_total).greaterThanOrEqualTo(credit.get('remaining')) ? credit.get('remaining') : invoices_total;\n                    credit.set('apply', true);\n                    credit.set('amount', amount);\n                    credit.set('amount_formatted', _.formatCurrency(amount));\n                    invoices_total = new BigNumber(invoices_total).minus(amount).toNumber();\n                } else {\n                    credit.set('apply', false);\n                    credit.set('amount', 0);\n                    credit.set('amount_formatted', _.formatCurrency(0));\n                }\n            });\n            this.calculeTotal();\n        }    // @method calculeTotal @param {Boolean} silent\n,\n        calculeTotal: function (silent) {\n            var invoices_total = 0, payment_total = 0, deposits_total = 0, credits_total = 0, self = this, invoices = new InvoiceCollection(this.getSelectedInvoices().sortBy(function (invoice) {\n                    return self.normalizeDate(invoice.get('duedate'));\n                })), deposits = this.get('deposits'), credits = this.get('credits');\n            invoices.each(function (invoice) {\n                invoices_total = new BigNumber(invoices_total).plus(invoice.get('amount')).toNumber();\n            });\n            payment_total = invoices_total;\n            deposits.each(function (deposit) {\n                deposits_total = new BigNumber(deposits_total).plus(deposit.get('amount')).toNumber();\n                payment_total = new BigNumber(payment_total).minus(deposit.get('amount')).toNumber();\n            });\n            credits.each(function (credit) {\n                credits_total = new BigNumber(credits_total).plus(credit.get('amount')).toNumber();\n                payment_total = new BigNumber(payment_total).minus(credit.get('amount')).toNumber();\n            });\n            if (!silent) {\n                this.set('invoices_total_formatted', _.formatCurrency(invoices_total));\n                this.set('invoices_total', invoices_total);\n                this.set('deposits_total_formatted', _.formatCurrency(new BigNumber(deposits_total).negated().toNumber()));\n                this.set('deposits_total', deposits_total);\n                this.set('credits_total_formatted', _.formatCurrency(new BigNumber(credits_total).negated().toNumber()));\n                this.set('credits_total', credits_total);\n                this.set('payment_formatted', _.formatCurrency(payment_total));\n                this.set('payment', payment_total);\n            }\n            return payment_total;\n        },\n        addPayment: function addPayment(payment_method) {\n            // Gets the payment method collection\n            var payment_methods = this.get('paymentmethods');\n            // Removes the primary if any\n            payment_methods.remove(payment_methods.where({ primary: true }));\n            // Sets it as primary\n            payment_method.set('primary', true);\n            // Adds it to the collection\n            payment_methods.add(payment_method);\n        }\n    }, Singleton);\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module PaymentWizard\ndefine('PaymentWizard.Module.CreditTransaction', [\n    'Wizard.Module',\n    'PaymentWizard.EditAmount.View',\n    'SC.Configuration',\n    'Backbone.CollectionView',\n    'Backbone.CompositeView',\n    'RecordViews.SelectableActionable.View',\n    'PaymentWizard.Module.CreditTransaction.Edit.Action.View',\n    'payment_wizard_credit_transaction_module.tpl',\n    'jQuery',\n    'Backbone',\n    'underscore',\n    'LivePayment.Model'\n], function (WizardModule, EditAmountView, Configuration, BackboneCollectionView, BackboneCompositeView, RecordViewsSelectableActionableView, PaymentWizardModuleCreditTransactionEditActionView, payment_wizard_credit_transaction_module_tpl, jQuery, Backbone, _, LivePaymentModel) {\n    'use strict';\n    //@class PaymentWizard.Module.CreditTransaction @extend Wizard.Module\n    return WizardModule.extend({\n        template: payment_wizard_credit_transaction_module_tpl,\n        className: 'PaymentWizard.Module.CreditTransaction',\n        events: {\n            'click [data-action=\"transaction\"]': 'toggleTransactionHandler',\n            'click [data-action=\"edit\"]': 'editTransaction'\n        },\n        initialize: function (options) {\n            this.transaction_type = options.transaction_type;\n            this.wizard = options.wizard;\n            this.livePaymentModel = LivePaymentModel.getInstance();\n            this.application = this.wizard.application;\n            this.addEventListeners();\n            BackboneCompositeView.add(this);\n        },\n        isActive: function () {\n            var has_elements = !!this.wizard.model.get(this.transaction_type === 'credit' ? 'credits' : 'deposits').length;\n            if (this.transaction_type === 'deposit') {\n                return has_elements && SC.ENVIRONMENT.permissions.transactions.tranDepAppl >= 2;\n            }\n            return has_elements;\n        },\n        render: function () {\n            this.collection = this.wizard.model.get(this.transaction_type === 'credit' ? 'credits' : 'deposits');\n            this._render();\n        },\n        addEventListeners: function () {\n            var self = this;\n            this.wizard.model.on('change:credits_total', function () {\n                self.render();\n            });\n            this.wizard.model.on('change:deposits_total', function () {\n                self.render();\n            });\n        },\n        toggleTransactionHandler: function (e) {\n            var $target = jQuery(e.currentTarget);\n            if ($target.hasClass('disabled')) {\n                return;\n            }\n            this.toggleTransaction($target.closest('[data-action=\"transaction\"]').data('id'));\n        },\n        toggleTransaction: function (transaction_id) {\n            var transaction = this.collection.get(transaction_id);\n            if (transaction) {\n                this[transaction.get('apply') ? 'unselectTransaction' : 'selectTransaction'](transaction);\n                this.render();\n            }\n        },\n        selectTransaction: function (transaction) {\n            if (transaction) {\n                transaction.set('checked', true);\n            }\n            if (this.transaction_type === 'credit') {\n                return this.livePaymentModel.selectCredit(transaction.id);\n            } else {\n                return this.livePaymentModel.selectDeposit(transaction.id);\n            }\n        },\n        unselectTransaction: function (transaction) {\n            if (transaction) {\n                transaction.set('checked', false);\n            }\n            if (this.transaction_type === 'credit') {\n                return this.livePaymentModel.unselectCredit(transaction.id);\n            } else {\n                return this.livePaymentModel.unselectDeposit(transaction.id);\n            }\n        },\n        editTransaction: function (e) {\n            var transaction_id = jQuery(e.target).parents('[data-action=\"transaction\"]').data('id'), transaction = this.collection.get(transaction_id);\n            e.preventDefault();\n            e.stopPropagation();\n            this.application.getLayout().showInModal(new EditAmountView({\n                application: this.application,\n                parentView: this,\n                model: transaction,\n                type: this.transaction_type,\n                selectedInvoicesLength: this.wizard.model.getSelectedInvoices().length,\n                invoicesTotal: this.wizard.model.get('invoices_total')\n            }), { application: this.application });\n        },\n        childViews: {\n            'Transaction.Collection': function () {\n                var positive_total = this.wizard.model.calculeTotal(true) > 0;\n                var transactions_to_show = this.collection.map(function (transaction) {\n                    var is_checked = transaction.get('apply');\n                    return new Backbone.Model({\n                        internalid: transaction.id,\n                        check: is_checked,\n                        active: is_checked || positive_total,\n                        navigable: false,\n                        url: '',\n                        title: (transaction.get('type') || '') + '#' + transaction.get('refnum'),\n                        actionType: 'transaction',\n                        columns: [\n                            {\n                                label: _('Original Amount:').translate(),\n                                type: 'currency',\n                                name: 'original-amount',\n                                value: transaction.get('remaining_formatted') !== transaction.get('total_formatted') ? transaction.get('total_formatted') : ' '\n                            },\n                            {\n                                label: _('Remaining Amount:').translate(),\n                                type: 'currency',\n                                name: 'remaining-amount',\n                                value: transaction.get('remaining_formatted')\n                            },\n                            {\n                                label: _('Amount').translate(),\n                                type: 'currency',\n                                name: 'amount',\n                                value: transaction.get('amount_formatted')\n                            }\n                        ]\n                    });\n                });\n                return new BackboneCollectionView({\n                    childView: RecordViewsSelectableActionableView,\n                    viewsPerRow: 1,\n                    collection: transactions_to_show,\n                    childViewOptions: { actionView: PaymentWizardModuleCreditTransactionEditActionView }\n                });\n            }\n        }    //@method getContext @return {PaymentWizard.Module.CreditTransaction.Context}\n,\n        getContext: function () {\n            //@class PaymentWizard.Module.CreditTransaction.Context\n            return {\n                //@property {String} accordionId\n                accordionId: 'accordion-' + this.cid,\n                isTransactionTypeCredit: this.transaction_type === 'credit'    //@property {Number} collectionLength\n,\n                collectionLength: this.collection.length,\n                areElementsCollapsed: !!Configuration.get('sca.collapseElements')    //@property {String} totalFormatted\n,\n                totalFormatted: this.wizard.model.get(this.transaction_type === 'credit' ? 'credits_total_formatted' : 'deposits_total_formatted')\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// OrderWizard.Module.PaymentMethod.js\n// --------------------------------\n//\ndefine('OrderWizard.Module.PaymentMethod', ['Wizard.Module'], function (WizardModule) {\n    'use strict';\n    return WizardModule.extend({\n        submit: function () {\n            // Gets the payment method for this object\n            var payment_method = this.paymentMethod;\n            return this.model.addPayment(payment_method);\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module CreditCard\ndefine('CreditCard.Edit.Form.SecurityCode.Tooltip.View', [\n    'creditcard_edit_form_securitycode_tooltip.tpl',\n    'SC.Configuration',\n    'Profile.Model',\n    'Backbone',\n    'underscore'\n], function (creditcard_edit_form_securitycode_tootltip, Configuration, ProfileModel, Backbone, _) {\n    'use strict';\n    // @class CreditCard.Edit.Form.SecurityCode.Tooltip.View @extends Backbone.View\n    return Backbone.View.extend({\n        template: creditcard_edit_form_securitycode_tootltip    //@method getAvailableCreditcards\n,\n        getAvailableCreditcards: function () {\n            // Creditcards\n            var creditcards = [], user_creditcards = ProfileModel.getInstance().get('creditcards');\n            user_creditcards.each(function (user_cc) {\n                creditcards.push(user_cc.get('paymentmethod').name);\n            });\n            if (!creditcards.length) {\n                var available_creditcards = _.where(Configuration.get('siteSettings.paymentmethods'), {\n                    creditcard: 'T',\n                    ispaypal: 'F'\n                });\n                _.each(available_creditcards, function (index, el) {\n                    creditcards.push(available_creditcards[el].name);\n                });\n            }\n            return _.unique(creditcards);\n        }    //@method getContext @return CreditCard.Edit.Form.SecurityCode.Tooltip.View.Context\n,\n        getContext: function () {\n            var available_credit_cards = this.getAvailableCreditcards();\n            //@class CreditCard.Edit.Form.SecurityCode.Tooltip.View.Context\n            return {\n                //@property {Boolean} isCreditCards\n                isCreditCards: available_credit_cards.length > 0    //@property {Array<String>} availableCreditcards\n,\n                availableCreditcards: available_credit_cards    //@property {String} imageCvvAmericanCard\n,\n                imageCvvAmericanCardURL: _.getAbsoluteUrlOfNonManagedResources(Configuration.get('creditCard.imageCvvAmericanCard'))    //@property {String} imageCvvAllCards\n,\n                imageCvvAllCardsURL: _.getAbsoluteUrlOfNonManagedResources(Configuration.get('creditCard.imageCvvAllCards'))    //@property {Boolean} isVisaMasterOrDiscoverAvailable\n,\n                isVisaMasterOrDiscoverAvailable: _.indexOf(available_credit_cards, 'VISA') !== -1 || _.indexOf(available_credit_cards, 'Master Card') !== -1 || _.indexOf(available_credit_cards, 'Discover') !== -1    //@property {Boolean} isAmexAvailable\n,\n                isAmexAvailable: _.indexOf(available_credit_cards, 'American Express') !== -1\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module CreditCard\ndefine('CreditCard.Edit.Form.SecurityCode.View', [\n    'creditcard_edit_form_securitycode.tpl',\n    'CreditCard.Edit.Form.SecurityCode.Tooltip.View',\n    'SC.Configuration',\n    'Backbone'\n], function (creditcard_edit_form_securitycode_tpl, CreditCardEditFormSecurityCodeTooltipView, Configuration, Backbone) {\n    'use strict';\n    // @class CreditCard.Edit.Form.SecurityCode.View Credit cards list @extends Backbone.View\n    return Backbone.View.extend({\n        template: creditcard_edit_form_securitycode_tpl,\n        render: function () {\n            this._render();\n            var ccv_tooltip_view = new CreditCardEditFormSecurityCodeTooltipView();\n            ccv_tooltip_view.render();\n            var placeholder = this.$el.find('[data-toggle=\"popover\"]');\n            placeholder.attr('data-content', ccv_tooltip_view.$el.html());\n        }    //@method getContext @return CreditCard.Edit.Form.SecurityCode.View.Context\n,\n        getContext: function () {\n            //@class CreditCard.Edit.Form.SecurityCode.View.Context\n            return {\n                //@property {Boolean} showCreditCardHelp\n                showCreditCardHelp: this.options.showCreditCardHelp,\n                creditCardHelpTitle: this.options.creditCardHelpTitle,\n                showError: !!this.options.error,\n                errorMessage: this.options.error ? this.options.error.errorMessage : ''    //@property {Number} value\n,\n                value: this.options.value\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module CreditCard\ndefine('CreditCard.Edit.Form.View', [\n    'CreditCard.Edit.Form.SecurityCode.View',\n    'creditcard_edit_form.tpl',\n    'SC.Configuration',\n    'Backbone.CompositeView',\n    'Backbone.FormView',\n    'Backbone',\n    'underscore'\n], function (CreditCardEditFormSecurityCodeView, creditcard_edit_form_tpl, Configuration, BackboneCompositeView, BackboneFormView, Backbone, _) {\n    'use strict';\n    // @class CreditCard.Edit.Form.View @extends Backbone.View\n    return Backbone.View.extend({\n        template: creditcard_edit_form_tpl,\n        bindings: {\n            '[name=\"ccnumber\"]': 'ccnumber',\n            '[name=\"ccname\"]': 'ccname',\n            '[name=\"ccsecuritycode\"]': 'ccsecuritycode',\n            '[name=\"expmonth\"]': 'expmonth',\n            '[name=\"expyear\"]': 'expyear'\n        },\n        initialize: function () {\n            if (!this.model.isNew()) {\n                delete this.bindings['[name=\"ccnumber\"]'];\n            }\n            if (this.options.showSecurityCodeForm) {\n                this.model.set({ hasSecurityCode: true });\n            } else {\n                this.model.unset('hasSecurityCode', { silent: true });\n            }\n            if (!this.model.get('expmonth')) {\n                this.model.set({ 'expmonth': this.options.currentMonth + '' }, { silent: true });\n            }\n            if (!this.model.get('expyear')) {\n                this.model.set({ 'expyear': this.options.years[0] + '' }, { silent: true });\n            }\n            BackboneCompositeView.add(this);\n            BackboneFormView.add(this);\n        },\n        childViews: {\n            'CreditCard.Edit.Form.SecurityCode': function () {\n                return new CreditCardEditFormSecurityCodeView({\n                    showCreditCardHelp: this.options.showCreditCardHelp,\n                    creditCardHelpTitle: this.options.creditCardHelpTitle\n                });\n            }\n        }    //@method getContext @return CreditCard.Edit.Form.View.Context\n,\n        getContext: function () {\n            var selected_payment_method = this.model.get('paymentmethod'), self = this, paymentMethods = _.map(_.where(Configuration.get('siteSettings.paymentmethods', []), { creditcard: 'T' }), function (paymentmethod) {\n                    //@class CreditCard.PaymentMetod\n                    return {\n                        //@property \n                        hidden: !(self.model.isNew() || selected_payment_method && paymentmethod.key === selected_payment_method.key),\n                        icon: paymentmethod.imagesrc,\n                        internalid: paymentmethod.internalid,\n                        key: paymentmethod.key,\n                        name: paymentmethod.name,\n                        selected: selected_payment_method && paymentmethod.key === selected_payment_method.key\n                    };\n                }), months = _.map(this.options.months, function (month) {\n                    return { month: month };\n                }), years = _.map(this.options.years, function (year) {\n                    return {\n                        year: year,\n                        disabled: year === self.options.expyear\n                    };\n                }), ccnumber = this.model.get('ccnumber');\n            // temporal credit card.\n            if (ccnumber && !~ccnumber.indexOf('*')) {\n                ccnumber = '************' + ccnumber.substring(ccnumber.length - 4);\n            }\n            //@class CreditCard.Form.View.Context\n            return {\n                //@property {Array<CreditCard.PaymentMetod>} paymentMethods\n                paymentMethods: paymentMethods    //@property {String} paymentMethodValue\n,\n                paymentMethodValue: selected_payment_method ? selected_payment_method.key : ''    //@property {String} ccnumber\n,\n                ccnumber: ccnumber    //@property {boolean} showPaymentSelector\n,\n                showPaymentSelector: this.model.isNew()    //@property {Boolean} isNew\n,\n                isNew: this.model.isNew()    //@property {Array<Object>?} months\t\t\t\n,\n                months: months    //@property {Array<Object>?} years\n,\n                years: years    //@property {Boolean} showDefaults\n,\n                showDefaults: !!this.options.showDefaults,\n                ccname: this.model.get('ccname')    //@property {Boolean} ccdefault\n,\n                ccdefault: this.model.get('ccdefault') === 'T'    //@property {Boolean} showSecurityCode\n,\n                showSecurityCodeForm: !!this.options.showSecurityCodeForm,\n                showSaveCreditCardCheckbox: !!this.options.showSaveCreditCardCheckbox && (this.model.isNew() || this.model.get('internalid') === '-temporal-')    //@property {Boolean} saveCreditCardByDefault\n,\n                saveCreditCardByDefault: this.model.get('internalid') === '-temporal-' ? false : !!this.options.saveCreditCardByDefault\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module Transaction\ndefine('LiveOrder.Line.Model', [\n    'Transaction.Line.Model',\n    'Item.Model',\n    'underscore',\n    'Utils'\n], function (TransactionLineModel, ItemModel, _) {\n    'use strict';\n    var LiveOrderLineModel = TransactionLineModel.extend({\n        urlRoot: _.getAbsoluteUrl('services/LiveOrder.Line.Service.ss'),\n        initialize: function initialize() {\n            // call the initialize of the parent object, equivalent to super()\n            TransactionLineModel.prototype.initialize.apply(this, arguments);\n            this.on('error', function (model, jqXhr) {\n                var result = JSON.parse(jqXhr.responseText), error_details = result.errorDetails;\n                if (error_details && error_details.status === 'LINE_ROLLBACK') {\n                    model.set('internalid', error_details.newLineId);\n                }\n            });\n        }    // @method toJSON Override default method to send only require data to the back-end\n             // @return {Transaction.Line.Model.JSON}\n,\n        toJSON: function toJSON() {\n            // @class Transaction.Line.Model.JSON Class used to send a transaction line representation to the back-end\n            // without sending all the heavy weight JSON that is not totally needed by the back-end\n            // @public @extlayer\n            return {\n                // @property {Transaction.Line.Model.JSON.Item} item @public @extlayer\n                // @class Transaction.Line.Model.JSON.Item  @public @extlayer\n                item: {\n                    // @property {String} internalid @public @extlayer\n                    internalid: this.getItemId()    // @property {String} type @public @extlayer\n,\n                    type: this.attributes.item.get('itemtype')\n                }    // @class Transaction.Line.Model.JSON\n                     // @property {Number} quantity @public @extlayer\n,\n                quantity: this.attributes.quantity,\n                internalid: this.attributes.internalid,\n                options: this.get('options').toJSON()    // @property {Number} splitquantity @public @extlayer\n,\n                splitquantity: this.attributes.splitquantity,\n                shipaddress: this.attributes.shipaddress,\n                shipmethod: this.attributes.shipmethod,\n                location: this.attributes.location && this.attributes.location.attributes && this.attributes.location.attributes.internalid || ''    // @property {String} fulfillmentChoice @public @extlayer\n,\n                fulfillmentChoice: this.attributes.fulfillmentChoice || 'ship'    //@property {Boolean} freeGift\n,\n                freeGift: this.attributes.free_gift === true\n            };    //@class Transaction.Line.Model\n        }    // @method isEqual Compares two LiveOrder lines and answer if they are the same\n             // We are extending Transaction.Line.Model here; this method overrides the namesake one in this model.\n             // This is so because if pickup in store is enabled, we need to differentiate between lines that look the same but has different delivery methods\n             // @param {Transaction.Line.Model} other_line\n             // @return {Boolean}\n,\n        isEqual: function isEqual(other_line) {\n            return !!(other_line && this.getItemId() === other_line.getItemId() && _.isEqual(this.get('options').toJSON(), other_line.get('options').toJSON()) && (this.get('location') && this.get('location').get('internalid')) === (other_line.get('location') && other_line.get('location').get('internalid')) && this.get('fulfillmentChoice') === other_line.get('fulfillmentChoice'));\n        }\n    }, {\n        // @method createFromProduct\n        // @param {Product.Model} product\n        // @return {LiveOrder.Line.Model}\n        createFromProduct: function createFromProduct(product) {\n            var line = new LiveOrderLineModel(product.toJSON()), item = product.get('item'), item_images_detail = item.get('itemimages_detail'), is_matrix_item = !!item.get('_matrixChilds').length;\n            if (_.isEqual(item_images_detail, {}) && item.get('_matrixParent').get('internalid') && item.get('_matrixParent').get('itemimages_detail')) {\n                item_images_detail = item.get('_matrixParent').get('itemimages_detail');\n            }\n            line.set('item', product.getItem().clone(), { silent: true });\n            line.get('item').set('itemimages_detail', item_images_detail, { silent: true });\n            line.get('item').set('itemid', item.get('itemid'), { silent: true });\n            line.set('rate_formatted', product.getPrice().price_formatted, { silent: true });\n            product.get('options').each(function (product_option) {\n                var line_option = line.get('options').findWhere({ cartOptionId: product_option.get('cartOptionId') });\n                line_option.attributes = _.extend({}, product_option.attributes, line_option.attributes);\n            });\n            if (is_matrix_item) {\n                line.get('item').set('matrix_parent', product.get('item'));\n            }\n            return line;\n        }    // @method createFromOuterLine Creates a LiveOrder.Line.Model from the outer representation of a line exposed by Extensibility Layer\n             // @param {Line} outer_line\n             // @return {LiveOrder.Line.Model}\n,\n        createFromOuterLine: function createFromOuterLine(outer_line) {\n            var item = outer_line.item;\n            outer_line = _.extend(outer_line, outer_line.extras);\n            delete outer_line.extras;\n            item = _.extend(item, item.extras);\n            delete item.extras;\n            outer_line.item = item;\n            var new_line = new LiveOrderLineModel(outer_line);\n            return new_line;\n        }\n    });\n    return LiveOrderLineModel;\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module Transaction\ndefine('LiveOrder.Line.Collection', [\n    'Transaction.Line.Collection',\n    'LiveOrder.Line.Model',\n    'underscore',\n    'Utils'\n], function (TransactionLineCollection, LiveOrderLineModel, _) {\n    'use strict';\n    return TransactionLineCollection.extend({\n        model: LiveOrderLineModel,\n        url: _.getAbsoluteUrl('services/LiveOrder.Line.Service.ss')\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module Tracker\ndefine('Tracker', [\n    'Singleton',\n    'underscore',\n    'Backbone'\n], function (Singleton, _, Backbone) {\n    'use strict';\n    var Tracker = function () {\n        // Place holder for tracking modules.\n        // When creating your own tracker module, be sure to push it to this array.\n        this.trackers = [];\n        this.trackOnce = {};\n    };\n    Tracker.prototype.track = function (method) {\n        // Each method could be called with different type of parameters.\n        // So we pass them all what ever they are.\n        var parameters = Array.prototype.slice.call(arguments, 1);\n        _.each(this.trackers, function (tracker) {\n            // Only call the method if it exists, the context is the original tracker.\n            tracker[method] && tracker[method].apply(tracker, parameters);\n        });\n        return this;\n    };\n    Tracker.prototype.trackPageview = function (url) {\n        if (this.trackOnce.pageView !== url) {\n            this.trackOnce = { 'pageView': url };\n            return this.track('trackPageview', url);\n        }\n        return this;\n    };\n    Tracker.prototype.trackAddToCart = function (line, event) {\n        return this.track('trackEvent', event || {\n            category: 'add-to-cart',\n            action: 'button',\n            label: line.generateURL(),\n            value: 1\n        }).track('trackAddToCart', line);\n    };\n    Tracker.prototype.trackGenericEvent = function () {\n        return this.track('trackGenericEvent', arguments);\n    };\n    Tracker.prototype.trackEvent = function (event) {\n        this.track('trackEvent', event);\n        if (event.callback) {\n            var doCallback = _.find(this.trackers, function (tracker) {\n                return tracker.doCallback();\n            });\n            !doCallback && event.callback();\n        }\n        return this;\n    };\n    Tracker.prototype.trackTransaction = function (transaction, event) {\n        return this.track('trackEvent', event || {\n            category: 'place-order',\n            action: 'button',\n            label: '',\n            value: 1\n        }).track('trackTransaction', transaction);\n    };\n    Tracker.prototype.trackViewCart = function (cart) {\n        return this.track('trackViewCart', cart);\n    };\n    Tracker.prototype.trackProductList = function (items, listName) {\n        var options = _.parseUrlOptions(Backbone.history.fragment), key = options.keywords || '';\n        listName = listName || (key ? 'Search Results' : 'Category');\n        if (!this.trackOnce[listName]) {\n            this.trackOnce[listName] = true;\n            return this.track('trackProductList', items, listName);\n        }\n        return this;\n    };\n    Tracker.prototype.trackProductClick = function (item) {\n        if (!this.trackOnce['click_' + item.get('name')]) {\n            this.trackOnce['click_' + item.get('name')] = true;\n            return this.track('trackProductClick', item);\n        }\n        return this;\n    };\n    Tracker.prototype.trackProductView = function (product) {\n        if (!this.trackOnce['view_' + product.getSku()]) {\n            this.trackOnce['view_' + product.getSku()] = true;\n            return this.track('trackProductView', product);\n        }\n        return this;\n    };\n    Tracker.prototype.addCrossDomainParameters = function (url) {\n        _.each(this.trackers, function (tracker) {\n            if (tracker.addCrossDomainParameters) {\n                url = tracker.addCrossDomainParameters(url);\n            }\n        });\n        return url;\n    };\n    return _.extend(Tracker, Singleton, Backbone.Events);\n});    //@class TrackEvent\n       //@property {String} category\n       //@property {String} action\n       //@property {String} label\n       //@property {Number} value\n       //@property {Function} callback\n       //@property {String?} page\n","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module LiveOrder\ndefine('LiveOrder.Model', [\n    'Transaction.Model',\n    'Transaction.Shipmethod.Collection',\n    'LiveOrder.Line.Collection',\n    'LiveOrder.Line.Model',\n    'Profile.Model',\n    'Session',\n    'Singleton',\n    'AjaxRequestsKiller',\n    'SC.Configuration',\n    'Utils',\n    'underscore',\n    'jQuery',\n    'Tracker'\n], function (TransactionModel, TransactionShipmethodCollection, LiveOrderLineCollection, LiveOrderLineModel, ProfileModel, Session, Singleton, AjaxRequestsKiller, Configuration, Utils, _, jQuery, Tracker) {\n    'use strict';\n    // @class LiveOrder.Model Model for showing information about an open order. It is a singleton so you can obtain the instance fro anywhere by calling ```LiveOrderModel.getInstance()```\n    // @extends Transaction.Model\n    var ClassProperties = _.extend({\n        // @method loadCart\n        // @return {jQuery.Deferred}\n        // @static\n        loadCart: function () {\n            // if the Page Generator is on, do not fetch the cart. Instead, return an empty solved promise\n            if (_.result(SC, 'isPageGenerator')) {\n                return jQuery.Deferred().resolve();\n            }\n            var cart_instance = this.getInstance();\n            if (cart_instance.cartLoad) {\n                if (cart_instance.isLoading) {\n                    cart_instance.isLoading = false;\n                }\n            } else {\n                cart_instance.cartLoad = jQuery.Deferred();\n                ProfileModel.getPromise().done(function () {\n                    cart_instance.fetch().done(function () {\n                        cart_instance.cartLoad.resolve.apply(this, arguments);\n                    }).fail(function () {\n                        cart_instance.cartLoad.reject.apply(this, arguments);\n                    }).always(function () {\n                        if (cart_instance.isLoading) {\n                            cart_instance.isLoading = false;\n                        }\n                    });\n                });\n            }\n            return cart_instance.cartLoad;\n        }\n    }, Singleton);\n    var LiveOrderModel = TransactionModel.extend({\n        urlRoot: Utils.getAbsoluteUrl('services/LiveOrder.Service.ss'),\n        linesCollection: LiveOrderLineCollection,\n        validation: { zip: { fn: Utils.validateZipCode } }    // @method url redefine url to avoid possible cache problems from browser\n                                                  // @return {Void}\n,\n        url: function url() {\n            var base_url = TransactionModel.prototype.url.apply(this, arguments);\n            return base_url + (base_url.indexOf('?') > 0 ? '&' : '?') + 't=' + new Date().getTime();\n        },\n        initialize: function initialize(attributes) {\n            // call the initialize of the parent object, equivalent to super()\n            TransactionModel.prototype.initialize.apply(this, arguments);\n            this.set('internalid', 'cart');\n            this.on('change:confirmation', function (model, confirmation) {\n                model.set('confirmation', new TransactionModel(confirmation), { silent: true });\n            });\n            this.trigger('change:confirmation', this, attributes && attributes.confirmation || {});\n            this.on('change:multishipmethods', function (model, multishipmethods) {\n                if (multishipmethods) {\n                    _.each(_.keys(multishipmethods), function (address_id) {\n                        multishipmethods[address_id] = new TransactionShipmethodCollection(multishipmethods[address_id], { silent: true });\n                    });\n                }\n                model.set('multishipmethods', multishipmethods, { silent: true });\n            });\n            this.trigger('change:multishipmethods', this, attributes && attributes.multishipmethods || []);\n            //Some actions in the live order may change the url of the checkout so to be sure we re send all the touchpoints\n            this.on('change:touchpoints', function (model, touchpoints) {\n                Session.set('touchpoints', touchpoints);\n            });\n            //metadata of the attribute options(custom fields)\n            if (SC.ENVIRONMENT.customFieldsMetadata && SC.ENVIRONMENT.customFieldsMetadata.salesorder) {\n                this.__customFieldsMetadata = SC.ENVIRONMENT.customFieldsMetadata.salesorder;\n            }\n        }    // @method getLatestAddition\n             // @return {LiveOrder.Line.Model}\n,\n        getLatestAddition: function getLatestAddition() {\n            var model = null;\n            if (this.get('latest_addition')) {\n                model = this.get('lines').get(this.get('latest_addition'));\n            }\n            if (!model && this.get('lines').length) {\n                model = this.get('lines').at(0);\n            }\n            return model;\n        }    // @method findItemInCart Algorithm to search an line in the cart. We can't use internalid only because for matrix items, the internalid change when is added to the cart\n             // @param {Transaction.Line.Model} line\n             // @return {LiveOrder.Line.Model}\n,\n        findLine: function findLine(line) {\n            return this.get('lines').find(function (cart_line) {\n                return cart_line.isEqual(line);\n            });\n        }    //@method addLines Add the passed in collection of products as new lines to the Cart\n             //@param {Array<TransactionLineModel|LiveOrder.Line.Collection>} lines\n             //@return {jQuery.Deferred}\n,\n        addLines: function addLines(lines) {\n            var self = this;\n            return this.cancelableTrigger('before:LiveOrder.addLines', lines).then(function () {\n                lines = lines instanceof LiveOrderLineCollection ? lines : new LiveOrderLineCollection(lines);\n                // As the LiveOrder.Live.Service IS NOT REST we cannot use lines.save, instead we directly call lines.sync\n                var old_lines = self.get('lines').clone(), promise = lines.sync('create', lines, { killerId: AjaxRequestsKiller.getKillerId() });\n                promise.done(function (attributes) {\n                    // Though this should be a restful api, the live-order-line returns the full live-order back (lines and summary are interconnected)\n                    self.set(attributes);\n                    Tracker.getInstance().trackAddToCart(self.get('lines').get(self.get('latest_addition')));\n                    self.cancelableTrigger('after:LiveOrder.addLines', old_lines, self.get('lines').clone());\n                });\n                return promise;\n            });\n        }    //@method addLine\n             //@param {Transaction.Line.Model} line\n             //@return {jQuery.Deferred}\n,\n        addLine: function addLine(line) {\n            return this.addLines([line]);\n        }    //@method addProduct\n             //@param {Product.Model} line\n             //@return {jQuery.Deferred}\n,\n        addProduct: function addProduct(product) {\n            return this.addLine(LiveOrderLineModel.createFromProduct(product));\n        }    //@method addProducts\n             //@param {Array<Product.Model>} products\n             //@return {jQuery.Deferred}\n,\n        addProducts: function addProducts(products) {\n            var lines = _.map(products, function (product) {\n                return LiveOrderLineModel.createFromProduct(product);\n            });\n            return this.addLines(lines);\n        }    //@method updateProduct\n             //@param {Product.Model} product\n             //@return {jQuery.Deferred}\n,\n        updateProduct: function updateProduct(product) {\n            return this.updateLine(LiveOrderLineModel.createFromProduct(product));\n        }    //@method updateLine\n             //@param {Transaction.Line.Model} line\n             //@return {jQuery.Deferred}\n,\n        updateLine: function updateLine(line) {\n            var self = this;\n            return this.cancelableTrigger('before:LiveOrder.updateLine', line).then(function () {\n                // As the LiveOrder.Live.Service IS NOT REST we cannot use line.save, instead we directly call line.sync\n                return line.sync('update', line, {\n                    killerId: AjaxRequestsKiller.getKillerId(),\n                    validate: false\n                }).done(function (attributes) {\n                    // Although this should be a restful api, the live-order-line returns the full live-order back (lines and summary are interconnected)\n                    self.set(attributes);\n                    Tracker.getInstance().trackAddToCart(self.getLatestAddition());\n                    self.cancelableTrigger('after:LiveOrder.updateLine', line);\n                }).fail(function (jqXhr) {\n                    var error_details = null;\n                    try {\n                        var response = JSON.parse(jqXhr.responseText);\n                        error_details = response.errorDetails;\n                    } finally {\n                        if (error_details && error_details.status === 'LINE_ROLLBACK') {\n                            var line = self.get('lines').get(error_details.oldLineId);\n                            if (line) {\n                                line.set('internalid', error_details.newLineId);\n                                self.trigger('LINE_ROLLBACK', line);\n                            }\n                        }\n                    }\n                });\n            });\n        }    // @method removeLine\n             // @param {LiveOrder.Line.Model} line\n             // @return {jQuery.Deferred}\n,\n        removeLine: function removeLine(line) {\n            var self = this;\n            return this.cancelableTrigger('before:LiveOrder.removeLine', line).then(function () {\n                return line.sync('delete', line, {\n                    killerId: AjaxRequestsKiller.getKillerId(),\n                    validate: false\n                }).done(function (attributes) {\n                    self.set(attributes);\n                    self.cancelableTrigger('after:LiveOrder.removeLine', line);\n                });\n            });\n        }    // @method submit invoked when the user place/submit the order\n             // @return {jQuery.Deferred}\n,\n        submit: function submit() {\n            var self = this;\n            return this.cancelableTrigger('before:LiveOrder.submit').then(function () {\n                self.set('internalid', null);\n                var creditcard = self.get('paymentmethods').findWhere({ type: 'creditcard' }), paypal = self.get('paymentmethods').findWhere({ type: 'paypal' });\n                if (creditcard && !creditcard.get('creditcard')) {\n                    self.get('paymentmethods').remove(creditcard);\n                }\n                if (paypal && !paypal.get('complete')) {\n                    self.get('paymentmethods').remove(paypal);\n                }\n                if (!self.shippingAddressIsRequired()) {\n                    self.unset('shipaddress', { silent: true });\n                    self.set('sameAs', false, { silent: true });\n                }\n                return self.save().done(function (order) {\n                    self.cancelableTrigger('after:LiveOrder.submit', order.confirmation);\n                }).fail(function () {\n                    self.set('internalid', 'cart');\n                });\n            });\n        }    //@method save Override default save method to just return a resolved promise when the cart have already been saved.\n             //@return {jQuery.Deferred}\n,\n        save: function save() {\n            if (this.get('confirmation') && this.get('confirmation').get('internalid')) {\n                return jQuery.Deferred().resolve();\n            }\n            return TransactionModel.prototype.save.apply(this, arguments);\n        }    // @method getTotalItemCount\n             // @return {Number}\n,\n        getTotalItemCount: function getTotalItemCount() {\n            return _.reduce(this.get('lines').pluck('quantity'), function (memo, quantity) {\n                return memo + (parseFloat(quantity) || 1);\n            }, 0);\n        },\n        parse: function parse(response, options) {\n            if (options && !options.parse) {\n                return;\n            }\n            return TransactionModel.prototype.parse.apply(this, arguments);\n        }    // @method getUnsetLines\n             // @returns {Array<Transaction.Line.Model>} the order's lines that have not set its addresses to Multi Ship To yet\n,\n        getUnsetLines: function getUnsetLines() {\n            return this.get('lines').filter(function (line) {\n                return !line.get('shipaddress') && line.get('item').get('_isfulfillable');\n            });\n        }    // @method getNonShippableLines\n             // @returns {Array<Transaction.Line.Model>} the order's line that are NON Shippable\n,\n        getNonShippableLines: function getNonShippableLines() {\n            return this.get('lines').filter(function (line) {\n                return !line.get('item').get('_isfulfillable');\n            });\n        }    // @method getSetLines\n             // @returns {Array<Transaction.Line.Model>} the list of lines already set its shipping address\n,\n        getSetLines: function getSetLines() {\n            return this.get('lines').filter(function (line) {\n                return line.get('shipaddress') && line.get('item').get('_isfulfillable');\n            });\n        }    // @method getShippableLines\n             // @returns {Array<Transaction.Line.Model>} the order's line that are shippable without taking into account if their have or not set a shipaddress\n,\n        getShippableLines: function getShippableLines() {\n            return this.get('lines').filter(function (line) {\n                return line.get('item').get('_isfulfillable') && line.get('fulfillmentChoice') !== 'pickup';\n            });\n        }    // @method getItemsIds\n             // @returns {Array<String>} an array containing the cart items ids\n             // @return {Array<String>}\n,\n        getItemsIds: function getItemsIds() {\n            return this.get('lines').map(function (line) {\n                return line.get('item').get('internalid');\n            });\n        }    //@method getIfThereAreDeliverableItems Determines if at least one item is shippable\n             //@return {Boolean}\n,\n        getIfThereAreDeliverableItems: function getIfThereAreDeliverableItems() {\n            return this.get('lines').length - this.getNonShippableLines().length - this.getPickupInStoreLines().length > 0;\n        }    // @method shippingAddressIsRequired Checks if the shipping address is require and if all items in the order are non-shippable.\n             // @return {Boolean}\n,\n        shippingAddressIsRequired: function shippingAddressIsRequired() {\n            return this.getIfThereAreDeliverableItems() && Configuration.get('siteSettings.requireshippinginformation', 'F') === 'T';\n        },\n        getPickupInStoreLines: function getPickupInStoreLines() {\n            var lines = [];\n            this.get('lines').each(function (line) {\n                if (line.get('fulfillmentChoice') === 'pickup') {\n                    lines.push(line);\n                }\n            });\n            return lines;\n        },\n        addPromotion: function addPromotion(promocode) {\n            var self = this;\n            return this.cancelableTrigger('before:LiveOrder.addPromotion', { code: promocode }).then(function () {\n                var pre_promocodes = self.get('promocodes') || [], new_promocodes = pre_promocodes.concat([{ code: promocode }]);\n                return self.save({ promocodes: new_promocodes }).fail(function () {\n                    self.set('promocodes', pre_promocodes);\n                    self.trigger('apply_promocode_failed');\n                }).always(function () {\n                    self.trigger('apply_promocode_finished');\n                }).pipe(function () {\n                    var added_promocode = _.find(self.get('promocodes'), function (promo) {\n                        return promo.code === promocode;\n                    });\n                    //We kept the pre existing event\n                    self.trigger('promocodeUpdated', 'applied');\n                    self.cancelableTrigger('after:LiveOrder.addPromotion', added_promocode);\n                    return added_promocode;\n                });\n            });\n        },\n        removePromotion: function removePromotion(promocode_internal_id) {\n            var self = this;\n            return this.cancelableTrigger('before:LiveOrder.removePromotion', { internalid: promocode_internal_id }).then(function () {\n                var promocodes = self.get('promocodes') || [];\n                promocodes = _.reject(promocodes, function (promocode) {\n                    return promocode.internalid === promocode_internal_id;\n                });\n                return self.save({ promocodes: promocodes }).always(function () {\n                    self.trigger('remove_promocode_finished');\n                }).pipe(function () {\n                    //We kept the pre existing event\n                    self.trigger('promocodeUpdated', 'removed');\n                    self.cancelableTrigger('after:LiveOrder.removePromotion', { internalid: promocode_internal_id });\n                });\n            });\n        },\n        addPayment: function addPayment(payment_method, save) {\n            var self = this;\n            return this.cancelableTrigger('before:LiveOrder.addPayment', payment_method).pipe(function () {\n                try {\n                    TransactionModel.prototype.addPayment.apply(self, [payment_method]);\n                    var promise = jQuery.Deferred().resolve();\n                    if (save) {\n                        promise = self.save();\n                    }\n                    return promise.then(function () {\n                        self.cancelableTrigger('after:LiveOrder.addPayment', payment_method);\n                    });\n                } catch (error) {\n                    return jQuery.Deferred().reject(error);\n                }\n            });\n        },\n        setAddress: function setAddress(address_type, address_id, options, save) {\n            var self = this, address = {\n                    id: address_id,\n                    type: address_type\n                };\n            return this.cancelableTrigger('before:LiveOrder.setAddress', address).pipe(function () {\n                try {\n                    TransactionModel.prototype.setAddress.apply(self, [\n                        address_type,\n                        address_id,\n                        options\n                    ]);\n                    var promise = jQuery.Deferred().resolve();\n                    if (save) {\n                        promise = self.save();\n                    }\n                    return promise.then(function () {\n                        self.cancelableTrigger('after:LiveOrder.setAddress', address);\n                    });\n                } catch (error) {\n                    return jQuery.Deferred().reject(error);\n                }\n            });\n        }\n    }, ClassProperties);\n    return LiveOrderModel;\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module CreditCard\ndefine('CreditCard.Edit.View', [\n    'SC.Configuration',\n    'CreditCard.Edit.Form.View',\n    'creditcard_edit.tpl',\n    'Backbone.CompositeView',\n    'Backbone.FormView',\n    'Backbone',\n    'underscore',\n    'LiveOrder.Model',\n    'jQuery',\n    'Utils'\n], function (Configuration, CreditCardEditFormView, creditcard_edit_tpl, BackboneCompositeView, BackboneFormView, Backbone, _, LiveOrderModel, jQuery) {\n    'use strict';\n    // @class CreditCard.Edit.View card details view/edit @extends Backbone.View\n    return Backbone.View.extend({\n        template: creditcard_edit_tpl,\n        attributes: { 'class': 'CreditCardDetailsView' },\n        events: {\n            'submit form': 'saveForm',\n            'change form:has([data-action=\"reset\"])': 'toggleReset',\n            'click [data-action=\"reset\"]': 'resetForm',\n            'change form [name=\"ccnumber\"]': 'setPaymethodKey'\n        }    //@method initialize\n             //@param {CreditCard.Edit.View.Initialize} options\n,\n        initialize: function () {\n            var addCCLabel = _('Add Credit Card').translate();\n            var editCCLabel = _('Edit Credit Card').translate();\n            this.title = this.model.isNew() ? addCCLabel : editCCLabel;\n            this.page_header = this.title;\n            // initialize date selector\n            var currentExpYear = this.model.get('expyear'), newExpYear = new Date().getFullYear(), range = _.range(new Date().getFullYear(), new Date().getFullYear() + 25);\n            if (currentExpYear && currentExpYear < newExpYear) {\n                range = _.union([parseInt(currentExpYear, 10)], range);\n                this.options.expyear = currentExpYear;\n            }\n            if (!this.model.get('expmonth')) {\n                this.options.currentMonth = new Date().getMonth() + 1;\n            }\n            this.options.months = _.range(1, 13);\n            this.options.years = range;\n            //only enable \"default\" functionality in myaccount\n            this.options.showDefaults = Configuration.get('currentTouchpoint') === 'customercenter';\n            this.showSaveCreditCardCheckbox = Configuration.get('siteSettings.checkout.showsavecc', 'T') === 'T' && Configuration.get('currentTouchpoint') === 'checkout';\n            this.saveCreditCardByDefault = Configuration.get('siteSettings.checkout.saveccinfo', 'T') === 'T' && Configuration.get('currentTouchpoint') === 'checkout';\n            BackboneCompositeView.add(this);\n            this.showCardsImgs = true;\n        },\n        childViews: {\n            'CreditCard.Form': function () {\n                return new CreditCardEditFormView({\n                    model: this.model,\n                    months: this.options.months,\n                    years: this.options.years,\n                    currentMonth: this.options.currentMonth,\n                    showDefaults: this.options.showDefaults,\n                    showSecurityCodeForm: this.options.showSecurityCodeForm,\n                    showSaveCreditCardCheckbox: this.showSaveCreditCardCheckbox,\n                    saveCreditCardByDefault: this.saveCreditCardByDefault\n                });\n            }\n        }    // @method paymenthodKeyCreditCart @param {String} cc_number @return {String} payment method key matching the passed credit card number if any or undefined.\n,\n        paymenthodKeyCreditCart: function (cc_number) {\n            // regex for credit card issuer validation\n            var payment_methods_configuration = Configuration.get('paymentmethods')    // get the credit card key\n, paymenthod_key;\n            // validate that the number and issuer\n            _.each(payment_methods_configuration, function (payment_method_configuration) {\n                if (payment_method_configuration.regex && payment_method_configuration.regex.test(cc_number)) {\n                    paymenthod_key = payment_method_configuration.key;\n                }\n            });\n            var paymentmethod = paymenthod_key && _.findWhere(Configuration.get('siteSettings.paymentmethods'), { key: paymenthod_key });\n            return paymentmethod && paymentmethod.key;\n        }    //@method setPaymethodKey\n,\n        setPaymethodKey: function (e) {\n            var cc_number = jQuery(e.target).val().replace(/\\s/g, ''), form = jQuery(e.target).closest('form'), paymenthod_key = this.paymenthodKeyCreditCart(cc_number);\n            jQuery(e.target).val(cc_number);\n            form.find('[name=\"paymentmethod\"]').val(paymenthod_key || 0);\n            if (paymenthod_key && this.showCardsImgs) {\n                form.find('[data-image=\"creditcard-icon\"]').each(function (index, img) {\n                    var $img = jQuery(img);\n                    if ($img.data('value') === paymenthod_key) {\n                        $img.addClass('creditcard-edit-card-selected');\n                        $img.removeClass('creditcard-edit-card-no-selected');\n                    } else {\n                        $img.addClass('creditcard-edit-card-no-selected');\n                        $img.removeClass('creditcard-edit-card-selected');\n                    }\n                });\n                form.find('[data-value=\"creditcard-select-container\"]').css('display', 'none');\n                form.find('[data-value=\"creditcard-img-container\"]').css('display', 'block');\n            } else {\n                if (_.isUndefined(this.model.validation.ccnumber.fn(cc_number, {}, form))) {\n                    this.showCardsImgs = false;\n                    form.find('[data-image=\"creditcard-icon\"]').removeClass('creditcard-edit-form-card-no-selected');\n                    form.find('[data-value=\"creditcard-select-container\"]').css('display', 'block');\n                    form.find('[data-value=\"creditcard-img-container\"]').css('display', 'none');\n                } else {\n                    form.find('[data-value=\"creditcard-img-container\"]').css('display', 'none');\n                }\n            }\n        }    //@method getSelectedMenu\n,\n        getSelectedMenu: function () {\n            return 'creditcards';\n        }    //@method getBreadcrumbPages\n,\n        getBreadcrumbPages: function () {\n            return [\n                {\n                    text: _('Credit Cards').translate(),\n                    href: '/creditcards'\n                },\n                {\n                    text: this.title,\n                    href: '/creditcards/new'\n                }\n            ];\n        },\n        saveForm: function (e) {\n            var $form = this.$(e.target), form_data = $form.serializeObject();\n            // This is a hack to fix cases when the change event in ccnumber is not triggered and setPaymethodId is not call.\n            // This occur in Safari with the AutoFill feature (using keychain)\n            if (!form_data.paymentmethod || form_data.paymentmethod === '0') {\n                $form.find('[name=\"ccnumber\"]').change();\n                form_data = $form.serializeObject();\n            }\n            // Call super and then check if the edited credit card is not on the order and if so update it.\n            // Note that if securitycode is required and we pass an empty one then the payment method will be removed from the order.\n            var live_order = LiveOrderModel.getInstance(), promise;\n            if (Configuration.get('currentTouchpoint') === 'checkout' && (this.showSaveCreditCardCheckbox && form_data.savecreditcard === 'F' || !this.showSaveCreditCardCheckbox && !this.saveCreditCardByDefault)) {\n                e.preventDefault();\n                Backbone.Validation.bind(this);\n                var result = this.model._validate(form_data, { validate: true });\n                if (result) {\n                    var paymentmethods = Configuration.get('siteSettings.paymentmethods');\n                    if (!form_data.internalid) {\n                        // set fake internalid.\n                        form_data.internalid = '-temporal-';\n                    } else if (form_data.internalid === '-temporal-') {\n                        // remove the number to preserve the original value.\n                        delete form_data.ccnumber;\n                    }\n                    // format expiration date.\n                    form_data.ccexpiredate = form_data.expmonth + '/' + form_data.expyear;\n                    // set the payment method information.\n                    form_data.paymentmethod = _.findWhere(paymentmethods, { key: form_data.paymentmethod });\n                    // set the values to the model.\n                    this.model.set(form_data);\n                    promise = jQuery.Deferred();\n                    promise.resolveWith(this.model, [this.model.attributes]);\n                    // close the modal\n                    if (this.inModal && this.$containerModal) {\n                        this.$containerModal.modal('hide');\n                    }\n                } else {\n                    promise = result;\n                }\n            } else {\n                if (this.model.get('internalid') === '-temporal-') {\n                    // remove fake internalid\n                    this.model.unset('internalid', { silent: true });\n                }\n                promise = BackboneFormView.saveForm.apply(this, arguments);\n            }\n            promise && promise.done(function (user_cc) {\n                live_order.get('paymentmethods').each(function (paymentmethod) {\n                    var order_cc = paymentmethod.get('creditcard');\n                    if (order_cc && user_cc && order_cc.internalid === user_cc.internalid) {\n                        // in the payment method of the order, ONLY update those fields editable by the user.\n                        order_cc.ccexpiredate = user_cc.ccexpiredate;\n                        order_cc.ccname = user_cc.ccname;\n                        order_cc.expmonth = user_cc.expmonth;\n                        order_cc.expyear = user_cc.expyear;\n                        paymentmethod.set('creditcard', order_cc);\n                        live_order.get('paymentmethods').add(paymentmethod, { merge: true });\n                    }\n                });\n            });\n            return promise;\n        },\n        resetForm: function (e) {\n            e.preventDefault();\n            this.showContent('creditcards');\n        }    //@method getContext @return CreditCard.View.Details.Context\n,\n        getContext: function () {\n            //@class CreditCard.View.Details.Context\n            return {\n                //@property {Boolean} isModal\n                isModal: this.inModal,\n                isNew: this.model.isNew()    //@property {Boolean} isNew\n,\n                isCollectionEmpty: this.options.isCreditCardCollectionEmpty,\n                isModalOrCollectionLength: !!(this.inModal || !this.options.isCreditCardCollectionEmpty)    //@property {Boolean} showFooter\n,\n                showFooter: !this.options.hideFooter,\n                isInModalOrHideHeader: this.inModal || !!this.options.hideHeader,\n                showHeader: !this.options.hideHeader,\n                showBackToAccount: Configuration.get('siteSettings.sitetype') === 'STANDARD' && !this.options.hideHeader\n            };\n        }\n    });\n});    //@class CreditCard.Edit.View.Initialize\n       //@property {Boolean} isCreditCardCollectionEmpty\n       //@property {Boolean} hideFooter\n       //@property {Boolean} hideHeader\n       //@property {ApplicationSkeleton} application\n       //@property {Address.Model} model\n","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module CreditCard\ndefine('CreditCard.View', [\n    'SC.Configuration',\n    'CreditCard.Edit.Form.SecurityCode.View',\n    'creditcard.tpl',\n    'Backbone.CompositeView',\n    'Backbone.FormView',\n    'Backbone',\n    'underscore',\n    'Utils'\n], function (Configuration, CreditCardEditFormSecurityCodeView, creditcard_tpl, BackboneCompositeView, BackboneFormView, Backbone, _) {\n    'use strict';\n    // @class CreditCard.View @extends Backbone.View\n    return Backbone.View.extend({\n        template: creditcard_tpl,\n        initialize: function (options) {\n            BackboneCompositeView.add(this);\n            this.options = options;\n            if (this.options.showSecurityCodeForm) {\n                this.model.set('hasSecurityCode', true);\n                this.bindings = { '[name=\"ccsecuritycode\"]': 'ccsecuritycode' };\n                this.events = { 'submit form': 'doNothing' };\n                BackboneFormView.add(this);\n            }\n        },\n        childViews: {\n            'CreditCard.Edit.Form.SecurityCode': function () {\n                return new CreditCardEditFormSecurityCodeView({\n                    error: this.options.securityNumberError,\n                    showCreditCardHelp: this.options.showCreditCardHelp,\n                    creditCardHelpTitle: this.options.creditCardHelpTitle\n                });\n            }\n        },\n        doNothing: function (e) {\n            e.preventDefault();\n        }    //@method getContext @return CreditCard.View\n,\n        getContext: function () {\n            var payment_methods = Configuration.get('siteSettings.paymentmethods'), payment_method = this.model.get('paymentmethod').key ? _.findWhere(payment_methods, { key: this.model.get('paymentmethod').key }) : _.findWhere(payment_methods, { internalid: this.model.get('paymentmethod').internalid }), icon = payment_method && payment_method.imagesrc && payment_method.imagesrc[0], expiration_month = this.model.get('expmonth');\n            console.log(payment_methods);\n            //@class CreditCard.View\n            return {\n                //@property {String} creditCartId\n                creditCartId: this.model.get('internalid')    //@property {Boolean} showSecurityCodeForm\n,\n                showSecurityCodeForm: !!this.options.showSecurityCodeForm,\n                showCreditCardImage: !!icon    // @property {String} creditCardImageUrl\n,\n                creditCardImageUrl: icon || ''    //@property {String} paymentName\n,\n                paymentName: this.model.get('paymentmethod').name,\n                ccnumber: this.model.get('ccnumber').substring(this.model.get('ccnumber').length - 4)    //@property {String} ccname\n,\n                ccname: this.model.get('ccname')    //@property {String} expirationDate\n,\n                expirationDate: (expiration_month < 10 ? '0' : '') + expiration_month + '/' + this.model.get('expyear')    //@property {Boolean} showDefaults\n,\n                showDefaults: !!this.options.showDefaults,\n                isDefaultCreditCard: this.model.get('ccdefault') === 'T'    //@property {Boolean} showSelect\n,\n                showSelect: !!this.options.showSelect,\n                selectMessage: this.options.selectMessage,\n                showActions: !!this.options.showActions\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module GlobalViews\ndefine('GlobalViews.Confirmation.View', [\n    'global_views_confirmation.tpl',\n    'Backbone.CompositeView',\n    'Backbone',\n    'underscore',\n    'Utils'\n], function (global_views_confirmation_tpl, BackboneCompositeView, Backbone, _, Utils) {\n    'use strict';\n    // @class GlobalViews.Confirmation.View @extends Backbone.View\n    return Backbone.View.extend({\n        template: global_views_confirmation_tpl,\n        title: _('Confirm').translate(),\n        page_header: _('Confirm').translate(),\n        events: {\n            'click [data-action=\"confirm\"]': 'confirm',\n            'click [data-action=\"cancel\"]': 'cancel'\n        }    //@method initialize\n             //@param {GlobalViews.Confirmation.Initialize.Options} options\n             //@return {Void}\n,\n        initialize: function (options) {\n            this.callBack = options.callBack;\n            this.callBackParameters = options.callBackParameters;\n            this.cancelCallBack = options.cancelCallBack;\n            this.cancelCallBackParameters = options.cancelCallBackParameters;\n            this.title = options.title || this.title;\n            this.page_header = options.title || this.page_header;\n            this.className = options.className || '';\n            this.body = options.body;\n            this.showBodyMessage = !options.view;\n            this.childViewMessage = options.view;\n            this.childViewMessageParameters = options.viewParameters;\n            this.autohide = !!options.autohide;\n            this.confirmLabel = options.confirmLabel;\n            this.cancelLabel = options.cancelLabel;\n            BackboneCompositeView.add(this);\n            this.once('afterViewRender', function () {\n                var self = this;\n                self.$containerModal.on('shown.bs.modal', function () {\n                    self.$containerModal.off('shown.bs.modal');\n                    self.$('[data-action=\"confirm\"]').focus();\n                });\n            }, this);\n        }    //@property {Object} childViews\n,\n        childViews: {\n            'ChildViewMessage': function () {\n                return new this.childViewMessage(this.childViewMessageParameters || {});\n            }\n        }    // @method confirm Invokes callBack function\n             // @return {Void}\n,\n        confirm: function confirm() {\n            _.isFunction(this.callBack) && this.callBack.call(this, this.callBackParameters);\n            if (this.autohide) {\n                this.$containerModal.modal('hide');\n            }\n        }    // @method cancel Invokes cancelCallBack function\n             // @return {Void}\n,\n        cancel: function cancel() {\n            _.isFunction(this.cancelCallBack) && this.cancelCallBack.call(this, this.cancelCallBackParameters);\n            if (this.autohide) {\n                this.$containerModal.modal('hide');\n            }\n        }    // @method getTitle This method returns the name the current browser window will have.\n             // This is called by Content.EnhancedViews\n             // @return {String}\n,\n        getTitle: function getTitle() {\n            return Utils.translate('Confirmation');\n        }    // @method getContext\n             // @return {GlobalViews.Confirmation.View.Context}\n,\n        getContext: function getContext() {\n            // @class GlobalViews.Confirmation.View.Context\n            return {\n                // @property {String} body\n                body: this.body,\n                hasConfirmLabel: !!this.confirmLabel,\n                confirmLabel: this.confirmLabel,\n                hasCancelLabel: !!this.cancelLabel,\n                cancelLabel: this.cancelLabel,\n                showBodyMessage: this.showBodyMessage,\n                className: this.className\n            };    // @class GlobalViews.Confirmation.View\n        }\n    });\n});    //@class GlobalViews.Confirmation.Initialize.Options\n       //@property {Function?} callBack Optional function called in case the user confirm the current prompt\n       //@property {Any?} callBackParameters Any optional object used as parameter of the callBack parameters function\n       //@property {String?} title Optional modal title\n       //@property {String?} body String message to display. This value is optional as you can specify a child view as\n       //the body of the modal\n       //@property {Backbone.View?} view Optional view used to specify a body when you need a rich body that a simple body property\n       //is not enough\n       //@property {String?} confirmLabel Label used in the confirmation button. 'Yes' is used when no data is provided\n       //@property {Boolean} autohide Indicate if after confirming the windows should auto-close\n       //@property {String?} cancelLabel Optional label used for the cancel button. If no value is provided Cancel will be used.\n       //@property {Any?} viewParameters Optional Object with the parameters used to instantiate the passed in View\n","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module OrderWizard.Module.PaymentMethod\ndefine('OrderWizard.Module.PaymentMethod.Creditcard', [\n    'OrderWizard.Module.PaymentMethod',\n    'CreditCard.Edit.View',\n    'CreditCard.Model',\n    'Transaction.Paymentmethod.Model',\n    'Backbone.CompositeView',\n    'Backbone.CollectionView',\n    'CreditCard.View',\n    'SC.Configuration',\n    'GlobalViews.Confirmation.View',\n    'order_wizard_paymentmethod_creditcard_module.tpl',\n    'backbone_collection_view_cell.tpl',\n    'backbone_collection_view_row.tpl',\n    'Backbone',\n    'underscore',\n    'jQuery',\n    'Profile.Model'\n], function (OrderWizardModulePaymentMethod, CreditCardEditView, CreditCardModel, TransactionPaymentmethodModel, BackboneCompositeView, BackboneCollectionView, CreditCardView, Configuration, GlobalViewsConfirmationView, order_wizard_paymentmethod_creditcard_module_tpl, backbone_collection_view_cell_tpl, backbone_collection_view_row_tpl, Backbone, _, jQuery, ProfileModel) {\n    'use strict';\n    //@class OrderWizard.Module.PaymentMethod.Creditcard @extends OrderWizard.Module.PaymentMethod\n    return OrderWizardModulePaymentMethod.extend({\n        //@property {Function} template\n        template: order_wizard_paymentmethod_creditcard_module_tpl    //@property {Object} securityNumberErrorMessage\n,\n        securityNumberErrorMessage: {\n            errorCode: 'ERR_CHK_INCOMPLETE_SECURITY_NUMBER',\n            errorMessage: undefined\n        }    //@property {String} selectMessage\n,\n        selectMessage: _('Use this Card').translate()    //@events {Object} events\n,\n        events: {\n            'click [data-action=\"select\"]': 'selectCreditCard',\n            'click [data-action=\"change-creditcard\"]': 'changeCreditCard',\n            'click [data-action=\"remove\"]': 'removeCreditCard',\n            'mouseover [data-toggle=\"popover\"]': 'openPopover',\n            'click [data-action=\"show-safe-secure-info\"]': 'showSecureInfo'\n        }    //@property {Array<String>} errors\n,\n        errors: [\n            'ERR_CHK_INCOMPLETE_CREDITCARD',\n            'ERR_CHK_SELECT_CREDITCARD',\n            'ERR_CHK_EXPIRED_CREDITCARD',\n            'ERR_CHK_INCOMPLETE_SECURITY_NUMBER',\n            'ERR_WS_INVALID_PAYMENT'\n        ]    //@method initialize\n             //@return {Vodi}\n,\n        initialize: function () {\n            OrderWizardModulePaymentMethod.prototype.initialize.apply(this, arguments);\n            BackboneCompositeView.add(this);\n        }    //@method isActive Indicate if in the current state this module is active to be shown or not\n             //@return {Boolean}\n,\n        isActive: function () {\n            var a_credit_card = _.findWhere(Configuration.get('siteSettings.paymentmethods', []), { creditcard: 'T' });\n            return a_credit_card && a_credit_card.internalid;\n        }    //@method part Override default implementation to clean the saves credit card verification code\n             //@return {Void}\n,\n        past: function () {\n            this.ccsecuritycode = '';\n            this.unsetSecurityNumber();\n        }    //@method render\n,\n        render: function () {\n            var self = this    // currently we only support 1 credit card as payment method\n, order_payment_method = this.model.get('paymentmethods').findWhere({ type: 'creditcard' });\n            this.creditcard = null;\n            this.paymentMethod = order_payment_method || new TransactionPaymentmethodModel({ type: 'creditcard' });\n            var order_creditcard = this.paymentMethod.get('creditcard');\n            this.requireccsecuritycode = Configuration.get('siteSettings.checkout.requireccsecuritycode', 'T') === 'T';\n            // credit-card set up\n            this.creditcards = ProfileModel.getInstance().get('creditcards');\n            // Removes previously added events on the address collection\n            this.creditcards.off(null, null, this);\n            this.creditcards.on('reset destroy change add remove', function () {\n                //search for the paymentmethod in the order that is creditcard\n                var order_payment_method = self.model.get('paymentmethods').findWhere({ type: 'creditcard' }), order_creditcard_id = order_payment_method && order_payment_method.get('creditcard') && order_payment_method.get('creditcard').internalid;\n                //if the order has a credit card and that credit card exists on the profile we set it (making sure it is the same as in the profile)\n                if (order_creditcard_id && self.creditcards.get(order_creditcard_id)) {\n                    self.setCreditCard({ id: order_creditcard_id });\n                }    // if the credit-card in the order is not longer in the profile we delete it.\n                else if (order_creditcard_id) {\n                    self.unsetCreditCard();\n                }\n                self.render();\n            }, this);\n            if (!this.creditcards.length) {\n                this.creditcard = new CreditCardModel({}, { paymentMethdos: Configuration.get('siteSettings.paymentmethods') });\n            } else {\n                if (order_creditcard && order_creditcard.internalid) {\n                    this.creditcard = this.creditcards.get(order_creditcard.internalid);\n                } else if (ProfileModel.getInstance().get('isGuest') === 'T') {\n                    // if the order is empty and is a guest use the first credit card in the list\n                    this.creditcard = this.creditcards.at(0);\n                    this.setCreditCard({ id: this.creditcard.id });\n                } else if (!this.unset) {\n                    this.creditcard = this.creditcards.findWhere({ ccdefault: 'T' });\n                    if (this.creditcard && this.creditcard.id) {\n                        this.setCreditCard({ id: this.creditcard.id });\n                    }\n                }\n            }\n            this._render();\n            this.isValid().done(function () {\n                self.trigger('ready', !self.requireccsecuritycode);\n            });\n        }    //@method removeCreditCard dispatch the remove event\n,\n        removeCreditCard: function (e) {\n            e.preventDefault();\n            var deleteConfirmationView = new GlobalViewsConfirmationView({\n                callBack: this._removeCreditCardFromCollection,\n                callBackParameters: {\n                    context: this,\n                    creditcardId: jQuery(e.target).data('id')\n                },\n                title: _('Remove Credit Card').translate(),\n                body: _('Are you sure you want to remove this Credit Card?').translate(),\n                autohide: true\n            });\n            return this.wizard.application.getLayout().showInModal(deleteConfirmationView);\n        },\n        _removeCreditCardFromCollection: function (options) {\n            if (options.creditcardId !== '-temporal-') {\n                options.context.creditcards.get(options.creditcardId).destroy({ wait: true });\n            } else {\n                options.context.creditcards.remove(options.creditcardId);\n                options.context.wizard.model.save();\n            }\n        }    //@method changeCreditCard\n,\n        changeCreditCard: function (e) {\n            if (ProfileModel.getInstance().get('isGuest') !== 'T' || this.creditcard.get('internalid') === '-temporal-') {\n                if (this.creditcard.get('internalid') === '-temporal-') {\n                    var internalid = this.creditcard.get('internalid');\n                    this.creditcards.remove(internalid);\n                    ProfileModel.getInstance().get('creditcards').remove(internalid);\n                }\n                this.unsetCreditCard(e);\n            } else {\n                var self = this;\n                e.preventDefault();\n                e.stopPropagation();\n                this.creditcard.destroy({ wait: true }).then(function () {\n                    self.creditcards.reset([]);\n                    ProfileModel.getInstance().get('creditcards').reset([]);\n                });\n            }\n        }    //@method openPopover\n,\n        openPopover: function (e) {\n            e.preventDefault();\n            e.stopPropagation();\n            var $link = this.$(e.target);\n            $link.popover({\n                trigger: 'manual',\n                html: true\n            }).popover('toggle');\n            // add more close popover\n            this.closePopover($link);\n        }    //@method closePopover\n,\n        closePopover: function (link) {\n            // close mouseout\n            link.on('mouseout', function (e) {\n                e.preventDefault();\n                link.popover('hide');\n            });\n            // close for mobile\n            this.$el.one('click', '[data-type=\"close-popover\"]', function (e) {\n                e.preventDefault();\n                link.popover('hide');\n            });\n        }    //@method selectCreditCard\n,\n        selectCreditCard: function (e) {\n            this.setCreditCard({ id: jQuery(e.target).data('id') });\n            // As we alreay set the credit card, we let the step know that we are ready\n            this.trigger('ready', !this.requireccsecuritycode);\n        }    //@method setSecurityNumber\n,\n        setSecurityNumber: function () {\n            if (this.requireccsecuritycode) {\n                var creditcard = this.paymentMethod.get('creditcard');\n                if (creditcard) {\n                    creditcard.ccsecuritycode = this.ccsecuritycode;\n                }\n            }\n        }    //@method unsetSecurityNumber\n,\n        unsetSecurityNumber: function () {\n            var creditcard = this.paymentMethod && this.paymentMethod.get('creditcard');\n            if (creditcard) {\n                creditcard.ccsecuritycode = null;\n            }\n        },\n        isExpiredCreditCard: function (credit_card) {\n            var credit_card_expire_year = parseInt(credit_card.expyear, 10), credit_card_expire_month = parseInt(credit_card.expmonth, 10), today = new Date(), today_year = today.getFullYear(), today_month = today.getMonth() + 1;\n            return credit_card_expire_year < today_year || credit_card_expire_year === today_year && credit_card_expire_month < today_month;\n        },\n        getExpiredCreditCardError: function () {\n            return {\n                errorCode: 'ERR_CHK_EXPIRED_CREDITCARD',\n                errorMessage: _('Your credit card has expired, please select another one.').translate()\n            };\n        }    //@method setCreditCard\n,\n        setCreditCard: function (options) {\n            var credit_card = options.model || this.creditcards.get(options.id) && this.creditcards.get(options.id).attributes;\n            this.paymentMethod = new TransactionPaymentmethodModel({\n                type: 'creditcard',\n                creditcard: credit_card\n            });\n            this.setSecurityNumber();\n            OrderWizardModulePaymentMethod.prototype.submit.apply(this, arguments);\n            // We re render so if there is changes to be shown they are represented in the view\n            this.render();\n            //when credit card is expired we immediately show a message\n            if (credit_card && this.isExpiredCreditCard(credit_card)) {\n                var error = this.getExpiredCreditCardError();\n                OrderWizardModulePaymentMethod.prototype.manageError.call(this, error);\n            }\n        }    //@method unsetCreditCard\n,\n        unsetCreditCard: function (e) {\n            if (e) {\n                e.preventDefault();\n                e.stopPropagation();\n            }\n            this.unset = true;\n            this.paymentMethod = new TransactionPaymentmethodModel({ type: 'creditcard' });\n            this.ccsecuritycode = null;\n            OrderWizardModulePaymentMethod.prototype.submit.apply(this, arguments);\n            // We re render so if there is changes to be shown they are represented in the view\n            this.render();\n        }    //@method submit\n,\n        submit: function () {\n            // This order is bing payed with some other method (Gift Cert probably)\n            if (this.wizard.hidePayment()) {\n                return jQuery.Deferred().resolve();\n            }\n            var self = this;\n            if (this.requireccsecuritycode) {\n                this.isSecurityNumberInvalid = false;\n                // we need to store this temporally (frontend) in case a module in the same step\n                // fails validation, making the credit card section re-rendered.\n                // We don't want the user to have to type the security number multiple times\n                this.ccsecuritycode = this.$('input[name=\"ccsecuritycode\"]').val();\n            }\n            // if we are adding a new credit card\n            if (this.creditcardView) {\n                var fake_event = jQuery.Event('click', { target: this.creditcardView.$('form').get(0) }), result = this.creditcardView.saveForm(fake_event);\n                if (!result || result.frontEndValidationError) {\n                    // There were errors so we return a rejected promise\n                    return jQuery.Deferred().reject({\n                        errorCode: 'ERR_CHK_INCOMPLETE_CREDITCARD',\n                        errorMessage: _('The Credit Card is incomplete').translate()\n                    });\n                }\n                var save_result = jQuery.Deferred();\n                result.done(function (model) {\n                    self.creditcardView = null;\n                    ProfileModel.getInstance().get('creditcards').add(model, { silent: true });\n                    self.setCreditCard({ model: model });\n                    save_result.resolve();\n                }).fail(function (error) {\n                    save_result.reject(error.responseJSON);\n                });\n                return save_result;\n            }    // if there are already credit cards\n            else {\n                this.setSecurityNumber();\n                OrderWizardModulePaymentMethod.prototype.submit.apply(this, arguments);\n                this.setCreditCard({ model: this.paymentMethod.get('creditcard') });\n                return this.isValid().fail(function (error) {\n                    if (error === self.securityNumberErrorMessage) {\n                        self.isSecurityNumberInvalid = true;\n                    }\n                }).done(function () {\n                    self.isSecurityNumberInvalid = false;\n                }).always(function () {\n                    // Call self.render() instead of self._render() because the last one didn't asign the events to the DOM\n                    self.render();\n                });\n            }\n        }    //@method isValid\n,\n        isValid: function () {\n            // This order is bing payed with some other method (Gift Cert probably)\n            if (this.wizard.hidePayment()) {\n                return jQuery.Deferred().resolve();\n            }\n            // user's credit cards\n            var creditcards = ProfileModel.getInstance().get('creditcards')    // current order payment method\n, order_payment_method = this.model.get('paymentmethods').findWhere({ type: 'creditcard' })    // current order credit card\n, order_creditcard = order_payment_method && order_payment_method.get('creditcard');\n            // Order is using a credit card\n            // and there is a collection of creditcards\n            // and the order's creditcard is on that collection\n            if (order_creditcard && creditcards.length && creditcards.get(order_creditcard.internalid)) {\n                this.securityNumberErrorMessage.errorMessage = _.validateSecurityCode(order_creditcard.ccsecuritycode);\n                if (this.isExpiredCreditCard(order_creditcard)) {\n                    var error = this.getExpiredCreditCardError();\n                    return jQuery.Deferred().reject(error);\n                }\n                if (!this.requireccsecuritycode || !this.securityNumberErrorMessage.errorMessage) {\n                    return jQuery.Deferred().resolve();\n                } else {\n                    return jQuery.Deferred().reject(this.securityNumberErrorMessage);\n                }\n            } else {\n                // if it not set, then lets reject it\n                return jQuery.Deferred().reject({\n                    errorCode: 'ERR_CHK_SELECT_CREDITCARD',\n                    errorMessage: _('Please select a credit card').translate()\n                });\n            }\n        }    //@method manageError\n,\n        manageError: function (error) {\n            if (error && error.errorCode !== 'ERR_CHK_INCOMPLETE_CREDITCARD') {\n                var control_error = this.$('.creditcard-edit-form-securitycode-group'), errorBlock = {\n                        attr: 'data-validation-error',\n                        value: 'block'\n                    };\n                if (error.errorCode === 'ERR_CHK_INCOMPLETE_SECURITY_NUMBER') {\n                    control_error.attr('data-validation-error', '');\n                    this.$('.creditcard-edit-form-securitycode-controls').append('<p ' + errorBlock.attr + '=\"' + errorBlock.value + '\">' + error.errorMessage + '</p>');\n                } else {\n                    if (error.errorCode === 'ERR_WS_INVALID_PAYMENT') {\n                        this.unsetCreditCard();\n                    }\n                    OrderWizardModulePaymentMethod.prototype.manageError.apply(this, arguments);\n                }\n            }\n        }    // @method showSecureInfo Shows\n,\n        showSecureInfo: function () {\n            var view = new Backbone.View({ application: this.wizard.application }), self = this;\n            view.title = _('Safe and Secure Shopping').translate();\n            view.render = function () {\n                this.$el.html(_(self.wizard.application.getConfig('creditCard.creditCardShowSecureInfo')).translate());\n                return this;\n            };\n            view.showInModal();\n        },\n        prepopulateCreditCardModel: function () {\n            if (this.wizard.isAutoPopulateEnabled && this.wizard.isAutoPopulateEnabled()) {\n                this.creditcard.set('ccname', this.wizard.options.profile.get('firstname') + ' ' + this.wizard.options.profile.get('lastname'));\n            }\n            return this.creditcard;\n        }    //@property {Object} childViews\n,\n        childViews: {\n            'CreditCard.List': function () {\n                return new BackboneCollectionView({\n                    collection: this.creditcards,\n                    childView: CreditCardView,\n                    childViewOptions: {\n                        showActions: true,\n                        showDefaults: this.showDefaults,\n                        showSelect: true,\n                        selectMessage: this.selectMessage\n                    },\n                    viewsPerRow: this.itemsPerRow || 2,\n                    cellTemplate: backbone_collection_view_cell_tpl,\n                    rowTemplate: backbone_collection_view_row_tpl\n                });\n            },\n            'CreditCard.Form': function () {\n                this.creditcardView = new CreditCardEditView({\n                    model: this.prepopulateCreditCardModel(),\n                    isCreditCardCollectionEmpty: true    //This view is only render when there is no credit cards at all\n,\n                    hideHeader: true,\n                    hideFooter: true,\n                    showSecurityCodeForm: this.requireccsecuritycode\n                });\n                return this.creditcardView;\n            },\n            'SelectedCreditCard': function () {\n                return new CreditCardView({\n                    model: this.creditcard,\n                    showSecurityCodeForm: this.requireccsecuritycode,\n                    securityNumberError: this.isSecurityNumberInvalid && this.securityNumberErrorMessage,\n                    ccsecuritycode: this.ccsecuritycode,\n                    showCreditCardHelp: Configuration.get('creditCard.showCreditCardHelp', true),\n                    creditCardHelpTitle: _(Configuration.get('creditCard.creditCardHelpTitle', true)).translate(),\n                    collapseElements: Configuration.get('sca.collapseElements', true)\n                });\n            }\n        }    //@method getContext @returns {OrderWizard.Module.PaymentMethod.Creditcard.Context}\n,\n        getContext: function () {\n            var showForm = this.creditcards.length === 0 && (!this.creditcard || this.creditcard && this.creditcard.isNew());\n            if (!showForm) {\n                // Skip_Login fix, because when starting the wizard, the user is guest, he has no credit cards so we show the CreditCard.Form and we set it on this.creditCardView\n                // But then when the user logs in, this.creditCardView still exists and the submit thinks it's a new credit card\n                this.creditcardView = null;\n            }\n            //@class OrderWizard.Module.PaymentMethod.Creditcard.Context\n            return {\n                //@property {Boolean} showForm\n                showForm: showForm    //@property {Boolean} showList\n,\n                showList: !!(this.creditcards.length >= 1 && !this.creditcard)    //@property {Boolean} showSelectedCreditCard\n,\n                showSelectedCreditCard: !!(this.creditcard && !this.creditcard.isNew())    //@property {Boolean} showTitle\n,\n                showTitle: !!this.getTitle()    //@property {String} title\n,\n                title: this.getTitle()    //@property {CreditCard.Model} selectedCreditCard\n,\n                selectedCreditCard: this.creditcard,\n                creditCards: this.creditcards\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module PaymentWizard\ndefine('PaymentWizard.Module.PaymentMethod.Creditcard', [\n    'OrderWizard.Module.PaymentMethod.Creditcard',\n    'underscore',\n    'jQuery',\n    'Utils'\n], function (OrderWizardModulePaymentMethodCreditcard, _, jQuery) {\n    'use strict';\n    //@class PaymentWizard.Module.PaymentMethod.Creditcard @extend OrderWizard.Module.PaymentMethod.Creditcard\n    return OrderWizardModulePaymentMethodCreditcard.extend({\n        itemsPerRow: _.isDesktopDevice() ? 3 : 2,\n        showDefaults: true,\n        className: 'PaymentWizard.Module.PaymentMethod.Creditcard',\n        render: function () {\n            if (this.wizard.hidePayment()) {\n                this.$el.empty();\n            } else {\n                OrderWizardModulePaymentMethodCreditcard.prototype.render.apply(this, arguments);\n            }\n        },\n        initialize: function (options) {\n            OrderWizardModulePaymentMethodCreditcard.prototype.initialize.apply(this, arguments);\n            this.wizard.model.on('change:payment', jQuery.proxy(this, 'changeTotal'));\n            this.itemsPerRow = _.result(options, 'itemsPerRow') || this.itemsPerRow;\n        },\n        changeTotal: function () {\n            var was = this.model.previous('payment'), was_confirmation = this.model.previous('confirmation'), is_confirmation = this.model.get('confirmation'), is = this.model.get('payment');\n            // Changed from or to 0\n            if ((was === 0 && is !== 0 || was !== 0 && is === 0) && !was_confirmation && !is_confirmation) {\n                this.render();\n            }\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module GlobalViews\ndefine('GlobalViews.CountriesDropdown.View', [\n    'global_views_countriesDropdown.tpl',\n    'Backbone',\n    'jQuery',\n    'underscore'\n], function (global_views_countriesDropdown_tpl, Backbone, jQuery, _) {\n    'use strict';\n    // @class GlobalViews.CountriesDropdown.View @extends Backbone.View\n    return Backbone.View.extend({\n        template: global_views_countriesDropdown_tpl    // @method getContext @return GlobalViews.CountriesDropdown.View.Context\n,\n        getContext: function () {\n            //@class GlobalViews.CountriesDropdown.View.Context\n            return {\n                // @property {String} cssclass\n                cssclass: this.options.cssclass || ''    // @property {Boolean} isCSSclass\n,\n                showCSSclass: !!this.options.cssclass,\n                id: this.options.manage || ''    //@property {Array<Country>} countries\n,\n                countries: _.values(this.options.countries)\n            };\n        }\n    });\n});    //@class Country\n       //@property {Number} code\n       //@property {String} name\n       //@class GlobalViews.CountriesDropdown.View.Options\n       //@property {String} cssclass\n       //@property {Array<Country>} countries\n       //@property {Number} selectedCountry\n       //@property {String} manage\n","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module GlobalViews\ndefine('GlobalViews.States.View', [\n    'global_views_states.tpl',\n    'Backbone',\n    'jQuery',\n    'underscore'\n], function (global_views_states_tpl, Backbone, jQuery, _) {\n    'use strict';\n    // @class GlobalViews.States.View @extends Backbone.View\n    return Backbone.View.extend({\n        template: global_views_states_tpl    // @method getContext @returns GlobalViews.States.View.Context\n,\n        getContext: function () {\n            var country = this.options.selectedCountry && this.options.countries[this.options.selectedCountry], states = country && country.states, self = this;\n            _.each(states, function (state) {\n                state.isSelected = state.code === self.options.selectedState;\n            });\n            //@class GlobalViews.States.View.Context\n            return {\n                //@property {Boolean} isCountryAndStatePresent\n                isCountryAndStatePresent: !!(country && states)    //@property {String} manage\n,\n                manage: this.options.manage || ''    //@property {Array<Object>} sates\n,\n                states: states    //@property {String} selectedState\n,\n                selectedState: this.options.selectedState,\n                inputClass: this.options.cssclass || 'input-xlarge'\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module Address\ndefine('Address.Edit.Fields.View', [\n    'address_edit_fields.tpl',\n    'GlobalViews.CountriesDropdown.View',\n    'SC.Configuration',\n    'Backbone.CompositeView',\n    'GlobalViews.States.View',\n    'Backbone',\n    'underscore',\n    'jQuery'\n], function (address_edit_fields_tpl, CountriesDropdownView, Configuration, BackboneCompositeView, GlobalViewsStatesView, Backbone, _, jQuery) {\n    'use strict';\n    //@class Address.Edit.View @extend Backbone.View\n    return Backbone.View.extend({\n        //@property {Function} template\n        template: address_edit_fields_tpl    //@property {Object} events\n,\n        events: {\n            'change [data-action=\"selectcountry\"]': 'updateStates',\n            'change [data-action=\"selectstate\"]': 'eraseZip',\n            'change [data-action=\"inputstate\"]': 'eraseZip',\n            'blur [data-action=\"inputphone\"]': 'formatPhone'\n        }    //@method initialize Defines this view as composite\n             //@return {Void}\n,\n        initialize: function () {\n            BackboneCompositeView.add(this);\n            this.calculateState();\n        }    //@method calculateState Pre-calculate many state variables used in the get context. In this way this is state is calculated once\n             //@return {Void}\n,\n        calculateState: function () {\n            this.site_settings = Configuration.get('siteSettings');\n            this.manage = this.options.manage ? this.options.manage + '-' : '';\n            this.countries = this.options.countries;\n            this.quantity_countries = _.size(this.countries);\n            this.selected_country = this.options.selectedCountry;\n            this.zip_not_required = this.selected_country && this.site_settings.countries[this.selected_country] && this.site_settings.countries[this.selected_country].isziprequired === 'F';\n        }    //@method eraseZip Show and hide the zip field depending on the selected country\n             //@return {Void}\n,\n        eraseZip: function () {\n            var selected_country = this.$('[name=\"country\"]').val(), countries = Configuration.get('siteSettings.countries', {}), $zip_fieldset = this.$('[data-input=\"zip\"]'), $zip_input = this.$('input[name=\"zip\"]', $zip_fieldset);\n            $zip_input.val('');\n            if (countries[selected_country] && countries[selected_country].isziprequired === 'F') {\n                $zip_fieldset.hide();\n            } else {\n                $zip_fieldset.show();\n            }\n        }    //@method formatPhone Will try to reformat a phone number for a given phone Format,\n             // If no format is given, it will try to use the one in site settings.\n             //@param {jQuery.Event} e\n             //@return {Void}\n,\n        formatPhone: function (e) {\n            var $target = jQuery(e.target);\n            $target.val(_($target.val()).formatPhone());\n        }    //@method updateStates Initialize state of the  dropdowns\n             //@param {jQuery.Event} e\n             //@return {Void}\n,\n        updateStates: function (e) {\n            var statesView = this.getChildViewInstance('StatesView');\n            statesView.options.selectedCountry = this.$(e.currentTarget).val();\n            statesView.render();\n            this.eraseZip(e);\n        }    //@property {Object} childViews\n,\n        childViews: {\n            'CountriesDropdown': function () {\n                return new CountriesDropdownView({\n                    countries: this.options.countries,\n                    selectedCountry: this.selected_country,\n                    manage: this.options.manage\n                });\n            },\n            'StatesView': function () {\n                return new GlobalViewsStatesView({\n                    countries: this.options.countries,\n                    selectedCountry: this.selected_country,\n                    selectedState: this.model.get('state'),\n                    manage: this.manage\n                });\n            }\n        }    //@method getContext @return Address.Edit.View.Context\n,\n        getContext: function () {\n            //@class Address.Edit.View.Context\n            return {\n                //@property {String} manage\n                manage: this.manage,\n                fullName: this.model.get('fullname')    //@property {Boolean} showCompanyField\n,\n                showCompanyField: this.site_settings.registration.displaycompanyfield === 'T'    //@property {Boolean} isCompanyFieldMandatory\n,\n                isCompanyFieldMandatory: this.site_settings.registration.companyfieldmandatory === 'T'    //@property {Boolean} isPhoneFieldMandatory\n,\n                isPhoneFieldMandatory: Configuration.get('addresses') && Configuration.get('addresses').isPhoneMandatory,\n                company: this.model.get('company')    //@property {String} addressLine1\n,\n                addressLine1: this.model.get('addr1')    //@property {String} addressLine2\n,\n                addressLine2: this.model.get('addr2')    //@property {String} city\n,\n                city: this.model.get('city')    //@property {Boolean} showCountriesField\n,\n                showCountriesField: this.quantity_countries > 1    //@property {Boolean} isZipOptional\n,\n                isZipOptional: this.zip_not_required,\n                zip: this.model.get('zip')    //@property {String} phone\n,\n                phone: this.model.get('phone')    //@property {Boolean} isAddressResidential\n,\n                isAddressResidential: this.model.get('isresidential') === 'T'    //@property {Boolean} showDefaultControls\n,\n                showDefaultControls: !this.options.hideDefaults,\n                isAddressDefaultBilling: this.model.get('defaultbilling') === 'T'    //@property {Boolean} isCurrentTouchPointCheckout\n,\n                isCurrentTouchPointCheckout: Configuration.get('currentTouchpoint') === 'checkout'    //@property {Boolean} isAddressDefaultShipping\n,\n                isAddressDefaultShipping: this.model.get('defaultshipping') === 'T'    //@property {Boolean} showAddressFormSecondAddress\n,\n                showAddressFormSecondAddress: Configuration.get('forms.address.showAddressLine2')\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module Address\ndefine('Address.Edit.View', [\n    'address_edit.tpl',\n    'Address.Edit.Fields.View',\n    'Backbone.FormView',\n    'SC.Configuration',\n    'Backbone.CompositeView',\n    'Backbone',\n    'underscore',\n    'jQuery',\n    'Utils'\n], function (address_edit_tpl, AddressEditFieldView, BackboneFormView, Configuration, BackboneCompositeView, Backbone, _, jQuery) {\n    'use strict';\n    //@class Address.Edit.View @extend Backbone.View\n    return Backbone.View.extend({\n        template: address_edit_tpl,\n        attributes: { 'class': 'AddressListView' },\n        events: { 'submit form': 'saveForm' },\n        bindings: {\n            '[name=\"fullname\"]': 'fullname',\n            '[name=\"company\"]': 'company',\n            '[name=\"addr1\"]': 'addr1',\n            '[name=\"city\"]': 'city',\n            '[name=\"country\"]': 'country',\n            '[name=\"zip\"]': 'zip',\n            '[name=\"phone\"]': 'phone'\n        },\n        initialize: function (options) {\n            this.manage = options.manage;\n            this.application = options.application;\n            var addNewAddresLabel = _('Add New Address').translate();\n            var editAddressLabel = _('Edit Address').translate();\n            this.title = this.model.isNew() ? addNewAddresLabel : editAddressLabel;\n            this.page_header = this.title;\n            this.countries = Configuration.get('siteSettings.countries');\n            this.selectedCountry = this.model.get('country') || Configuration.get('siteSettings.defaultshipcountry');\n            if (!this.selectedCountry && _.size(this.countries) === 1) {\n                this.selectedCountry = _.first(_.keys(this.countries));\n            }\n            if (!!this.selectedCountry) {\n                this.model.set('country', this.selectedCountry);\n            }\n            BackboneCompositeView.add(this);\n            BackboneFormView.add(this);\n        }    //@method getSelectedMenu\n,\n        getSelectedMenu: function () {\n            return 'addressbook';\n        }    //@method getBreadcrumbPages\n,\n        getBreadcrumbPages: function () {\n            return [\n                {\n                    text: _('Address Book').translate(),\n                    href: '/addressbook'\n                },\n                {\n                    text: this.title,\n                    href: '/addressbook/new'\n                }\n            ];\n        },\n        render: function () {\n            Backbone.View.prototype.render.apply(this, arguments);\n            this.$('[rel=\"tooltip\"]').tooltip({ placement: 'right' }).on('hide', function (e) {\n                e.preventDefault();\n                jQuery(e.target).next('.tooltip').hide();\n            });\n        },\n        childViews: {\n            'Address.Edit.Fields': function () {\n                return new AddressEditFieldView({\n                    model: this.model,\n                    countries: this.countries,\n                    selectedCountry: this.selectedCountry,\n                    hideDefaults: Configuration.get('currentTouchpoint') !== 'customercenter',\n                    application: this.options.application,\n                    manage: this.manage\n                });\n            }\n        }    //@method getContext @return Address.Edit.View.Context\n,\n        getContext: function () {\n            //@class Address.Edit.View.Context\n            return {\n                //@property {Address.Model} model\n                model: this.model,\n                isAddressNew: this.model.isNew()    //@property {Boolean} isCollectionEmpty\n,\n                isCollectionEmpty: !this.collection.length,\n                isInModal: this.inModal,\n                isInModalOrHideHeader: this.inModal || !!this.options.hideHeader,\n                showFooter: !this.options.hideFooter,\n                isInModalOrCollectionNotEmpty: !!(this.inModal || this.collection.length)\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module Address\ndefine('Address.Details.View', [\n    'address_details.tpl',\n    'SC.Configuration',\n    'Backbone',\n    'underscore',\n    'Utils'\n], function (address_tpl, Configuration, Backbone, _) {\n    'use strict';\n    //@class Address.View @extend Backbone.View\n    return Backbone.View.extend({\n        //@property {Function} template\n        template: address_tpl    //@property {Object} attributes\n,\n        attributes: { 'class': 'AddressDetailsView' }    //@method initialize Attach to any change on the model and make a render on this changes\n                                             //@return {Void}\n,\n        initialize: function () {\n            this.model.on('sync', _.bind(this.render, this));\n        },\n        destroy: function destroy() {\n            this.model.off('sync');\n            return this._destroy();\n        }    //@method getContext @return Address.View.Context\n,\n        getContext: function () {\n            var label = this.model.get('label'), company = Configuration.get('siteSettings.registration.displaycompanyfield') === 'T' ? this.model.get('company') : null, fullname = this.model.get('fullname'), countries = Configuration.get('siteSettings.countries', []), country_object = countries[this.model.get('country')], country = country_object ? country_object.name : this.model.get('country'), state_object = country_object && country_object.states ? _.findWhere(countries[this.model.get('country')].states, { code: this.model.get('state') }) : null, state = state_object ? state_object.name : this.model.get('state'), invalidAttributes = this.model.getInvalidAttributes() || [];\n            //@class Address.View.Context\n            return {\n                //@property {Address.Model} model\n                model: this.model,\n                internalid: this.model.get('internalid')    //@property {Boolean} isManageOptionsSpecified\n,\n                isManageOptionsSpecified: !!this.options.manage,\n                manageOption: this.options.manage,\n                showMultiSelect: this.options.showMultiSelect,\n                isAddressCheck: !!this.model.get('check')    //@property {String} title\n,\n                title: label || company || fullname    //@property {Boolean} showCompanyAndFullName\n,\n                showCompanyAndFullName: !!(label && company)    //@property {String} company\n,\n                company: company    //@property {String} fullname\n,\n                fullname: fullname    //@property {Boolean} showFullNameOnly\n,\n                showFullNameOnly: !!(label ? !company : company)    //@property {String} addressLine1\n,\n                addressLine1: this.model.get('addr1')    //@property {Boolean} showAddressLine1\n,\n                showAddressLine1: !!this.model.get('addr2')    //@property {String} addressLine2\n,\n                addressLine2: this.model.get('addr2')    //@property {String} city\n,\n                city: this.model.get('city')    //@property {Boolean} showState\n,\n                showState: !!this.model.get('state')    //@property {String} state\n,\n                state: state    //@property {String} zip\n,\n                zip: this.model.get('zip')    //@property {String} country\n,\n                country: country    //@property {String} phone\n,\n                phone: this.model.get('phone')    //@property {Boolean} showDefaultLabels\n,\n                showDefaultLabels: !this.options.hideDefaults,\n                isDefaultShippingAddress: this.model.get('defaultshipping') === 'T'    //@property {Boolean} isDefaultBillingAddress\n,\n                isDefaultBillingAddress: this.model.get('defaultbilling') === 'T'    //@property {Boolean} showSelectionButton\n,\n                showSelectionButton: !!this.options.showSelect,\n                isASelectMessageSpecified: !!this.options.selectMessage,\n                selectMessage: this.options.selectMessage,\n                showActionButtons: !this.options.hideActions,\n                showChangeButton: !!this.options.showChangeButton,\n                showRemoveButton: !this.options.hideRemoveButton,\n                showError: this.options.showError && this.model.get('isvalid') && this.model.get('isvalid') !== 'T' && invalidAttributes.length,\n                invalidAttributes: invalidAttributes    //@property {Boolean} isInvalidAddressToRemove\n,\n                isInvalidAddressToRemove: !!(this.options.disableRemoveButton && this.options.disableRemoveButton(this.model.get('internalid')))\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module OrderWizard\ndefine('OrderWizard.Module.Address', [\n    'Wizard.Module',\n    'Address.Edit.View',\n    'Address.Model',\n    'Address.Details.View',\n    'Backbone.CompositeView',\n    'Backbone.CollectionView',\n    'SC.Configuration',\n    'GlobalViews.Confirmation.View',\n    'order_wizard_address_module.tpl',\n    'order_wizard_address_row.tpl',\n    'order_wizard_address_cell.tpl',\n    'Backbone',\n    'underscore',\n    'jQuery',\n    'Utils'\n], function (WizardModule, AddressEditView, AddressModel, AddressDetailsView, BackboneCompositeView, BackboneCollectionView, Configuration, GlobalViewsConfirmationView, order_wizard_address_module_tpl, order_wizard_address_row_tpl, order_wizard_address_cell_tpl, Backbone, _, jQuery) {\n    'use strict';\n    //@class OrderWizard.Module.Address @extend Wizard.Module\n    return WizardModule.extend({\n        template: order_wizard_address_module_tpl,\n        sameAsMessage: _('Same as Address').translate(),\n        selectAddressErrorMessage: {\n            errorCode: 'ERR_CHK_SELECT_AN_ADDRESS',\n            errorMessage: _('Please select an address').translate()\n        },\n        invalidAddressErrorMessage: {\n            errorCode: 'ERR_CHK_INVALID_ADDRESS',\n            errorMessage: _('The selected address is invalid').translate()\n        },\n        events: {\n            'click [data-action=\"submit\"]': 'submit',\n            'click [data-action=\"select\"]': 'selectAddress',\n            'click [data-action=\"change-address\"]': 'changeAddressHandler',\n            'click [data-action=\"remove\"]': 'validateAddressRemovalHandler',\n            'click [data-action=\"edit-address\"]': 'editAddress',\n            'change [data-action=\"same-as\"]': 'markSameAsHandler',\n            'change form': 'changeForm'\n        },\n        errors: [\n            'ERR_CHK_INCOMPLETE_ADDRESS',\n            'ERR_CHK_INVALID_ADDRESS'\n        ],\n        initialize: function () {\n            WizardModule.prototype.initialize.apply(this, arguments);\n            BackboneCompositeView.add(this);\n        }    //@method editAddress Intercept the edition of address. When the source of addresses is extracted from the current model\n             //(which is the expected behavior form now on) that address collection can contains address that are temporal or just not in the addresses\n             //profile collection. One example is when you pay a quote transforming it into a sales order, the original shipping/billing address\n             //used to created to quote can have been removed from profile addresses and so are added as temporal address, that when edited are created\n             //@param {jQuery.Event} e\n             //@return {Void}\n,\n        editAddress: function (e) {\n            var address_id_str = this.$(e.target).data('id'), address_id = parseInt(address_id_str, 10);\n            if (_.isNaN(address_id) || !_.isNumber(address_id)) {\n                e.stopPropagation();\n                e.preventDefault();\n                var collection = this.getAddressCollection(), selected_address = collection.get(address_id_str), view;\n                selected_address.unset('internalid', { silent: true });\n                view = new AddressEditView({\n                    application: this.wizard.application,\n                    collection: collection,\n                    model: selected_address\n                });\n                var add_new_address_on_profile = function (model) {\n                        //Make sure that the new address now take part of the profile addresses\n                        //This is important if a temporal address is edited more than once\n                        this.wizard.options.profile.get('addresses').add(model);\n                    }, reset_current_address = function (model) {\n                        //After saving the temp address, we set it as the one selected\n                        this.setAddress(model.id);\n                    };\n                view.model.once('change', add_new_address_on_profile, this);\n                //If the address being edited is the selected one we must re-set once it is created\n                if (this.wizard.model.get(this.manage) === address_id_str) {\n                    view.model.once('sync', reset_current_address, this);\n                }\n                view.once('modal-close', function () {\n                    view.model.off('sync', reset_current_address);\n                    view.model.off('change', add_new_address_on_profile);\n                }, this);\n                this.wizard.application.getLayout().showInModal(view);\n            }\n        }    //@method render\n,\n        render: function (not_trigger_ready) {\n            //Is Active is overridden by child modules, like Shipping to hide this module in Multi Ship To\n            if (!this.isActive()) {\n                return this.$el.empty();\n            }\n            this.addresses = this.getAddressCollection();\n            this.isGuest = this.getIsCurrentUserGuest();\n            this.isSameAsEnabled = _.isFunction(this.options.enable_same_as) ? this.options.enable_same_as() : this.options.enable_same_as;\n            this.addressId = this.model.get(this.manage);\n            this.evaluateDisablingSameAsCheckBox();\n            // if the selected manage address is the fake one\n            if (this.addressId && ~this.addressId.indexOf('null')) {\n                // we silently remove it\n                this.setAddress(null, { silent: true });\n            }\n            this.evaluateSameAs();\n            this.address = this.getSelectedAddress();\n            // Add event listeners to allow special flows\n            this.eventHandlersOn();\n            this.addressView = null;\n            // Calls the render function\n            this._render();\n            var is_address_new = this.address.isNew();\n            if (!(this.isSameAsEnabled && this.sameAs || this.addressId && !is_address_new) && this.isGuest && !is_address_new) {\n                this.setAddress(this.address.id, { silent: true });\n            }\n            // the module is ready when a valid address is selected.\n            if (!not_trigger_ready && this.address && this.addressId && this.address.get('isvalid') === 'T') {\n                this.trigger('ready', true);\n            }\n        }    // @method enableInterface\n,\n        enableInterface: function () {\n            this.$('[data-action=\"change-address\"]').attr('disabled', false);\n            this.evaluateDisablingSameAsCheckBox();\n            if (!this.disableSameAsCheckBox) {\n                this.$('[data-action=\"same-as\"]').attr('disabled', false);\n            }\n        }    // @method evaluateDisablingSameAsCheckBox Evaluates if the same as checkbox should be enabled or not. This values is saved in the instance variable disableSameAsCheckBox\n             // it is possible to indicate that if the new value is enable to ren-render the view @param {Boolean} re_render_is_change\n,\n        evaluateDisablingSameAsCheckBox: function (re_render_is_change) {\n            //The other manage address is not selected AND the other temp address is not created\n            var old_value = this.disableSameAsCheckBox;\n            this.disableSameAsCheckBox = (this.model.get(this.sameAsManage) === undefined || this.model.get(this.sameAsManage) === null || this.model.get(this.sameAsManage) === '-------null') && !this.model.get('temp' + this.sameAsManage);\n            if (old_value !== this.disableSameAsCheckBox && re_render_is_change) {\n                this.render();\n            }\n        }    // @method disableInterface\n,\n        disableInterface: function () {\n            this.$('[data-action=\"change-address\"], [data-action=\"same-as\"]').attr('disabled', true);\n        }    // @method getChangeLinkText This function, which is called from the template, returns the label for the change link @return {String}\n,\n        getChangeLinkText: function () {\n            return this.getIsCurrentUserGuest() ? _('Edit Address').translate() : _('Change address').translate();\n        }    // @method getIsCurrentUserGuest Returns true if the current user is logged in as Guest @return {Boolean}\n,\n        getIsCurrentUserGuest: function () {\n            return this.wizard.options.profile.get('isGuest') === 'T';\n        }    // @method validateAddressRemovalHandler Handle address removal validating that the address selected is not being used by someone else @param {HTMLEvent}e\n,\n        validateAddressRemovalHandler: function (e)\n            //address_module\n            {\n                var address_id = jQuery(e.target).data('id');\n                this.validateAddressRemoval(address_id);\n            }    // @method validateAddressRemoval Handle address removal validating that the address selected is not being used by someone else @param {String} address_id\n,\n        validateAddressRemoval: function (address_id)\n            //address_module\n            {\n                var deleteConfirmationView, body = '';\n                if (this.isAddressIdValidForRemoval(address_id)) {\n                    body = _('Are you sure you want to remove this address?').translate();\n                } else {\n                    var other_address_message = this.sameAsManage === 'billaddress' ? _('(billing address)').translate() : this.sameAsManage === 'shipaddress' ? _('(shipping address)').translate() : '';\n                    body = _('The selected address is in use. $(0) Are you sure you want to delete this address?').translate(other_address_message);\n                }\n                deleteConfirmationView = new GlobalViewsConfirmationView({\n                    callBack: this.removeAddress,\n                    callBackParameters: {\n                        context: this,\n                        addressId: address_id\n                    },\n                    title: _('Remove Address').translate(),\n                    body: body,\n                    autohide: true\n                });\n                this.wizard.application.getLayout().showInModal(deleteConfirmationView);\n            },\n        removeAddress: function (options) {\n            options.context.addresses.get(options.addressId).destroy({ wait: true });\n        }    // @method isAddressIdValidForRemoval Validate that the address that want to be removed is not used by the related address (sameAsManage) @returns {Boolean}\n,\n        isAddressIdValidForRemoval: function (address_id) {\n            var related_address_id = this.model.get(this.sameAsManage);\n            return +address_id !== +related_address_id;\n        }    // @method evaluateSameAs\n,\n        evaluateSameAs: function () {\n            var manage_address_id = this.addressId, other_address = this.getTheOtherAddress(), other_address_id = other_address && other_address.get('internalid') || null;\n            if (manage_address_id && manage_address_id === other_address_id) {\n                this.sameAs = true;\n            } else if (!this.tempAddress && manage_address_id !== other_address_id) {\n                this.sameAs = false;\n            } else {\n                // We need a default sameAs value so is no longer undefined\n                // if the sameAs was checked, and we have an address id set or there is a temporary address\n                this.sameAs = this.sameAs && (manage_address_id || this.tempAddress || this.isGuest && this.addresses.length);\n            }\n            this.model.set('sameAs', this.sameAs);\n        }    // @method eventHandlersOn\n,\n        eventHandlersOn: function () {\n            var self = this, other_address = this.sameAsManage;\n            this.eventHandlersOff();\n            this.addresses.on('reset sync add remove change destroy', function () {\n                this.render(true);\n            }, this).on('destroy', function (deleted_address) {\n                // if the destroyed address was used as the sameAs\n                if (self.model.get(other_address) === deleted_address.id) {\n                    // we need to remove it, as it doesn't exists\n                    self.model.set(other_address, null);\n                }\n            }, this);\n            // when the value for the other address changes\n            this.model.on('change:' + other_address, function (model, value) {\n                // If same as is enabled and its selected\n                if (self.isSameAsEnabled && self.sameAs) {\n                    // we change this manage to the value\n                    self.setAddress(value);\n                    self.render();\n                } else if (self.isSameAsEnabled) {\n                    //This evaluation must be done despite self.sameAs is set or not to re-evaluate if the check-box status remains equal or not.\n                    //Ex. If in OPC neither shipping address not billing address is selected, and after that I select one shipping address, then it's require\n                    // to re-evaluate the state of the sameAs check-box\n                    this.evaluateDisablingSameAsCheckBox(true);\n                }\n            }, this);\n            if (this.isSameAsEnabled && this.sameAs) {\n                this.model.on('change:temp' + other_address, function (model, temp_address) {\n                    self.tempAddress = temp_address;\n                    self.render();\n                }, this);\n            } else if (this.isSameAsEnabled) {\n                this.model.once('change:temp' + other_address, function () {\n                    //The following consideration take importance in OPC.\n                    //Changes in the temp (other) address will take into account only if there is no a real (other) address, otherwise this generate that\n                    //render gets executed more than once, because is this event always get triggered by the changeForm method.\n                    //Problem example: When the temp address change because of submitting the other address (particularly shipping address) this will cause\n                    //that the billing address get re-rendered, and if the billing is not completed all errors will disappear.\n                    if (!this.model.get(other_address)) {\n                        this.render();\n                    }\n                }, self);\n            }\n            _.isFunction(this.onEventHandlersOn) && this.onEventHandlersOn();\n        }    // @method eventHandlersOff\n,\n        eventHandlersOff: function () {\n            // Removes previously added events on the address collection\n            this.addresses && this.addresses.off(null, null, this);\n            this.model.off('change:' + this.sameAsManage, null, this).off('change:temp' + this.sameAsManage, null, this);\n            _.isFunction(this.onEventHandlersOff) && this.onEventHandlersOff();\n        },\n        past: function () {\n            this.eventHandlersOff();\n        },\n        future: function () {\n            this.eventHandlersOff();\n        }    // @method selectAddress Captures the click on the select button of the addresses list @param {HTMLEvent} e\n,\n        selectAddress: function (e) {\n            jQuery('.wizard-content .alert-error').hide();\n            // Grabs the address id and sets it to the model\n            // on the position in which our sub class is managing (billaddress or shipaddress)\n            this.setAddress(jQuery(e.target).data('id').toString());\n            // re render so if there is changes to be shown they are represented in the view\n            this.render();\n            // As we already set the address, we let the step know that we are ready\n            this.trigger('ready', true);\n        }    // @method setAddress @param {String} address_id @param {Object} options\n,\n        setAddress: function (address_id, options) {\n            this.model.setAddress(this.manage, address_id, options);\n            this.addressId = address_id;\n            return this;\n        }    // @method unsetAddress @param {Boolean} norender @param {Object} options\n,\n        unsetAddress: function (norender, options) {\n            this.setAddress(null, options);\n            this.tempAddress = null;\n            if (!norender) {\n                this.render();\n            }\n        }    // @method changeAddressHandler @param {HTMLEvent} e\n,\n        changeAddressHandler: function (e) {\n            e.preventDefault();\n            e.stopPropagation();\n            var $link = jQuery(e.currentTarget), is_disabled = $link.attr('disabled');\n            this.changeAddress(is_disabled);\n        }    // @method changeAddress @parma {Boolean} is_disabled\n,\n        changeAddress: function (is_disabled) {\n            if (is_disabled) {\n                return;\n            }\n            if (this.options.edit_url) {\n                this.unsetAddress(true);\n                Backbone.history.navigate(this.options.edit_url + '?force=true', { trigger: true });\n            } else {\n                this.unsetAddress();\n            }\n        }    // @method submit. Module.submit() The step will call this function when the user clicks next or all the modules are ready\n             // Will take care of saving the address if its a new one. Other way it will just\n             // return a resolved promise to comply with the API\n,\n        submit: function () {\n            //Is Active is overridden by child modules, like Shipping to hide this module in Multi Ship To\n            if (!this.isActive()) {\n                return jQuery.Deferred().resolve();\n            }\n            var self = this;\n            // its a new address\n            if (this.addressView) {\n                // The saveForm function expects the event to be in an element of the form or the form itself,\n                // But in this case it may be in a button outside of the form (as the nav buttons live in the step)\n                //  or triggered by a module ready event, so we need to create a fake event which the target is the form itself\n                var fake_event = jQuery.Event('submit', { target: this.addressView.$('form').get(0) })    // Calls the saveForm, this may kick the backbone.validation, and it may return false if there were errors,\n                                                                                             // other ways it will return an Ajax promise\n, result = this.addressView.saveForm(fake_event);\n                var save_result = jQuery.Deferred();\n                // Went well, so there is a promise we can return, before returning we will set the address in the model\n                // and add the model to the profile collection\n                if (result && !result.frontEndValidationError) {\n                    result.done(function (model) {\n                        // Set Address id to the order model. This has to go before the following self.addresses.add() as it triggers the render\n                        self.setAddress(model.internalid);\n                        // we only want to trigger an event on add() when the user has some address and is not guest because if not,\n                        // in OPC case (two instances of this module in the same page), the triggered re-render erase the module errors.\n                        var add_options = self.isGuest || self.addresses.length === 0 ? { silent: true } : null;\n                        self.addresses.add(model, add_options);\n                        self.model.set('temp' + self.manage, null);\n                        self.newAddressCreated && self.newAddressCreated(model.internalid, add_options);\n                        self.render();\n                        save_result.resolve();\n                    });\n                } else {\n                    // There were errors so we return a rejected promise\n                    save_result.reject({\n                        errorCode: 'ERR_CHK_INCOMPLETE_ADDRESS',\n                        errorMessage: _('The address is incomplete').translate()\n                    });\n                }\n                return save_result;\n            } else {\n                return this.isValid();\n            }\n        }    //@method getAddressCollection Return the address collection source\n             //@return {Address.Collection}\n,\n        getAddressCollection: function () {\n            return this.options.useModelAddresses ? this.wizard.model.get('addresses') : this.wizard.options.profile.get('addresses');\n        },\n        isValid: function () {\n            //Is Active is override by child modules, like Shipping to hide this module in Multi Ship To\n            if (!this.isActive() || this.tempAddress) {\n                return jQuery.Deferred().resolve();\n            }\n            var addresses = this.getAddressCollection(), selected_address = addresses && addresses.get(this.model.get(this.manage));\n            if (selected_address) {\n                if (selected_address.get('isvalid') === 'T') {\n                    return jQuery.Deferred().resolve();\n                }\n                return jQuery.Deferred().reject(this.invalidAddressErrorMessage);\n            }\n            return jQuery.Deferred().reject(this.selectAddressErrorMessage);\n        },\n        changeForm: function (e) {\n            this.model.set('temp' + this.manage, jQuery(e.target).closest('form').serializeObject());\n        },\n        markSameAsHandler: function (e) {\n            var is_checked = jQuery(e.target).prop('checked');\n            this.markSameAs(is_checked);\n        }    // @method markSameAs @param {Boolean} is_checked\n,\n        markSameAs: function (is_checked) {\n            this.sameAs = is_checked;\n            this.model.set('sameAs', is_checked);\n            this.setAddress(is_checked ? this.model.get(this.sameAsManage) : null);\n            this.tempAddress = is_checked ? this.model.get('temp' + this.sameAsManage) : null;\n            this.render();\n        }    // @method getSelectedAddress @returns the selected address\n,\n        getSelectedAddress: function () {\n            if (!this.addressId) {\n                if (this.sameAs && this.tempAddress) {\n                    return new AddressModel(this.tempAddress);\n                }\n                // if the user is guest it only has 1 address for this module so we return that address or a new one\n                if (this.isGuest) {\n                    return this.getFixedAddress();\n                }\n            }\n            return this.addresses.get(this.addressId) || this.getEmptyAddress();\n        }    // @method getEmptyAddress\n             // If the same as check-box is not checked\n             // we return a new model with any attributes that were already typed into the address form\n             // that's what the temp + this.manage is, the temporary address for this manage.\n,\n        getEmptyAddress: function () {\n            return new AddressModel(this.isSameAsEnabled && this.sameAs ? null : this.model.get('temp' + this.manage));\n        }    // @method getTheOtherAddress returns the address in the addresses collection which id is current model's sameAsManage attribute\n,\n        getTheOtherAddress: function () {\n            return this.addresses.get(this.model.get(this.sameAsManage));\n        }    // @method getAddressesToShow returns the list of addresses available for this module, if the module has enable_same_as then it removes the sameAsManage address\n,\n        getAddressesToShow: function () {\n            if (this.isGuest && this.isSameAsEnabled) {\n                var same_as_address_id = this.model.get(this.sameAsManage);\n                return new Backbone.Collection(this.addresses.reject(function (address) {\n                    return address.id === same_as_address_id;\n                }));\n            } else {\n                return new Backbone.Collection(this.addresses.models);\n            }\n        }    // @method getFixedAddress return the fixed address for this module. This is used only when user = guest\n             // returns the first address to show or an empty address\n,\n        getFixedAddress: function () {\n            var addresses = this.getAddressesToShow();\n            return addresses.length ? addresses.at(0) : this.getEmptyAddress();\n        }    // @method manageError @param {Object} error\n,\n        manageError: function (error) {\n            if (error && error.errorCode !== 'ERR_CHK_INCOMPLETE_ADDRESS') {\n                WizardModule.prototype.manageError.apply(this, arguments);\n            }\n        }    // @method getAddressListOptions Get the object containing the options to be passed to the Address.Details view when rendering the list of available addresses\n             // @return {showSelect:Boolean,selectMessage:String,hideDefaults:Boolean}\n,\n        getAddressListOptions: function () {\n            return {\n                showSelect: true,\n                selectMessage: this.selectMessage || '',\n                hideDefaults: true\n            };\n        },\n        prepopulateAddressModel: function () {\n            if (this.wizard.isAutoPopulateEnabled && this.wizard.isAutoPopulateEnabled()) {\n                this.address.set('fullname', this.wizard.options.profile.get('firstname') + ' ' + this.wizard.options.profile.get('lastname'));\n            }\n            return this.address;\n        },\n        childViews: {\n            'Single.Address.Details': function () {\n                return new AddressDetailsView({\n                    model: this.address,\n                    hideDefaults: true,\n                    manage: this.manage,\n                    showChangeButton: !this.isGuest,\n                    hideRemoveButton: !!this.isGuest,\n                    hideActions: !this.address.id,\n                    showError: true\n                });\n            },\n            'New.Address.Form': function () {\n                this.addressView = new AddressEditView({\n                    application: this.wizard.application,\n                    collection: this.addresses,\n                    model: this.prepopulateAddressModel(),\n                    manage: this.manage,\n                    hideFooter: true,\n                    hideHeader: true\n                });\n                return this.addressView;\n            },\n            'Address.List': function () {\n                return new BackboneCollectionView({\n                    collection: this.getAddressesToShow(),\n                    viewsPerRow: this.itemsPerRow || (_.isDesktopDevice() ? 2 : 1),\n                    rowTemplate: order_wizard_address_row_tpl,\n                    cellTemplate: order_wizard_address_cell_tpl,\n                    childView: AddressDetailsView,\n                    childViewOptions: this.getAddressListOptions()\n                });\n            }\n        }    //@method getContext @return {OrderWizard.Module.Address.Context}\n,\n        getContext: function () {\n            //@class OrderWizard.Module.Address.Context\n            return {\n                //@property {Boolean} showTitle\n                showTitle: !!(!this.options.hide_title && this.getTitle())    //@property {String} title\n,\n                title: this.getTitle()    //@property {Boolean} isSameAsEnabled\n,\n                isSameAsEnabled: !!this.isSameAsEnabled,\n                isSameAsCheckBoxDisable: !!this.disableSameAsCheckBox,\n                isSameAsSelected: !!this.sameAs,\n                sameAsMessage: this.sameAsMessage,\n                showSingleAddressDetails: !!(this.isSameAsEnabled && this.sameAs || this.addressId && !this.address.isNew()) || !!(this.getAddressesToShow().length && this.isGuest)    //@property {Boolean} showAddressList\n,\n                showAddressList: !!(this.getAddressesToShow().length && !this.isGuest)    //@property {String} changeLinkText\n,\n                changeLinkText: this.getChangeLinkText()    //@property {String} selectedAddressId\n,\n                selectedAddressId: this.address && this.address.get('internalid') || ''    //@property {Boolean} showManageValue\n,\n                showManageValue: !!this.manage,\n                manageValue: this.manage,\n                showSaveButton: this.showSaveButton\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module OrderWizard\ndefine('OrderWizard.Module.Address.Billing', [\n    'OrderWizard.Module.Address',\n    'GlobalViews.Confirmation.View',\n    'underscore',\n    'Utils'\n], function (OrderWizardModuleAddress, GlobalViewsConfirmationView, _) {\n    'use strict';\n    //@class OrderWizard.Module.Address.Billing @extend OrderWizard.Module.Address\n    return OrderWizardModuleAddress.extend({\n        manage: 'billaddress',\n        sameAsManage: 'shipaddress',\n        className: 'OrderWizard.Module.Address.Billing',\n        errors: [\n            'ERR_CHK_INCOMPLETE_ADDRESS',\n            'ERR_CHK_SELECT_BILLING_ADDRESS',\n            'ERR_CHK_INVALID_BILLING_ADDRESS',\n            'ERR_WS_INVALID_BILLING_ADDRESS'\n        ],\n        sameAsMessage: _('Same as shipping address').translate(),\n        selectAddressErrorMessage: {\n            errorCode: 'ERR_CHK_SELECT_BILLING_ADDRESS',\n            errorMessage: _('Please select a billing address').translate()\n        },\n        invalidAddressErrorMessage: {\n            errorCode: 'ERR_CHK_INVALID_BILLING_ADDRESS',\n            errorMessage: _('The selected billing address is invalid').translate()\n        }    // @method reRenderOnFirstAddressCreation Handle the case in OPC MST where there is not address at all and a new one is created, if there current address form does not have any\n             // data entered we should re-render in order to reflect the new options (the new address created)\n,\n        reRenderOnFirstAddressCreation: function () {\n            // if the address form (the one to create a new address) is empty\n            if (!this.wizard.model.get('temp' + this.manage)) {\n                this.render();\n            }\n        }    // @method getIsCurrentUserGuest We override here to give support to guest user with Multi Ship To. The default implementation will notice that the current user is guest, and will select the first entered address\n             // to be used in the in-line address form\n,\n        getIsCurrentUserGuest: function () {\n            if (this.wizard.model.get('ismultishipto')) {\n                return false;\n            }\n            return OrderWizardModuleAddress.prototype.getIsCurrentUserGuest.apply(this, arguments);\n        }    // @method onEventHandlersOn Attach to extra events\n,\n        onEventHandlersOn: function () {\n            //In OPC is require to re-render when changing between SST and MST to hide or show the same as checkbox\n            this.wizard.model.on('ismultishiptoUpdated', function () {\n                this.sameAs = false;\n                this.render();\n            }, this);\n            this.wizard.model.on('address_added', this.reRenderOnFirstAddressCreation, this);    // This event is triggered by MST.Select.Addresses.Shipping module\n        }    // @method isAddressIdValidForRemoval Override the address removal control to take into account Multi Ship To scenario @return {Boolean}\n,\n        isAddressIdValidForRemoval: function (address_id) {\n            if (!this.wizard.model.get('ismultishipto')) {\n                return OrderWizardModuleAddress.prototype.isAddressIdValidForRemoval.apply(this, arguments);\n            }\n            return !_.find(this.wizard.model.getSetLines(), function (line) {\n                return +line.get('shipaddress') === +address_id;\n            });\n        }    // @method onEventHandlersOff Detach from extra added event handlers\n,\n        onEventHandlersOff: function () {\n            this.wizard.model.off('ismultishiptoUpdated', null, this);\n            this.wizard.model.off('address_added', null, this);\n        }    // @method getAddressListOptions Redefined the base getAddressListOptions method to add an option that checks if an address cannot be removed when the order has an item asigned to it\n             // @return {showSelect:Boolean,selectMessage:String,hideDefaults:Boolean,disableRemoveButton:Function<String> => Boolean}\n,\n        getAddressListOptions: function () {\n            var self = this, base_result = OrderWizardModuleAddress.prototype.getAddressListOptions.apply(this, arguments);\n            return _.extend(base_result, {\n                disableRemoveButton: function (address_id) {\n                    return !self.isAddressIdValidForRemoval(address_id);\n                }\n            });\n        }    // @method validateAddressRemoval Redefined validateAddressRemoval so user can not delete an address that is set as a shipping address\n             // @param {String} address_id\n,\n        validateAddressRemoval: function (address_id) {\n            if (this.isAddressIdValidForRemoval(address_id)) {\n                var deleteConfirmationView = new GlobalViewsConfirmationView({\n                    callBack: this.removeAddress,\n                    callBackParameters: {\n                        context: this,\n                        addressId: address_id\n                    },\n                    title: _('Remove Address').translate(),\n                    body: _('Are you sure you want to delete this address?').translate(),\n                    autohide: true\n                });\n                this.wizard.application.getLayout().showInModal(deleteConfirmationView);\n            }\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module PaymentWizard\ndefine('PaymentWizard.Module.Addresses', [\n    'OrderWizard.Module.Address.Billing',\n    'underscore',\n    'jQuery',\n    'Utils'\n], function (OrderWizardModuleAddressBilling, _, jQuery) {\n    'use strict';\n    //@class PaymentWizard.Module.Addresses @extend OrderWizard.Module.Address.Billing\n    return OrderWizardModuleAddressBilling.extend({\n        itemsPerRow: _.isDesktopDevice() ? 3 : 2,\n        className: 'PaymentWizard.Module.Addresses',\n        initialize: function (options) {\n            OrderWizardModuleAddressBilling.prototype.initialize.apply(this, arguments);\n            this.wizard.model.on('change:payment', jQuery.proxy(this, 'changeTotal'));\n            this.itemsPerRow = _.result(options, 'itemsPerRow') || this.itemsPerRow;\n        },\n        changeTotal: function () {\n            var was = this.model.previous('payment'), was_confirmation = this.model.previous('confirmation'), is = this.model.get('payment');\n            // Changed from or to 0\n            if ((was === 0 && is !== 0 || was !== 0 && is === 0) && !was_confirmation) {\n                this.render();\n            }\n        },\n        getSelectedAddress: function () {\n            if (!this.addressId && !this.unset) {\n                var default_address = this.addresses.findWhere({ defaultbilling: 'T' });\n                this.addressId = default_address && default_address.id;\n                if (this.addressId) {\n                    this.model.set(this.manage, this.addressId);\n                }\n            }\n            return this.addresses.get(this.addressId) || this.getEmptyAddress();\n        },\n        unsetAddress: function () {\n            this.unset = true;\n            OrderWizardModuleAddressBilling.prototype.unsetAddress.apply(this, arguments);\n        },\n        isValid: function () {\n            if (this.wizard.hidePayment()) {\n                return jQuery.Deferred().resolve();\n            } else {\n                return OrderWizardModuleAddressBilling.prototype.isValid.apply(this, arguments);\n            }\n        },\n        isActive: function () {\n            if (this.wizard.hidePayment()) {\n                return false;\n            }\n            return OrderWizardModuleAddressBilling.prototype.isActive.apply(this, arguments);\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module PaymentWizard\ndefine('PaymentWizard.Module.Confirmation', [\n    'Wizard.Module',\n    'payment_wizard_confirmation_module.tpl',\n    'underscore',\n    'Utils'\n], function (WizardModule, payment_wizard_confirmation_module_tpl, _) {\n    'use strict';\n    //@class PaymentWizard.Module.Confirmation @extend Wizard.Module\n    return WizardModule.extend({\n        template: payment_wizard_confirmation_module_tpl,\n        className: 'PaymentWizard.Module.Confirmation',\n        future: function () {\n            var model = this.wizard.model;\n            if (model.get('confirmation')) {\n                model.unset('confirmation', { silent: true });\n            }\n        }    //@method getContext @return {PaymentWizard.Module.Confirmation.Context}\n,\n        getContext: function () {\n            var confirmation = this.wizard.model.get('confirmation'), is_confirmation_created = !!(confirmation && confirmation.internalid && confirmation.internalid !== '0');\n            //@class PaymentWizard.Module.Confirmation.Context\n            return {\n                //@property {String} tranId\n                tranId: confirmation ? confirmation.tranid : ''    //@property {Boolean} isConfirmationCreated\n,\n                isConfirmationCreated: is_confirmation_created    //@property {Boolean} showLinkConfirmation\n,\n                showLinkConfirmation: is_confirmation_created    //@property {String} confirmationId\n,\n                confirmationId: confirmation ? confirmation.internalid : ''    //@property {Boolean} isInvoiceLengthGreaterThan0\n,\n                isInvoiceLengthGreaterThan0: !!this.wizard.model.get('invoices').length,\n                dwonloadPDFURL: is_confirmation_created ? _.getDownloadPdfUrl({\n                    asset: 'customer-payment-details',\n                    'id': confirmation.internalid\n                }) : ''\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module PaymentWizard\ndefine('PaymentWizard.Module.ShowCreditTransaction', [\n    'Wizard.Module',\n    'PaymentWizard.CreditTransaction.Collection',\n    'payment_wizard_show_credit_transaction_module.tpl',\n    'underscore',\n    'jQuery'\n], function (WizardModule, CreditTransactionCollection, payment_wizard_show_credit_transaction_module_tpl, _, jQuery) {\n    'use strict';\n    //@class PaymentWizard.Module.ShowCreditTransaction @extend Wizard.Module\n    return WizardModule.extend({\n        template: payment_wizard_show_credit_transaction_module_tpl,\n        className: 'PaymentWizard.Module.ShowCreditTransaction',\n        initialize: function (options) {\n            this.transaction_type = options.transaction_type;\n            this.wizard = options.wizard;\n            this.wizard.model.on('change:confirmation', jQuery.proxy(this, 'render'));\n        },\n        render: function () {\n            var confirmation = this.wizard.model.get('confirmation');\n            if (confirmation) {\n                this.collection = new CreditTransactionCollection(_.where(confirmation[this.transaction_type === 'credit' ? 'credits' : 'deposits'], { apply: true }));\n            } else {\n                this.collection = this.wizard.model.getAppliedTransactions(this.transaction_type === 'credit' ? 'credits' : 'deposits');\n            }\n            if (this.collection.length) {\n                this._render();\n            }\n        }    //@method getContext @return {PaymentWizard.Module.ShowCreditTransaction.Context}\n,\n        getContext: function () {\n            var total_field = this.transaction_type === 'credit' ? 'credits_total_formatted' : 'deposits_total_formatted', total_formatted = this.wizard.model.get('confirmation') ? this.wizard.model.get('confirmation')[total_field] : this.wizard.model.get(total_field), transactions_to_show = this.collection.map(function (transaction) {\n                    //@class PaymentWizard.Module.ShowCreditTransaction.TransactionObject\n                    return {\n                        //@property {String} type\n                        type: transaction.get('type')    //@property {String} number\n,\n                        number: transaction.get('tranid') || transaction.get('refnum')    //@property {String} amountFormatted\n,\n                        amountFormatted: transaction.get('amount_formatted')    //@property {String} id\n,\n                        id: transaction.get('internalid')\n                    };\n                });\n            //@class PaymentWizard.Module.ShowCreditTransaction.Context\n            return {\n                //@property {Boolean} isTransactionTypeCredit\n                isTransactionTypeCredit: this.transaction_type === 'credit'    //@property {String} totalFormatted\n,\n                totalFormatted: total_formatted    //@property {Array<PaymentWizard.Module.ShowCreditTransaction.TransactionObject>} transactions\n,\n                transactions: transactions_to_show    //@property {Boolean} showOpenedAccordion\n,\n                showOpenedAccordion: _.isTabletDevice() || _.isDesktopDevice()\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module GlobalViews\ndefine('GlobalViews.FormatPaymentMethod.View', [\n    'SC.Configuration',\n    'Utils',\n    'global_views_format_payment_method.tpl',\n    'Backbone',\n    'underscore'\n], function (Configuration, Utils, global_views_format_payment_method_tpl, Backbone, _) {\n    'use strict';\n    // @class GlobalViews.FormatPaymentMethod.View @extends Backbone.View\n    return Backbone.View.extend({\n        // @property {Function} template\n        template: global_views_format_payment_method_tpl    // @method initialize\n,\n        initialize: function (options) {\n            this.showBillingInfo = options.showBillingInfo;\n            this.model = options.model || new Backbone.Model();\n        }    // @method getContext @return GlobalViews.FormatPaymentMethod.View.Context\n,\n        getContext: function () {\n            var payment_methods = Configuration.get('siteSettings.paymentmethods'), credit_card = this.model.get('creditcard'), is_paypal = this.model.get('type') === 'paypal', is_credit_card = this.model.get('type') === 'creditcard' && credit_card && credit_card.ccnumber, is_invoice = this.model.get('type') === 'invoice', is_gift_certificate = this.model.get('type') === 'giftcertificate', credit_card_payment_method_name = credit_card && credit_card.paymentmethod ? credit_card.paymentmethod.name : '', credit_card_payment_method_internalid = credit_card && credit_card.paymentmethod ? credit_card.paymentmethod.internalid : '', credit_card_payment_method_key = credit_card && credit_card.paymentmethod ? credit_card.paymentmethod.key : '', gift_certificate_ending = '', payment_method = credit_card_payment_method_key ? _.findWhere(payment_methods, { key: credit_card_payment_method_key }) : _.findWhere(payment_methods, { internalid: credit_card_payment_method_internalid }), icon = payment_method && payment_method.imagesrc && payment_method.imagesrc[0];\n            if (is_gift_certificate) {\n                var code_length = this.model.get('giftcertificate').code.length;\n                gift_certificate_ending = this.model.get('giftcertificate').code.substring(code_length - 4, code_length);\n            }\n            // @class GlobalViews.FormatPaymentMethod.View.Context\n            return {\n                // @property {Object} model\n                model: this.model,\n                showStreet: this.model.get('ccstreet') && this.showBillingInfo,\n                showZipCode: this.model.get('cczipcode') && this.showBillingInfo,\n                isCreditcard: !!is_credit_card    // @property {Boolean} isGiftCertificate\n,\n                isGiftCertificate: is_gift_certificate    // @property {Boolean} isPaypal\n,\n                isPaypal: is_paypal    // @property {Boolean} isInvoice\n,\n                isInvoice: is_invoice    // @property {Boolean} isOther\n,\n                isOther: !is_invoice && !is_paypal && !is_credit_card && !is_gift_certificate    // @property {String} type\n,\n                type: this.model.get('type') || _('Not specified').translate()    // @property {String} name\n,\n                name: this.model.get('name') || _('Not specified').translate()    // @property {String} creditCardNumberEnding\n,\n                creditCardNumberEnding: credit_card && credit_card.ccnumber && credit_card.ccnumber.replace(/\\*/g, '') || ''    // @property {String} showCreditCardImage\n,\n                showCreditCardImage: !!icon    // @property {String} creditCardImageUrl\n,\n                creditCardImageUrl: icon || ''    // @property {String} creditCardPaymentMethodName\n,\n                creditCardPaymentMethodName: credit_card_payment_method_name    // @property {Object} creditCard: credit_card\n,\n                creditCard: credit_card    // @property {String} giftCertificateEnding\n,\n                giftCertificateEnding: gift_certificate_ending    // @property {String} showPurchaseNumber\n,\n                showPurchaseNumber: !!this.model.get('purchasenumber')\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module OrderWizard.Module.PaymentMethod\ndefine('OrderWizard.Module.ShowPayments', [\n    'Wizard.Module',\n    'Backbone.CompositeView',\n    'Backbone.CollectionView',\n    'Address.Details.View',\n    'GlobalViews.FormatPaymentMethod.View',\n    'order_wizard_showpayments_module.tpl',\n    'underscore'\n], function (WizardModule, BackboneCompositeView, BackboneCollectionView, AddressDetailsView, GlobalViewsFormatPaymentMethodView, order_wizard_showpayments_module_tpl, _) {\n    'use strict';\n    //@class OrderWizard.Module.ShowPayments @extends Wizard.Module\n    return WizardModule.extend({\n        //@property {Function} template\n        template: order_wizard_showpayments_module_tpl    //@property {String} className\n,\n        className: 'OrderWizard.Module.ShowPayments'    //@method initialize\n,\n        initialize: function () {\n            WizardModule.prototype.initialize.apply(this, arguments);\n            this.application = this.wizard.application;\n            this.profile = this.wizard.options.profile;\n            this.addressSource = this.options.useModelAddresses ? this.model.get('addresses') : this.profile.get('addresses');\n            BackboneCompositeView.add(this);\n        }    //@method getPaymentmethods\n,\n        getPaymentmethods: function () {\n            return _.reject(this.model.get('paymentmethods').models, function (paymentmethod) {\n                return paymentmethod.get('type') === 'giftcertificate';\n            });\n        }    //@method getGiftCertificates\n,\n        getGiftCertificates: function () {\n            return this.model.get('paymentmethods').where({ type: 'giftcertificate' });\n        }    //@method past\n,\n        past: function () {\n            this.model.off('change', this.totalChange, this);\n            this.addressSource.off('change', this.render, this);\n        }    //@method present\n,\n        present: function () {\n            this.model.off('change', this.totalChange, this);\n            this.addressSource.off('change', this.render, this);\n            this.model.on('change', this.totalChange, this);\n            this.addressSource.on('change', this.render, this);\n        }    //@method future\n,\n        future: function () {\n            this.model.off('change', this.totalChange, this);\n            this.addressSource.off('change', this.render, this);\n        }    //@method totalChange\n,\n        totalChange: function () {\n            var was = this.model.previous('summary').total, was_confirmation = this.model.previous('confirmation'), is = this.model.get('summary') && this.model.get('summary').total;\n            // Changed from or to 0\n            if ((was === 0 && is !== 0 || was !== 0 && is === 0) && !was_confirmation) {\n                this.render();\n            }\n        }    //@property {Object} childViews\n,\n        childViews: {\n            'Billing.Address': function () {\n                return new AddressDetailsView({\n                    model: this.addressSource.get(this.model.get('billaddress')),\n                    hideActions: true,\n                    hideDefaults: true,\n                    manage: 'billaddress'\n                });\n            },\n            'GiftCertificates.Collection': function () {\n                return new BackboneCollectionView({\n                    collection: this.getGiftCertificates(),\n                    viewsPerRow: 1,\n                    childView: GlobalViewsFormatPaymentMethodView\n                });\n            },\n            'PaymentMethods.Collection': function () {\n                return new BackboneCollectionView({\n                    collection: this.getPaymentmethods(),\n                    viewsPerRow: 1,\n                    childView: GlobalViewsFormatPaymentMethodView\n                });\n            }\n        }    //@method showPayments Indicate if in the rendering process payment method must be shown or not\n             //@return {Boolean}\n,\n        showPayments: function () {\n            if (this.options.hidePayment) {\n                return false;\n            }\n            return !!(this.getGiftCertificates().length || this.getPaymentmethods().length || !this.wizard.hidePayment());\n        }    //@method getContext\n             //@returns {OrderWizard.Module.ShowPayments.Context}\n,\n        getContext: function () {\n            var billing_address = this.addressSource.get(this.model.get('billaddress')), giftcertificates = this.getGiftCertificates(), edit_url_billing = _.isFunction(this.options.edit_url_billing) ? this.options.edit_url_billing.apply(this) : this.options.edit_url_billing;\n            //@class OrderWizard.Module.ShowPayments.Context\n            return {\n                //@property {Boolean} showBilling\n                showBilling: !this.options.hideBilling,\n                showBillingAddress: !!billing_address    //@property {Boolean} showEditBillingButton\n,\n                showEditBillingButton: !!(billing_address && edit_url_billing)    //@property {String} editBillingUrl\n,\n                editBillingUrl: edit_url_billing    //@property {Boolean} showPayments\n,\n                showPayments: this.showPayments()    //@property {Boolean} showGuestEmail\n,\n                showGuestEmail: this.profile.get('isGuest') === 'T'    //@property {String} guestEmail\n,\n                guestEmail: this.profile.get('email')    //@property {Boolean} showGiftcertificates\n,\n                showGiftcertificates: !!giftcertificates.length\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module PaymentWizard\ndefine('PaymentWizard.Module.ShowPayments', [\n    'OrderWizard.Module.ShowPayments',\n    'underscore',\n    'jQuery'\n], function (OrderWizardModuleShowPayments, _, jQuery) {\n    'use strict';\n    //@class PaymentWizard.Module.ShowPayments @extend OrderWizard.Module.ShowPayments\n    return OrderWizardModuleShowPayments.extend({\n        className: 'PaymentWizard.Module.ShowPayments',\n        render: function () {\n            this.options.hideBilling = true;\n            if (this.wizard.hidePayment()) {\n                this.$el.empty();\n            } else {\n                OrderWizardModuleShowPayments.prototype.render.apply(this, arguments);\n            }\n        }    //@method getPaymentmethods\n,\n        getPaymentmethods: function () {\n            return _.reject(this.model.get('confirmation').paymentmethods || this.model.get('paymentmethods').models, function (paymentmethod) {\n                return paymentmethod.type === 'giftcertificate';\n            });\n        },\n        totalChange: jQuery.noop\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module PaymentWizard\ndefine('PaymentWizard.Module.ConfirmationSummary', [\n    'Wizard.Module',\n    'payment_wizard_confirmation_summary_module.tpl',\n    'underscore',\n    'Utils'\n], function (WizardModule, payment_wizard_confirmation_summary_module_tpl, _) {\n    'use strict';\n    //@class PaymentWizard.Module.ConfirmationSummary @extend Wizard.Module\n    return WizardModule.extend({\n        template: payment_wizard_confirmation_summary_module_tpl,\n        className: 'PaymentWizard.Module.ConfirmationSummary'    //@method getContext @return {PaymentWizard.Module.ConfirmationSummary.Context}\n,\n        getContext: function () {\n            var is_confirmation_created = !!this.model.get('confirmation'), model = is_confirmation_created ? this.model.get('confirmation') : {}, selectedInvoicesLength = _.filter(model.invoices, function (obj) {\n                    return obj.apply === true;\n                }).length;\n            //@class PaymentWizard.Module.ConfirmationSummary.Context\n            return {\n                //@property {Number} selectedInvoicesLength\n                selectedInvoicesLength: is_confirmation_created ? selectedInvoicesLength : 0    //@property {String} invoiceTotalFormatted\n,\n                invoiceTotalFormatted: model.invoices_total_formatted,\n                paymentFormatted: model.payment_formatted,\n                depositTotalFormatted: model.deposits_total_formatted,\n                hasDeposit: !!model.deposits_total,\n                hasCredit: !!model.creditTotal,\n                creditTotalFormatted: model.credits_total_formatted,\n                showTotalLabel: !!this.options.total_label,\n                totalLabel: this.options.total_label ? this.options.total_label : _('Estimated payment').translate()\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// OrderWizard.Module.PaymentMethod.Invoice.js\n// --------------------------------\n//\ndefine('OrderWizard.Module.PaymentMethod.Invoice', [\n    'OrderWizard.Module.PaymentMethod',\n    'Transaction.Paymentmethod.Model',\n    'order_wizard_paymentmethod_invoice_module.tpl',\n    'Backbone',\n    'underscore'\n], function (OrderWizardModulePaymentMethod, TransactionPaymentmethodModel, order_wizard_paymentmethod_invoice_module_tpl, Backbone, _) {\n    'use strict';\n    return OrderWizardModulePaymentMethod.extend({\n        template: order_wizard_paymentmethod_invoice_module_tpl,\n        events: { 'click [data-toggle=\"show-terms\"]': 'showTerms' },\n        errors: [\n            'ERR_WS_INVALID_PAYMENT',\n            'ERR_CHK_INVOICE_CREDIT_LIMIT'\n        ],\n        showTerms: function () {\n            var self = this, TermsView = Backbone.View.extend({\n                    title: _('Terms and Conditions').translate(),\n                    render: function () {\n                        this.$el.html(_(self.wizard.application.getConfig('checkoutApp.invoiceTermsAndConditions')).translate());\n                        return this;\n                    }\n                });\n            this.wizard.application.getLayout().showInModal(new TermsView());\n        },\n        isActive: function () {\n            var terms = this.terms = this.getProfile().get('paymentterms');\n            return terms && terms.internalid;\n        },\n        getProfile: function () {\n            return this.wizard.options.profile;\n        },\n        render: function () {\n            if (this.isActive()) {\n                return this._render();\n            }\n        },\n        submit: function () {\n            var self = this;\n            return this.isValid().done(function () {\n                self.paymentMethod = new TransactionPaymentmethodModel({\n                    type: 'invoice',\n                    terms: self.wizard.options.profile.get('paymentterms')\n                });\n                OrderWizardModulePaymentMethod.prototype.submit.apply(self);\n            });\n        },\n        getContext: function () {\n            return {\n                //@property {String} termsName\n                termsName: this.terms.name,\n                showTerms: this.wizard.application.getConfig('siteSettings.checkout.requiretermsandconditions') === 'T'    //@property {String} balanceAvailable\n,\n                balanceAvailable: this.wizard.options.profile.get('balance_available_formatted') || ''\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module OrderWizard @class OrderWizard.Module.PaymentMethod.Paypal @extends OrderWizard.Module.PaymentMethod\ndefine('OrderWizard.Module.PaymentMethod.PayPal', [\n    'OrderWizard.Module.PaymentMethod',\n    'Session',\n    'Transaction.Paymentmethod.Model',\n    'order_wizard_paymentmethod_paypal_module.tpl',\n    'Backbone',\n    'underscore'\n], function (OrderWizardModulePaymentMethod, Session, TransactionPaymentmethodModel, order_wizard_paymentmethod_paypal_module_tpl, Backbone, _) {\n    'use strict';\n    return OrderWizardModulePaymentMethod.extend({\n        template: order_wizard_paymentmethod_paypal_module_tpl,\n        isActive: function () {\n            var paypal = _.findWhere(this.wizard.application.getConfig('siteSettings.paymentmethods', []), { ispaypal: 'T' });\n            return !!(paypal && paypal.internalid);\n        },\n        past: function () {\n            if (this.isActive() && !this.wizard.isPaypalComplete() && !this.wizard.hidePayment() && this.wizard.model.get('confirmation').isNew()) {\n                var checkout_url = Session.get('touchpoints.checkout'), joint = ~checkout_url.indexOf('?') ? '&' : '?', previous_step_url = this.wizard.getPreviousStepUrl();\n                checkout_url += joint + 'paypal=T&next_step=' + previous_step_url;\n                Backbone.history.navigate(previous_step_url, {\n                    trigger: false,\n                    replace: true\n                });\n                document.location.href = checkout_url;\n                throw new Error('This is not an error. This is just to abort javascript');\n            }\n        },\n        render: function () {\n            if (this.isActive()) {\n                this.paymentMethod = new TransactionPaymentmethodModel({ type: 'paypal' });\n                this._render();\n                if (this.wizard.isPaypalComplete()) {\n                    this.paymentMethod.set('primary', null);\n                    this.paymentMethod.set('complete', true);\n                    var is_ready = this.options && this.options.backFromPaypalBehavior !== 'stay';\n                    this.trigger('ready', is_ready);\n                }\n            }\n        },\n        getContext: function () {\n            return {\n                //@property {Boolean} isPaypalComplete\n                isPaypalComplete: !!this.model.get('isPaypalComplete')    //@property {String} paypalImageUrl\n,\n                paypalImageUrl: this.wizard.application.getConfig('checkoutApp.paypalLogo')\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module OrderWizard\ndefine('OrderWizard.Module.PaymentMethod.External', [\n    'OrderWizard.Module.PaymentMethod',\n    'Transaction.Paymentmethod.Model',\n    'order_wizard_paymentmethod_external_module.tpl',\n    'Backbone',\n    'underscore',\n    'SC.Configuration',\n    'Utils'\n], function (OrderWizardModulePaymentMethod, TransactionPaymentmethodModel, order_wizard_paymentmethod_external_module_tpl, Backbone, _, Configuration, Utils) {\n    'use strict';\n    // @class OrderWizard.Module.PaymentMethod.External @extends OrderWizard.Module.PaymentMethod\n    return OrderWizardModulePaymentMethod.extend({\n        template: order_wizard_paymentmethod_external_module_tpl,\n        render: function render() {\n            var n = Configuration.get('siteSettings.id'), status_accept_value = Configuration.get('siteSettings.externalCheckout.' + this.options.record_type.toUpperCase() + '.statusAcceptValue', 'ACCEPT'), status_reject_value = Configuration.get('siteSettings.externalCheckout.' + this.options.record_type.toUpperCase() + '.statusRejectValue', 'REJECT'), status_parameter_name = Configuration.get('siteSettings.externalCheckout.' + this.options.record_type.toUpperCase() + '.statusParameterName', 'status'), url = Utils.getAbsoluteUrl('external_payment.ssp'), current_touchpoint = Configuration.get('currentTouchpoint'), thankyouurl_parameters = {\n                    n: n,\n                    externalPaymentDone: 'T',\n                    touchpoint: current_touchpoint,\n                    recordType: this.options.record_type || 'salesorder'\n                }, errorurl_parameters = {\n                    n: n,\n                    externalPaymentDone: 'T',\n                    touchpoint: current_touchpoint,\n                    recordType: this.options.record_type || 'salesorder'\n                }, returnurl_parameters = {\n                    n: n,\n                    externalPaymentDone: 'T',\n                    touchpoint: current_touchpoint,\n                    recordType: this.options.record_type || 'salesorder'\n                };\n            thankyouurl_parameters[status_parameter_name] = status_accept_value;\n            errorurl_parameters[status_parameter_name] = status_reject_value;\n            if (this.options.prevent_default) {\n                var prevent_default_parameter_name = Configuration.get('siteSettings.externalCheckout.' + this.options.record_type.toUpperCase() + '.preventDefaultParameterName', 'preventDefault'), prevent_default_value = Configuration.get('siteSettings.externalCheckout.' + this.options.record_type.toUpperCase() + '.preventDefaultValue', 'T');\n                thankyouurl_parameters[prevent_default_parameter_name] = prevent_default_value;\n                errorurl_parameters[prevent_default_parameter_name] = prevent_default_value;\n                returnurl_parameters[prevent_default_parameter_name] = prevent_default_value;\n            }\n            this.paymentMethod = new TransactionPaymentmethodModel({\n                type: 'external_checkout_' + this.options.paymentmethod.key,\n                isexternal: 'T',\n                internalid: this.options.paymentmethod.internalid,\n                merchantid: this.options.paymentmethod.merchantid,\n                key: this.options.paymentmethod.key,\n                thankyouurl: Utils.addParamsToUrl(url, thankyouurl_parameters)    // Commerce API\n,\n                errorurl: Utils.addParamsToUrl(url, errorurl_parameters)    // Commerce API\n,\n                returnurl: Utils.addParamsToUrl(url, returnurl_parameters)    // SuiteScript\n            });\n            this._render();\n        },\n        getContext: function getContext() {\n            return {\n                //@property {String} imageUrl\n                imageUrl: this.options.paymentmethod.imagesrc[0]    //@property {String} name\n,\n                name: this.options.paymentmethod.name,\n                description: this.options.description || _('You will be redirected to your external payment site after reviewing your order on next step. Once your order is placed, you will return to our site to see the confirmation of your purchase.').translate()\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module OrderWizard.Module.PaymentMethod\ndefine('OrderWizard.Module.PaymentMethod.Selector', [\n    'Wizard.Module',\n    'OrderWizard.Module.PaymentMethod.Creditcard',\n    'OrderWizard.Module.PaymentMethod.Invoice',\n    'OrderWizard.Module.PaymentMethod.PayPal',\n    'OrderWizard.Module.PaymentMethod.External',\n    'SC.Configuration',\n    'order_wizard_paymentmethod_selector_module.tpl',\n    'underscore',\n    'jQuery'\n], function (WizardModule, OrderWizardModulePaymentMethodCreditcard, OrderWizardModulePaymentMethodInvoice, OrderWizardModulePaymentMethodPayPal, OrderWizardModulePaymentMethodExternal, Configuration, order_wizard_paymentmethod_selector_module_tpl, _, jQuery) {\n    'use strict';\n    //@class OrderWizard.Module.PaymentMethod.Selector @extends Wizard.Module\n    return WizardModule.extend({\n        //@property {Function} template\n        template: order_wizard_paymentmethod_selector_module_tpl    //@property {String} className\n,\n        className: 'OrderWizard.Module.PaymentMethod.Selector'    //@property {Object} selectedPaymentErrorMessage\n,\n        selectedPaymentErrorMessage: {\n            errorCode: 'ERR_CHK_SELECT_PAYMENT',\n            errorMessage: _('Please select a payment option').translate()\n        }    //@property {Object} externalPaymentErrorMessage\n,\n        externalPaymentErrorMessage: {\n            errorCode: 'ERR_CHK_EXTERNAL_PAYMENT_FAIL',\n            errorMessage: _('Payment processing failed. Try again or choose a different payment method.').translate()\n        }    //@property {Boolean} showExternalPaymentErrorMessage\n,\n        showExternalPaymentErrorMessage: true    //@property {Array} errors\n,\n        errors: [\n            'ERR_CHK_SELECT_PAYMENT',\n            'ERR_WS_SET_PAYMENT',\n            'ERR_CHK_EXTERNAL_PAYMENT_FAIL',\n            'ERR_WS_INVALID_PAYMENT'\n        ]    //@property {Object} events\n,\n        events: { 'change [data-action=\"select-payment-method\"]': 'selectPaymentMethod' }    //@method initialize\n,\n        initialize: function (options) {\n            var self = this;\n            WizardModule.prototype.initialize.apply(this, arguments);\n            this.modules = options.modules || [\n                {\n                    classModule: OrderWizardModulePaymentMethodCreditcard,\n                    name: _('Credit / Debit Card').translate(),\n                    type: 'creditcard',\n                    options: {}\n                },\n                {\n                    classModule: OrderWizardModulePaymentMethodInvoice,\n                    name: _('Invoice').translate(),\n                    type: 'invoice',\n                    options: {}\n                },\n                {\n                    classModule: OrderWizardModulePaymentMethodPayPal,\n                    name: _('PayPal').translate(),\n                    type: 'paypal',\n                    options: {}\n                }\n            ];\n            if (!options.disableExternalPaymentMethods) {\n                var payment_methods = Configuration.get('siteSettings.paymentmethods', []), payment_methods_configuration = Configuration.get('paymentmethods', []), external_payment_methods = _.where(payment_methods, { isexternal: 'T' });\n                _.each(external_payment_methods, function (payment_method) {\n                    var payment_method_configuration = _.find(payment_methods_configuration, { key: payment_method.key });\n                    self.modules.push(self.getExternalPaymentMethodModule(payment_method, options, payment_method_configuration));\n                });\n                this.wizard.model.on('change:confirmation', function (model, confirmation) {\n                    if (confirmation && confirmation.statuscode === 'redirect') {\n                        window.location.href = _.addParamsToUrl(confirmation.redirecturl, { touchpoint: Configuration.get('currentTouchpoint') });\n                        throw new Error('This is not an error. This is just to abort javascript');\n                    }\n                });\n            }\n            _.each(this.modules, function (module) {\n                // var ModuleClass = require(module.classModule);\n                var ModuleClass = module.classModule;\n                module.instance = new ModuleClass(_.extend({\n                    wizard: self.wizard,\n                    step: self.step,\n                    stepGroup: self.stepGroup\n                }, module.options));\n                module.instance.on('ready', function (is_ready) {\n                    self.moduleReady(is_ready);\n                });\n            });\n        },\n        getExternalPaymentMethodModule: function (payment_method, options, payment_method_configuration) {\n            return {\n                classModule: OrderWizardModulePaymentMethodExternal,\n                name: payment_method.name,\n                type: 'external_checkout_' + payment_method.key,\n                options: {\n                    paymentmethod: payment_method,\n                    thankyouurl: options.external_checkout_thank_you_url,\n                    errorurl: options.external_checkout_error_url,\n                    description: payment_method_configuration ? payment_method_configuration.description : '',\n                    record_type: options.record_type,\n                    prevent_default: options.prevent_default\n                }\n            };\n        }    //@method moduleReady\n,\n        moduleReady: function (is_ready) {\n            this.trigger('ready', is_ready);\n        }    //@method past\n,\n        past: function () {\n            this.state = 'past';\n            if (!this.selectedModule) {\n                var primary_paymentmethod = this.model.get('paymentmethods').findWhere({ primary: true });\n                this.setModuleByType(primary_paymentmethod && primary_paymentmethod.get('type'));\n            }\n            this.selectedModule && this.selectedModule.instance.past && this.selectedModule.instance.past();\n            this.model.off('change', this.totalChange, this);\n        }    //@method present\n,\n        present: function () {\n            this.state = 'present';\n            this.selectedModule && this.selectedModule.instance.present && this.selectedModule.instance.present();\n            this.model.off('change', this.totalChange, this);\n            this.model.on('change', this.totalChange, this);\n        }    //@method future\n,\n        future: function () {\n            this.state = 'future';\n            this.selectedModule && this.selectedModule.instance.future && this.selectedModule.instance.future();\n            this.model.off('change', this.totalChange, this);\n        }    //@method totalChange\n,\n        totalChange: function () {\n            if (this.model.previous('summary') && this.model.get('summary')) {\n                var was = this.model.previous('summary').total, is = this.model.get('summary').total;\n                // Changed from or to 0\n                if (was === 0 && is !== 0 || was !== 0 && is === 0) {\n                    this.render();\n                }\n            }\n        }    //@method setModuleByType\n,\n        setModuleByType: function (type, no_render) {\n            this.selectedModule = _.findWhere(this.modules, { type: type });\n            if (!this.selectedModule) {\n                this.selectedModule = _.first(this.modules);\n            }\n            // set continue button label.\n            if (this.selectedModule.type === 'paypal' && !this.model.get('isPaypalComplete')) {\n                this.trigger('change_label_continue', _('Continue to Paypal').translate());\n            } else {\n                this.trigger('change_label_continue');\n            }\n            if (this.state === 'present' && !no_render) {\n                this.render();\n            }\n        }    //@method render\n,\n        render: function () {\n            if (this.wizard.hidePayment()) {\n                this.$el.empty();\n                this.trigger('change_label_continue');\n                return;\n            }\n            if (!this.selectedModule) {\n                var selected_payment = this.model.get('paymentmethods').findWhere({ primary: true }), selected_type;\n                if (selected_payment) {\n                    selected_type = selected_payment.get('type');\n                } else if (this.wizard.options.profile.get('paymentterms')) {\n                    selected_type = 'invoice';\n                }\n                this.setModuleByType(selected_type, true);\n            } else if (this.selectedModule.type === 'paypal' && !this.model.get('isPaypalComplete')) {\n                this.trigger('change_label_continue', _('Continue to Paypal').translate());\n            } else {\n                this.trigger('change_label_continue');\n            }\n            // We do this here so we give time for information to be bootstrapped\n            _.each(this.modules, function (module) {\n                module.isActive = module.instance.isActive();\n            });\n            this._render();\n            if (_.getParameterByName(window.location.href, 'externalPayment') === 'FAIL' && this.showExternalPaymentErrorMessage) {\n                this.showExternalPaymentErrorMessage = false;\n                this.manageError(this.externalPaymentErrorMessage);\n            }\n            var self = this;\n            _.each(this.modules, function (module) {\n                if (module.isSelected) {\n                    module.instance.isReady = false;\n                    module.instance.render();\n                    self.$('#payment-method-selector-content').empty().append(module.instance.$el);\n                }\n            });\n        }    //@method selectPaymentMethod\n,\n        selectPaymentMethod: function (e) {\n            this.setModuleByType(jQuery(e.target).val());\n        }    //@method submit\n,\n        submit: function () {\n            this.clearError();\n            // This order is bing payed with some other method (Gift Cert probably)\n            if (this.wizard.hidePayment()) {\n                return jQuery.Deferred().resolve();\n            }\n            if (this.selectedModule && this.selectedModule.instance) {\n                return this.selectedModule.instance.submit();\n            } else {\n                return jQuery.Deferred().reject(this.selectedPaymentErrorMessage);\n            }\n        }    //@method isValid\n,\n        isValid: function () {\n            // This order is being payed with some other method (Gift Cert probably)\n            if (this.wizard.hidePayment()) {\n                return jQuery.Deferred().resolve();\n            }\n            if (this.selectedModule && this.selectedModule.instance) {\n                return this.selectedModule.instance.isValid();\n            } else {\n                return jQuery.Deferred().reject(this.selectedPaymentErrorMessage);\n            }\n        }    //@method getContext\n,\n        getContext: function () {\n            var self = this, active_modules = _.map(this.modules, function (module) {\n                    if (module.isActive) {\n                        module.isSelected = self.selectedModule.type === module.type;\n                        module.isActive = true;\n                        return {\n                            isActive: true,\n                            isSelected: module.isSelected,\n                            name: module.name,\n                            options: module.options,\n                            type: module.type\n                        };\n                    }\n                });\n            active_modules = _.compact(active_modules);\n            return {\n                //@property {Array} activeModules\n                activeModules: _.compact(active_modules)    //@property {Boolean} activeModulesLengthGreaterThan1\n,\n                activeModulesLengthGreaterThan1: active_modules.length,\n                firstActiveModuleName: active_modules[0] && active_modules[0].name,\n                showTitle: !this.options.hide_title,\n                title: this.options.title || _('Payment Method').translate()\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module PaymentWizard\ndefine('PaymentWizard.Module.PaymentMethod.Selector', [\n    'OrderWizard.Module.PaymentMethod.Selector',\n    'underscore',\n    'jQuery',\n    'Utils'\n], function (OrderWizardModulePaymentMethodSelector, _, jQuery) {\n    'use strict';\n    //@class PaymentWizard.Module.PaymentMethod.Creditcard @extend OrderWizard.Module.PaymentMethod.Creditcard\n    return OrderWizardModulePaymentMethodSelector.extend({\n        className: 'PaymentWizard.Module.PaymentMethod.Selector',\n        render: function () {\n            if (this.wizard.hidePayment()) {\n                this.$el.empty();\n            } else {\n                OrderWizardModulePaymentMethodSelector.prototype.render.apply(this, arguments);\n            }\n            if (this.selectedModule && !!~this.selectedModule.type.indexOf('external_checkout')) {\n                this.trigger('change_label_continue', _('Continue to External Payment').translate());\n            } else {\n                this.trigger('change_label_continue', _('Submit').translate());\n            }\n        },\n        initialize: function () {\n            OrderWizardModulePaymentMethodSelector.prototype.initialize.apply(this, arguments);\n            this.wizard.model.on('change:payment', jQuery.proxy(this, 'changeTotal'));\n        },\n        changeTotal: function () {\n            var was = this.model.previous('payment'), was_confirmation = this.model.previous('confirmation'), is_confirmation = this.model.get('confirmation'), is = this.model.get('payment');\n            // Changed from or to 0\n            if ((was === 0 && is !== 0 || was !== 0 && is === 0) && !was_confirmation && !is_confirmation) {\n                this.render();\n            }\n        }    // @method submit If there's a payment, continue the payment method selection. Otherwise, resets the paymentmethods collection\n             // @return {jQuery.Deferred}\n,\n        submit: function () {\n            if (this.model.get('payment') !== 0) {\n                return OrderWizardModulePaymentMethodSelector.prototype.submit.apply(this, arguments);\n            } else {\n                this.model.get('paymentmethods').reset([]);\n                return jQuery.Deferred().resolve();\n            }\n        }\n    });\n});","/*\n    © 2017 NetSuite Inc.\n    User may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n    provided, however, if you are an authorized user with a NetSuite account or log-in, you\n    may use this code subject to the terms that govern your access and use.\n*/\n//@module Cart\ndefine('Cart.Promocode.List.Item.View', [\n    'cart_promocode_list_item.tpl',\n    'Backbone',\n    'underscore'\n], function (cart_promocode_list_item_tpl, Backbone, _) {\n    'use strict';\n    //@class Cart.Promocode.List.Item.View @extend Backbone.View\n    return Backbone.View.extend({\n        //@property {Function} template\n        template: cart_promocode_list_item_tpl    //@method getContext\n                                        //@return {Cart.Promocode.List.Item.View.Context}\n,\n        getContext: function getContext() {\n            var code = this.model.get('code'), internalid = this.model.get('internalid'), hide_autoapply_promo = !_.isUndefined(this.model.get('isautoapplied')) ? this.model.get('applicabilityreason') === 'DISCARDED_BEST_OFFER' || this.model.get('isautoapplied') && this.model.get('applicabilitystatus') === 'NOT_APPLIED' : false, errormsg = '';\n            var reason = this.model.get('applicabilityreason');\n            var status = this.model.get('applicabilitystatus');\n            var reasonmsg = '', statusmsg = '';\n            if (status == 'APPLIED') {\n                statusmsg = _('Promotion is applied for this item.').translate();\n            } else if (status == 'NOT_APPLIED') {\n                statusmsg = _('Sorry, no discount is added to your order').translate();\n            } else if (status == 'NOT_AVAILABLE') {\n                statusmsg = _('Status of this promotion is not available.').translate();\n            }\n            if (reason == 'DISCARDED_BEST_OFFER') {\n                reasonmsg = _('Promotion is not applied as there is another promocode or a combination of promocodes that is giving you a better discount.').translate();\n            } else if (reason == 'CRITERIA_NOT_MET') {\n                reasonmsg = _('Sorry, the promocode is not applied as it does not meet the criteria.').translate();\n            }\n            if (this.options.source === 'item_summary') {\n                code = this.model.get('promotion_couponcode');\n                internalid = this.model.get('promotion_id');\n            }\n            if (this.model.get('errormsg')) {\n                errormsg = this.model.get('errormsg');\n            } else if (this.model.get('applicabilityreason') === 'NO_FREE_GIFTS_ADDED') {\n                errormsg = _('Sorry, something went wrong. We couldn\\'t add your gift to the order.').translate();\n            }\n            //@class Cart.Promocode.List.Item.View.Context\n            return {\n                //@property {Boolean} showPromo\n                showPromo: !!code && !hide_autoapply_promo    //@property {String} code\n,\n                code: code    //@property {String} internalid\n,\n                internalid: internalid    //@property {Boolean} isEditable\n,\n                isEditable: !this.options.isReadOnly && !this.model.get('isautoapplied')    //@property {Boolean} showDiscountRate\n,\n                showDiscountRate: !!this.model.get('discountrate_formatted')    //@property {String} discountRate\n,\n                discountRate: this.model.get('discountrate_formatted')    //@property {Boolean} showWarning\n,\n                showWarning: this.model.get('isvalid') === false || this.model.get('applicabilitystatus') === 'NOT_APPLIED'    //@property {String} errorMessage\n,\n                errorMessage: errormsg,\n                testt: reasonmsg,\n                test: statusmsg\n            };    //@class Cart.Promocode.List.Item.View\n        }\n    });\n});    //@class Cart.Promocode.List.Item.View.Initialize.Options\n       //@property {Backbone.Model<{code:String,internalid:String}>} model\n       //@property {Boolean?} isReadOnly\n","/*\n    © 2017 NetSuite Inc.\n    User may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n    provided, however, if you are an authorized user with a NetSuite account or log-in, you\n    may use this code subject to the terms that govern your access and use.\n*/\n//@module Cart\ndefine('Cart.Promocode.List.View', [\n    'Cart.Promocode.List.Item.View',\n    'cart_promocode_list.tpl',\n    'Backbone',\n    'Backbone.CompositeView',\n    'Backbone.CollectionView',\n    'underscore'\n], function (CartPromocodeListItemView, cart_promocode_list_tpl, Backbone, BackboneCompositeView, BackboneCollectionView, _) {\n    'use strict';\n    //@class Cart.Promocode.List.View @extend Backbone.View\n    return Backbone.View.extend({\n        //@property {Function} template\n        template: cart_promocode_list_tpl,\n        events: { 'click [data-action=\"remove-promocode\"]': 'removePromocode' }    //@method initialize\n                                                                           //@param {Cart.Promocode.List.View.Initialize.Options} options\n                                                                           //@return {Void}\n,\n        initialize: function initialize() {\n            this.removing_promocode = _.bind(this.removing_promocode, this);\n            this.remove_promocode_finished = _.bind(this.remove_promocode_finished, this);\n            this.model.cancelableOn('before:LiveOrder.removePromotion', this.removing_promocode);\n            this.model.on('remove_promocode_finished', this.remove_promocode_finished);\n            BackboneCompositeView.add(this);\n        },\n        destroy: function destroy() {\n            this.model.cancelableOff('before:LiveOrder.removePromotion', this.removing_promocode);\n            this.model.off('remove_promocode_finished', this.remove_promocode_finished);\n            this._destroy();\n        },\n        removing_promocode: function removing_promocode() {\n            //@event {Void} removing_promocode\n            this.trigger('removing_promocode');\n        },\n        remove_promocode_finished: function remove_promocode_finished() {\n            //@event {Void} remove_promocode_finished\n            this.trigger('remove_promocode_finished');\n        }    //@method setOptions Allow changing the internal model and options.\n             //This is necessary as in some cases (Order wizard) the model from which the list of promocodes is read changes in\n             //the middle of the process. (In OrderWizard the read model is the instance of the LiveOrder.Model until the order is places\n             //and by some hacks another model is read)\n             //@param {Any} options\n             //@return {Void}\n,\n        setOptions: function setOptions(options) {\n            this.options = options;\n            this.model = options.model || this.model;\n        }    // @method removePromocode Handles the remove promocode button\n             // @param {DOMEvent}\n             // @return {Void}\n,\n        removePromocode: function removePromocode(e) {\n            e.preventDefault();\n            var promo_code_internalid = (this.$(e.currentTarget).data('id') || '').toString();\n            this.model.removePromotion(promo_code_internalid);\n        },\n        childViews: {\n            'PromocodeList': function () {\n                return new BackboneCollectionView({\n                    collection: _.filter(this.model.get('promocodes') || [], function (promocode) {\n                        return promocode.internalid;\n                    }),\n                    viewsPerRow: 1,\n                    childView: CartPromocodeListItemView,\n                    childViewOptions: {\n                        isReadOnly: this.options.isReadOnly,\n                        source: 'summary'\n                    }\n                });\n            }\n        }    //@method getContext\n             //@return {Cart.Promocode.List.View.context}\n,\n        getContext: function getContext() {\n            //@class Cart.Promocode.List.View.context\n            return {};    //@class Cart.Promocode.List.View\n        }\n    });\n});    //@class Cart.Promocode.List.View.Initialize.Options\n       //@property {LiveOrder.Model} model\n       //@property {Boolean} isReadOnly\n","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module OrderWizard.Module.CartSummary\ndefine('OrderWizard.Module.CartSummary', [\n    'SC.Configuration',\n    'Wizard.Module',\n    'Backbone.CompositeView',\n    'Backbone.CollectionView',\n    'GlobalViews.FormatPaymentMethod.View',\n    'Cart.Promocode.List.View',\n    'order_wizard_cart_summary.tpl',\n    'cart_summary_gift_certificate_cell.tpl',\n    'underscore'\n], function (Configuration, WizardModule, BackboneCompositeView, BackboneCollectionView, GlobalViewsFormatPaymentMethodView, CartPromocodeListView, order_wizard_cart_summary_tpl, cart_summary_gift_certificate_cell_tpl, _) {\n    'use strict';\n    // @class OrderWizard.Module.CartSummary @extends Wizard.Module\n    return WizardModule.extend({\n        //@property {Function} template\n        template: order_wizard_cart_summary_tpl    //@property {String} className\n,\n        className: 'OrderWizard.Module.CartSummary'    //@property {Object} attributes\n,\n        attributes: {\n            'id': 'order-wizard-layout',\n            'class': 'order-wizard-layout'\n        }    //@method initialize\n,\n        initialize: function initialize() {\n            WizardModule.prototype.initialize.apply(this, arguments);\n            var self = this;\n            //on change model we need to refresh summary\n            this.wizard.model.on('change:summary change:paymentmethods', function () {\n                //This is an ugly hack to solve the case when the change event trigger first than the confirmation and the lines are converted to collections and models\n                if (!_.isArray(self.wizard.model.get('lines')) && self.wizard.model.get('confirmation') && _.isObject(self.wizard.model.get('confirmation').attributes)) {\n                    self.render();\n                }\n            });\n            BackboneCompositeView.add(this);\n        },\n        isActive: function isActive() {\n            return this.options.isConfirmation ? this.wizard.model.get('confirmation').get('internalid') : true;\n        }    //@method render\n             //@return {Void}\n,\n        render: function render() {\n            if (this.state === 'present') {\n                this._render();\n                this.trigger('ready', true);\n            }\n        }    //@property {Object} childViews\n,\n        childViews: {\n            'GiftCertificates': function () {\n                return new BackboneCollectionView({\n                    collection: this.wizard.model.get('paymentmethods').where({ type: 'giftcertificate' }) || [],\n                    cellTemplate: cart_summary_gift_certificate_cell_tpl,\n                    viewsPerRow: 1,\n                    childView: GlobalViewsFormatPaymentMethodView,\n                    rowTemplate: null\n                });\n            },\n            'CartPromocodeListView': function () {\n                var self = this, promocodeListView = new CartPromocodeListView({\n                        model: this.wizard.model,\n                        hideRemovePromocodeButton: false\n                    });\n                promocodeListView.on('removing_promocode', function () {\n                    self.trigger('change_enable_continue', false);\n                });\n                promocodeListView.on('remove_promocode_finished', function () {\n                    self.trigger('change_enable_continue', true);\n                });\n                if (this._isReadFromConfirmation()) {\n                    promocodeListView.setOptions({\n                        model: this._getModel(),\n                        isReadOnly: true\n                    });\n                }\n                return promocodeListView;\n            }\n        },\n        countItems: function countItems(lines) {\n            var item_count = 0;\n            _.each(lines.models ? lines.models : lines, function (line) {\n                item_count += line.get('quantity');\n            });\n            return item_count;\n        },\n        _isReadFromConfirmation: function () {\n            var confirmation = this.wizard.model.get('confirmation')    // You need to read from confirmation from the wizards (checkout) that have the isExternalCheckout and the return value is true (when returning from an external payment method)\n                                                         // Other wizards, like QuoteToSalesOrder, does not make the confirmation hack\n, read_from_confirmation = confirmation && confirmation.get('internalid') && this.wizard.isExternalCheckout;\n            return read_from_confirmation;\n        }    //@method getShowShippingCost\n             //@returns {boolean}\n,\n        getShowShippingCost: function (confirmation) {\n            var confirmation_lines = confirmation && confirmation.get('lines');\n            if (confirmation_lines.length) {\n                var pickup_lines = confirmation_lines.filter(function (model) {\n                    return model.get('fulfillmentChoice') && model.get('fulfillmentChoice') === 'pickup';\n                });\n                var non_shippable_lines = confirmation_lines.filter(function (model) {\n                    return !model.get('item').get('_isfulfillable');\n                });\n                return confirmation_lines.length - non_shippable_lines.length - pickup_lines.length > 0;\n            } else {\n                return this.wizard.model.getIfThereAreDeliverableItems();\n            }\n        }    //@method getShowPickupCost\n             //@returns {boolean}\n,\n        getShowPickupCost: function (confirmation) {\n            var confirmation_lines = confirmation && confirmation.get('lines');\n            if (confirmation_lines.length) {\n                return !!confirmation_lines.find(function (model) {\n                    return model.get('fulfillmentChoice') && model.get('fulfillmentChoice') === 'pickup';\n                });\n            } else {\n                return !!this.wizard.model.getPickupInStoreLines().length;\n            }\n        },\n        _getModel: function () {\n            if (this._isReadFromConfirmation()) {\n                var wizard_confirmation = this.wizard.model.get('confirmation');\n                var internalid = wizard_confirmation.get('internalid');\n                if (internalid) {\n                    wizard_confirmation.set('internalid', internalid.toString());\n                }\n                return wizard_confirmation;\n            } else {\n                return this.wizard.model;\n            }\n        }    //@method getContext\n             //@returns {OrderWizard.Module.CartSummary.Context}\n,\n        getContext: function getContext() {\n            var model = this._getModel(), summary = model.get('summary') || {}, item_count = this.countItems(model.get('lines')), confirmation = this.wizard.model.get('confirmation');\n            //@class OrderWizard.Module.CartSummary.Context\n            return {\n                model: model    //@property {Number} itemCount\n,\n                itemCount: item_count    //@property {Boolean} itemCountGreaterThan1\n,\n                itemCountGreaterThan1: item_count > 1    //@property {Array} giftCertificates\n,\n                giftCertificates: model.get('paymentmethods').where({ type: 'giftcertificate' }) || []    //@property {Boolean} showGiftCertificates\n,\n                showGiftCertificates: !!summary.giftcertapplied,\n                showDiscount: !!summary.discounttotal,\n                showHandlingCost: !!summary.handlingcost,\n                showShippingCost: this.getShowShippingCost(confirmation)    //@property {Boolean} showPickupCost\n,\n                showPickupCost: this.getShowPickupCost(confirmation)    //@property {Boolean} showRemovePromocodeButton\n,\n                showRemovePromocodeButton: !!this.options.allow_remove_promocode,\n                showWarningMessage: !!this.options.warningMessage,\n                warningMessage: this.options.warningMessage,\n                showEditCartMST: this.wizard.isMultiShipTo() && !this.options.isConfirmation,\n                taxLabel: !!Configuration.get('summaryTaxLabel') ? Configuration.get('summaryTaxLabel') : 'Tax'\n            };    //@class OrderWizard.Module.CartSummary\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module Transaction.Line.Views\ndefine('Transaction.Line.Views.Option.View', [\n    'SC.Configuration',\n    'Backbone',\n    'underscore',\n    'backbone.stickit'\n], function (Configuration, Backbone, _) {\n    'use strict';\n    //@class Transaction.Line.Views.Option.View.initialize\n    //@property {Transaction.Line.Model} line\n    //@property {String} templateName As this view can be used to show options in all state (selected or to be selected) it is required to specify\n    //what template should be used from the list of templates in configuration. If not value is given 'selector' is used, note that this value\n    //is used to select option (in the PDP for instance)\n    //@property {Backbone.Model<Transaction.Line.Option.Model>} model\n    // @class Transaction.Line.Views.Option.View @extends Backbone.View\n    return Backbone.View.extend({\n        //@initialize initialize Set the option template and values availability\n        //@param {Transaction.Line.Views.Option.View.initialize} options\n        //@return {Void}\n        initialize: function () {\n            this.config = _.findWhere(Configuration.get('ItemOptions.optionsConfiguration', []), { cartOptionId: this.model.get('cartOptionId') }) || { templates: {} };\n            this.config.templates = this.config.templates || {};\n            this.line_model = this.options.line;\n            var item_options_default_templates = Configuration.get('ItemOptions.defaultTemplates', {});\n            if (item_options_default_templates && item_options_default_templates.selectorByType) {\n                // Sets templates for this option\n                if (!this.config.templates.selector) {\n                    var option_selector_template = item_options_default_templates.selectorByType[this.model.get('type')], default_option_selector_template = item_options_default_templates.selectorByType['default'];\n                    this.config.templates.selector = option_selector_template || default_option_selector_template;\n                }\n                if (!this.config.templates.selected) {\n                    var selected_option_template = item_options_default_templates.selectedByType[this.model.get('type')], default_selected_option_template = item_options_default_templates.selectedByType['default'];\n                    this.config.templates.selected = selected_option_template || default_selected_option_template;\n                }\n            }\n            this.options.templateName = this.options.templateName || 'selector';\n            this.template = this.config.templates[this.options.templateName];\n        },\n        render: function () {\n            if (!this.model.get('value') || !this.model.get('value').internalid) {\n                return this;\n            }\n            return this._render();\n        }    //@method getContext\n             //@returns {Transaction.Line.Views.Option.View.Context}\n,\n        getContext: function () {\n            var self = this, selected_value = this.model.get('value') || {}, values = _.map(this.model.get('values') || [], function (value) {\n                    var color = '', is_color_tile = false, image = {}, is_image_tile = false;\n                    if (self.model.get('colors')) {\n                        color = self.model.get('colors')[value.label] || self.model.get('colors').defaultColor;\n                        if (_.isObject(color)) {\n                            image = color;\n                            color = '';\n                            is_image_tile = true;\n                        } else {\n                            is_color_tile = true;\n                        }\n                    }\n                    //@class ItemOptions.Option.View.Value\n                    return {\n                        // @property {String} internalid\n                        internalid: value.internalid,\n                        isAvailable: value.isAvailable,\n                        label: value.label,\n                        isActive: value.internalid === selected_value.internalid,\n                        color: color    // @property {Boolean} isColorTile\n,\n                        isColorTile: is_color_tile    // @property {Boolean} isImageTile\n,\n                        isImageTile: is_image_tile    // @property {Object} image\n,\n                        image: image    // @property {Boolean} isLightColor\n,\n                        isLightColor: _.contains(Configuration.get('layout.lightColors', []), value.label)\n                    };    //@class Transaction.Line.Views.Option.View\n                });\n            selected_value = _.extend({}, selected_value, _.findWhere(values, { internalid: selected_value.internalid }) || {});\n            selected_value.label = selected_value.label || selected_value.internalid;\n            // @class Transaction.Line.Views.Option.View.Context\n            return {\n                // @property {Transaction.Line.Option.Model} model\n                model: this.model,\n                values: values    // @property {Boolean} showSelectedValue\n,\n                showSelectedValue: !!selected_value    // @property {Boolean} isMandatory\n,\n                isMandatory: this.model.get('isMandatory')    // @property {String} itemOptionId\n,\n                itemOptionId: this.model.get('itemOptionId')    // @property {String} cartOptionId\n,\n                cartOptionId: this.model.get('cartOptionId')    // @property {String} label\n,\n                label: this.config && this.config.label || this.model.get('label')    // @property {ItemViews.Option.View.Option} selectedValue\n,\n                selectedValue: selected_value    // @property {Boolean} isTextArea\n,\n                isTextArea: this.model.get('type') === 'textarea'    // @property {Boolean} isEmail\n,\n                isEmail: this.model.get('type') === 'email'    // @property {Boolean} isText\n,\n                isText: this.model.get('type') === 'text'    // @property {Boolean} isSelect\n,\n                isSelect: this.model.get('type') === 'select'    // @property {Boolean} isCheckbox\n,\n                isCheckbox: this.model.get('type') === 'checkbox'    // @property {Boolean} idDate\n,\n                isDate: this.model.get('type') === 'date'    // @property {String} htmlId\n,\n                htmlId: 'option-' + this.model.get('cartOptionId')    // @property {String} htmlIdContainer\n,\n                htmlIdContainer: this.model.get('cartOptionId') + '-container'\n            };    // @class Transaction.Line.Views.Option.View\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module Transaction.Line.Views\ndefine('Transaction.Line.Views.Options.Selected.View', [\n    'Transaction.Line.Views.Option.View',\n    'Backbone.CompositeView',\n    'Backbone.CollectionView',\n    'transaction_line_views_options_selected.tpl',\n    'Backbone'\n], function (TransactionLineViewsOptionView, BackboneCompositeView, BackboneCollectionView, transaction_line_views_options_selected_tpl, Backbone) {\n    'use strict';\n    //@class ItemOptions.Options.View.initialize\n    //@property {Transaction.Line.Model} model\n    //@class ItemOptions.Options.View\n    return Backbone.View.extend({\n        //@property {Function} template\n        template: transaction_line_views_options_selected_tpl    //@method initialize Override default method to made current view composite\n                                                       //@param {ItemOptions.Options.View.initialize} options\n                                                       //@return {Void}\n,\n        initialize: function () {\n            BackboneCompositeView.add(this);\n        }    //@property {ChildViews} childViews\n,\n        childViews: {\n            'Options.Collection': function () {\n                return new BackboneCollectionView({\n                    collection: this.model.getVisibleOptions(),\n                    childView: TransactionLineViewsOptionView,\n                    viewsPerRow: 1,\n                    childViewOptions: {\n                        line: this.model,\n                        templateName: 'selected'\n                    }\n                });\n            }\n        }    //@method getContext\n             //@return {ItemOptions.Options.View.Context}\n,\n        getContext: function () {\n            //@class ItemOptions.Options.View.Context\n            return { model: this.model };    //@class ItemOptions.Options.View\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module ProductLine\ndefine('ProductLine.Stock.View', [\n    'product_line_stock.tpl',\n    'Backbone'\n], function (product_line_stock_tpl, Backbone) {\n    'use strict';\n    // @class ProductLine.Stock.View @extends Backbone.View\n    return Backbone.View.extend({\n        template: product_line_stock_tpl    //@method initialize Override default method to attach model's change event to re-render\n                                  //@param {ProductLine.Stock.View.Initialize.options} options\n                                  //@return {Void}\n,\n        initialize: function () {\n            this.model.on('change', this.render, this);\n        }    //@method destroy Override default method to detach from model's change event\n             //@return {Void}\n,\n        destroy: function destroy() {\n            Backbone.View.prototype.destroy.apply(this, arguments);\n            this.model.off('change', this.render, this);\n        }    //@method getContext\n             //@return {ProductLine.Stock.View.Context}\n,\n        getContext: function () {\n            this.stock_info = this.model.getStockInfo();\n            //@class ProductLine.Stock.View.Context\n            return {\n                //@property {Boolean} showOutOfStockMessage\n                showOutOfStockMessage: !!(!this.stock_info.isInStock && this.stock_info.showOutOfStockMessage)    //@property {Item.Model.StockInfo} stockInfo\n,\n                stockInfo: this.stock_info,\n                model: this.model,\n                showInStockMessage: !(!this.stock_info.isInStock && this.stock_info.showOutOfStockMessage) && !!this.stock_info.showInStockMessage,\n                isNotAvailableInStore: this.stock_info.isNotAvailableInStore\n            };    //@class ProductLine.Stock.View\n        }\n    });\n});    //@class ProductLine.Stock.View.Initialize.options\n       //@property {Transaction.Line.Model|Item.Model|Product.Model} model\n","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module Transaction.Line.Views\ndefine('Transaction.Line.Views.Price.View', [\n    'Profile.Model',\n    'Session',\n    'SC.Configuration',\n    'transaction_line_views_price.tpl',\n    'Backbone'\n], function (ProfileModel, Session, Configuration, transaction_line_views_price_tpl, Backbone) {\n    'use strict';\n    // @class Transaction.Line.Views.Price.View @extends Backbone.View\n    return Backbone.View.extend({\n        //@property {Function} template\n        template: transaction_line_views_price_tpl    //@method initialize\n                                            //@param {Transaction.Line.Views.Price.View.Options} options\n                                            //@return {Void}\n,\n        initialize: function () {\n            this.profileModel = ProfileModel.getInstance();\n            this.isPriceEnabled = !ProfileModel.getInstance().hidePrices();\n            if (this.isPriceEnabled) {\n                this.model.on('change:quantity', function () {\n                    this.render();\n                }, this);\n            }\n        }    //@method getUrlLogin Get the login URL contains an origin hash parameter indicating the current URL to came back after login\n             //@return {String}\n,\n        getUrlLogin: function () {\n            var url = Session.get('touchpoints.login') + '&origin=' + (Configuration.get('currentTouchpoint') || 'home') + '&origin_hash=';\n            return url + encodeURIComponent(this.options.origin === 'PDPQUICK' ? this.model.generateURL().replace('/', '') : Backbone.history.fragment);\n        }    // @method getContext\n             // @returns {Transaction.Line.Views.Price.View.Context}\n,\n        getContext: function () {\n            var price_container_object = this.model.getPrice(), showComparePrice = this.options.showComparePrice && price_container_object.price < price_container_object.compare_price;\n            //@class Transaction.Line.Views.Price.View.Context\n            return {\n                // @property {Transaction.Line.Model} model\n                model: this.model,\n                showComparePrice: showComparePrice    // @property {Boolean} isInStock\n,\n                isInStock: !!this.model.getStockInfo().isInStock,\n                currencyCode: SC.getSessionInfo('currency').code || ''    // @property {String} comparePriceFormatted\n,\n                comparePriceFormatted: price_container_object.compare_price_formatted || ''    // @property {Number} price\n,\n                price: price_container_object.price || 0    // @property {String} rateFormatted\n,\n                rateFormatted: this.model.get('rate_formatted') || price_container_object.price_formatted || ''    // @property {Boolean} isPriceEnabled\n,\n                isPriceEnabled: this.isPriceEnabled,\n                urlLogin: this.getUrlLogin()\n            };    //@class Transaction.Line.Views.Price.View\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module ProductLine\ndefine('ProductLine.Sku.View', [\n    'product_line_sku.tpl',\n    'Backbone'\n], function (product_line_sku_tpl, Backbone) {\n    'use strict';\n    // @class ProductLine.Sku.View @extends Backbone.View\n    return Backbone.View.extend({\n        //@property {Function} template\n        template: product_line_sku_tpl    //@method initialize Override default method to attach model's change event to re-render\n                                //@param {ProductLine.Sku.View.Initialize.options} options\n                                //@return {Void}\n,\n        initialize: function () {\n            this.model.on('change', this.render, this);\n        }    //@method destroy Override default method to detach from model's change event\n             //@return {Void}\n,\n        destroy: function destroy() {\n            Backbone.View.prototype.destroy.apply(this, arguments);\n            this.model.off('change', this.render, this);\n        }    // @method getContext\n             // @returns {ProductLine.Sku.View.Context}\n,\n        getContext: function () {\n            //@class ProductLine.Sku.View.Context\n            return {\n                //@property {Product.Model|Transaction.Line.Model|Item.Model} model\n                model: this.model,\n                sku: this.model.getSku()\n            };    //@class ProductLine.Sku.View\n        }\n    });\n});    //@class ProductLine.Sku.View.Initialize.options\n       //@property {Transaction.Line.Model|Item.Model|Product.Model} model\n","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module ProductLine\ndefine('ProductLine.StockDescription.View', [\n    'product_line_stock_description.tpl',\n    'Backbone'\n], function (product_line_stock_description_tpl, Backbone) {\n    'use strict';\n    // @class ProductLine.StockDescription.View @extends Backbone.View\n    return Backbone.View.extend({\n        template: product_line_stock_description_tpl    //@method initialize Override default method to attach model's change event to re-render\n,\n        initialize: function () {\n            this.model.on('change', this.render, this);\n        }    //@method getContext\n             //@return {ProductLine.StockDescription.View.Context}\n,\n        getContext: function () {\n            this.stock_info = this.model.getStockInfo();\n            //@class ProductLine.Stock.View.Context\n            return {\n                //@property {Boolean} showStockDescription\n                showStockDescription: !!(this.stock_info.showStockDescription && this.stock_info.stockDescription)    //@property {Item.Model.StockInfo} stockInfo\n,\n                stockInfo: this.stock_info\n            };    //@class ProductLine.StockDescription.View\n        }\n    });\n});    //@class ProductLine.StockDescription.View.Initialize.options\n","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module Transaction.Line.Views.Tax\ndefine('Transaction.Line.Views.Tax', [\n    'transaction_line_views_tax.tpl',\n    'Backbone'\n], function (transaction_line_views_tax_tpl, Backbone) {\n    'use strict';\n    // @class Transaction.Line.Views.Tax @extends Backbone.View\n    return Backbone.View.extend({\n        template: transaction_line_views_tax_tpl    //@method initialize\n                                          //@param {Transaction.Line.Views.Tax.Options} options\n                                          //@return {Void}\n,\n        initialize: function () {\n            this.model.on('change:quantity', function () {\n                this.render();\n            }, this);\n        }    //@method getContext\n             //@return {Transaction.Line.Views.Tax.Context}\n,\n        getContext: function () {\n            //@class Transaction.Line.Views.Tax.Context\n            return {\n                showTax: !!this.model.get('tax1_amount') || !!this.model.get('tax_amount'),\n                taxRate: this.model.get('tax_rate1') || this.model.get('tax_rate'),\n                taxAmount: this.model.get('tax1_amount_formatted') || this.model.get('tax_amount_formatted')\n            };    //@class Transaction.Line.Views.Tax.Context\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module Transaction.Line.Views\ndefine('Transaction.Line.Views.Cell.Navigable.View', [\n    'Transaction.Line.Views.Options.Selected.View',\n    'ProductLine.Stock.View',\n    'Transaction.Line.Views.Price.View',\n    'ProductLine.Sku.View',\n    'ProductLine.StockDescription.View',\n    'Transaction.Line.Views.Tax',\n    'Backbone.CollectionView',\n    'Backbone.CompositeView',\n    'transaction_line_views_cell_navigable.tpl',\n    'Backbone'\n], function (TransactionLineViewsOptionsSelectedView, ProductLineStockView, TransactionLineViewsPriceView, ProductLineSkuView, ProductLineStockDescriptionView, TransactionLineViewsTax, BackboneCollectionView, BackboneCompositeView, transaction_line_views_cell_navigable_tpl, Backbone) {\n    'use strict';\n    //@class Transaction.Line.Views.Navigable.View @extend Backbone.View\n    return Backbone.View.extend({\n        template: transaction_line_views_cell_navigable_tpl,\n        initialize: function (options) {\n            this.options = options;\n            this.application = options.application;\n            this.model = options.model;\n            BackboneCompositeView.add(this);\n        },\n        childViews: {\n            'Item.Options': function () {\n                return new TransactionLineViewsOptionsSelectedView({ model: this.model });\n            },\n            'ItemViews.Stock.View': function () {\n                return new ProductLineStockView({ model: this.model.get('item') });\n            },\n            'Item.Price': function () {\n                return new TransactionLineViewsPriceView({ model: this.model });\n            },\n            'Item.Sku': function () {\n                return new ProductLineSkuView({ model: this.model });\n            },\n            'Item.Tax.Info': function () {\n                if (this.options.showTaxDetails) {\n                    return new TransactionLineViewsTax({ model: this.model });\n                }\n            },\n            'StockDescription': function () {\n                return new ProductLineStockDescriptionView({ model: this.model.get('item') });\n            }\n        }    //@method getContext\n             //@return {Transaction.Line.Views.Navigable.View.Context}\n,\n        getContext: function () {\n            var item = this.model.get('item'), line = this.model;\n            //@class Transaction.Line.Views.Navigable.View.Context\n            return {\n                //@property {Transaction.Line.Model} model\n                model: this.model,\n                itemId: item.get('internalid')    //@property {String} itemName\n,\n                itemName: item.get('_name')    //@property {String} cellClassName\n,\n                cellClassName: this.options.cellClassName,\n                isNavigable: !!this.options.navigable && !!item.get('_isPurchasable')    //@property {String} rateFormatted\n,\n                rateFormatted: line.get('rate_formatted')    //@property {Boolean} showOptions\n,\n                showOptions: !!(line.get('options') && line.get('options').length)    //@property {String} itemURLAttributes\n,\n                itemURLAttributes: line.getFullLink({\n                    quantity: null,\n                    location: null,\n                    fulfillmentChoice: null\n                })    //@property {Number} quantity\n,\n                quantity: line.get('quantity')    //@property {Boolean} showDetail2Title\n,\n                showDetail2Title: !!this.options.detail2Title,\n                detail2Title: this.options.detail2Title,\n                detail2: line.get(this.options.detail2)    //@property {Boolean} showBlockDetail2\n,\n                showBlockDetail2: !!line.get(this.options.detail2)    //@property {Boolean} showDetail3Title\n,\n                showDetail3Title: !!this.options.detail3Title,\n                detail3Title: this.options.detail3Title,\n                detail3: line.get(this.options.detail3)    //@property {Boolean} showComparePrice\n,\n                showComparePrice: line.get('amount') > line.get('total')    //@property {String} comparePriceFormatted\n,\n                comparePriceFormatted: line.get('amount_formatted')    // @property {ImageContainer} thumbnail\n,\n                thumbnail: this.model.getThumbnail()    // @property {Boolean} isFreeGift\n,\n                isFreeGift: line.get('free_gift') === true\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module OrderWizard.Module.CartItems\ndefine('OrderWizard.Module.CartItems', [\n    'Wizard.Module',\n    'Backbone.CompositeView',\n    'Backbone.CollectionView',\n    'Transaction.Line.Views.Cell.Navigable.View',\n    'order_wizard_cartitems_module.tpl',\n    'underscore',\n    'Utils'\n], function (WizardModule, BackboneCompositeView, BackboneCollectionView, TransactionLineViewsCellNavigableView, order_wizard_cartitems_module_tpl, _) {\n    'use strict';\n    //@class OrderWizard.Module.CartItems @extends Wizard.Module\n    return WizardModule.extend({\n        //@property {Function} template\n        template: order_wizard_cartitems_module_tpl    //@method render\n,\n        render: function () {\n            this.application = this.wizard.application;\n            this.profile = this.wizard.options.profile;\n            this.options.application = this.wizard.application;\n            if (this.isActive()) {\n                this._render();\n            }\n        },\n        initialize: function () {\n            var self = this;\n            WizardModule.prototype.initialize.apply(this, arguments);\n            this.wizard.model.on('ismultishiptoUpdated', function () {\n                self.render();\n            });\n            this.wizard.model.on('promocodeUpdated', function () {\n                self.render();\n            });\n            BackboneCompositeView.add(this);\n        }    //@property {Object} childViews\n,\n        childViews: {\n            'Items.Collection': function () {\n                return new BackboneCollectionView({\n                    collection: this.model.get('lines'),\n                    childView: TransactionLineViewsCellNavigableView,\n                    viewsPerRow: 1,\n                    childViewOptions: {\n                        navigable: !this.options.hide_item_link,\n                        detail1Title: _('Qty:').translate(),\n                        detail1: 'quantity',\n                        detail2Title: _('Unit price:').translate(),\n                        detail2: 'rate_formatted',\n                        detail3Title: _('Amount:').translate(),\n                        detail3: 'amount_formatted'\n                    }\n                });\n            }\n        }    //@method getContext @returns {OrderWizard.Module.CartItems.Context}\n,\n        getContext: function () {\n            var lines = this.model.get('lines'), item_count = _.countItems(lines);\n            //@class OrderWizard.Module.CartItems.Context\n            return {\n                //@property {LiveOrder.Model} model\n                model: this.model,\n                itemCountGreaterThan1: item_count > 1    //@property {Number} itemCount\n,\n                itemCount: item_count    //@property {Boolean} showOpenedAccordion\n,\n                showOpenedAccordion: _.result(this.options || {}, 'showOpenedAccordion', false)    //@property {Boolean} showEditCartButton\n,\n                showEditCartButton: !this.options.hide_edit_cart_button,\n                showHeaders: !this.options.hideHeaders,\n                showMobile: this.options.showMobile\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module OrderWizard.Module.CartItems\ndefine('OrderWizard.Module.CartItems.Ship', [\n    'Wizard.Module',\n    'Backbone.CompositeView',\n    'Backbone.CollectionView',\n    'Transaction.Line.Views.Cell.Navigable.View',\n    'SC.Configuration',\n    'Address.Details.View',\n    'order_wizard_cartitems_module_ship.tpl',\n    'underscore',\n    'Utils'\n], function (WizardModule, BackboneCompositeView, BackboneCollectionView, TransactionLineViewsCellNavigableView, Configuration, AddressDetailsView, order_wizard_cartitems_module_ship_tpl, _) {\n    'use strict';\n    //@class OrderWizard.Module.CartItems.Ship @extends Wizard.Module\n    return WizardModule.extend({\n        //@property {Function} template\n        template: order_wizard_cartitems_module_ship_tpl,\n        initialize: function () {\n            var self = this;\n            WizardModule.prototype.initialize.apply(this, arguments);\n            this.wizard.model.on('ismultishiptoUpdated', function () {\n                self.render();\n            });\n            this.wizard.model.on('promocodeUpdated', function () {\n                self.render();\n            });\n            this.wizard.model.on('change:lines', function () {\n                self.lines = self.wizard.model.getShippableLines();\n                self.render();\n            });\n            this.lines = this.wizard.model.getShippableLines();\n            BackboneCompositeView.add(this);\n            this.options = this.options || {};\n            this.options.exclude_on_skip_step = true;\n            this.wizard.model.on('change:shipaddress', function () {\n                self.initializeAddress();\n            });\n            this.initializeAddress(true);\n        },\n        initializeAddress: function (no_render) {\n            if (this.address) {\n                this.address.off('change', null, null);\n            }\n            this.address = this.wizard.options.profile.get('addresses').get(this.wizard.model.get('shipaddress'));\n            if (this.address) {\n                this.address.on('change', this.render, this);\n            }\n            if (!no_render) {\n                this.render();\n            }\n        },\n        isActive: function isActive() {\n            return this.lines.length;\n        }    //@property {Object} childViews\n,\n        childViews: {\n            'Items.Collection': function () {\n                return new BackboneCollectionView({\n                    collection: this.lines,\n                    childView: TransactionLineViewsCellNavigableView,\n                    viewsPerRow: 1,\n                    childViewOptions: {\n                        navigable: false,\n                        detail1Title: _('Qty:').translate(),\n                        detail1: 'quantity',\n                        detail2Title: _('Unit price:').translate(),\n                        detail2: 'rate_formatted',\n                        detail3Title: _('Amount:').translate(),\n                        detail3: 'total_formatted'\n                    }\n                });\n            },\n            'Address.Details': function () {\n                if (this.address) {\n                    return new AddressDetailsView({\n                        model: this.address,\n                        hideActions: true,\n                        hideDefaults: true\n                    });\n                }\n            }\n        }    //@method render\n,\n        render: function () {\n            this.application = this.wizard.application;\n            this.profile = this.wizard.options.profile;\n            this.options.application = this.wizard.application;\n            if (this.isActive()) {\n                this._render();\n            }\n        }    //@method getContext @returns {OrderWizard.Module.CartItems.Context}\n,\n        getContext: function () {\n            var lines = this.lines, item_count = _.countItems(lines);\n            //@class OrderWizard.Module.CartItems.Context\n            return {\n                //@property {LiveOrder.Model} model\n                model: this.model,\n                itemCount: item_count    //@property {Boolean} showOpenedAccordion\n,\n                showOpenedAccordion: !!this.options.show_opened_accordion,\n                isAccordionPrimary: !!this.options.is_accordion_primary,\n                showEditCartButton: !!this.options.show_edit_cart_button,\n                showHeaders: !!this.options.show_headers,\n                showMobile: !!this.options.show_mobile,\n                address: this.address,\n                showAddress: !!this.address && this.options.hide_address !== true && !this.wizard.isMultiShipTo()\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module OrderWizard.Module.Shipmethod\ndefine('OrderWizard.Module.ShowShipments', [\n    'Wizard.Module',\n    'Address.Details.View',\n    'OrderWizard.Module.CartItems.Ship',\n    'Backbone.CompositeView',\n    'Backbone.CollectionView',\n    'order_wizard_showshipments_module.tpl',\n    'underscore',\n    'jQuery',\n    'Utils'\n], function (WizardModule, AddressDetailsView, OrderWizardModuleCartItemsShip, BackboneCompositeView, BackboneCollectionView, order_wizard_showshipments_module_tpl, _, jQuery) {\n    'use strict';\n    //@class OrderWizard.Module.ShowShipments @extends Wizard.Module\n    return WizardModule.extend({\n        //@property {Function} template\n        template: order_wizard_showshipments_module_tpl    //@property {Array} errors\n,\n        errors: [\n            'ERR_NOT_SET_SHIPPING_METHODS',\n            'ERR_NOT_SET_SHIPPING_ADDRESS'\n        ],\n        shipMethodIsRequire: {\n            errorMessage: _('Please select a delivery method').translate(),\n            errorCode: 'ERR_NOT_SET_SHIPPING_METHODS'\n        },\n        shipAddressIsRequire: {\n            errorMessage: _('Please select a shipping address').translate(),\n            errorCode: 'ERR_NOT_SET_SHIPPING_ADDRESS'\n        }    //@property {Object} events\n,\n        events: { 'change [data-action=\"change-delivery-options\"]': 'changeDeliveryOptions' },\n        initialize: function () {\n            WizardModule.prototype.initialize.apply(this, arguments);\n            this.application = this.wizard.application;\n            this.options.application = this.wizard.application;\n            this.addressSource = this.options.useModelAddresses ? this.model.get('addresses') : this.wizard.options.profile.get('addresses');\n            BackboneCompositeView.add(this);\n            this.wizard.model.on('ismultishiptoUpdated', this.render, this);\n            this.wizard.model.on('promocodeUpdated', this.render, this);\n        }    //@method isActive\n             //@return {Boolean}\n,\n        isActive: function () {\n            return !this.model.get('ismultishipto') && this.model.getIfThereAreDeliverableItems();\n        },\n        isValid: function () {\n            if (this.model.shippingAddressIsRequired()) {\n                if (!this.model.get('shipmethod')) {\n                    return jQuery.Deferred().reject(this.shipMethodIsRequire);\n                } else if (!this.model.get('shipaddress')) {\n                    return jQuery.Deferred().reject(this.shipAddressIsRequire);\n                }\n            }\n            return jQuery.Deferred().resolve();\n        }    //@method changeDeliveryOptions\n,\n        changeDeliveryOptions: function (e) {\n            var value = this.$(e.target).val(), self = this;\n            this.model.set('shipmethod', value);\n            this.step.disableNavButtons();\n            this.model.save().always(function () {\n                self.render();\n                self.step.enableNavButtons();\n            });\n        }    //@property {Object} childViews\n,\n        childViews: {\n            'Shipping.Address': function () {\n                return new AddressDetailsView({\n                    hideActions: !!this.options.hide_edit_address_button,\n                    hideDefaults: true,\n                    hideRemoveButton: true,\n                    manage: 'shipaddress',\n                    model: this.addressSource.get(this.model.get('shipaddress'))\n                });\n            },\n            'Items.Collection': function () {\n                return new OrderWizardModuleCartItemsShip({\n                    wizard: this.wizard,\n                    exclude_on_skip_step: true,\n                    hide_address: true,\n                    show_opened_accordion: _.isDesktopDevice(),\n                    is_accordion_primary: true,\n                    show_edit_cart_button: !this.options.hide_edit_cart_button,\n                    show_headers: false,\n                    show_mobile: true\n                });\n            }\n        }    //@method getContext\n             //@returns {OrderWizard.Module.ShowShipments.Context}\n,\n        getContext: function () {\n            var self = this, selected_shipmethod = this.model.get('shipmethods').findWhere({ internalid: this.model.get('shipmethod') }), shipping_methods = this.model.get('shipmethods').map(function (shipmethod) {\n                    return {\n                        name: shipmethod.get('name'),\n                        rate_formatted: shipmethod.get('rate_formatted'),\n                        internalid: shipmethod.get('internalid'),\n                        isActive: shipmethod.get('internalid') === self.model.get('shipmethod')\n                    };\n                }), address_source = this.addressSource.get(this.model.get('shipaddress'));\n            //@class OrderWizard.Module.ShowShipments.Context\n            return {\n                //@property {LiveOrder.Model} model\n                model: this.model,\n                showShippingInformation: !!this.model.shippingAddressIsRequired()    //@property {Boolean} showShippingAddress\n,\n                showShippingAddress: !!address_source    //@property {String} editUrl\n,\n                editUrl: this.options.edit_url,\n                showEditButton: !!this.options.edit_url,\n                showSelectedShipmethod: !!selected_shipmethod    //@property {Object} selectedShipmethod\n,\n                selectedShipmethod: selected_shipmethod    //@property {Array} shippingMethods\n,\n                shippingMethods: shipping_methods    //@property {Boolean} showShippingMetod\n,\n                showShippingMetod: !this.options.hideShippingMethod,\n                shippingAddress: !!address_source && address_source.get('fullname')\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @Module OrderWizard.Module.TermsAndConditions\ndefine('OrderWizard.Module.TermsAndConditions', [\n    'SC.Configuration',\n    'Wizard.Module',\n    'order_wizard_termsandconditions_module.tpl',\n    'Backbone',\n    'underscore',\n    'jQuery',\n    'Utils'\n], function (Configuration, WizardModule, order_wizard_termsandconditions_module_tpl, Backbone, _, jQuery) {\n    'use strict';\n    // @class OrderWizard.Module.TermsAndConditions @extends WizardModule\n    return WizardModule.extend({\n        template: order_wizard_termsandconditions_module_tpl,\n        events: {\n            'click [data-toggle=\"show-terms\"]': 'showTerms',\n            'click input[name=\"termsandconditions\"]': 'acceptTerms'\n        },\n        errors: ['ERR_CHK_ACCEPT_TERMS'],\n        initialize: function (options) {\n            this.wizard = options.wizard;\n            this.step = options.step;\n            this.model = options.wizard.model;\n            this.options = _.extend({ show_checkbox: true }, this.options || {});\n        },\n        render: function () {\n            // the module is rendered only if the site requires agreement to the terms and conditions\n            if (Configuration.get('siteSettings.checkout.requiretermsandconditions') === 'T') {\n                this._render();\n                var is_ready = Configuration.get('siteSettings.checkout.requiretermsandconditions') !== 'T' || !this.options.show_checkbox || this.$('input[name=termsandconditions]').is(':checked');\n                this.trigger('ready', is_ready);\n            } else {\n                this.trigger('ready', true);\n            }\n        },\n        submit: function () {\n            var value = Configuration.get('siteSettings.checkout.requiretermsandconditions') !== 'T' || !this.options.show_checkbox || this.$('input[name=termsandconditions]').is(':checked');\n            this.model.set('agreetermcondition', value);\n            return this.isValid();\n        },\n        showTerms: function () {\n            var TermsView = Backbone.View.extend({\n                title: _('Terms and Conditions').translate(),\n                render: function () {\n                    this.$el.html(Configuration.get('siteSettings.checkout.termsandconditionshtml'));\n                    return this;\n                }\n            });\n            this.wizard.application.getLayout().showInModal(new TermsView());\n        },\n        acceptTerms: function (data) {\n            var isSelected = jQuery(data.target).prop('checked'), boxes = jQuery('input[name=termsandconditions]');\n            jQuery.each(boxes, function (index) {\n                jQuery(boxes[index]).prop('checked', isSelected);\n            });\n        },\n        isValid: function () {\n            var promise = jQuery.Deferred(), value = Configuration.get('siteSettings.checkout.requiretermsandconditions') !== 'T' || !this.options.show_checkbox || this.model.get('agreetermcondition');\n            if (!value) {\n                return promise.reject({\n                    errorCode: 'ERR_CHK_ACCEPT_TERMS',\n                    errorMessage: _('You must accept the Terms and Conditions').translate()\n                });\n            } else {\n                return promise.resolve();\n            }\n        }    // @method getContext @return OrderWizard.Module.TermsAndConditions.Context\n,\n        getContext: function () {\n            // @class OrderWizard.Module.TermsAndConditions.Context\n            return {\n                // @property {Boolean} showCheckbox\n                showCheckbox: this.options.show_checkbox,\n                isAgreeTermCondition: this.wizard.model.get('agreetermcondition')    //@property {Boolean} showWrapper\n,\n                showWrapper: !!this.options.showWrapper,\n                wrapperClass: this.options.wrapperClass\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @Module OrderWizard.Module.SubmitButton\ndefine('OrderWizard.Module.SubmitButton', [\n    'Wizard.Module',\n    'order_wizard_submitbutton_module.tpl',\n    'underscore',\n    'Utils'\n], function (WizardModule, order_wizard_submitbutton_module_tpl, _) {\n    'use strict';\n    // @class OrderWizard.Module.SubmitButton @extends WizardModule\n    return WizardModule.extend({\n        template: order_wizard_submitbutton_module_tpl,\n        render: function () {\n            this._render();\n            this.trigger('ready', true);\n        }    // @method getContinueButtonLabel @returns {String}\n,\n        getContinueButtonLabel: function () {\n            var current_step = this.wizard.getCurrentStep(), label = _('Place Order').translate();\n            if (current_step) {\n                label = current_step.getContinueButtonLabel();\n            }\n            return label;\n        }    // @method getContext @return OrderWizard.Module.SubmitButton.Context\n,\n        getContext: function () {\n            // @class OrderWizard.Module.SubmitButton.Context\n            return {\n                //@property {Boolean} showWrapper\n                showWrapper: !!this.options.showWrapper,\n                wrapperClass: this.options.wrapperClass,\n                continueButtonLabel: this.getContinueButtonLabel() || ''\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module QuoteToSalesOrderWizard\ndefine('QuoteToSalesOrderWizard.Module.QuoteDetails', [\n    'Backbone.CompositeView',\n    'Wizard.Module',\n    'quote_to_salesorder_wizard_module_quotedetails.tpl'\n], function (BackboneCompositeView, WizardModule, quote_to_salesorder_wizard_module_quotedetails_tpl) {\n    'use strict';\n    //@class QuoteToSalesOrderWizard.Module.QuoteDetails @extend Wizard.Module\n    return WizardModule.extend({\n        // @property {Function} template\n        template: quote_to_salesorder_wizard_module_quotedetails_tpl    //@method getContext\n                                                              //@return {QuoteToSalesOrderWizard.Module.QuoteDetails.Context}\n,\n        getContext: function () {\n            //@class QuoteToSalesOrderWizard.Module.QuoteDetails.Context\n            return {\n                //property {QuoteToSalesOrder.Model} model\n                model: this.model,\n                quoteId: this.model.get('recordtype') === 'salesorder' && this.model.get('internalid') !== 'tempid' ? this.model.get('createdfrom').internalid : this.model.get('quoteid')    //@property {String} quoteTranId\n,\n                quoteTranId: this.model.get('quoteDetails').tranid ? this.model.get('quoteDetails').tranid : this.model.get('createdfrom').tranid\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module QuoteToSalesOrderWizard\ndefine('QuoteToSalesOrderWizard.Module.Confirmation', [\n    'Wizard.Module',\n    'quote_to_salesorder_wizard_module_confirmation.tpl',\n    'SC.Configuration',\n    'Utils',\n    'Backbone'\n], function (WizardModule, quote_to_salesorder_wizard_module_confirmation_tpl, Configuration, Utils, Backbone) {\n    'use strict';\n    // @class QuoteToSalesOrderWizard.Module.Confirmation @extends Wizard.Module\n    return WizardModule.extend({\n        // @property {Function} template\n        template: quote_to_salesorder_wizard_module_confirmation_tpl    //@method present Override default implementation so when the modules is being rendered we set the salesorderid parameter into the url\n                                                              //@return {Void}\n,\n        present: function () {\n            var confirmation = this.model.get('confirmation') || new Backbone.Model()    // store current order id in the hash so it is available even when the checkout process ends.\n, newHash = Utils.addParamsToUrl(Backbone.history.fragment, { salesorderid: confirmation.get('internalid') });\n            Backbone.history.navigate(newHash, { trigger: false });\n        }    // @method getContext\n             // @return {OrderWizard.Module.Confirmation.Context}\n,\n        getContext: function () {\n            //@class OrderWizard.Module.Confirmation.Context\n            return {\n                //property {QuoteToSalesOrder.Model} model\n                model: this.model,\n                orderId: this.model.get('confirmation').get('internalid')    // @property {String} orderNumber\n,\n                orderNumber: this.model.get('confirmation').get('tranid')    // @property {Boolen} hasSalesrep\n,\n                hasSalesrep: !!this.model.get('quoteDetails').salesrep.internalid,\n                salesrepPhone: this.model.get('quoteDetails').salesrep.phone ? this.model.get('quoteDetails').salesrep.phone : Configuration.get('quote.defaultPhone', '')    // @property {String} salesrepEmail\n,\n                salesrepEmail: this.model.get('quoteDetails').salesrep.email ? this.model.get('quoteDetails').salesrep.email : Configuration.get('quote.defaultEmail', '')    // @property {String} disclaimer\n,\n                disclaimer: Configuration.get('quote.disclaimer', '')\n            };    // @class QuoteToSalesOrderWizard.Module.Confirmation\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module PaymentWizard\ndefine('QuoteToSalesOrderWizard.Module.PaymentMethod.Selector', [\n    'OrderWizard.Module.PaymentMethod.Selector',\n    'underscore',\n    'Utils'\n], function (OrderWizardModulePaymentMethodSelector, _) {\n    'use strict';\n    //@class PaymentWizard.Module.PaymentMethod.Creditcard @extend OrderWizard.Module.PaymentMethod.Creditcard\n    return OrderWizardModulePaymentMethodSelector.extend({\n        className: 'QuoteToSalesOrderWizard.Module.PaymentMethod.Selector',\n        render: function () {\n            if (this.wizard.hidePayment()) {\n                this.$el.empty();\n            } else {\n                OrderWizardModulePaymentMethodSelector.prototype.render.apply(this, arguments);\n            }\n            if (this.selectedModule && !!~this.selectedModule.type.indexOf('external_checkout')) {\n                this.trigger('change_label_continue', _('Continue to External Payment').translate());\n            } else {\n                this.trigger('change_label_continue', _('Submit').translate());\n            }\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module Header\ndefine('Header.Logo.View', [\n    'SC.Configuration',\n    'header_logo.tpl',\n    'Backbone',\n    'Utils'\n], function (Configuration, header_logo_tpl, Backbone, Utils) {\n    'use strict';\n    // @class Header.Logo.View @extends Backbone.View\n    return Backbone.View.extend({\n        // @property {Function} template\n        template: header_logo_tpl    // @method initialize\n                           // @param {Header.LogoView.Initialize.Options} options\n                           // @return {Void}\n                           // @method getContext @return {Header.Logo.View.Context}\n,\n        getContext: function () {\n            // @class Header.Logo.View.Context\n            return {\n                // @property {String} logoUrl\n                logoUrl: Utils.getAbsoluteUrlOfNonManagedResources(Configuration.get('header.logoUrl'))    // @property {String} headerLinkHref\n,\n                headerLinkHref: this.options.headerLinkHref || '/'    // @property {String} headerLinkTouchPoint\n,\n                headerLinkTouchPoint: this.options.headerLinkTouchPoint || 'home'    // @property {String} headerLinkHashtag\n,\n                headerLinkHashtag: this.options.headerLinkHashtag || '#'    // @property {String} headerLinkTitle\n,\n                headerLinkTitle: this.options.headerLinkTitle || SC.ENVIRONMENT.siteSettings.displayname\n            };\n        }\n    });\n});    // @class Header.LogoView.Initialize.Options\n       // @property {String} headerLinkHref This is the URL the header uses\n       // @property {String} headerLinkTouchPoint\n       // @property {String} headerLinkHashtag\n       // @property {String} headerLinkTitle\n","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module Header\ndefine('Header.MiniCartSummary.View', [\n    'LiveOrder.Model',\n    'header_mini_cart_summary.tpl',\n    'Backbone',\n    'underscore'\n], function (LiveOrderModel, header_mini_cart_summary_tpl, Backbone, _) {\n    'use strict';\n    // @class Header.MiniCartSummary.View @extends Backbone.View\n    return Backbone.View.extend({\n        template: header_mini_cart_summary_tpl,\n        initialize: function () {\n            var self = this;\n            this.itemsInCart = 0;\n            this.showPluraLabel = true;\n            this.isLoading = true;\n            LiveOrderModel.loadCart().done(function () {\n                var cart = LiveOrderModel.getInstance();\n                self.itemsInCart = _.reduce(cart.get('lines').pluck('quantity'), function (memo, quantity) {\n                    return memo + (parseFloat(quantity) || 1);\n                }, 0);\n                self.showPluraLabel = self.itemsInCart !== 1;\n                self.isLoading = false;\n                self.render();\n                cart.on('change', function () {\n                    self.render();\n                });\n            });\n            this.on('afterViewRender', function () {\n                self.isLoading && _.ellipsis('.header-mini-cart-summary-cart-ellipsis');\n            });\n        }    // @method getContext @return {Header.MiniCart.View.Context}\n,\n        getContext: function () {\n            // @class Header.MiniCartSummary.View.Context\n            return {\n                // @property {Number} itemsInCart\n                itemsInCart: this.itemsInCart,\n                showPluraLabel: this.showPluraLabel,\n                isLoading: this.isLoading\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module Header\ndefine('Header.MiniCartItemCell.View', [\n    'Transaction.Line.Views.Options.Selected.View',\n    'Profile.Model',\n    'header_mini_cart_item_cell.tpl',\n    'Backbone',\n    'Backbone.CompositeView',\n    'Backbone.CollectionView'\n], function (TransactionLineViewsOptionsSelectedView, ProfileModel, header_mini_cart_item_cell_tpl, Backbone, BackboneCompositeView) {\n    'use strict';\n    // @class Header.MiniCart.View @extends Backbone.View\n    return Backbone.View.extend({\n        template: header_mini_cart_item_cell_tpl,\n        initialize: function () {\n            BackboneCompositeView.add(this);\n        },\n        childViews: {\n            'Item.SelectedOptions': function () {\n                return new TransactionLineViewsOptionsSelectedView({ model: this.model });\n            }\n        }    // @method getContext\n             // @return {Header.MiniCart.View.Context}\n,\n        getContext: function () {\n            // @class Header.MiniCart.View.Context\n            return {\n                line: this.model,\n                itemId: this.model.get('item').id,\n                itemType: this.model.get('item').get('itemtype')    //@property {String} linkAttributes\n,\n                linkAttributes: this.model.getFullLink({\n                    quantity: null,\n                    location: null,\n                    fulfillmentChoice: null\n                })    // @property {ImageContainer} thumbnail\n,\n                thumbnail: this.model.getThumbnail()    // @property {Boolean} isPriceEnabled\n,\n                isPriceEnabled: !ProfileModel.getInstance().hidePrices()    // @property {Boolean} isFreeGift\n,\n                isFreeGift: this.model.get('free_gift') === true\n            };    // @class Header.MiniCart.View\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module Header\ndefine('Header.MiniCart.View', [\n    'LiveOrder.Model',\n    'Header.MiniCartSummary.View',\n    'Header.MiniCartItemCell.View',\n    'Profile.Model',\n    'SC.Configuration',\n    'header_mini_cart.tpl',\n    'underscore',\n    'Backbone',\n    'Backbone.CompositeView',\n    'Backbone.CollectionView',\n    'underscore',\n    'Utils'\n], function (LiveOrderModel, HeaderMiniCartSummaryView, HeaderMiniCartItemCellView, ProfileModel, Configuration, header_mini_cart_tpl, _, Backbone, BackboneCompositeView, BackboneCollectionView) {\n    'use strict';\n    // @class Header.MiniCart.View @extends Backbone.View\n    return Backbone.View.extend({\n        template: header_mini_cart_tpl    //@property {Object} attributes List of HTML attributes applied by Backbone into the $el\n,\n        attributes: {\n            'id': 'Header.MiniCart.View',\n            'data-root-component-id': 'Header.MiniCart.View'\n        },\n        initialize: function initialize() {\n            BackboneCompositeView.add(this);\n            var self = this;\n            this.isLoading = true;\n            this.itemsInCart = 0;\n            this.model = LiveOrderModel.getInstance();\n            LiveOrderModel.loadCart().done(function () {\n                self.isLoading = false;\n                self.render();\n            });\n            this.model.on('change', this.render, this);\n            this.model.get('lines').on('add remove', this.render, this);\n        },\n        render: function render() {\n            this.itemsInCart = this.model.getTotalItemCount();\n            Backbone.View.prototype.render.apply(this, arguments);\n            //on tablet or desktop make the minicart dropdown\n            if (_.isTabletDevice() || _.isDesktopDevice()) {\n                this.$('[data-type=\"mini-cart\"]').attr('data-toggle', 'dropdown');\n            }\n        },\n        destroy: function destroy() {\n            this._destroy();\n            this.model.off('change', this.render, this);\n            this.model.get('lines').off('add remove', this.render, this);\n        },\n        childViews: {\n            'Header.MiniCartSummary': function () {\n                return new HeaderMiniCartSummaryView();\n            },\n            'Header.MiniCartItemCell': function () {\n                return new BackboneCollectionView({\n                    collection: !this.isLoading ? this.model.get('lines') : new Backbone.Collection(),\n                    childView: HeaderMiniCartItemCellView,\n                    viewsPerRow: 1\n                });\n            }\n        }    // @method getContext\n             // @return {Header.MiniCart.View.Context}\n,\n        getContext: function () {\n            var summary = this.model.get('summary');\n            // @class Header.MiniCart.View.Context\n            return {\n                // @property {LiveOrder.Model} model\n                model: this.model,\n                itemsInCart: this.itemsInCart,\n                showPluraLabel: this.itemsInCart !== 1    // @property {Boolean} showLines\n,\n                showLines: this.itemsInCart > 0    // @property {Boolean} isLoading\n,\n                isLoading: this.isLoading,\n                subtotalFormatted: !this.isLoading ? summary && summary.subtotal_formatted : ''    // @property {String} cartTouchPoint\n,\n                cartTouchPoint: Configuration.get('modulesConfig.Cart.startRouter', false) ? Configuration.get('currentTouchpoint') : 'viewcart'    // @property {Boolean} isPriceEnabled\n,\n                isPriceEnabled: !ProfileModel.getInstance().hidePrices()\n            };    // @class Header.MiniCart.View\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module Product\ndefine('Product.Option.Model', [\n    'ProductLine.Option.Model',\n    'Backbone',\n    'underscore',\n    'Utils'\n], function (ProductLineOptionModel, Backbone, _, Utils) {\n    'use strict';\n    //@class Product.Option.Model @extend ProductLine.Option.Model\n    return ProductLineOptionModel.extend({\n        //@method initialize Override default method to convert the current model \"validate-able\"\n        //@return {Void}\n        initialize: function initialize() {\n            ProductLineOptionModel.prototype.initialize.apply(this, arguments);\n            // Extend the model with Backbone.Validation.mixin to validate it without a View\n            _.extend(this, Backbone.Validation.mixin);\n        }    //@property {Object} validation\n,\n        validation: {\n            'value.internalid': {\n                fn: function optionValueValidator() {\n                    var value = this.get('value') && this.get('value').internalid;\n                    if (this.get('isMandatory') && !value) {\n                        return _('Please specify a value for this option').translate();\n                    } else if (value) {\n                        var max_length = 160;\n                        if (this.get('type') === 'text' || this.get('type') === 'textarea') {\n                            if (this.get('isMandatory') && (!Utils.trim(value) || value.length > max_length)) {\n                                return _('Please enter a valid input for this string').translate();\n                            } else if (value.length > max_length) {\n                                return _('Please enter a string shorter (maximum length: $(0))').translate(max_length);\n                            }\n                        } else if (this.get('type') === 'email' && !Backbone.Validation.patterns.email.test(value)) {\n                            return _('Please enter a valid email').translate();\n                        } else if (this.get('type') === 'integer' && !Backbone.Validation.patterns.netsuiteInteger.test(value)) {\n                            return _('Please enter a valid integer number').translate();\n                        } else if (this.get('type') === 'float' && !Backbone.Validation.patterns.netsuiteFloat.test(value)) {\n                            return _('Please enter a valid decimal number').translate();\n                        } else if (this.get('type') === 'currency' && !Backbone.Validation.patterns.netsuiteFloat.test(value)) {\n                            return _('Please enter a valid currency number').translate();\n                        } else if (this.get('type') === 'phone' && !Backbone.Validation.patterns.netsuitePhone.test(value)) {\n                            return _('Please enter a valid phone').translate();\n                        } else if (this.get('type') === 'percent' && !Backbone.Validation.patterns.netsuitePercent.test(value)) {\n                            return _('Please enter a valid percent').translate();\n                        } else if (this.get('type') === 'url' && !Backbone.Validation.patterns.netsuiteUrl.test(value)) {\n                            return _('Please enter a valid url').translate();\n                        } else if (this.get('type') === 'select' && !_.findWhere(this.get('values'), { internalid: value })) {\n                            return _('Please select a valid value for this option').translate();\n                        }\n                    }\n                }\n            }\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module Product\ndefine('Product.Option.Collection', [\n    'Product.Option.Model',\n    'ProductLine.Option.Collection'\n], function (ProductOptionModel, ProductLineOptionCollection) {\n    'use strict';\n    //@class Product.Option.Collection @extend ProductLine.Option.Collection\n    return ProductLineOptionCollection.extend({\n        // @property {Product.Options.Model} model\n        model: ProductOptionModel\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module Product\ndefine('Product.Model', [\n    'Item.Model',\n    'Product.Option.Collection',\n    'ProductLine.Common',\n    'PluginContainer',\n    'SC.Configuration',\n    'underscore',\n    'Backbone',\n    'Utils',\n    'jQuery'\n], function (ItemModel, ProductOptionCollection, ProductLineCommon, PluginContainer, Configuration, _, Backbone, Utils, jQuery) {\n    'use strict';\n    // @class Product.Model A product is an item with state (options selection, quantity, etc) @extends Backbone.Model\n    var ProductModel = Backbone.Model.extend({\n        //@property {Object} validation\n        validation: {\n            'quantity': {\n                fn: function quantityValidator(new_quantity) {\n                    var current_quantity = parseInt(new_quantity, 10), maximum_quantity = this.getItem().get('_maximumQuantity');\n                    if (!_.isNumber(current_quantity) || _.isNaN(current_quantity) || current_quantity < 1) {\n                        return _.translate('Invalid quantity value');\n                    } else if (current_quantity < this.getItem().get('_minimumQuantity')) {\n                        return _.translate('Please add $(0) or more of this item', this.getItem().get('_minimumQuantity'));\n                    } else if (maximum_quantity && current_quantity > maximum_quantity) {\n                        return _.translate('Please add $(0) or less of this item', maximum_quantity);\n                    }\n                }\n            },\n            'options': {\n                fn: function optionsValidator() {\n                    var are_options_with_error = false;\n                    this.get('options').each(function (option) {\n                        are_options_with_error = are_options_with_error || !!option.validate();\n                    });\n                    return are_options_with_error && _.translate('Invalid options values');\n                }\n            }\n        }    //@method initialize Override default initialize method to assure the correct data structure\n             //@param {Object} attributes\n             //@return {Void}\n,\n        initialize: function initialize(attributes) {\n            //Setting options should be done with care of the possible next cases:\n            //clone\t\t\tself.get('options') is a collection\n            //new lines\t\tself.get('options') is undefined\n            //change item\tself.get('options') is a collection\n            var self = this;\n            Backbone.Model.prototype.initialize.apply(this, arguments);\n            //We clone the validation object as we need it to be per instance instead of being a class property\n            this.validation = _.extend({}, this.validation);\n            this.on('change:item', function (model, item) {\n                model.set('item', item instanceof ItemModel ? item : new ItemModel(item), { silent: true });\n                self.initializeOptions(model.isNew() ? self.get('item').get('options').toJSON() : attributes.options);\n            });\n            this.trigger('change:item', this, attributes && attributes.item || {});\n            //Take into account that as we treat the item as a read-only model, this event should only be triggered when the associated item is fetched\n            //ITEM FETCHED\n            this.get('item').on('change', this.onItemChangeUpdateLine, this);\n            if (this.isNew()) {\n                //NEW TRANSACTION LINE\n                this.initializeOptions(attributes && attributes.options || this.get('item').get('options').toJSON() || []);\n            } else {\n                //TRANSACTION LINE LOADED\n                this.initializeOptions(this.get('options'));\n            }\n            // Extend the model with Backbone.Validation.mixin to validate it without a View\n            _.extend(this, Backbone.Validation.mixin);\n        }    //@method _setQuantity Set the product's quantity in a cancelable way\n             //@private\n             //@param {Number} quantity\n             //@param {Array<Object>} args All the parameters of the original set call\n             //@return {jQuery.Deferred}\n,\n        _setQuantity: function _setQuantity(quantity, args) {\n            var self = this;\n            return this.cancelableTrigger('beforeChangeQuantity', quantity).then(function () {\n                Backbone.Model.prototype.set.apply(self, args);\n                self.cancelableTrigger('afterChangeQuantity');\n            }, function () {\n                //Notify stickIt that the quantity was NOT changed\n                self.trigger('change:quantity', self);\n                return jQuery.Deferred().reject();\n            });\n        }    //@method set Override default method to provide control over the setting of the quantity attribute. This allows to cancel this action and perform async operation before it.\n             //@param {Object|String} attributes For documentation on this refer to @link http://backbonejs.org/#Model-set\n             //@return {Product.Model|jQuery.Deferred}\n,\n        set: function set(attributes, value, options) {\n            var args = Array.prototype.slice.call(arguments);\n            if (_.isString(attributes) && attributes === 'quantity' && (!options || !options.silent)) {\n                return this._setQuantity(value, args);\n            } else if (_.isObject(attributes) && _.isNumber(attributes.quantity) && (!value || !value.silent)) {\n                return this._setQuantity(attributes.quantity, args);\n            } else {\n                return Backbone.Model.prototype.set.apply(this, arguments);\n            }\n        },\n        onItemChangeUpdateLine: function onItemChangeUpdateLine() {\n            if (this.isNew()) {\n                this.initializeMinimumQuantity();\n            }\n            this.initializeOptions(this.get('item').get('options').toJSON());\n        }    //@method initializeOptions Set the options passed in as parameter to the options property of the current model\n             //@param {Array<Product.Option.Model.Attributes|Item.Option.Model.Attributes>} options\n             //@return {Void}\n,\n        initializeOptions: function initializeOptions(options) {\n            this.set('options', options instanceof ProductOptionCollection ? options : new ProductOptionCollection(options), { silent: true });\n            this.extendOptionsFromItem(this.get('item'), this);\n            this.setOptionsValidation();\n        }    //@method initializeMinimumQuantity Internal method called when the line's item is fetched, change or when the line is initialized, to set the line quantity\n             //based on the item minimum quantity\n             //@return {Void}\n,\n        initializeMinimumQuantity: function initializeMinimumQuantity() {\n            //Set minimum quantity\n            var line_quantity = this.get('quantity'), minimum_quantity = this.get('item').get('_minimumQuantity') || 1;\n            if (!_.isNumber(line_quantity) || _.isNaN(line_quantity) || line_quantity < minimum_quantity) {\n                line_quantity = minimum_quantity;\n            }\n            this.set('quantity', line_quantity, { silent: true });\n        }    //@method setOptionsValidation Set the validation property of the current line based on the options collection\n             //@return {Void}\n,\n        setOptionsValidation: function setOptionsValidation() {\n            var self = this;\n            self.get('options').each(function (option) {\n                self.validation[option.get('cartOptionId')] = {\n                    fn: function optionValidationFunction(value, cartOptionId, computedState) {\n                        var selected_option = computedState.options.findWhere({ cartOptionId: cartOptionId }), validation = selected_option.validate();\n                        //We use 'value.internalid' as we are validating the complex object 'value' which is of the form {internalid,label}\n                        if (validation && validation['value.internalid']) {\n                            return validation['value.internalid'];\n                        }\n                    }\n                };\n            });\n        }    //@method areAttributesValid\n             //@param {Array<String>} attributes List of attributes to be validated\n             //@param {Object} validators Object containing the Backbone.Validation validators to apply for the current validation\n             //@return {Boolean}\n,\n        areAttributesValid: function areAttributesValid(attributes, validators) {\n            var current_validation = _.extend({}, this.validation);\n            _.extend(this.validation, validators || {});\n            var result = this.isValid(attributes);\n            this.validation = current_validation;\n            return result;\n        }    // @method setOption Takes care of setting an option to the current model. This method is needed as we use StickIt and Backbone.Validation.\n             // We \"need\" to emulate at the line level some temporal properties to make the validation of the PDP.\n             // Apart from the options collection the line has one property per option set, we use the cartOptionId as the property in the line.\n             // @param {String} option_cart_id\n             // @param {String} value Internalid of the selection option in case the selection is over an select type option, otherwise the string value specified\n             // @return {jQuery.Deferred<Product.Option.Model|Boolean>} If the option and the value specified are valid, the selected option is returned, false otherwise\n,\n        setOption: function setOption(option_cart_id, value) {\n            var self = this;\n            return this.cancelableTrigger('beforeChangeOption', option_cart_id, value).then(function () {\n                var selected_option = self.get('options').findWhere({ cartOptionId: option_cart_id }), selected_value = selected_option && _.findWhere(selected_option.get('values'), { internalid: value });\n                if (selected_option) {\n                    if (selected_value) {\n                        selected_option.set('value', {\n                            internalid: selected_value.internalid,\n                            label: selected_value.label\n                        });\n                        self.set(option_cart_id, value);\n                    } else if (value !== null && value !== undefined && value !== '' && selected_option.get('type') !== 'select') {\n                        selected_option.set('value', {\n                            internalid: value,\n                            label: value\n                        });\n                        self.set(option_cart_id, value);\n                    } else {\n                        selected_option.unset('value');\n                        self.unset(option_cart_id);\n                    }\n                    // If it's a matrix, checks for valid combinations\n                    if (selected_option.get('isMatrixDimension') && value && selected_option.get('value')) {\n                        var valid_values_for_selected_option = self.getValidValuesForOption(selected_option), reset = !_.contains(valid_values_for_selected_option, selected_option.get('value').label);\n                        _.each(self.get('options').where({ 'isMatrixDimension': true }), function (option) {\n                            if (reset && option_cart_id !== option.get('cartOptionId')) {\n                                self.setOption(option.get('cartOptionId'), null);\n                            }\n                        });\n                        _.each(self.get('options').where({ 'isMatrixDimension': true }), function (option) {\n                            var valid_values_for_option = self.getValidValuesForOption(option);\n                            _.each(option.get('values'), function (value) {\n                                if (value.isAvailable !== _.contains(valid_values_for_option, value.label)) {\n                                    value.isAvailable = !value.isAvailable;\n                                    self.trigger('change:' + option.get('cartOptionId'), self, self.get(option.get('cartOptionId')));\n                                }\n                            });\n                        });\n                    }\n                }\n                self.cancelableTrigger('afterChangeOption', _.isUndefined(self.get(option_cart_id)) ? false : selected_option.toJSON());\n                //if the option and the value specified are valid, the selected option is returned, false otherwise\n                return jQuery.Deferred().resolve(_.isUndefined(self.get(option_cart_id)) ? false : selected_option);\n            });\n        }    //@method isEqual\n             //@param {Product.Model|Transaction.Line.Model} other_line\n             //@return {Boolean}\n,\n        isEqual: function isEqual(other_line) {\n            var other_line_internalid = _.isFunction(other_line.getItem) ? other_line.getItem().get('internalid') : other_line.get('item').get('internalid');\n            if (other_line && this.getItem().get('internalid') === other_line_internalid) {\n                var extract_options = function (option) {\n                    return {\n                        cartOptionId: option.cartOptionId,\n                        value: option.value\n                    };\n                };\n                var options_this_line = _.map(this.get('options').toJSON(), extract_options);\n                var options_other_line = _.map(other_line.get('options').toJSON(), extract_options);\n                return _.isEqual(options_this_line, options_other_line);\n            }\n            return false;\n        }    //@method getImages Get the images of the the product taking into account the current options selection\n             //@return {Array<ImageContainer>}\n,\n        getImages: function getImages() {\n            var item = this.get('item'), item_images_detail = item.get('itemimages_detail') || {};\n            item_images_detail = item_images_detail.media || item_images_detail;\n            var image_filters = Configuration.get('productline.multiImageOption', []), images_container = this.filterImages(item_images_detail, image_filters), result = Utils.imageFlatten(images_container);\n            return result.length ? result : [{\n                    url: Utils.getThemeAbsoluteUrlOfNonManagedResources('img/no_image_available.jpeg', Configuration.get('imageNotAvailable')),\n                    altimagetext: item.get('_name')\n                }];\n        }    // @method isSelectionComplete\n             // @returns {Boolean} true if all mandatory options are set and valid\n,\n        isSelectionComplete: function isSelectionComplete() {\n            var options = this.get('options').where({ isMandatory: true });\n            return _.all(options, function (option) {\n                return option.isValid(true);\n            });\n        }    // @method getSelectedOptions\n             // @returns {Array<ProductLine.Option.Value>} An array of all the selected option's value\n,\n        getSelectedOptions: function getSelectedOptions() {\n            var selected_options = [];\n            this.get('options').each(function (option) {\n                if (!option.validate()) {\n                    selected_options.push(option.get('value'));\n                }\n            });\n            return selected_options;\n        }    // @method getValidValuesForOption Given an <<option ID?>> this method return  GIVEN AN OPTION IDE WHAT ARE THE AVAILABLE VALUES\n             // @param {Product.Option.Model} option\n             // @returns {Array<Product.Option>} The list of all valid <<<options for the option you passed in>>>\n,\n        getValidValuesForOption: function getValidValuesForOption(option) {\n            var matrix_options = this.getMatrixOptionsSelection();\n            //from all item matrix options selection remove the current dimension\n            delete matrix_options[option.get('itemOptionId')];\n            return _.uniq(_.map(this.getSelectedMatrixChilds(matrix_options), function (model) {\n                return model.get(option.get('itemOptionId'));\n            }));\n        }    // @method getMatrixOptionsSelection Get all selected option by using sourcefrom and label\n             // @returns {Product.OptionHelper.MatrixSelection} an object of all the matrix options with its values set (DICTIONARY <STRING: OPTION_ID, STRING: VALUE.LABEL>)\n,\n        getMatrixOptionsSelection: function getMatrixOptionsSelection() {\n            //@class Product.OptionHelper.MatrixSelection @extend Dictionary<String,String>\n            // #Description\n            // This class represents the selected option in the current line.\n            // IMPORTANT: When the Search API returns Matrix Items the property matrixchilditems_detail contains all valid children. These children\n            // are identified by its itemid (like itemid = \"Mendelevium-N-N\") or by the list of properties it has. Given an Item that is a matrix child it will\n            // contains one property for each dimension (option), THE KEY POINT IS THAT EACH OF THIS PROPERTIES is the sourcefrom property of each option.\n            // Item Returned from the search API:\n            // \t...\n            // \tdisplayname: \"Mendelevium\"\n            // \tfeatureddescription: \"\"\n            // \tinternalid: 320\n            // \titemid: \"Mendelevium\"\n            // \titemimages_detail: {}\n            // \titemoptions_detail: {matrixtype: \"parent\",…}\n            // \t\tfields: [\t\t\t\t\t\t\t\t\t\t<< ITEM OPTIONS\n            // \t\t\t{\n            // \t\t\t\tinternalid: \"custcol7\"\n            // \t\t\t\tismandatory: true\n            // \t\t\t\tismatrixdimension: true\n            // \t\t\t\tlabel: \"Radioactive level\"\n            // \t\t\t\tsourcefrom: \"custitem7\"\t\t\t\t\t<< OPTION sourcefrom\n            // \t\t\t\ttype: \"select\"\n            // \t\t\t\tvalues: [{label: \"- Select -\"},…]\n            // \t\t\t1: {…}\n            // \t\t]\n            // \tmatrixtype: \"parent\"\n            // \titemtype: \"NonInvtPart\"\n            // \tmatrixchilditems_detail: [\n            // \t\t{\n            // \t\t\tcustitem7: \"None\"\t\t\t\t\t\t\t<<< THIS PROPERTY custitem7 is obtained from the item options. The value is the LABE of the related option\n            // \t\t\tcustitem8: \"Healthy\"\n            // \t\t\tinternalid: 321\n            // \t\t\tisbackorderable: true\n            // \t\t\tisinstock: true\n            // \t\t\tispurchasable: true\n            // \t\t\titemid: \"Mendelevium-N-H\"\n            // \t\t\titemtype: \"NonInvtPart\"\n            // \t\t\tonlinecustomerprice_detail: {onlinecustomerprice_formatted: \"$12.00\", onlinecustomerprice: 12,…}\n            // \t\t\toutofstockmessage: \"\"\n            // \t\t\tshowoutofstockmessage: false\n            // \t\t1: {isinstock: true, itemid: \"Men...\n            //\n            // \t#Class Properties\n            // \tKey: Option sourcefrom\n            // \tValue: Selected option value label\n            var matrix_options = this.get('options').where({ isMatrixDimension: true }), result = {};\n            _.each(matrix_options, function (matrix_option) {\n                // var set_value = self.get(matrix_option.get('cartOptionId'));\n                var set_value = matrix_option.get('value');\n                // if this option have been set in the current line\n                if (set_value) {\n                    //Remember that at each option the property itemOptionId is in fact the sourcefrom. See the class Product.Option\n                    //This line set the label of the selected option (based on he fact the we set option by setting its internalid)\n                    // result[matrix_option.itemOptionId] = _.findWhere(matrix_option.values, {internalid: set_value}).label;\n                    result[matrix_option.get('itemOptionId')] = set_value.label;\n                }\n            });\n            // <OPTION:SOURCE ID, SELECTED LABEL>\n            return result;\n        }    // @method getSelectedMatrixChilds Returns all child item that apply for the passed in selection\n             // @param {Product.OptionHelper.MatrixSelection} matrix_options\n             // @returns {Array<Item.Model>} All the children of a matrix that complies with the current or passed in selection\n,\n        getSelectedMatrixChilds: function getSelectedMatrixChilds(matrix_options) {\n            var item_matrix_children = this.get('item').get('_matrixChilds');\n            //This is a collection of items!!\n            //but these items only have a subset of the item options (only those options on the matrixchilditems_detail field set!)\n            if (!item_matrix_children) {\n                return [];\n            }\n            matrix_options = matrix_options || this.getMatrixOptionsSelection();\n            var selection_key = JSON.stringify(matrix_options);\n            this.matrixSelectionCache = this.matrixSelectionCache || {};\n            // Caches the entry for the item\n            if (!this.matrixSelectionCache[selection_key]) {\n                //IF there are option selected THEN get all child items that complies for the current selection ELSE get ALL child items\n                this.matrixSelectionCache[selection_key] = _.values(matrix_options).length ? item_matrix_children.where(matrix_options) : item_matrix_children.models;\n            }\n            return this.matrixSelectionCache[selection_key];\n        }    //@method getItemId Gets the id of the current selected item\n             //@return {Sting}\n,\n        getItemId: function getItemId() {\n            return this.getItem().get('_id');\n        }    //@method getItem Gets the current selected item\n             //@return {Item.Model}\n,\n        getItem: function getItem() {\n            var item = this.get('item'), children = this.getSelectedMatrixChilds();\n            if (children && children.length === 1) {\n                item = children[0];\n            }\n            return item;\n        }    //@method getStockInfo\n             //@return {Item.StockInfo}\n,\n        getStockInfo: function getStockInfo() {\n            return this.get('item').getStockInfo(this.getSelectedMatrixChilds(), this.getMatrixOptionsSelection());\n        }    //@method getPrice Returns the object specifying the price of the current selection\n             //@return {ItemPrice}\n,\n        getPrice: function getPrice() {\n            return this.get('item').getPrice(this.get('quantity'), this.getSelectedMatrixChilds());\n        }\n    }, {\n        //@method createFromTransactionLine Creates a new product from a transaction line\n        //@param {Transaction.Line.Model} transaction_line\n        //@return {Product.Model}\n        //@static\n        createFromTransactionLine: function createFromTransactionLine(transaction_line) {\n            var attributes = transaction_line.toJSON();\n            delete attributes.internalid;\n            _.each(attributes.options, function (option) {\n                option.values = transaction_line.get('options').findWhere({ cartOptionId: option.cartOptionId }).get('values');\n            });\n            return new ProductModel(attributes);\n        }\n    });\n    ProductModel.prototype = _.extend(ProductModel.prototype, ProductLineCommon);\n    return ProductModel;\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module ProductList\n// ProductList.Item.Model\ndefine('ProductList.Item.Model', [\n    'Product.Model',\n    'Item.Model',\n    'underscore',\n    'Backbone',\n    'Utils'\n], function (ProductModel, Item, _, Backbone) {\n    'use strict';\n    function validateLength(value, name) {\n        var max_length = 300;\n        if (value && value.length > max_length) {\n            return _('$(0) must be at most $(1) characters').translate(name, max_length);\n        }\n    }\n    // @class ProductList.Item.Model @extends Product.Model\n    var ProductListItemModel = ProductModel.extend({\n        urlRoot: _.getAbsoluteUrl('services/ProductList.Item.Service.ss'),\n        defaults: {\n            priority: {\n                id: '2',\n                name: 'medium'\n            },\n            options: ''\n        }    // Name is required\n,\n        validation: _.extend({}, ProductModel.prototype.validation, {\n            name: {\n                required: true,\n                msg: _('Name is required').translate()\n            },\n            description: { fn: validateLength }\n        }),\n        className: 'ProductList.Item.Model'    // redefine url to avoid possible cache problems from browser\n,\n        url: function () {\n            var base_url = Backbone.Model.prototype.url.apply(this, arguments), product_list = this.get('productList'), url_params = { t: new Date().getTime() };\n            if (product_list && product_list.owner) {\n                url_params.user = product_list.owner;\n            }\n            return _.addParamsToUrl(base_url, url_params);\n        }    // @method initialize Overrides default method because in vinson optional item options with undefined value\n             // were not accepted and now they are.\n             // @constructor\n,\n        initialize: function (attributes) {\n            // This work around was made to maintain the compatility with product lists saving the child item in the record\n            if (attributes && attributes.item && attributes.item.matrix_parent) {\n                attributes.item = _.extend(attributes.item, attributes.item.matrix_parent);\n                delete attributes.item.matrix_parent;\n            }\n            var item_aux = new Item(attributes.item), item_options = item_aux.get('options');\n            item_options.each(function (item_option, i) {\n                var option = _.findWhere(attributes.options, { 'cartOptionId': item_option.get('cartOptionId') });\n                if (!option) {\n                    attributes.options.push(item_option.toJSON());\n                } else if (_.isObject(option.value) && _.isEmpty(option.value)) {\n                    attributes.options[i] = item_option.toJSON();\n                }\n            });\n            ProductModel.prototype.initialize.apply(this, arguments);\n        }    // @method getOptionsArray Returns options as an array. This is the way ItemDetailModel expects when initialized. @return {Array<Object>}\n,\n        getOptionsArray: function () {\n            // Iterate on the stored Product List Item options and create an id/value object compatible with the existing options renderer...\n            var option_values = [], selected_options = this.get('options');\n            _.each(selected_options, function (value, key) {\n                option_values.push({\n                    id: key,\n                    value: value.value,\n                    displayvalue: value.displayvalue\n                });\n            });\n            return option_values;\n        }    // @method fulfillsMinimumQuantityRequirement Returns true if a product can be purchased due to minimum quantity requirements. @returns {Boolean}\n,\n        fulfillsMinimumQuantityRequirement: function () {\n            return this.get('item').get('_minimumQuantity') <= this.get('quantity');\n        },\n        fulfillsMaximumQuantityRequirement: function () {\n            return this.get('item').get('_maximumQuantity') ? this.get('item').get('_maximumQuantity') >= this.get('quantity') : true;\n        }    // @method getItemForCart Gets the ProductModel for the cart options_details should be passed together with options values,\n             // otherwise they will not be validated and not set!!!\n             // @return {internalid:String,quantity:Number,options:Object,options:Object}\n,\n        getItemForCart: function (id, qty, options_details, options) {\n            return new ProductModel({\n                internalid: id,\n                quantity: qty,\n                _optionsDetails: options_details,\n                options: options\n            });\n        }    // @method getMatrixItem Gets the subitem which properties has the values passed as parameters\n             // @return matrix subitem model\n,\n        getMatrixItem: function (optionsSelected, optionsAvailable) {\n            var objSearch = {};\n            _.each(_.keys(optionsSelected), function (option) {\n                var optionName = _.findWhere(optionsAvailable, { 'cartOptionId': option }).itemOptionId;\n                objSearch[optionName] = optionsSelected[option].label;\n            });\n            return _.findWhere(this.item.matrixchilditems_detail, objSearch);\n        }    // @method isMatrixChild\n             // @return true if this item is matrix\n,\n        isMatrixChild: function () {\n            return this.item && this.item.matrix_parent && this.item.itemoptions_detail ? true : false;\n        },\n        clone: function clone() {\n            return new ProductListItemModel(this.toJSON());\n        },\n        toJSON: function toJSON() {\n            var result = ProductModel.prototype.toJSON.apply(this, arguments), self = this;\n            result.description = this.get('description');\n            result.productList = this.get('productList');\n            result.priority = this.get('priority');\n            result.created = this.get('created');\n            result.createddate = this.get('createddate');\n            result.lastmodified = this.get('lastmodified');\n            result.item.internalid = this.getItem().get('internalid');\n            _.each(result.options, function (option) {\n                var opt = self.get('options').findWhere({ cartOptionId: option.cartOptionId });\n                option.values = opt && opt.get('values');\n            });\n            return result;\n        },\n        getItemId: function () {\n            //We override this method from the Product.Model so when generating the JSON representation of this model\n            //we always return the parent item id\n            return this.get('item').get('internalid');\n        }\n    }, {\n        //@method createFromProduct\n        //@param {Product.Model} product\n        //@return {ProductList.Item.Model}\n        createFromProduct: function (product) {\n            var attributes = product.toJSON();\n            delete attributes.internalid;\n            _.each(attributes.options, function (option) {\n                option.values = product.get('options').findWhere({ cartOptionId: option.cartOptionId }).get('values');\n            });\n            attributes.item = product.get('item').toJSON();\n            return new ProductListItemModel(attributes);\n        }    //@method createFromProduct\n             //@param {Product.Model} product\n             //@return {ProductList.Item.Model}\n,\n        createFromTransactionLine: function (transaction_line) {\n            var attributes = transaction_line.toJSON();\n            delete attributes.internalid;\n            _.each(attributes.options, function (option) {\n                option.values = transaction_line.get('options').findWhere({ cartOptionId: option.cartOptionId }).get('values');\n            });\n            return new ProductListItemModel(attributes);\n        }\n    });\n    return ProductListItemModel;\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module Product\ndefine('Product.Collection', [\n    'Product.Model',\n    'Backbone'\n], function (ProductModel, Backbone) {\n    'use strict';\n    // @class Product.Collection @extends Backbone.Collection\n    return Backbone.Collection.extend({\n        // @property {Product.Model} model\n        model: ProductModel\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module ProductList\n// ProductList.Item.Collection.js\n// -----------------------\n// Product List collection\ndefine('ProductList.Item.Collection', [\n    'ProductList.Item.Model',\n    'Product.Collection',\n    'underscore',\n    'Utils'\n], function (ProductListItemModel, ProductCollection, _) {\n    'use strict';\n    // @class ProductList.Item.Collection @extends Product.Collection\n    return ProductCollection.extend({\n        model: ProductListItemModel,\n        url: _.getAbsoluteUrl('services/ProductList.Item.Service.ss'),\n        initialize: function (options) {\n            ProductCollection.prototype.initialize.apply(this, arguments);\n            this.options = options;\n        }    // @method update custom method called by ListHeader view it receives the currently applied filter, currently applied sort and currently applied order\n,\n        update: function (options) {\n            this.fetch({\n                data: {\n                    productlistid: this.productListId,\n                    internalid: null,\n                    sort: options.sort.value,\n                    order: options.order,\n                    page: options.page\n                },\n                reset: true,\n                killerId: options.killerId\n            });\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module ProductList\ndefine('ProductList.Model', [\n    'ProductList.Item.Collection',\n    'underscore',\n    'Backbone',\n    'Utils'\n], function (ProductListItemCollection, _, Backbone) {\n    'use strict';\n    function validateLength(value, name) {\n        var max_length = 300;\n        if (value && value.length > max_length) {\n            return _('$(0) must be at most $(1) characters').translate(name, max_length);\n        }\n    }\n    function validateName(value, name) {\n        if (!value) {\n            return _('Name is required').translate();\n        }\n        return validateLength(value, name);\n    }\n    // @class ProductList.Model Model for handling Product Lists (CRUD) @extends Backbone.Model\n    return Backbone.Model.extend({\n        urlRoot: _.getAbsoluteUrl('services/ProductList.Service.ss'),\n        defaults: {\n            name: '',\n            description: '',\n            items: new ProductListItemCollection(),\n            scopeId: '2',\n            scopeName: 'private',\n            typeId: '1',\n            typeName: 'default'\n        },\n        validation: {\n            name: { fn: validateName },\n            description: { fn: validateLength }\n        }    // redefine url to avoid possible cache problems from browser\n,\n        url: function () {\n            var base_url = Backbone.Model.prototype.url.apply(this, arguments), url_params = { t: new Date().getTime() };\n            return _.addParamsToUrl(base_url, url_params);\n        },\n        initialize: function (attributes) {\n            this.on('change:items', function (model, items) {\n                if (model.previous('items') instanceof ProductListItemCollection) {\n                    model.set('items', model.previous('items'), { silent: true });\n                    model.get('items').reset(items);\n                } else {\n                    model.set('items', new ProductListItemCollection(items), { silent: true });\n                }\n            });\n            this.trigger('change:items', this, attributes && attributes.items || []);\n        }    // @method checked Returns true if an item with id: pli_to_add_id and options: pli_to_add_options is already in this product list. Options could be empty. @param {String} item_to_add_id @param {Object}item_to_add_options\n,\n        checked: function (line) {\n            return !!this.get('items').find(function (product_list_line) {\n                return product_list_line.isEqual(line);\n            });\n        }    // @method getOutOfStockItems Returns all the items which are out of stock.\n             // @param {ProductList.Item.Collection} items_to_check\n             // @returns {ProductList.Item.Collection}\n,\n        getOutOfStockItems: function (items_to_check) {\n            var items = !_.isUndefined(items_to_check) ? items_to_check : this.get('items');\n            return items.filter(function (product_list_item) {\n                return !product_list_item.get('item').get('_isPurchasable');\n            });\n        }    // @method getNotPurchasableItemsDueToMinimumQuantity @param {ProductList.Item.Collection} items_to_check @returns {ProductList.Item.Collection} Returns all the items which do not fulfill minimum quantity requirements.\n,\n        getNotPurchasableItemsDueToMinimumQuantity: function (items_to_check) {\n            var items = !_.isUndefined(items_to_check) ? items_to_check : this.get('items');\n            return items.filter(function (product_list_item) {\n                return !product_list_item.fulfillsMinimumQuantityRequirement();\n            });\n        }    // @method someCheckedItemsExist Returns true if at least one item is checked. @return{Boolean}\n,\n        someCheckedItemsExist: function () {\n            return this.get('items').some(function (product_list_item) {\n                return product_list_item.get('checked');\n            });\n        }    // @method canBeAddedToCart Returns true if the the items in the product list can be added to the cart by the following conditions:\n             // 1.- Items > 0\n             // 2.- No out of stock items\n             // 3.- No items which do not fulfill minimum quantity items\n             // only_checked_items determines if we are considering only checked items.\n             // @param {Boolean} only_checked_items @return {Boolean}\n,\n        canBeAddedToCart: function (only_checked_items) {\n            var items = !_.isUndefined(only_checked_items) ? new Backbone.Collection(this.get('items').filter(function (product_list_item) {\n                return product_list_item.get('checked');\n            })) : this.get('items');\n            return items.length && this.getOutOfStockItems(items).length === 0 && this.getNotPurchasableItemsDueToMinimumQuantity(items).length === 0;\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module ProductList\ndefine('ProductList.Collection', [\n    'ProductList.Model',\n    'underscore',\n    'Backbone',\n    'Utils'\n], function (ProductListModel, _, Backbone) {\n    'use strict';\n    // @class ProductList.Collection @extends Backbone.Collection\n    return Backbone.Collection.extend({\n        url: _.getAbsoluteUrl('services/ProductList.Service.ss'),\n        model: ProductListModel    // Filter based on the iterator and return a collection of the same type\n,\n        filtered: function (iterator) {\n            return new this.constructor(this.filter(iterator));\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module ProductList\ndefine('ProductList.ControlItem.View', [\n    'product_list_control_item.tpl',\n    'jQuery',\n    'Backbone'\n], function (product_list_control_item_tpl, jQuery, Backbone) {\n    'use strict';\n    // @class ProductList.ControlItem.View @extends Backbone.View\n    return Backbone.View.extend({\n        tagName: 'li',\n        template: product_list_control_item_tpl,\n        events: { 'click [data-action=\"product-list-item\"]': 'pListItemHandler' },\n        initialize: function (options) {\n            this.model = options.model;\n            //\tProductList.Model\n            this.line = options.product;\n            //\tProduct.Model\n            this.application = options.application;\n            this.parentView = options.parentView;\n        }    // @method checked Determines if an item is checked if the item belongs the list\n             // Whilst on move mode, returns always false @return {Boolean}\n,\n        checked: function () {\n            return this.parentView.mode !== 'move' ? this.model.checked(this.line) : false;\n        }    // @method pListItemHandler dispatch mouse event - if move mode enabled, move the item, if not, an item is added/removed from a list\n,\n        pListItemHandler: function (e) {\n            var self = this, checkbox = jQuery(e.target);\n            if (self.parentView.mode === 'move') {\n                self.moveProduct();\n            } else {\n                self.addRemoveProduct(checkbox);\n            }\n        }    // @method moveProduct Moves an item to another list\n,\n        moveProduct: function () {\n            this.parentView.moveProductHandler(this.model);\n        }    // @method addRemoveProduct Adds/removes an item from a list @param {jQuery} checkbox\n,\n        addRemoveProduct: function ($checkbox) {\n            if ($checkbox.is(':checked')) {\n                // add to list\n                this.parentView.addItemToList(this.line, this.model);\n            } else {\n                // remove from list\n                this.removeItemFromList(this.line);\n            }\n        }    // @method removeItemFromList Remove a line list item from the product list\n             // @param {Item.Model} product\n,\n        removeItemFromList: function (line) {\n            var self = this, selected_line = self.model.get('items').find(function (product_list_line) {\n                    return product_list_line.isEqual(line);\n                });\n            if (selected_line) {\n                selected_line.set('productList', {\n                    id: self.model.get('internalid'),\n                    owner: self.model.get('owner').id\n                });\n                self.model.get('items').remove(selected_line);\n                selected_line.destroy().done(function () {\n                    self.model.collection.trigger('changed');\n                    self.parentView.render();\n                    self.parentView.hideConfirmationMessage();\n                });\n            } else {\n                self.parentView.render();\n            }\n        }    // @method getContext @return {ProductList.ControlItem.View.Context}\n,\n        getContext: function () {\n            return {\n                // @class ProductList.ControlItem.View.Context\n                // @property {Boolean} isMoving\n                isMoving: this.parentView.mode === 'move'    // @property {Boolean} isChecked\n,\n                isChecked: this.checked()    // @property {Boolean} isTypePredefined\n,\n                isTypePredefined: this.model.get('typeName') === 'predefined'    // @property {String} itemName\n,\n                itemName: this.model.get('name')    // @property {String} listId\n,\n                listId: this.model.get('internalid')\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module ProductList\ndefine('ProductList.ControlNewItem.View', [\n    'ProductList.Item.Collection',\n    'product_list_control_new_item.tpl',\n    'jQuery',\n    'Backbone',\n    'Backbone.FormView'\n], function (ProductListItemCollection, product_list_control_new_item_tpl, jQuery, Backbone, BackboneFormView) {\n    'use strict';\n    // @class ProductList.ControlNewItem.View @extends Backbone.View\n    return Backbone.View.extend({\n        tagName: 'div',\n        template: product_list_control_new_item_tpl,\n        events: {\n            'submit [data-action=\"create-and-move\"]': 'createMoveList',\n            'click [data-action=\"show-add-new-list-form\"]': 'showNewListForm'\n        },\n        bindings: { '[name=\"name\"]': 'name' },\n        initialize: function (options) {\n            this.application = options.application;\n            this.model = options.model;\n            this.parentView = options.parentView;\n            BackboneFormView.add(this);\n        }    // Handle save new product list form postback\n,\n        createMoveList: function (event) {\n            if (!this.parentView.validateGiftCertificate(this.parentView.product)) {\n                return;\n            }\n            var self = this, save_promise = this.saveForm(event);\n            if (!save_promise) {\n                return;\n            }\n            save_promise.done(function () {\n                var new_product_list = self.model, parent_view = self.parentView;\n                new_product_list.set('items', new ProductListItemCollection(new_product_list.get('items').toJSON()));\n                // add the product list item\n                if (parent_view.mode === 'move') {\n                    // create new list\n                    parent_view.moveProductHandler(new_product_list);\n                    parent_view.collection.add(self.model, { merge: true });\n                } else {\n                    parent_view.collection.add(new_product_list);\n                    parent_view.addNewProductToList(new_product_list);\n                }\n            });\n        }    // @method showNewListForm Shows the create new list form\n,\n        showNewListForm: function (e) {\n            e && e.stopPropagation();\n            var $el = jQuery(this.el);\n            var new_list_form = $el.find('form[data-type=\"product-list-control-add-new-list-form\"]');\n            if (new_list_form) {\n                new_list_form.show();\n                this.$('[data-type=\"new-product-list-name\"]').focus();\n                $el.find(e.target).hide();\n            }\n        }    // @method getContext @return {ProductList.ControlNewItem.View.Context}\n,\n        getContext: function () {\n            return {\n                // @class ProductList.ControlNewItem.View.Context\n                // @property {Boolean} isMoving\n                isMoving: this.parentView.mode === 'move'\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module MenuTree\ndefine('MenuTree.Node.View', [\n    'Backbone.CompositeView',\n    'Backbone.CollectionView',\n    'menu_tree_node.tpl',\n    'Backbone'\n], function (BackboneCompositeView, BackboneCollectionView, menu_tree_node_tpl, Backbone) {\n    'use strict';\n    //@class MenuTree.Node.View @extends Backbone.View\n    var MenuTreeNodeView = Backbone.View.extend({\n        //@propery {Function} template\n        template: menu_tree_node_tpl    //@method initialize\n,\n        initialize: function (options) {\n            this.node = options.model;\n            this.level = options.level;\n            BackboneCompositeView.add(this);\n        }    //@propery {Object} childViews\n,\n        childViews: {\n            'MenuItems.Collection': function () {\n                return new BackboneCollectionView({\n                    collection: this.node.get('children'),\n                    childView: MenuTreeNodeView,\n                    viewsPerRow: 1,\n                    childViewOptions: { level: this.level + 1 }\n                });\n            }\n        }    //@method getContext @returns MenuTree.Node.View.Context\n,\n        getContext: function () {\n            // @class MenuTree.Node.View.Context\n            return {\n                //@propery {Model} node\n                node: this.node,\n                level: this.level\n            };\n        }\n    });\n    return MenuTreeNodeView;\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module MenuTree\ndefine('MenuTree.View', [\n    'Backbone.CompositeView',\n    'Backbone.CollectionView',\n    'MenuTree.Node.View',\n    'Singleton',\n    'menu_tree.tpl',\n    'Backbone',\n    'underscore',\n    'jQuery'\n], function (BackboneCompositeView, BackboneCollectionView, MenuTreeNodeView, Singleton, menu_tree_tpl, Backbone, _, jQuery) {\n    'use strict';\n    // @class MenuTree.View Implements the tree menu items that is present in MyAccount. It's a Singleton. @extends Backbone.View\n    return Backbone.View.extend({\n        // @property {Function} template\n        template: menu_tree_tpl    /*@property {Array<MenuItem>} menuItems\n\n\t\tMy Account has support for a gloabally accesible Menu. See *MenuItem methods.\n\t\tModules are able to publish their own menu entries without the need to update a central list\n\t\tThe format of a menu item is the following. Note that all property values support a function\n\t\tthat accepts this application and returns the native value (useful for dynamic values):\n\t\t\n\t\t\tid: 'mymodule1'\n\t\t\t\n\t\t\tname: _('My Module 1').translate() // the label for this module.\n\t\t\t\n\t\t\turl: 'mymodule1' // if not null the item will be represented with an anchor that will navigate\n\t\t\t\t\tto this url. If falsy there will be no navigation for this item (useful for multi-level menues).\n\t\t\t\n\t\t\tindex: 9 // index number in the menu from top to bottom, lower values are on top.\n\t\t\t\n\t\t\tchildren: // [{name: 'Child1', url: '/child1'}, ...] an array of children menu items. Notice that,\n\t\t\t\t\tfor children declarations, all these properties are taken in account recursively, including\n\t\t\t\t\t'index' and more (sub)'childrens'. By default, this is presented in a tree-view.\n\n\t\twhile this.menuItems are the original user values (that can contain functions yet to evaluate)\n\t\tthis.fixedMenuItems = this.getFixedMenuItems() is a clone of the entire tree but with the fixed\n\t\tvalues and sorted, this is, with functions already evaluated so safe to use in the UI.\n\n\t\tNotice that this calculation is made in render() so dynamic re-calcalculations are supported. See this.updateMenuItemsUI()\n\n\t\t@class MenuItem menu item definitions for myaccount nav bar. Al properties can be a function that accepts the current application instance for supporting dynamic values.\n\t\t@property {String|Function} id the id for this menu item\n\t\t@property {String|Function} name the id for this menu item the label for this module.\n\t\t@property {String|Function} url if not null the item will be represented with an anchor that will navigate to this url. ç\n\t\tIf falsy there will be no navigation for this item (useful for multi-level menus).\n\t\t@property {Number|Function} index the id for this menu item\n\t\t@property {Array<MenuItem>} children an array of children menu items. Notice that, for children declarations, all these properties are taken in account recursively, including\n\t\t'index' and more (sub)'childrens'. By default, this is presented in a tree-view.\n\t\t*/,\n        menuItems: [],\n        events: { 'click [data-action=\"expander\"]': 'menuClick' }    // @method initialize\n,\n        initialize: function () {\n            BackboneCompositeView.add(this);\n        },\n        render: function () {\n            this.fixedMenuItems = this.getFixedMenuItems();\n            Backbone.View.prototype.render.apply(this, arguments);\n        }    // @method menuClick Note: cant use bootstrap collapse due to the divs introduced by collection view. @param {HTMLEvent} e\n,\n        menuClick: function (e, synthetic) {\n            var target = jQuery(e.currentTarget), this_expander = target.next('[data-type=\"menu-tree-node-expander\"]'), this_expander_is_opened = this_expander.hasClass('in'), this_expandable = target.closest('[data-type=\"menu-tree-node-expandable\"]'), all_expandables = this.$('[data-type=\"menu-tree-node-expandable\"]');\n            all_expandables.removeClass('open');\n            this_expandable.addClass('open');\n            //if inside a closed expander: close others open this one\n            var expanding_expander = this.$(target.data('target'));\n            if (!this_expander_is_opened) {\n                var open_expanders = this.$('[data-type=\"menu-tree-node-expander\"].in');\n                jQuery.fn.collapse.call(open_expanders, 'hide');\n                jQuery.fn.collapse.call(expanding_expander, 'show');\n            }\n            if (synthetic === undefined && this_expander_is_opened) {\n                jQuery.fn.collapse.call(expanding_expander, 'hide');\n                this_expandable.removeClass('open');\n            }\n        }    // @method updateSidebar @param {String} label\n,\n        updateSidebar: function (label) {\n            this.currentLabel = label || this.currentLabel;\n            var target = this.$('[data-id=\"' + this.currentLabel + '\"]'), target_expandable = target.closest('[data-type=\"menu-tree-node-expandable\"]'), anchors = this.$('[data-id]');\n            //remove active for all anchors and add for this one\n            anchors.removeClass('active');\n            target.addClass('active');\n            //triggers click for the correct expander\n            target_expandable.find('[data-action=\"expander\"]:first').trigger('click', { synthetic: true });\n            //edge case for home, should close other expanders\n            if (label === 'home') {\n                var all_expandables = this.$('[data-type=\"menu-tree-node-expandable\"]'), open_expanders = this.$('[data-type=\"menu-tree-node-expander\"].in');\n                all_expandables.removeClass('open');\n                jQuery.fn.collapse.call(open_expanders, 'hide');\n            }\n        }    // @method getFixedMenuItems @return {Array<Object>}\n,\n        getFixedMenuItems: function () {\n            var self = this, fixed = null, parent = null, parsed_menu_items = [], menu_items_with_parent = [];\n            _.each(this.menuItems, function (item) {\n                // we are ignoring no-value menu item definitions\n                fixed = item && self.fixMenuItems(item);\n                if (fixed) {\n                    parsed_menu_items.push(fixed);\n                    if (fixed.parent) {\n                        menu_items_with_parent.push(fixed);\n                    }\n                }\n            });\n            // Add outsider children to parent menu items.\n            _.each(menu_items_with_parent, function (menu_item) {\n                parent = _.findWhere(parsed_menu_items, { id: menu_item.parent });\n                if (parent) {\n                    if (!_.findWhere(parent.children, { id: menu_item.id })) {\n                        parent.children.push(menu_item);\n                        parent.children = self.sortMenuItems(parent.children);\n                    }\n                    parsed_menu_items = _.without(parsed_menu_items, menu_item);\n                }\n            });\n            return this.sortMenuItems(parsed_menu_items);\n        }    // @method sortMenuItems sorts menu items by index and then by name @return {Array<MenuItem>}\n,\n        sortMenuItems: function (menu_items) {\n            return menu_items.sort(function (item1, item2) {\n                if (item1.index !== item2.index) {\n                    return item1.index - item2.index;\n                } else {\n                    return item1.name > item2.name ? 1 : -1;\n                }\n            });\n        }    // @method addMenuItem Appends an menu item to the collection @param {Array<MenuItem>} items\n,\n        addMenuItem: function (items) {\n            var self = this;\n            items = _.isArray(items) ? items : [items];\n            _.each(items, function (item) {\n                self.menuItems.push(item);\n            });\n        }    // method fixMenuItems recursive! @param {MenuItem} item_\n,\n        fixMenuItems: function (item_) {\n            var self = this, item = self.fixMenuItem(item_);\n            if (item && _.isArray(item.children)) {\n                item.children = _.map(item.children, function (children_item) {\n                    return self.fixMenuItems(children_item);\n                });\n            }\n            return item;\n        }    // @method menuItemValue every menu item config property is evaluated using this function. @param {Function|String} value\n,\n        menuItemValue: function (value) {\n            return _.isFunction(value) ? value.apply(this, [this.application]) : value;\n        }    // @method fixMenuItem normalizes the passed menuitem object setting its properties to its native types. @param {MenuItem} item_\n,\n        fixMenuItem: function (item_) {\n            var item = null;\n            item_ = this.menuItemValue(item_);\n            if (!item_) {\n                return undefined;\n            }\n            item = _.clone(item_);\n            item.parent = this.menuItemValue(item.parent);\n            item.name = this.menuItemValue(item.name);\n            item.index = this.menuItemValue(item.index);\n            item.url = this.menuItemValue(item.url) ? '/' + this.menuItemValue(item.url) : '';\n            item.id = this.menuItemValue(item.id);\n            item.children = this.menuItemValue(item.children) || [];\n            item.showChildren = !!item.children.length;\n            if (item.showChildren) {\n                item.children = this.sortMenuItems(item.children);\n            }\n            return item;\n        }    // @method removeMenuItem Removes the item from the menu @param {String} id\n,\n        removeMenuItem: function (id) {\n            this.menuItems = _.reject(this.menuItems, function (item) {\n                return item.id === id;\n            });\n        }    // @method updateMenuItemsUI re-render the menu items menu - useful for dynamic menu items that need to re-render when something changes. Each module is responsible of calling this method when appropiate.\n,\n        updateMenuItemsUI: function () {\n            this.render();\n            this.updateSidebar();\n        }    // @method replaceMenuItem Given a filter, replaces an existing menu item with a new one @param {Function} filter @param {MenuItem} new_menu_item\n,\n        replaceMenuItem: function (filter, new_menu_item) {\n            for (var i = 0; i < this.menuItems.length; i++) {\n                if (filter(this.fixMenuItem(this.menuItems[i]))) {\n                    this.menuItems[i] = new_menu_item;\n                }\n            }\n        }    // @method getContext @returns MenuTree.View.Context\n,\n        getContext: function () {\n            // @class MenuTree.View.Context\n            return {\n                // @propery {Array} menuItems\n                menuItems: this.fixedMenuItems\n            };    // @class MenuTree.View\n        },\n        childViews: {\n            'MenuItems.Collection': function () {\n                return new BackboneCollectionView({\n                    collection: this.fixedMenuItems,\n                    childView: MenuTreeNodeView,\n                    viewsPerRow: 1,\n                    childViewOptions: { level: 1 }\n                });\n            }\n        }\n    }, Singleton);\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module ProductList\ndefine('ProductList.Control.View', [\n    'product_list_control.tpl',\n    'ProductList.ControlItem.View',\n    'ProductList.ControlNewItem.View',\n    'Profile.Model',\n    'ProductList.Model',\n    'ProductList.Item.Model',\n    'Session',\n    'ProductList.Item.Collection',\n    'MenuTree.View',\n    'underscore',\n    'jQuery',\n    'Backbone'\n], function (product_list_control_tpl, ControlItemView, ControlNewItemView, ProfileModel, ProductListModel, ProductListItemModel, Session, ProductListItemCollection, MenuTreeView, _, jQuery, Backbone) {\n    'use strict';\n    // @class ProductList.Control.View @extends Backbone.View\n    return Backbone.View.extend({\n        template: product_list_control_tpl,\n        attributes: { 'class': 'dropdown product-lists' },\n        events: {\n            'click [data-action=\"show-productlist-control\"]': 'validateLogin',\n            'click [data-toggle=\"showFlyout\"]': 'showFlyout',\n            'click': 'contentClick',\n            'mouseup': 'contentMouseUp'\n        },\n        initialize: function (options) {\n            this.product = options.product;\n            this.collection = options.collection;\n            this.application = options.application;\n            this.moveOptions = options.moveOptions;\n            this.countedClicks = options.countedClicks;\n            if (this.moveOptions) {\n                this.mode = 'move';\n            }\n            // need to hide the menu (data-type=\"productlist-control\") when clicked outside, so we register here a click handler on the document.:\n            jQuery(document).click(function (event) {\n                var outside = jQuery(event.target).parents().index(jQuery(event.target).closest('[data-type^=\"productlist-control\"]')) === -1;\n                outside = outside && jQuery(event.target).data('action') !== 'show-productlist-control';\n                if (outside) {\n                    if (jQuery('[data-type=\"productlist-control\"]').is(':visible')) {\n                        var $control = jQuery('[data-type=\"productlist-control\"]');\n                        // return the control to its initial state\n                        $control.find('form').hide();\n                        $control.find('[data-action=\"show-add-new-list-form\"]').show();\n                        $control.slideUp();\n                    }\n                }\n            });\n            this.product.on('change', this.render, this);\n        }    // Render the control view, appending the items views and add new list form\n,\n        render: function () {\n            // if the control is currently visible then we remember that !\n            this.is_visible = this.$('[data-type=\"productlist-control\"]').is(':visible');\n            Backbone.View.prototype.render.apply(this);\n            var self = this;\n            self.collection.each(function (model) {\n                var view = new ControlItemView({\n                    model: model,\n                    product: self.product,\n                    application: self.application,\n                    parentView: self\n                });\n                self.$('ul').prepend(view.render().el);\n            });\n            var new_product_list_model = this.getNewProductListModel(), new_item_view = new ControlNewItemView({\n                    model: new_product_list_model,\n                    application: self.application,\n                    parentView: self\n                });\n            self.$('[data-type=\"new-item-container\"]').html(new_item_view.render().el);\n            // also we don't want to erase any previous confirmation messages\n            self.confirm_message && self.saveAndShowConfirmationMessage(self.confirm_message);\n        }    // This method is overridden in POS.\n,\n        getNewProductListModel: function () {\n            return new ProductListModel();\n        }    // if the user is not logged in we redirect it to login page and then back to the PDP.\n,\n        validateLogin: function (e) {\n            if (ProfileModel.getInstance().get('isLoggedIn') === 'T') {\n                return true;\n            }\n            e.stopPropagation();\n            e.stopImmediatePropagation();\n            e.preventDefault();\n            var login = Session.get('touchpoints.login');\n            login += '&origin=' + this.application.getConfig('currentTouchpoint');\n            if (this.$el.closest('.modal-product-detail').size() > 0)\n                //we are in the quick view\n                {\n                    var hashtag = this.product.generateURL();\n                    login += '&origin_hash=' + encodeURIComponent(hashtag.replace('#/', ''));\n                }\n            else {\n                login += '&origin_hash=' + encodeURIComponent(Backbone.history.fragment);\n            }\n            window.location.href = login;\n        }    // validates the passed gift cert item and return false and render an error message if invalid.\n,\n        validateGiftCertificate: function validateGiftCertificate(line) {\n            var line_option_email = line.get('options') && line.get('options').findWhere({ cartOptionId: 'GIFTCERTRECIPIENTEMAIL' });\n            if (line_option_email && !line_option_email.isValid(true)) {\n                this.render();\n                //for unchecking the just checked checkbox\n                this.showError(this.application.getErrorMessage('recipientEmailIsInvalid'));\n                return false;\n            }\n            return true;\n        },\n        getItemOptions: function (line) {\n            var selected_options = line.get('options').filter(function (option) {\n                return !!option.get('value');\n            });\n            return _.reduce(selected_options, function (acc, option) {\n                var value = option.get('value') || {};\n                acc[option.get('cartOptionId')] = {\n                    value: value.internalid,\n                    displayvalue: value.label\n                };\n                return acc;\n            }, {});\n        }    // Adds the product to the newly created list, renders the control and shows a confirmation msg\n,\n        addNewProductToList: function (newList) {\n            this.addItemToList(this.product, newList, true);\n            this.saveAndShowConfirmationMessage(this.$('.ul-product-lists [type=\"checkbox\"]:checked').length > 1 ? _('Good! You added this item to your product lists').translate() : _('Good! You added this item to your product list').translate());\n        }    // Add a new product list item into a product list\n,\n        addItemToList: function (line, productList, dontShowMessage) {\n            if (line.isValid(true)) {\n                var self = this;\n                if (!productList.get('internalid'))\n                    //this is a predefined list\n                    {\n                        productList.save().done(function (data) {\n                            var new_model = new ProductListModel(data);\n                            self.application.ProductListModule.Utils.getProductLists().add(new_model, { merge: true });\n                            self.doAddItemToList(line, new_model, dontShowMessage);\n                        });\n                    }\n                else {\n                    self.doAddItemToList(line, productList, dontShowMessage);\n                }\n            }\n        }    // This method is overridden in POS\n,\n        getNewItemData: function (line, productList) {\n            var product_list_line = ProductListItemModel.createFromProduct(line);\n            product_list_line.set('productList', {\n                id: productList.get('internalid'),\n                owner: productList.get('owner').id\n            });\n            return product_list_line;\n        }    // Adds the new item to the collection\n,\n        doAddItemToList: function (product, productList, dontShowMessage) {\n            var self = this, product_list_line_to_save = this.getNewItemData(product, productList);\n            product_list_line_to_save.save(null, {\n                //Note this is lack of validation is require to not validate the JSON returned from the services as it will lack the Model/Collection structure required\n                //to run the validation. for example the list of options will be an array and not a collection as the event handle that parse them didn't run yet\n                validate: false,\n                success: function (product_list_line_to_save_saved) {\n                    productList.get('items').add(product_list_line_to_save_saved);\n                    self.collection.trigger('changed');\n                    self.render();\n                    if (!dontShowMessage) {\n                        self.saveAndShowConfirmationMessage(self.$('.ul-product-lists [type=\"checkbox\"]:checked').length > 1 ? _('Good! You added this item to your product lists').translate() : _('Good! You added this item to your product list').translate());\n                    }\n                }\n            });\n        }    // Check for predefined list before moving\n,\n        moveProductHandler: function (destination) {\n            var self = this;\n            if (!destination.get('internalid'))\n                //this is a predefined list\n                {\n                    destination.save().done(function (data) {\n                        var new_product_list = new ProductListModel(data);\n                        self.application.ProductListModule.Utils.getProductLists().add(new_product_list, { merge: true });\n                        self.moveProduct(new_product_list);\n                    });\n                }\n            else {\n                self.application.ProductListModule.Utils.getProductLists().add(destination, { merge: true });\n                self.moveProduct(destination);\n            }\n        }    // Moves the item to the destination list\n,\n        moveProduct: function (destination) {\n            var self = this, original_item = this.moveOptions.productListItem, original_item_clone = original_item.clone(), details_view = this.moveOptions.parentView;\n            original_item_clone.set('productList', { id: destination.get('internalid') });\n            destination.get('items').create(original_item_clone, {\n                validate: false,\n                success: function (saved_model) {\n                    var app = details_view.application, from_list = self.application.ProductListModule.Utils.getProductLists().findWhere({ internalid: self.moveOptions.parentView.model.get('internalid') }), to_list = self.application.ProductListModule.Utils.getProductLists().findWhere({ internalid: destination.get('internalid') });\n                    self.doMoveProduct(from_list, to_list, original_item, saved_model);\n                    details_view.model.get('items').remove(original_item);\n                    details_view.render();\n                    jQuery('.sc-flyout-bg').remove();\n                    MenuTreeView.getInstance().updateMenuItemsUI();\n                    app.getLayout().currentView.showConfirmationMessage(_('<div class=\"product-list-control-message\">Good! You successfully moved the item from this to <a href=\"/wishlist/$(0)\">$(1)</a></div>').translate(destination.get('internalid'), destination.get('name')));\n                }\n            });\n        }    // Adds the item clone to the destination list and removes the original from its list\n,\n        doMoveProduct: function (from, to, original_model, saved_model) {\n            // if add not defined, create the collection\n            if (to.get('items') instanceof Array) {\n                to.set('items', new ProductListItemCollection());\n            }\n            // add the item to the application collection\n            to.get('items').add(saved_model);\n            from.get('items').remove(original_model);\n            this.collection.trigger('changed');\n        }    // Gets the internal product id for a store item considering it could be a matrix child.\n,\n        getProductId: function (line) {\n            if (line.getItemId) {\n                return line.getItemId();\n            } else if (this.application.ProductListModule) {\n                return this.application.ProductListModule.Utils.internalGetProductId(line);\n            } else {\n                return line.get('_id') + '';\n            }\n        }    // Determines if the control is visible\n,\n        isAvailable: function () {\n            //if you want to disable the product list experience you instead can return: ProfileModel.getInstance().get('isLoggedIn') === 'T';\n            return true;\n        }    // Renders a confirmation message storing message parameter and also stores the message\n,\n        saveAndShowConfirmationMessage: function (message) {\n            this.confirm_message = message;\n            this.showConfirmationMessage(this.confirm_message, true);\n        }    // Hides the confirmation message\n,\n        hideConfirmationMessage: function () {\n            this.confirm_message = null;\n            this.$('[data-confirm-message]').hide();\n        }    // @method showFlyout Handle showing/hiding (toggle) data-toggle=\"showFlyout\" elements\n             // @param {jQuery.Event} e\n             //@return {Void}\n,\n        showFlyout: function (e) {\n            e.stopPropagation();\n            //Here no extra validation is specified as those are not required to add an item into a product list\n            if (this.product.areAttributesValid([\n                    'options',\n                    'quantity'\n                ], {})) {\n                // Hide any other open flyout instances...\n                jQuery('.product-list-control-flyout').hide();\n                this.countedClicks[e.pageX + '|' + e.pageY] = false;\n                var self = jQuery(e.target);\n                if (_.isPhoneDevice()) {\n                    self.next().toggle();\n                    var body = jQuery('body');\n                    var scrollvalue = self.offset();\n                    body.animate({ scrollTop: scrollvalue.top }, '500', function () {\n                        jQuery('#main').append('<div class=\"sc-flyout-bg\"></div>');\n                        jQuery('.sc-flyout-bg').on('click', function () {\n                            jQuery('.sc-flyout-bg').remove();\n                        });\n                    });\n                } else {\n                    self.next().toggle();\n                }\n            }\n        }    // @method contentClick\n             // Keeps track of the clicks you have made onto the view, so the contentMouseUp\n             // knows if it needs to trigger the click event once again\n             // @param {jQuery.Event} e\n             //@return {Void}\n,\n        contentClick: function (e) {\n            this.countedClicks[e.pageX + '|' + e.pageY] = true;\n        }    // @method contentMouseUp\n             // this is used just to register a delayed function to check if the click went through\n             // if it didn't we fire the click once again on the top most element\n             // @param {jQuery.Event} e\n             // @return {Void}\n,\n        contentMouseUp: function (e) {\n            if (e.which !== 2 && e.which !== 3) {\n                var self = this;\n                _.delay(function () {\n                    if (!self.countedClicks[e.pageX + '|' + e.pageY]) {\n                        jQuery(document.elementFromPoint(e.clientX, e.clientY)).click();\n                    }\n                    delete self.countedClicks[e.pageX + '|' + e.pageY];\n                }, 100);\n            }\n        }    // @method getContext @return {ProductList.Control.View.Context}\n,\n        getContext: function () {\n            //@class ProductList.Control.View.Context\n            return {\n                // @property {Boolean} isMoving\n                isMoving: this.mode === 'move'    // @property {Boolean} showControl\n,\n                showControl: this.is_visible,\n                isEmpty: this.collection.length === 0    // @property {Boolean} hasOneProductList\n,\n                hasOneProductList: this.collection.length === 1    // @property {Boolean} hasProductLists\n,\n                hasProductLists: this.collection.length > 0    // @property {Integer} productListLength\n,\n                productListLength: this.collection.length\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module ProductList\ndefine('ProductList.ControlSingle.View', [\n    'ProductList.Control.View',\n    'ProductList.Item.Collection',\n    'product_list_control_single.tpl',\n    'underscore',\n    'Backbone',\n    'Backbone.View',\n    'Backbone.View.render'\n], function (ControlView, ProductListItemCollection, product_list_control_single_tpl, _, Backbone) {\n    'use strict';\n    // @class ProductList.ControlSingle.View @extends Backbone.View\n    return Backbone.View.extend({\n        template: product_list_control_single_tpl,\n        attributes: { 'class': 'product-lists-single' },\n        events: { 'click [data-type=\"add-product-to-single-list\"]': 'addItemToSingleList' },\n        addItemToList: ControlView.prototype.addItemToList,\n        doAddItemToList: ControlView.prototype.doAddItemToList,\n        saveAndShowConfirmationMessage: ControlView.prototype.saveAndShowConfirmationMessage,\n        validateGiftCertificate: ControlView.prototype.validateGiftCertificate,\n        getItemOptions: ControlView.prototype.getItemOptions,\n        validateLogin: ControlView.prototype.validateLogin,\n        getProductId: ControlView.prototype.getProductId,\n        getNewItemData: ControlView.prototype.getNewItemData,\n        initialize: function (options) {\n            this.product = options.product;\n            this.collection = options.collection;\n            this.application = options.application;\n            // single list\n            this.single_list = this.collection.at(0);\n        },\n        render: function () {\n            this._render();\n        }    // @method isProductAlreadyAdded Determines if the current product with the selected options is already in the product list\n             // @return {Boolean} Indicate is the product is already added into the current single list\n,\n        isProductAlreadyAdded: function () {\n            return this.single_list.checked(this.product);\n        }    // @method getProductsInternalid Get list internal ids @returns {Array<String>}\n,\n        getProductsInternalid: function () {\n            return _(this.single_list.get('items').models).map(function (item) {\n                return item.get('item').internalid;\n            });\n        }    // @method addItemToSingleList Before adding item to the list, checks for not created predefined list\n,\n        addItemToSingleList: function (e) {\n            e.preventDefault();\n            if (!this.validateLogin(e)) {\n                return;\n            }\n            var self = this;\n            if (self.product.isValid(true)) {\n                // Check if predefined list was not created yet\n                if (!self.single_list.get('internalid')) {\n                    self.single_list.save().done(function () {\n                        self.single_list.set('items', new ProductListItemCollection([]));\n                        self.renderAfterAdded(self);\n                    });\n                } else {\n                    self.renderAfterAdded(self);\n                }\n            }\n        }    // @method renderAfterAdded Adds the item to the list\n,\n        renderAfterAdded: function (self) {\n            if (!this.validateGiftCertificate(self.product)) {\n                return;\n            }\n            self.addItemToList(self.product, self.single_list);\n            self.render();\n            self.saveAndShowConfirmationMessage(_('Good! You added this item to your product list').translate());\n            this.$('[data-action=\"add-product-to-single-list\"]').attr('disabled', 'true');\n        }    // @method getContext @return {ProductList.ControlSingle.View.Context}\n,\n        getContext: function getContext() {\n            var model = this.single_list;\n            // @class ProductList.ControlSingle.View.Context\n            return {\n                // @property {Boolean} isProductAlreadyAdded\n                isProductAlreadyAdded: this.isProductAlreadyAdded()    // @property {String} name\n,\n                name: model.get('name')    // @property {String} id\n,\n                id: model.get('internalid')\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module ErrorManagement\ndefine('ErrorManagement.View', ['Backbone'], function (Backbone) {\n    'use strict';\n    return Backbone.View.extend({ isErrorView: true });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n/* global nsglobal:true */\n// @module ErrorManagement\ndefine('ErrorManagement.ExpiredLink.View', [\n    'error_management_expired_link.tpl',\n    'ErrorManagement.View',\n    'Backbone',\n    'underscore',\n    'Utils'\n], function (error_management_expired_link_tpl, ErrorManagementView, Backbone, _) {\n    'use strict';\n    // @class ErrorManagement.ExpiredLink.View @extends Backbone.View\n    return ErrorManagementView.extend({\n        template: error_management_expired_link_tpl,\n        attributes: {\n            'id': 'expired_link',\n            'class': 'expired_link'\n        },\n        initialize: function (options) {\n            if (options.title) {\n                this.title = options.title;\n            }\n            if (options.page_header) {\n                this.page_header = options.page_header;\n            }\n            if (options.message) {\n                this.message = options.message;\n            }\n            if (SC.ENVIRONMENT.jsEnvironment === 'server') {\n                nsglobal.statusCode = 500;\n            }\n        }    // @method getContext @returns {ErrorManagement.ExpiredLink.View.Context}\n,\n        getContext: function () {\n            // @class ErrorManagement.ExpiredLink.View.Context\n            return {\n                // @property {String} pageHeader \n                pageHeader: this.page_header || ''    // @property {String} message \n,\n                message: this.message || _('Sorry, we could not load the content you requested.').translate()\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n/* global nsglobal:true */\n// @module ErrorManagement\ndefine('ErrorManagement.ForbiddenError.View', [\n    'error_management_forbidden_error.tpl',\n    'ErrorManagement.View',\n    'Backbone',\n    'underscore',\n    'Utils'\n], function (error_management_forbidden_error_tpl, ErrorManagementView, Backbone, _) {\n    'use strict';\n    // @class ErrorManagement.ForbiddenError.View @extends Backbone.View\n    return ErrorManagementView.extend({\n        template: error_management_forbidden_error_tpl,\n        attributes: {\n            'id': 'forbidden-error',\n            'class': 'forbidden-error'\n        },\n        title: _('NOT ALLOWED').translate(),\n        page_header: _('NOT ALLOWED').translate(),\n        initialize: function () {\n            if (SC.ENVIRONMENT.jsEnvironment === 'server') {\n                nsglobal.statusCode = 403;\n            }\n        }    // @method getContext @returns {ErrorManagement.ForbiddenError.View.Context}\n,\n        getContext: function () {\n            // @class ErrorManagement.ForbiddenError.View.Context\n            return {\n                // @property {String} title \n                title: this.title,\n                pageHeader: this.page_header\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n/* global nsglobal:true */\n// @module ErrorManagement\ndefine('ErrorManagement.InternalError.View', [\n    'error_management_internal_error.tpl',\n    'ErrorManagement.View',\n    'Backbone',\n    'underscore',\n    'Utils'\n], function (error_management_internal_error_tpl, ErrorManagementView, Backbone, _) {\n    'use strict';\n    // @class ErrorManagement.InternalError.View @extends Backbone.View\n    return ErrorManagementView.extend({\n        template: error_management_internal_error_tpl,\n        attributes: {\n            'id': 'internal-error',\n            'class': 'internal-error'\n        },\n        title: _('Internal Error').translate(),\n        page_header: _('Internal Error').translate(),\n        initialize: function (options) {\n            if (options.title) {\n                this.title = options.title;\n            }\n            if (options.page_header || options.pageHeader) {\n                this.page_header = options.page_header || options.pageHeader;\n            }\n            if (options.message) {\n                this.message = options.message;\n            }\n            if (SC.ENVIRONMENT.jsEnvironment === 'server') {\n                nsglobal.statusCode = 500;\n            }\n        }    // @method getContext @returns {ErrorManagement.InternalError.View.Context}\n,\n        getContext: function () {\n            // @class ErrorManagement.InternalError.View.Context\n            return {\n                // @property {String} pageHeader \n                pageHeader: this.page_header,\n                message: this.message || _('Sorry, we could not load the content you requested.').translate()\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module ErrorManagement\ndefine('ErrorManagement.LoggedOut.View', [\n    'error_management_logged_out.tpl',\n    'ErrorManagement.View',\n    'Backbone',\n    'underscore',\n    'Utils'\n], function (error_management_logged_out_tpl, ErrorManagementView, Backbone, _) {\n    'use strict';\n    // @class ErrorManagement.LoggedOut.View @extends Backbone.View\n    return ErrorManagementView.extend({\n        template: error_management_logged_out_tpl,\n        attributes: { 'id': 'logged-out' },\n        title: _('Logged out').translate(),\n        initialize: function () {\n            this.labels = {\n                title: _('You have been logged out').translate(),\n                explanation: _('Your session expired or someone else logged in another device with your account. You must log in again to continue.').translate(),\n                login: _('Log in').translate()\n            };\n        },\n        showError: function () {\n        },\n        render: function () {\n            var res = Backbone.View.prototype.render.apply(this, arguments);\n            this.$containerModal.find('[data-dismiss=\"modal\"]').remove();\n            return res;\n        }    // @method getContext @returns {ErrorManagement.LoggedOut.View.Context}\n,\n        getContext: function () {\n            // @class ErrorManagement.LoggedOut.View.Context\n            return {\n                // @property {Object} labels \n                labels: this.labels\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n/* global nsglobal:true */\n// @module ErrorManagement\ndefine('ErrorManagement.PageNotFound.View', [\n    'error_management_page_not_found.tpl',\n    'ErrorManagement.View',\n    'Backbone',\n    'underscore',\n    'Utils'\n], function (error_management_page_not_found_tpl, ErrorManagementView, Backbone, _) {\n    'use strict';\n    // @class ErrorManagement.PageNotFound.View @extends Backbone.View\n    return ErrorManagementView.extend({\n        template: error_management_page_not_found_tpl,\n        attributes: {\n            'id': 'page-not-found',\n            'class': 'page-not-found'\n        },\n        title: _('Page not found').translate(),\n        page_header: _('Page not found').translate(),\n        initialize: function () {\n            if (SC.ENVIRONMENT.jsEnvironment === 'server') {\n                nsglobal.statusCode = 404;\n            }\n        }    // @method getContext @returns {ErrorManagement.PageNotFound.View.Context}\n,\n        getContext: function () {\n            // @class ErrorManagement.PageNotFound.View.Context\n            return {\n                // @property {String} title \n                title: this.title,\n                pageHeader: this.page_header\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module ErrorManagement\ndefine('ErrorManagement.ResponseErrorParser', ['underscore'], function (_) {\n    'use strict';\n    //@function ErrorManagementErrorParser Parse an error message form the back-end\n    //@param {jQuery.XHR} jqXhr Response obtains from a Backbone.Model/Collection AJAX\n    //@param {Array<String>} messageKeys List of properties to look for a error message response in the first parameter\n    //@return {String}\n    return function ErrorManagementErrorParser(jqXhr, messageKeys) {\n        var message = null, current_key;\n        try {\n            // Tries to parse the responseText and try to read the most common keys for error messages\n            var response = JSON.parse(jqXhr.responseText);\n            if (response) {\n                for (var i = 0; i < messageKeys.length; i++) {\n                    current_key = messageKeys[i];\n                    if (response[current_key]) {\n                        message = _.isArray(response[current_key]) ? response[current_key][0] : response[current_key];\n                        break;\n                    }\n                }\n            }\n        } catch (err) {\n            console.error('Impossible to parse backend error', jqXhr);\n        }\n        return message;\n    };\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n/*\n@module ErrorManagement\n\nExtends Bakcbone.View to provide showError and hideError. Also extends the applicatoin's layout with high level error methods.\n\nHandles all errors related to api calls and provides a 404 and 500 error pages.\n\nAlso it manages 401 error (session expires) and do the redirect to login\n*/\ndefine('ErrorManagement', [\n    'SC.Configuration',\n    'Session',\n    'ErrorManagement.ExpiredLink.View',\n    'ErrorManagement.ForbiddenError.View',\n    'ErrorManagement.InternalError.View',\n    'ErrorManagement.LoggedOut.View',\n    'ErrorManagement.PageNotFound.View',\n    'ErrorManagement.ResponseErrorParser',\n    'GlobalViews.Message.View',\n    'jQuery',\n    'Backbone',\n    'underscore',\n    'Profile.Model',\n    'Utils'\n], function (Configuration, Session, ExpiredLinkView, ForbiddenErrorView, InternalErrorView, LoggedOutView, PageNotFoundView, ErrorManagementResponseErrorParser, GlobalViewsMessageView, jQuery, Backbone, _, ProfileModel, Utils) {\n    'use strict';\n    //@module Backbone @class Backbone.View\n    _.extend(Backbone.View.prototype, {\n        // @method hideError we empty all of the error placeholders of the view\n        hideError: function () {\n            this.$('[data-type=\"alert-placeholder\"]').empty();\n        }    /* @method showError @param {String} message @param {String} type @param {Boolean} closable \n\t\t@param {Boolean} disableElements */,\n        showError: function (message, type, closable, disableElements) {\n            this.hideError();\n            // Finds or create the placeholder for the error message\n            var placeholder = this.$('[data-type=\"alert-placeholder\"]');\n            if (!placeholder.length) {\n                placeholder = jQuery('<div/>', { 'data-type': 'alert-placeholder' });\n                this.$el.prepend(placeholder);\n            }\n            var global_view_message = new GlobalViewsMessageView({\n                message: message,\n                type: type ? type : 'error',\n                closable: !_.isUndefined(closable) ? !!closable : false\n            });\n            // Renders the error message and into the placeholder\n            placeholder.append(global_view_message.render().$el.html());\n            // Re Enables all posible disableded buttons of the view\n            if (!disableElements) {\n                this.$(':disabled').attr('disabled', false);\n            }\n            //If the backToTop module is loaded, we scroll to the top of the view to show the error.\n            if (this.application) {\n                _.result(this.application.getLayout(), 'backToTop');\n            }\n        }    //@method showErrorInModal @param  {String} message\n,\n        showErrorInModal: function (message) {\n            var view = new Backbone.View({ application: this.application });\n            view.title = _('Error').translate();\n            view.render = function () {\n                this.$el.append('<p class=\"error-message\">' + message + '</p>');\n            };\n            view.showInModal();\n        }\n    });\n    //@class ErrorManagement @extends ApplicationModule\n    return {\n        parseErrorMessage: ErrorManagementResponseErrorParser,\n        mountToApp: function (application) {\n            var Layout = application.getLayout();\n            // @module ApplicationSkeleton @class ApplicationSkeleton.Layout\n            _.extend(Layout, {\n                // @property {Array<String>} errorMessageKeys\n                // They will be use to try to get the error message of a failed AJAX call. Extend this as needed\n                errorMessageKeys: [\n                    'errorMessage',\n                    'errors',\n                    'error',\n                    'message'\n                ]    // @method notFound Shortcut to display the PageNotFoundView\n,\n                notFound: function () {\n                    var view = new PageNotFoundView({ application: application });\n                    view.showContent();\n                }    // @method internalError Shortcut to display the InternalErrorView\n,\n                internalError: function (message, pageHeader, title) {\n                    var view = new InternalErrorView({\n                        application: application,\n                        message: message,\n                        pageHeader: pageHeader,\n                        title: title\n                    });\n                    view.showContent();\n                }    // @method expiredLink @param {String} message\n,\n                expiredLink: function (message) {\n                    var view = new ExpiredLinkView({\n                        application: application,\n                        pageHeader: message,\n                        title: message\n                    });\n                    view.showContent();\n                }    // @method forbiddenError\n,\n                forbiddenError: function () {\n                    var view = new ForbiddenErrorView({ application: application });\n                    view.showContent();\n                }    // @method unauthorizedError\n                     // @param {Boolean?} user_session_timedOut Indicate if the error is thanks to a session time-out or not\n                     // @return {Void}\n,\n                unauthorizedError: function (user_session_timedOut) {\n                    if (Configuration.get('currentTouchpoint', '') === 'login') {\n                        //This case can happen when more than one concurrent XHR is made and both\n                        //return a user session time-out error\n                        return;\n                    }\n                    ProfileModel.getInstance().set({\n                        isLoggedIn: 'F',\n                        isGuest: 'F'\n                    });\n                    var base_url = Utils.setUrlParameter(Session.get('touchpoints.login'), 'origin', Configuration.get('currentTouchpoint'));\n                    base_url = Utils.setUrlParameter(base_url, 'origin_hash', Backbone.history.fragment);\n                    Configuration.currentTouchpoint = 'login';\n                    window.location = user_session_timedOut ? Utils.setUrlParameter(base_url, 'timeout', 'T') : base_url;\n                }\n            });\n            jQuery(document).ajaxError(function (e, jqXhr, options, error_text) {\n                var intStatus = parseInt(jqXhr.status, 10);\n                if (error_text === 'abort' || intStatus === 0) {\n                    return;\n                }\n                // Unauthorized Error, customer must be logged in - we pass origin parameter with the right touchpoint for redirect the user after login\n                // 206 is returned when someone else has logged in another browser\n                // with the same user. In this case the first response is a 206\n                // And the following are 401\n                if (intStatus === 401 || intStatus === 206) {\n                    Layout.unauthorizedError(jqXhr.responseJSON && jqXhr.responseJSON.errorCode === 'ERR_USER_SESSION_TIMED_OUT');\n                    return;\n                }\n                // You can bypass all this logic by capturing the error callback on the fetch using preventDefault = true on your jqXhr object\n                if (!jqXhr.preventDefault) {\n                    // if its a write operation we will call the showError of the currentView or of the modal if presetn\n                    var message = ErrorManagementResponseErrorParser(jqXhr, Layout.errorMessageKeys);\n                    if (!message || _.isObject(message) && !message.errorCode) {\n                        message = _('An internal error has occurred').translate();\n                    }\n                    if (options.type === 'GET' && options.killerId) {\n                        if (intStatus === 403) {\n                            // Not Found error, we show that error\n                            Layout.forbiddenError();\n                        }    // Its a read operation that was ment to show a page\n                        else if (intStatus === 404) {\n                            // Not Found error, we show that error\n                            Layout.notFound();\n                        } else {\n                            // Other ways we just show an internal error page\n                            Layout.internalError(message);\n                        }\n                    } else if (Layout.currentView) {\n                        //Do not show error message if forbidden\n                        if (intStatus !== 403) {\n                            // Calls the showError of the modal if present or the one of the currentView (content view)\n                            if (Layout.modalCurrentView) {\n                                Layout.modalCurrentView.showError(message);\n                            } else {\n                                var childViewInstances = Layout.currentView.getChildViewInstances();\n                                var activeView = _.find(childViewInstances, function (childView) {\n                                    return childView && (childView.$('.focused-form-view').length > 0 || childView.$el.is('.focused-form-view'));\n                                });\n                                activeView = activeView || Layout.currentView;\n                                activeView.showError(message);\n                            }\n                        } else {\n                            var view = Layout.modalCurrentView || Layout.currentView;\n                            if (view && _.isFunction(view.forbiddenError)) {\n                                view.forbiddenError();\n                            } else {\n                                Layout.forbiddenError();\n                            }\n                        }\n                    } else {\n                        // We allways default to showing the internalError of the layout\n                        Layout.internalError();\n                    }\n                }\n            });\n            var control_valid_navigation = function control_valid_navigation() {\n                //find a router for the current fragment\n                if (!Backbone.history.started) {\n                    return;\n                }\n                var fragment = Backbone.history.getFragment(), match = _(Backbone.history.handlers).some(function (handler) {\n                        if (handler.callback && handler.route.exec(fragment)) {\n                            return true;\n                        }\n                    });\n                //if not found a router for the current fragment the page not found is displayed.\n                if (!match) {\n                    Layout.notFound();\n                }\n            };\n            jQuery(window).on('hashchange', control_valid_navigation);\n            application.once('afterStart', control_valid_navigation);\n        }\n    };\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module ProductViews\ndefine('ProductViews.Price.View', [\n    'Profile.Model',\n    'Session',\n    'SC.Configuration',\n    'product_views_price.tpl',\n    'Backbone',\n    'underscore'\n], function (ProfileModel, Session, Configuration, product_views_price_tpl, Backbone, _) {\n    'use strict';\n    // @class ProductViews.Price.View @extends Backbone.View\n    var ProductViewsPriceView = Backbone.View.extend({\n        //@property {Function} template\n        template: product_views_price_tpl    //@method initialize\n                                   //@param {ProductViews.Price.View.Initialize.Options} options\n                                   //@return {Void}\n,\n        initialize: function () {\n            this.model.on('change', this.render, this);\n        }    //@method getUrlLogin Get the login URL contains an origin hash parameter indicating the current URL to came back after login\n             //@return {String}\n,\n        getUrlLogin: function () {\n            var url = Session.get('touchpoints.login') + '&origin=' + (Configuration.get('currentTouchpoint') || 'home') + '&origin_hash=';\n            return url + encodeURIComponent(this.options.origin === 'PDPQUICK' ? this.model.generateURL().replace('/', '') : Backbone.history.fragment);\n        }    // @method getContext\n             // @returns {ProductViews.Price.View.Context}\n,\n        getContext: function () {\n            var price_container_object = this.model.getPrice(), is_price_range = !!(price_container_object.min && price_container_object.max), showComparePrice = false;\n            if (!this.options.hideComparePrice) {\n                showComparePrice = is_price_range ? price_container_object.max.price < price_container_object.compare_price : price_container_object.price < price_container_object.compare_price;\n            }\n            //@class ProductViews.Price.View.Context\n            return {\n                // @property {Boolean} isPriceEnabled\n                isPriceEnabled: !ProfileModel.getInstance().hidePrices()    // @property {String} urlLogin\n,\n                urlLogin: this.getUrlLogin()    // @property {Boolean} isPriceRange\n,\n                isPriceRange: is_price_range    // @property {Boolean} showComparePrice\n,\n                showComparePrice: showComparePrice    // @property {Boolean} isInStock\n,\n                isInStock: this.model.getStockInfo().isInStock,\n                model: this.model,\n                currencyCode: SC.getSessionInfo('currency') ? SC.getSessionInfo('currency').code : ''    // @property {String} priceFormatted\n,\n                priceFormatted: price_container_object.price_formatted || ''    // @property {String} comparePriceFormatted\n,\n                comparePriceFormatted: price_container_object.compare_price_formatted || ''    // @property {String} minPriceFormatted\n,\n                minPriceFormatted: price_container_object.min ? price_container_object.min.price_formatted : ''    // @property {String} maxPriceFormatted\n,\n                maxPriceFormatted: price_container_object.max ? price_container_object.max.price_formatted : ''    // @property {Number} price\n,\n                price: price_container_object.price ? price_container_object.price : 0    // @property {Number} comparePrice\n,\n                comparePrice: price_container_object.compare_price ? price_container_object.compare_price : 0    // @property {Number} minPrice\n,\n                minPrice: price_container_object.min ? price_container_object.min.price : 0    // @property {Number} maxPrice\n,\n                maxPrice: price_container_object.max ? price_container_object.max.price : 0    // @property {Boolean} showHighlightedMessage\n,\n                showHighlightedMessage: _.indexOf(ProductViewsPriceView.highlightedViews, this.options.origin) >= 0\n            };    //@class ProductViews.Price.View\n        }\n    }, {\n        //@property {Array<String>} highlightedViews Contains the list of all origins that in case of using the \"LOGIN TO SEE PRICES\" feature must render a highlighted notification message\n        //@static\n        highlightedViews: [\n            'PDPQUICK',\n            'PDPFULL'\n        ]\n    });\n    return ProductViewsPriceView;\n});    //@class ProductViews.Price.View.Initialize.Options\n       //@property {String?} origin Possible values are:\n       //\tPDPCONFIRMATION \t\tFor the PDP confirmation message\n       //\tITEMCELL \t\t\t\tFor each item being shown in the item list (ex your-domain.com/search)\n       //\tPDPQUICK \t\t\t\tFor a PDP being shown on a quick view form\n       //\tPDPFULL \t\t\t\tFull PDP view\n       //\tRELATEDITEM\t\t\t\tRelated Item\n       //\tPRODUCTLISTDETAILSLATER\tUsed to render each item that was saved for later\n       //\tPRODUCTLISTDETAILSFULL\tUsed to render each item that is shown inside My Account in the details of a particular Product List\n       //\tPRODUCTLISTDETAILSEDIT\tUsed when rendering the form to edit an item inside a product list\n       //\tITEMVIEWCELL\t\t\tFor all list where items are rendered\n       //\n       //@property {Number?} linePrice Specify this value if you want to use a different price rather than the one of the line\n       //@property {String?} linePriceFormatted This string valid must be present if you want to use a custom price containing the formatted value of linePrice\n       //@property {Boolean?} hideComparePrice\n       //@property {Item.Model|Product.Model} model\n","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module ProductList\ndefine('ProductList.DetailsMinQuantity.View', [\n    'product_list_details_min_quantity.tpl',\n    'Backbone'\n], function (product_list_details_min_quantity_tpl, Backbone) {\n    'use strict';\n    // @class ProductList.DetailsMinQuantity.View @extends Backbone.View\n    return Backbone.View.extend({\n        template: product_list_details_min_quantity_tpl    // @method getContext\n                                                 // @return {ProductList.DetailsMinQuantity.View.Context}\n,\n        getContext: function () {\n            var item_model = this.model.get('item');\n            // @class ProductList.DetailsMinQuantity.View.Context\n            return {\n                // @property {Boolean} fulfillsMinQuantityRequirements\n                fulfillsMinQuantityRequirements: this.model.fulfillsMinimumQuantityRequirement()    // @property {Number} minimumQuantity\n,\n                minimumQuantity: item_model.get('_minimumQuantity')    // @property {Boolean} fulfillsMaxQuantityRequirements\n,\n                fulfillsMaxQuantityRequirements: this.model.fulfillsMaximumQuantityRequirement()    // @property {Number} maximumQuantity\n,\n                maximumQuantity: item_model.get('_maximumQuantity')    // @property {Number} quantity\n,\n                quantity: this.model.get('quantity')    // @property {String} id\n,\n                id: this.model.get('internalid')\n            };    // @class ProductList.DetailsMinQuantity.View\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module ProductList\ndefine('ProductList.DetailsLaterMacro.View', [\n    'ProductViews.Price.View',\n    'ProductLine.Stock.View',\n    'ProductList.DetailsMinQuantity.View',\n    'Backbone.CompositeView',\n    'Backbone.CollectionView',\n    'Transaction.Line.Views.Options.Selected.View',\n    'ProductLine.StockDescription.View',\n    'product_list_details_later_macro.tpl',\n    'underscore',\n    'Backbone'\n], function (ProductViewsPriceView, ProductLineStockView, ProductListDetailsMinQuantityView, BackboneCompositeView, BackboneCollectionView, TransactionLineViewsOptionsSelectedView, ProductLineStockDescriptionView, product_list_details_later_macro_tpl, _, Backbone) {\n    'use strict';\n    // @class ProductList.DetailsLaterMacro.View @extends Backbone.View\n    return Backbone.View.extend({\n        template: product_list_details_later_macro_tpl,\n        initialize: function () {\n            BackboneCompositeView.add(this);\n        },\n        childViews: {\n            'ItemViews.Price': function () {\n                return new ProductViewsPriceView({\n                    model: this.model,\n                    origin: 'PRODUCTLISTDETAILSLATER'\n                });\n            },\n            'Item.SelectedOptions': function () {\n                return new TransactionLineViewsOptionsSelectedView({ model: this.model });\n            },\n            'ItemViews.Stock': function () {\n                return new ProductLineStockView({ model: this.model });\n            },\n            'ProductList.DetailsMinQuantity': function () {\n                return new ProductListDetailsMinQuantityView({ model: this.model });\n            },\n            'StockDescription': function () {\n                return new ProductLineStockDescriptionView({ model: this.model });\n            }\n        }    // @method getContext\n             // @return {ProductList.DetailsLaterMacro.View.Context}\n,\n        getContext: function () {\n            var item = this.model.get('item');\n            // @class ProductList.DetailsLaterMacro.View.Context\n            return {\n                // @property {ProductList.Item.Model} model\n                model: this.model,\n                quantity: this.model.get('quantity')    // @property {String} itemId\n,\n                itemId: item.get('internalid')    // @property {Boolean} canBeAddedToCart\n,\n                canBeAddedToCart: item.get('ispurchasable') && this.model.fulfillsMinimumQuantityRequirement() && this.model.fulfillsMaximumQuantityRequirement()    // @property {String} itemDetailsUrl\n,\n                itemDetailsUrl: this.model.generateURL()    // @property {Boolean} isGiftCertificate\n,\n                isGiftCertificate: item.get('itemtype') === 'GiftCert'    // @property {Boolean} showActions\n,\n                showActions: !this.options.hide_actions,\n                thumbnail: this.model.getThumbnail()\n            };    // @class ProductList.DetailsLaterMacro.View\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module ProductList\ndefine('ProductList.Edit.View', [\n    'ProductList.Model',\n    'ProductList.Item.Collection',\n    'MenuTree.View',\n    'Backbone.FormView',\n    'product_list_new.tpl',\n    'underscore',\n    'Backbone',\n    'Backbone.View',\n    'Backbone.View.render',\n    'Utils'\n], function (ProductListModel, ProductListItemCollection, MenuTreeView, BackboneFormView, product_list_new_tpl, _, Backbone) {\n    'use strict';\n    // @class ProductList.Edit.View View to handle Product Lists creation @extends Backbone.View\n    return Backbone.View.extend({\n        template: product_list_new_tpl,\n        attributes: { 'class': 'product-list-new-wrapper' },\n        events: {\n            'submit form': 'saveForm',\n            '[data-action=\"prevent-enter\"]': 'preventEnter'\n        },\n        bindings: { '[name=\"name\"]': 'name' },\n        initialize: function (options) {\n            this.application = options.application;\n            this.parentView = options.parentView;\n            this.model = options.model;\n            this.isEdit = this.model.get('internalid');\n            this.page_header = this.getTitle();\n            this.inModal = options.inModal;\n            BackboneFormView.add(this);\n            this.model.once('saveCompleted', _.bind(this.onSaveComplete, this));\n        }    // @method preventEnter Prevents not desired behavior when hitting enter\n,\n        preventEnter: function (event) {\n            if (event.keyCode === 13) {\n                event.preventDefault();\n            }\n        }    // Sets focus on the name field and returns the correct title text\n,\n        getTitle: function () {\n            this.$('[name=\"name\"]').focus();\n            var editLabel = _('Edit your list').translate();\n            var newLabel = _('Edit your list').translate();\n            return this.isEdit ? editLabel : newLabel;\n        }    // Handles the form submit on save\n,\n        onSaveComplete: function () {\n            var self = this;\n            if (_.isArray(self.model.get('items'))) {\n                self.model.set('items', new ProductListItemCollection(self.model.get('items')));\n            }\n            self.$containerModal && self.$containerModal.modal('hide');\n            if (self.isEdit) {\n                self.application.ProductListModule.Utils.getProductLists().add(self.model, { merge: true });\n                MenuTreeView.getInstance().updateMenuItemsUI();\n                self.parentView.render();\n                if (self.parentView.$el.hasClass('ProductListDetailsView')) {\n                    self.parentView.showConfirmationMessage(_('Good! The list was successfully updated. ').translate());\n                } else {\n                    self.parentView.showConfirmationMessage(_('Good! Your <a href=\"/wishlist/$(0)\">$(1)</a> list was successfully updated. ').translate(self.model.get('internalid'), self.model.get('name')));\n                }\n            } else {\n                self.application.ProductListModule.Utils.getProductLists().add(self.model);\n                MenuTreeView.getInstance().updateMenuItemsUI();\n                self.parentView.render();\n                self.parentView.showConfirmationMessage(_('Good! Your <a href=\"/wishlist/$(0)\">$(1)</a> list was successfully created. ').translate(self.model.get('internalid'), self.model.get('name')));\n            }\n            self.parentView.highlightList && self.parentView.highlightList(self.model.get('internalid'));\n        }    // @method getName Get new list name\n,\n        getName: function () {\n            return this.$('.product-list-new-name-input input').val();\n        }    // @method getNotes Get new list notes\n,\n        getNotes: function () {\n            return this.$('.product-list-new-notes-input textarea').val();\n        }    // @method getContext @return {ProductList.Edit.View.Context}\n,\n        getContext: function () {\n            var model = this.model;\n            // @class ProductList.Edit.View.Context\n            return {\n                // @property {Boolean} inModal\n                inModal: !!this.inModal,\n                isEdit: !!this.isEdit,\n                name: model.get('name')    // @property {String} description\n,\n                description: model.get('description')\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module GlobalViews\ndefine('GlobalViews.StarRating.View', [\n    'SC.Configuration',\n    'global_views_star_rating.tpl',\n    'Backbone',\n    'jQuery',\n    'underscore'\n], function (Configuration, global_views_star_rating_tpl, Backbone, jQuery, _) {\n    'use strict';\n    // @class GlobalViews.StarRating.View @extends Backbone.View\n    return Backbone.View.extend({\n        template: global_views_star_rating_tpl,\n        initialize: function () {\n            if (!this.model) {\n                return;\n            }\n            this.options.value = this.model.get('_rating') || this.model.get('rating') || 0;\n            this.options.ratingCount = this.model.get('_ratingsCount') || 0;\n            this.options.label = this.model.get('label') || '';\n            this.options.name = this.model.get('name');\n        }    // @method getContext\n             // @returns {GlobalViews.StarRating.View.Context}\n,\n        getContext: function () {\n            var fill_value = Math.round(this.options.value * 2) / 2, max_value = this.options.max || Configuration.get('productReviews.maxRate', 5);\n            //@class GlobalViews.StarRating.View.Context\n            return {\n                //@property {Boolean} showLabelRating\n                showLabelRating: this.options.showLabelRating || false    //@property {Boolean} showLabel\n,\n                showLabel: !!this.options.label    //@property {String} label\n,\n                label: this.options.label || ''    //@property {String} name\n,\n                name: this.options.name || ''    //@property {Number} maxValue\n,\n                maxValue: max_value    //@property {Number} value\n,\n                value: this.options.value,\n                fillValue: fill_value    //@property {Number} filledBy\n,\n                filledBy: fill_value * 100 / max_value    //@property {Boolean} isWritable\n,\n                isWritable: !!this.options.isWritable,\n                buttons: _.range(max_value)    //@property {Boolean} showValue\n,\n                showValue: !!this.options.showValue,\n                showRatingCount: !!this.options.showRatingCount,\n                ratingCount: this.options.ratingCount,\n                className: this.options.className ? '-' + this.options.className : ''    //@property {Boolean} ratingCountGreaterThan0\n,\n                ratingCountGreaterThan0: this.options.ratingCount > 0    //@property {Boolean} hasOneReview\n,\n                hasOneReview: this.options.ratingCount === 1\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module ProductList\ndefine('ProductList.DisplayFull.View', [\n    'ProductViews.Price.View',\n    'ProductLine.Stock.View',\n    'GlobalViews.StarRating.View',\n    'ProductList.DetailsMinQuantity.View',\n    'Backbone.CompositeView',\n    'Transaction.Line.Views.Options.Selected.View',\n    'ProductLine.StockDescription.View',\n    'product_list_display_full.tpl',\n    'underscore',\n    'Backbone'\n], function (ProductViewsPriceView, ProductLineStockView, GlobalViewsStarRatingView, ProductListDetailsMinQuantityView, BackboneCompositeView, TransactionLineViewsOptionsSelectedView, ProductLineStockDescriptionView, product_list_display_full_tpl, _, Backbone) {\n    'use strict';\n    // @class ProductList.DisplayFull.View @extends Backbone.View\n    return Backbone.View.extend({\n        template: product_list_display_full_tpl,\n        initialize: function () {\n            BackboneCompositeView.add(this);\n        },\n        childViews: {\n            'ItemViews.Price': function () {\n                return new ProductViewsPriceView({\n                    model: this.model,\n                    origin: 'PRODUCTLISTDETAILSFULL'\n                });\n            },\n            'Item.SelectedOptions': function () {\n                return new TransactionLineViewsOptionsSelectedView({ model: this.model });\n            },\n            'ItemViews.Stock': function () {\n                return new ProductLineStockView({ model: this.model });\n            },\n            'GlobalViews.StarRating': function () {\n                return new GlobalViewsStarRatingView({ model: this.model.get('item') });\n            },\n            'ProductList.DetailsMinQuantity': function () {\n                return new ProductListDetailsMinQuantityView({ model: this.model });\n            },\n            'StockDescription': function () {\n                return new ProductLineStockDescriptionView({ model: this.model });\n            }\n        }    // @method getContext\n             // @return {ProductList.DisplayFull.View.Context}\n,\n        getContext: function getContext() {\n            var line = this.model, options = this.options || {}, priority = line.get('priority'), item = line.get('item'), description = line.get('description');\n            // @class ProductList.DisplayFull.View.Context\n            return {\n                // @property {String} lineId\n                lineId: line.get('internalid')    // @property {Boolean} isChecked\n,\n                isChecked: !!line.get('checked')    // @property {Integer} quantity\n,\n                quantity: line.get('quantity')    // @property {String} description\n,\n                description: description    // @property {Boolean} hasDescription\n,\n                hasDescription: !!description    // @property {Boolean} showEdit\n,\n                showEdit: options.show_edit_action,\n                showMoveAction: options.show_move_action,\n                showAddedOn: !options.hide_added_on,\n                itemId: line.getItemId()    // @property {Boolean} isAvailableForCart\n,\n                isAvailableForCart: item.get('_isPurchasable') && line.fulfillsMinimumQuantityRequirement() && line.fulfillsMaximumQuantityRequirement()    // @property {Boolean} showRating\n,\n                showRating: !options.hide_rating,\n                showCheckbox: !options.hide_checkbox,\n                productName: item.get('_name')    // @property {String} priorityName\n,\n                priorityName: priority.name,\n                itemCreatedDate: line.get('createddate')    // @property {String} linkAttributes\n,\n                linkAttributes: line.getFullLink()    // @property {ImageContainer} thumbnail\n,\n                thumbnail: this.model.getThumbnail()\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module ProductList\ndefine('ProductList.AddedToCart.View', [\n    'Backbone.CollectionView',\n    'Backbone.CompositeView',\n    'ProductList.DisplayFull.View',\n    'product_list_added_to_cart.tpl',\n    'underscore',\n    'Backbone',\n    'Backbone.View',\n    'Backbone.View.render',\n    'Utils'\n], function (BackboneCollectionView, BackboneCompositeView, ProductListDisplayFullView, product_list_added_to_cart_tpl, _, Backbone) {\n    'use strict';\n    // @class ProductList.AddedToCart.View @extends Backbone.View\n    return Backbone.View.extend({\n        template: product_list_added_to_cart_tpl,\n        attributes: { 'class': 'product-list-added-to-cart' },\n        title: _('Added to Cart').translate(),\n        initialize: function (options) {\n            this.application = options.application;\n            BackboneCompositeView.add(this);\n        }    // Render the view and show warning message if any item is not available to be added to the cart\n,\n        render: function () {\n            Backbone.View.prototype.render.apply(this);\n            var list = this.options.list, not_purchasable_items_count = this.options.not_purchasable_items_count;\n            if (list && not_purchasable_items_count > 0) {\n                var warning_message = not_purchasable_items_count === 1 ? _('One item not available for purchase was not added to the cart.').translate() : _('$(0) items not available for purchase were not added to the cart.').translate(not_purchasable_items_count);\n                this.showWarningMessage(warning_message);\n            }\n        },\n        showWarningMessage: function (message) {\n            this.$('[data-warning-message]').empty().append(message);\n        },\n        isPurchasable: function (model) {\n            return model.get('item').get('_isPurchasable');\n        },\n        childViews: {\n            'ProductList.ItemsAddedToCart': function () {\n                var list = this.options.list, isItem = !list;\n                return new BackboneCollectionView({\n                    childView: ProductListDisplayFullView,\n                    childViewOptions: {\n                        application: this.application,\n                        hide_rating: true,\n                        hide_added_on: true,\n                        hide_checkbox: true,\n                        id: 'list',\n                        name: 'List',\n                        icon: 'icon-th-list',\n                        isDefault: true\n                    },\n                    viewsPerRow: 1,\n                    collection: isItem ? [this.options.item] : list.get('items').models.filter(this.isPurchasable)\n                });\n            }\n        }    // @method getContext @return ProductList.AddedToCart.View.Context\n,\n        getContext: function () {\n            var list = this.options.list, isItem = !list, models = isItem ? [this.options.item] : list.get('items').models.filter(this.isPurchasable);\n            return {\n                // @property {Boolean} isItem\n                isItem: isItem    // @property {Boolean} hasMoreThanOneModel\n,\n                hasMoreThanOneModel: models.length > 1    // @property {String} listName\n,\n                listName: list.get('name')    // @property {Integer} modelsLength\n,\n                modelsLength: models.length\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module ProductList\ndefine('ProductList.ListDetails.View', [\n    'product_list_list_details.tpl',\n    'underscore',\n    'Backbone'\n], function (product_list_list_details_tpl, _, Backbone) {\n    'use strict';\n    // @class ProductList.ListDetails.View @extends Backbone.View\n    return Backbone.View.extend({\n        template: product_list_list_details_tpl    // @method getContext @return {ProductList.ListDetails.View.Context}\n,\n        getContext: function () {\n            var list = this.options.model, items = list.get('items'), outOfStockItems = list.getOutOfStockItems();\n            var minimumQuantityItems = list.getNotPurchasableItemsDueToMinimumQuantity();\n            var last_product_item = _.sortBy(items.models, function (it) {\n                    return new Date(it.get('created'));\n                }).reverse()[0], list_description = list.get('description');\n            // @class ProductList.ListDetails.View.Context\n            var result = {\n                // @property {Boolean} isChecked\n                isChecked: list.get('checked')    // @property {String} internalId\n,\n                internalId: list.get('internalid')    // @property {Boolean} isAvailableForCart\n,\n                isAvailableForCart: list.canBeAddedToCart()    // @property {String} templateId\n,\n                templateId: list.get('templateId')    // @property {Boolean} isTypePredefined\n,\n                isTypePredefined: list.get('typeName') === 'predefined'    // @property {String} listName\n,\n                listName: list.get('name')    // @property {Boolean} hasItems\n,\n                hasItems: !!items.length,\n                itemsLength: items.length,\n                hasOneItem: items.length === 1    // @property {Boolean} hasLastItem\n,\n                hasLastItem: false    // @property {String} lastProductItemUrl\n,\n                lastProductItemUrl: null    // @property {String} lastItemDisplayName\n,\n                lastItemDisplayName: null    // @property {Boolean} hasOutOfStockItems\n,\n                hasOutOfStockItems: outOfStockItems.length > 0    // @property {Boolean} hasMinimumQuantityItems\n,\n                hasMinimumQuantityItems: minimumQuantityItems.length > 0    // @property {String} lastModifiedDate\n,\n                lastModifiedDate: list.get('lastmodifieddate')    // @property {String} listDescription\n,\n                listDescription: list_description    // @property {Boolean} hasListDescription\n,\n                hasListDescription: !!list_description    // @property {Boolean} isListPrivate\n,\n                isListPrivate: list.get('scopeName') === 'private'\n            };\n            if (last_product_item) {\n                result.hasLastItem = !!last_product_item.get('item');\n                result.lastProductItemUrl = last_product_item.getFullLink();\n                result.lastItemDisplayName = last_product_item.get('item').get('_name');\n            }\n            return result;\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module ProductList\ndefine('ProductList.Lists.View', [\n    'ProductList.Model',\n    'ProductList.Item.Collection',\n    'ProductList.Edit.View',\n    'MenuTree.View',\n    'ProductList.AddedToCart.View',\n    'GlobalViews.Confirmation.View',\n    'product_list_lists.tpl',\n    'LiveOrder.Model',\n    'ProductList.ListDetails.View',\n    'Backbone.CompositeView',\n    'Backbone.CollectionView',\n    'SC.Configuration',\n    'underscore',\n    'jQuery',\n    'Backbone',\n    'Backbone.View',\n    'Backbone.View.render',\n    'Utils'\n], function (ProductListModel, ProductListItemCollection, ProductListCreationView, MenuTreeView, ProductListAddedToCartView, GlobalViewsConfirmationView, product_list_lists_tpl, LiveOrderModel, ProductListListDetailsView, BackboneCompositeView, BackboneCollectionView, Configuration, _, jQuery, Backbone) {\n    'use strict';\n    // @class ProductList.Lists.View @extends Backbone.View\n    return Backbone.View.extend({\n        template: product_list_lists_tpl,\n        title: _('Wishlist').translate(),\n        className: 'ProductListListsView',\n        attributes: { 'class': 'ProductListListsView' },\n        events: {\n            'change [data-action=\"sort-by\"]': 'sortBy',\n            'click [data-action=\"add-list\"]': 'createProductList',\n            'click [data-action=\"delete-list\"]': 'askDeleteList',\n            'click [data-action=\"edit-list\"]': 'editListHandler',\n            'click [data-action=\"share-list\"]': 'shareList',\n            'click [data-action=\"add-to-cart\"]': 'addListToCartHandler',\n            'click [data-action=\"select\"]': 'toggleProductListHandler',\n            'click [data-action=\"navigate\"]': 'navigateToItems'\n        },\n        initialize: function (options) {\n            this.options = options;\n            this.application = options.application;\n            BackboneCompositeView.add(this);\n        },\n        render: function () {\n            Backbone.View.prototype.render.apply(this, arguments);\n            //if there are no list we show the list creation form\n            if (!this.collection.length) {\n                this.newProductListView = new ProductListCreationView({\n                    application: this.application,\n                    parentView: this,\n                    model: new ProductListModel()    //create!\n                });\n                this.newProductListView.render();\n                this.$('[data-type=\"new-product-list\"]').append(this.newProductListView.$el);\n            }\n        }    // @method createProductList Show create new product list modal form\n,\n        createProductList: function () {\n            this.newProductListView = new ProductListCreationView({\n                application: this.application,\n                parentView: this,\n                model: new ProductListModel()    //create!\n            });\n            this.application.getLayout().showInModal(this.newProductListView);\n        }    // @method askDeleteList starts the 'delete a list' use case\n,\n        askDeleteList: function (e) {\n            this.deleteConfirmationView = new GlobalViewsConfirmationView({\n                callBackParameters: {\n                    target: e.target,\n                    context: this\n                },\n                callBack: this.deleteListHandler,\n                title: _('Delete list').translate(),\n                autohide: false,\n                body: _('Are you sure you want to remove this list?').translate()\n            });\n            this.application.getLayout().showInModal(this.deleteConfirmationView);\n        }    // @method deleteListHandler called from the sub view when the user confirms he wants to delete the product list.\n,\n        deleteListHandler: function (options) {\n            var self = options.context, target = options.target, list = self.getListFromDom(jQuery(target));\n            self.collection.remove(list);\n            list.url = ProductListModel.prototype.url;\n            list.destroy().done(function () {\n                MenuTreeView.getInstance().updateMenuItemsUI();\n                self.render();\n                self.showConfirmationMessage(_('Your <span class=\"product-list-name\">$(0)</span> list was removed').translate(list.get('name')));\n                self.deleteConfirmationView.$containerModal.modal('hide');\n            });\n        }    // @method highlightList temporarily highlights a list that has been recently added or edited\n,\n        highlightList: function (internalid) {\n            var $list_dom = jQuery(this.el).find('article[data-product-list-id=' + internalid + ']');\n            if ($list_dom) {\n                $list_dom.addClass('new-list');\n                setTimeout(function () {\n                    $list_dom.removeClass('new-list');\n                }, 3000);\n            }\n        }    // @method addListToCartHandler Add list to cart click handler\n,\n        addListToCartHandler: function (e) {\n            var list = this.getCurrentList(e);\n            this.addListToCart(list);\n        }    // @method Adds an entire list to the cart @param {ProductList.Model} list\n,\n        addListToCart: function (list) {\n            // collect the items data to add to cart\n            var lines_to_add = [], self = this, not_purchasable_items_count = 0;\n            list.get('items').each(function (pli) {\n                if (pli.get('item').get('_isPurchasable')) {\n                    lines_to_add.push(pli);\n                } else {\n                    not_purchasable_items_count++;\n                }\n            });\n            if (lines_to_add.length === 0) {\n                var errorMessage = _('All items in the list are not available for purchase.').translate();\n                self.showWarningMessage(errorMessage);\n                return;\n            }\n            // add the items to the cart and when its done show the confirmation view\n            LiveOrderModel.getInstance().addProducts(lines_to_add).done(function () {\n                // before showing the confirmation view we need to fetch the items of the list with all the data.\n                self.application.ProductListModule.Utils.getProductList(list.get('internalid')).done(function (model) {\n                    self.addedToCartView = new ProductListAddedToCartView({\n                        application: self.application,\n                        parentView: self,\n                        list: new ProductListModel(model)    //pass the model with all the data\n,\n                        not_purchasable_items_count: not_purchasable_items_count\n                    });\n                    // also show a confirmation message\n                    var confirmMessage;\n                    if (list.get('items').length > 1) {\n                        confirmMessage = _('Good! $(0) items from your <a class=\"product-list-name\" href=\"/wishlist/$(1)\">$(2)</a> list were successfully added to your cart. You can continue to <a href=\"\">view your cart and checkout</a>').translate(list.get('items').length, list.get('internalid'), list.get('name'));\n                    } else {\n                        confirmMessage = _('Good! $(0) item from your <a class=\"product-list-name\" href=\"/wishlist/$(1)\">$(2)</a> list was successfully added to your cart. You can continue to <a href=\"\" data-touchpoint=\"viewcart\">view your cart and checkout</a>').translate(list.get('items').length, list.get('internalid'), list.get('name'));\n                    }\n                    self.showConfirmationMessage(confirmMessage);\n                    self.application.getLayout().showInModal(self.addedToCartView);\n                });\n            });\n        }    // @method editListHandler Edit list click handler\n,\n        editListHandler: function (e) {\n            var list = this.getListFromDom(jQuery(e.target));\n            this.editList(list);\n        }    // @method getListFromDom Get the list (collection) from DOM @return {ProductList.Model}\n,\n        getListFromDom: function ($target) {\n            var list_id = $target.closest('[data-product-list-id]').data('product-list-id') + '';\n            return this.options.collection.where({ internalid: list_id })[0];\n        }    // @method editList Edit list click handler (displays edit list modal view) @param {ProductList.Model} list\n,\n        editList: function (list) {\n            this.newProductListView = new ProductListCreationView({\n                application: this.application,\n                parentView: this,\n                model: list,\n                inModal: true\n            });\n            this.application.getLayout().showInModal(this.newProductListView);\n        }    //@method getSelectedMenu\n,\n        getSelectedMenu: function () {\n            return 'productlist_all';\n        }    // @method getBreadcrumbPages\n,\n        getBreadcrumbPages: function () {\n            return {\n                text: _('Wishlist').translate(),\n                href: '/wishlist'\n            };\n        }    // @method toggleProductListItemHandler\n,\n        toggleProductListItemHandler: function (e) {\n            this.toggleProductListItem(jQuery(e.target).closest('article').data('id'));\n        }    // @method toggleProductListHandler\n,\n        toggleProductListHandler: function (e) {\n            this.toggleProductList(jQuery(e.target).closest('article').data('id'));\n        }    // @method toggleProductList @param {String} pl_internalid\n,\n        toggleProductList: function (pl_internalid) {\n            var pl = this.collection.get(pl_internalid);\n            if (pl) {\n                this[pl.get('checked') ? 'unselectProductList' : 'selectProductList'](pl);\n                this.render();\n            }\n        }    // @method selectProductList @param {ProductList.Model} pl\n,\n        selectProductList: function (pl) {\n            if (pl) {\n                pl.set('checked', true);\n            }\n        }    // @method unselectProductList @param {ProductList.Model} pl\n,\n        unselectProductList: function (pl) {\n            if (pl) {\n                pl.set('checked', false);\n            }\n        }    // @method getCurrentList @returns {ProductList.Model}\n,\n        getCurrentList: function (e) {\n            var list_id = jQuery(e.target).closest('[data-product-list-id]').data('product-list-id') + '', list = this.options.collection.findWhere({ internalid: list_id });\n            return list;\n        }    // @method navigateToItems\n,\n        navigateToItems: function (e) {\n            //ignore clicks on anchors and buttons\n            if (_.isTargetActionable(e)) {\n                return;\n            }\n            var list = this.getCurrentList(e), internalid = list.get('internalid'), url = '/wishlist/' + (internalid ? internalid : 'tmpl_' + list.get('templateid'));\n            Backbone.history.navigate(url, { trigger: true });\n        },\n        childViews: {\n            'ProductList.ListDetails': function () {\n                return new BackboneCollectionView({\n                    childView: ProductListListDetailsView,\n                    viewsPerRow: 1,\n                    collection: this.collection\n                });\n            }\n        }    // @method getContext @return {ProductList.Lists.View.Context}\n,\n        getContext: function () {\n            // @class ProductList.Lists.View.Context\n            return {\n                // @property {Boolean} hasLists\n                hasLists: this.collection.length,\n                showBackToAccount: Configuration.get('siteSettings.sitetype') === 'STANDARD'    //@property {Boolean} isSingleList\n,\n                isSingleList: this.application.ProductListModule.Utils.isSingleList()\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module ProductViews\ndefine('ProductViews.Option.View', [\n    'SC.Configuration',\n    'Backbone',\n    'underscore',\n    'bootstrap-datepicker'\n], function (Configuration, Backbone, _) {\n    'use strict';\n    //@class ProductViews.Option.View.initialize\n    //@property {Transaction.Line.Model} line\n    //@property {String} templateName As this view can be used to show options in all state (selected or to be selected) it is required to specify\n    //what template should be used from the list of templates in configuration. If not value is given 'selector' is used, note that this value\n    //is used to select option (in the PDP for instance)\n    //@property {Backbone.Model<Transaction.Line.Option.Model>} model\n    // @class ProductViews.Option.View @extends Backbone.View\n    return Backbone.View.extend({\n        //@method initialize Set the option template and values availability\n        //@param {ProductViews.Option.View.initialize} options\n        //@return {Void}\n        initialize: function () {\n            this.config = _.findWhere(Configuration.get('ItemOptions.optionsConfiguration', []), { cartOptionId: this.model.get('cartOptionId') }) || { templates: {} };\n            this.config.templates = this.config.templates || {};\n            var item_options_default_templates = Configuration.get('ItemOptions.defaultTemplates', {});\n            if (item_options_default_templates && item_options_default_templates.selectorByType) {\n                // Sets templates for this option\n                if (!this.config.templates.selector) {\n                    var option_selector_template = item_options_default_templates.selectorByType[this.model.get('type')], default_option_selector_template = item_options_default_templates.selectorByType['default'];\n                    this.config.templates.selector = option_selector_template || default_option_selector_template;\n                }\n                if (!this.config.templates.selected) {\n                    var option_selected_template = item_options_default_templates.selectedByType[this.model.get('type')], default_option_selected_template = item_options_default_templates.selectedByType['default'];\n                    this.config.templates.selected = option_selected_template || default_option_selected_template;\n                }\n                if (!this.config.templates.facetCell) {\n                    var option_facetcell_template = item_options_default_templates.facetCellByType[this.model.get('type')], default_option_facetcell_template = item_options_default_templates.facetCellByType['default'];\n                    this.config.templates.facetCell = option_facetcell_template || default_option_facetcell_template;\n                }\n            }\n            this.options.templateName = this.options.templateName || 'selector';\n            this.template = this.config.templates[this.options.templateName];\n        }    //@method getContext\n             //@returns {ProductViews.Option.View.Context}\n,\n        getContext: function () {\n            var self = this, selected_value = this.model.get('value') || {}, values = _.map(this.model.get('values'), function (value) {\n                    var color = '', is_color_tile = true, image = {};\n                    if (self.model.get('colors')) {\n                        color = self.model.get('colors')[value.label] || self.model.get('colors').defaultColor;\n                        if (_.isObject(color)) {\n                            image = color;\n                            color = '';\n                            is_color_tile = false;\n                        }\n                    }\n                    //@class ProductViews.Option.View.Value\n                    return {\n                        // @property {String} internalId\n                        internalId: value.internalid,\n                        isAvailable: value.isAvailable,\n                        url: value.url,\n                        label: value.label,\n                        isActive: value.internalid === selected_value.internalid,\n                        color: color    // @property {Boolean} isColorTile Indicate if a simple colored box should be shown or an image object is aimed\n,\n                        isColorTile: is_color_tile    // @property {Color.Configuration>|String} image\n,\n                        image: image    // @property {Boolean} isLightColor\n,\n                        isLightColor: _.contains(Configuration.get('layout.lightColors', []), value.label)\n                    };    //@class ProductViews.Option.View\n                });\n            // @class ProductViews.Option.View.Context\n            return {\n                // @property {Transaction.Line.Option.Model} model\n                model: this.model,\n                values: values    // @property {Boolean} showSelectedValue\n,\n                showSelectedValue: !!selected_value    // @propery {Boolean} showRequiredLabel\n,\n                showRequiredLabel: this.options.show_required_label && this.model.get('isMandatory')    // @property {String} itemOptionId\n,\n                itemOptionId: this.model.get('itemOptionId')    // @property {String} cartOptionId\n,\n                cartOptionId: this.model.get('cartOptionId')    // @property {String} label\n,\n                label: this.model.get('label')    // @property {ItemViews.Option.View.Option} selectedValue\n,\n                selectedValue: selected_value    // @property {Boolean} isTextArea\n,\n                isTextArea: this.model.get('type') === 'textarea'    // @property {Boolean} isEmail\n,\n                isEmail: this.model.get('type') === 'email'    // @property {Boolean} isText\n,\n                isText: this.model.get('type') === 'text'    // @property {Boolean} isCheckbox\n,\n                isCheckbox: this.model.get('type') === 'checkbox'    // @property {Boolean} idDate\n,\n                isDate: this.model.get('type') === 'date'    // @property {Boolean} isSelect\n,\n                isSelect: this.model.get('type') === 'select'    // @property {String} showLabel\n,\n                showLabel: !this.options.hideLabel,\n                showSmall: !!this.options.showSmall\n            };    // @class ProductViews.Option.View\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module ProductDetails\ndefine('ProductDetails.Options.Selector.Pusher.View', [\n    'product_details_options_selector_pusher.tpl',\n    'Backbone'\n], function (product_details_options_selector_pusher_tpl, Backbone) {\n    'use strict';\n    //@class ProductDetails.Options.Selector.Pusher.View\n    return Backbone.View.extend({\n        //@property {Function} template\n        template: product_details_options_selector_pusher_tpl    //@property {Function} initialize\n,\n        initialize: function () {\n            Backbone.View.prototype.initialize.apply(this, arguments);\n            this.model.on('change', this.render, this);\n        }    //@method getContext\n             //@return {ProductDetails.Options.Selector.View.Context}\n,\n        getContext: function () {\n            var selected_options = this.model.getSelectedOptions();\n            //@class ProductDetails.Options.Selector.View.Context\n            return {\n                //@property {ProductModel} model\n                model: this.model,\n                isSelectionCompleted: this.model.isSelectionComplete()    //@property {Boolean} hasSelectedOptions Indicate if the current line has options selected\n,\n                hasSelectedOptions: !!selected_options.length,\n                selectedOptions: selected_options\n            };    //@class ProductDetails.Options.Selector.View\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module ProductDetails\ndefine('ProductDetails.Options.Selector.View', [\n    'ProductViews.Option.View',\n    'Backbone.CompositeView',\n    'Backbone.CollectionView',\n    'ProductViews.Price.View',\n    'ProductLine.Stock.View',\n    'ProductLine.StockDescription.View',\n    'ProductDetails.Options.Selector.Pusher.View',\n    'product_details_options_selector.tpl',\n    'Backbone'\n], function (ProductViewsOptionView, BackboneCompositeView, BackboneCollectionView, ProductViewsPriceView, ProductLineStockView, ProductLineStockDescriptionView, ProductDetailsOptionsSelectorPusherView, product_details_options_selector_tpl, Backbone) {\n    'use strict';\n    //@class ProductDetails.Options.Selector.View.initialize\n    //@property {Transaction.Line.Model} model\n    return Backbone.View.extend({\n        //@property {Function} template\n        template: product_details_options_selector_tpl    //@method initialize Override default method to made current view composite\n                                                //@param {ProductDetails.Options.Selector.View.initialize} options\n                                                //@return {Void}\n,\n        initialize: function () {\n            Backbone.View.prototype.initialize.apply(this, arguments);\n            BackboneCompositeView.add(this);\n        }    //@method render Override default method to made current view composite\n             //@param {ProductDetails.Options.Selector.View.render}\n             //@return {Void}\n,\n        render: function () {\n            if (!this.model.get('options').length) {\n                return;\n            }\n            this._render();\n        }    //@property {ChildViews} childViews\n,\n        childViews: {\n            'Pusher': function () {\n                return new ProductDetailsOptionsSelectorPusherView({ model: this.model });\n            },\n            'Options.Collection': function () {\n                return new BackboneCollectionView({\n                    collection: this.model.getVisibleOptions(),\n                    childView: ProductViewsOptionView,\n                    viewsPerRow: 1,\n                    childViewOptions: {\n                        line: this.model,\n                        item: this.model.get('item'),\n                        templateName: 'selector',\n                        show_required_label: this.options.show_required_label\n                    }\n                });\n            },\n            'Item.Price': function () {\n                return new ProductViewsPriceView({\n                    model: this.model,\n                    origin: 'PDPOPTIONS'\n                });\n            },\n            'Item.Stock': function () {\n                return new ProductLineStockView({ model: this.model });\n            },\n            'StockDescription': function () {\n                return new ProductLineStockDescriptionView({ model: this.model });\n            }\n        }    //@method getContext\n             //@return {ProductDetails.Options.Selector.View.Context}\n,\n        getContext: function () {\n            //@class ProductDetails.Options.Selector.View.Context\n            return {\n                //@property {ProductModel} model\n                model: this.model,\n                showPusher: this.options.show_pusher,\n                showRequiredLabel: this.options.show_required_label\n            };    //@class ProductDetails.Options.Selector.View\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module ProductList\ndefine('ProductList.Item.Edit.View', [\n    'ProductList.Item.Model',\n    'GlobalViews.StarRating.View',\n    'Backbone.CompositeView',\n    'Backbone.CollectionView',\n    'ProductViews.Price.View',\n    'ProductDetails.Options.Selector.View',\n    'product_list_edit_item.tpl',\n    'underscore',\n    'jQuery',\n    'Backbone',\n    'Backbone.FormView',\n    'Utils'\n], function (ProductListItemModel, GlobalViewsStarRatingView, BackboneCompositeView, BackboneCollectionView, ProductViewsPriceView, ProductDetailsOptionsSelectorView, product_list_edit_item_tpl, _, jQuery, Backbone, BackboneFormView, Utils) {\n    'use strict';\n    // @class ProductList.Item.Edit.View View to handle Product Lists Item edition. @extends Backbone.View\n    return Backbone.View.extend({\n        template: product_list_edit_item_tpl,\n        title: _('Edit item').translate(),\n        page_header: _('Edit item').translate(),\n        modalClass: 'global-views-modal-large',\n        events: {\n            'submit form': 'submitForm',\n            'blur [data-toggle=\"text-option\"]': 'setOption',\n            'click [data-toggle=\"set-option\"]': 'setOption',\n            'change [data-toggle=\"select-option\"]': 'setOption',\n            'change [name=\"quantity\"]': 'updateQuantity',\n            'keypress [name=\"quantity\"]': 'ignoreEnter',\n            'click [data-ui-action=\"add\"]': 'addQuantity',\n            'click [data-ui-action=\"minus\"]': 'subQuantity',\n            'change [name=\"description\"]': 'updateDescription',\n            'keypress [name=\"description\"]': 'ignoreEnter',\n            'change [name=\"priority\"]': 'updatePriority',\n            'keydown [data-toggle=\"text-option\"]': 'tabNavigationFix',\n            'focus [data-toggle=\"text-option\"]': 'tabNavigationFix'\n        },\n        bindings: { '[name=\"description\"]': 'description' },\n        initialize: function (options) {\n            this.application = options.application;\n            this.parentView = options.parentView;\n            this.target = options.target;\n            this.title = options.title;\n            this.page_header = options.title;\n            this.confirm_edit_method = options.confirm_edit_method;\n            BackboneCompositeView.add(this);\n            BackboneFormView.add(this);\n        }    // Edit the current item\n,\n        submitForm: function (e) {\n            e.preventDefault();\n            if (this.model.areAttributesValid([\n                    'quantity',\n                    'options'\n                ], {})) {\n                var self = this;\n                this.$('[data-action=\"edit\"]').attr('disabled', 'true');\n                this.model.save(null, { validate: false }).done(function (new_attributes) {\n                    self.parentView[self.confirm_edit_method](new_attributes);\n                    var item_list = _.findWhere(self.application.ProductListModule.Utils.getProductLists().models, { id: self.parentView.model.id });\n                    item_list && item_list.get('items').get(self.model.id).set('quantity', new_attributes.quantity);\n                    if (self.inModal && self.$containerModal) {\n                        self.$containerModal.modal('hide');\n                        self.destroy();\n                    }\n                });\n            }\n        }    // Updates the quantity of the model\n,\n        updateQuantity: function (e) {\n            var new_quantity = parseInt(jQuery(e.target).val(), 10), min_quantity = this.getMinimumQuantity(), max_quantity = this.getMaximumQuantity(), current_quantity = this.model.get('quantity');\n            new_quantity = new_quantity >= min_quantity ? new_quantity : min_quantity;\n            new_quantity = max_quantity !== 0 && new_quantity > max_quantity ? max_quantity : new_quantity;\n            jQuery(e.target).val(new_quantity);\n            if (new_quantity !== current_quantity) {\n                this.model.set('quantity', new_quantity);\n                this.storeFocus(e);\n                this.render();\n            }\n        }    // @method addQuantity Increase the product's Quantity by 1\n             // @param {HTMLEvent} e\n,\n        addQuantity: function (e) {\n            e.preventDefault();\n            var $element = jQuery(e.target), oldValue = $element.parent().find('input').val(), newVal = parseInt(oldValue, 10) + 1;\n            var input = $element.parent().find('input');\n            input.val(newVal);\n            input.trigger('change');\n        }    // @method subQuantity Decreases the product's Quantity by 1\n             // @param {HTMLEvent} e\n,\n        subQuantity: function (e) {\n            e.preventDefault();\n            var $element = jQuery(e.target), oldValue = $element.parent().find('input').val(), newVal = parseInt(oldValue, 10) - 1;\n            newVal = Math.max(1, newVal);\n            var input = $element.parent().find('input');\n            input.val(newVal);\n            input.trigger('change');\n        }    // @method getMinimumQuantity Returns the minimum purchasable quantity of the active item\n,\n        getMinimumQuantity: function () {\n            return this.getMinMaxQuantity('_minimumQuantity', 1);\n        }    // @method getMaximumQuantity Returns the minimum purchasable quantity of the active item\n,\n        getMaximumQuantity: function () {\n            return this.getMinMaxQuantity('_maximumQuantity', 0);\n        },\n        getMinMaxQuantity: function (minMax, minMaxNumber) {\n            if (this.model.isMatrixChild()) {\n                var optionsSelected = this.model.get('itemDetails').itemOptions, optionsAvailable = this.model.get('itemDetails').getPosibleOptions(), activeItem = this.model.getMatrixItem(optionsSelected, optionsAvailable);\n                return activeItem && activeItem.get(minMax) ? activeItem.get(minMax) : minMaxNumber;\n            } else {\n                return this.model.get('item').get(minMax) ? this.model.get('item').get(minMax) : minMaxNumber;\n            }\n        }    // Updates the description of the model\n,\n        updateDescription: function (e) {\n            var new_description = jQuery(e.target).val(), current_description = this.model.get('description');\n            if (new_description !== current_description) {\n                this.model.set('description', new_description);\n                this.storeFocus(e);\n            }\n        }    // Updates the priority of the model\n,\n        updatePriority: function (e) {\n            var new_priority = jQuery(e.target).val(), current_priority = this.model.get('priority');\n            if (new_priority !== current_priority) {\n                this.model.set('priority', { id: new_priority });\n                this.storeFocus(e);\n            }\n        }    // Sets an item option (matrix or custom)\n,\n        setOption: function (e) {\n            var $target = jQuery(e.currentTarget), value = $target.val() || $target.data('value') || null, cart_option_id = $target.closest('[data-type=\"option\"]').data('cart-option-id');\n            // Prevent from going away\n            e.preventDefault();\n            // if option is selected, remove the value\n            if ($target.data('active')) {\n                value = null;\n            }\n            this.model.setOption(cart_option_id, value);\n            this.storeFocus(e);\n            this.render();\n        }    // view.storeFocus\n             // Computes and store the current state of the item and refresh the whole view, re-rendering the view at the end\n             // This also updates the url, but it does not generates a history point\n,\n        storeFocus: function () {\n            var focused_element = this.$(':focus').get(0);\n            this.focusedElement = focused_element ? Utils.getFullPathForElement(focused_element) : null;\n        }    // view.tabNavigationFix:\n             // When you blur on an input field the whole page gets rendered,\n             // so the function of hitting tab to navigate to the next input stops working\n             // This solves that problem by storing a a ref to the current input\n,\n        tabNavigationFix: function (e) {\n            this.hideError();\n            // If the user is hitting tab we set tabNavigation to true, for any other event we turn ir off\n            this.tabNavigation = e.type === 'keydown' && e.which === 9;\n            this.tabNavigationUpsidedown = e.shiftKey;\n            this.tabNavigationCurrent = Utils.getFullPathForElement(e.target);\n        },\n        afterAppend: function () {\n            this.focusedElement && this.$(this.focusedElement).focus();\n            if (this.tabNavigation) {\n                var current_index = this.$(':input').index(this.$(this.tabNavigationCurrent).get(0)), next_index = this.tabNavigationUpsidedown ? current_index - 1 : current_index + 1;\n                this.$(':input:eq(' + next_index + ')').focus();\n            }\n        }    // view.showInModal:\n             // Takes care of showing the pdp in a modal, and changes the template, doesn't trigger the\n             // after events because those are triggered by showContent\n,\n        showInModal: function (options) {\n            this.template = 'product_list_edit_item';\n            return this.application.getLayout().showInModal(this, options);\n        }    // don't want to trigger form submit when user presses enter when in the quantity input text\n,\n        ignoreEnter: function (e) {\n            if (e.keyCode === 13) {\n                e.preventDefault();\n                e.stopPropagation();\n            }\n        },\n        childViews: {\n            'ItemViews.Price': function () {\n                return new ProductViewsPriceView({\n                    model: this.model,\n                    origin: 'PRODUCTLISTDETAILSEDIT'\n                });\n            },\n            'GlobalViews.StarRating': function () {\n                return new GlobalViewsStarRatingView({ model: this.model.get('item') });\n            },\n            'ItemDetails.Options': function () {\n                return new ProductDetailsOptionsSelectorView({ model: this.model });\n            }\n        }    // @method getContext\n             // @return {ProductList.Item.Edit.View.Context}\n,\n        getContext: function () {\n            var line = this.model, item = line.get('item'), min_quantity = item.get('_minimumQuantity'), max_quantity = this.getMaximumQuantity(), priority = line.get('priority');\n            //@class ProductList.Item.Edit.View.Context\n            return {\n                //@property {Boolean} showRating\n                showRating: SC.ENVIRONMENT.REVIEWS_CONFIG && SC.ENVIRONMENT.REVIEWS_CONFIG.enabled,\n                quantity: line.get('quantity')    //@property {Boolean} showMinimumQuantity\n,\n                showMinimumQuantity: min_quantity > 1    //@property {Number} minQuantity\n,\n                minQuantity: min_quantity    //@property {Boolean} showMaximumQuantity\n,\n                showMaximumQuantity: max_quantity > 0    //@property {Number} maxQuantity\n,\n                maxQuantity: max_quantity    // @property {String} description\n,\n                description: line.get('description')    // @property {String} productId\n,\n                productId: item.get('internalid')    // @property {String} productName\n,\n                productName: item.get('_name')    // @property {String} itemCreatedDate\n,\n                itemCreatedDate: line.get('created')    // @property {Boolean} isSelectionCompleteForEdit\n,\n                isSelectionCompleteForEdit: line.areAttributesValid([\n                    'quantity',\n                    'options'\n                ], {})    // @property {Boolean} isPriority1\n,\n                isPriority1: priority.id === '1'    // @property {Boolean} isPriority2\n,\n                isPriority2: priority.id === '2'    // @property {Boolean} isPriority3\n,\n                isPriority3: priority.id === '3'    // @property {ImageContainer} thumbnail\n,\n                thumbnail: this.model.getThumbnail()\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module ProductList\ndefine('ProductList.BulkActions.View', [\n    'product_list_bulk_actions.tpl',\n    'Backbone'\n], function (product_list_bulk_actions_tpl, Backbone) {\n    'use strict';\n    // @class ProductList.BulkActions.View @extends Backbone.View\n    return Backbone.View.extend({\n        template: product_list_bulk_actions_tpl    // @method getContext @return ProductList.BulkActions.View.Context\n,\n        getContext: function () {\n            var model = this.options.model, isAtLeastOneItemChecked = model.someCheckedItemsExist();\n            return {\n                // @property {Boolean} isAtLeastOneItemChecked\n                isAtLeastOneItemChecked: isAtLeastOneItemChecked    // @property {Boolean} hasItems\n,\n                hasItems: model.get('items').length,\n                isAddToCartEnabled: isAtLeastOneItemChecked && model.canBeAddedToCart(true)    // @property {Boolean} isTypePredefined\n,\n                isTypePredefined: model.get('typeName') === 'predefined'\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module ProductList\n// -----------------------\n// Views for handling Product Lists (CRUD)\ndefine('ProductList.Details.View', [\n    'ProductList.Item.Collection',\n    'ProductList.Model',\n    'ProductList.Lists.View',\n    'ProductList.AddedToCart.View',\n    'ProductList.Item.Edit.View',\n    'ProductList.Item.Model',\n    'ProductList.Control.View',\n    'ListHeader.View',\n    'MenuTree.View',\n    'product_list_details.tpl',\n    'LiveOrder.Model',\n    'Backbone.CollectionView',\n    'ProductList.DisplayFull.View',\n    'ProductList.BulkActions.View',\n    'Backbone.CompositeView',\n    'Handlebars',\n    'underscore',\n    'jQuery',\n    'Backbone',\n    'Backbone.View',\n    'Backbone.View.render',\n    'Utils'\n], function (ProductListItemCollection, ProductListModel, ProductListListsView, ProductListAddedToCartView, ProductListItemEditView, ProductListItemModel, ProductListControlView, ListHeaderView, MenuTreeView, product_list_details_tpl, LiveOrderModel, BackboneCollectionView, ProductListDisplayFullView, ProductListBulkActionsView, BackboneCompositeView, Handlebars, _, jQuery, Backbone) {\n    'use strict';\n    // @class ProductList.Details.View @extends Backbone.View\n    return Backbone.View.extend({\n        template: product_list_details_tpl,\n        className: 'ProductListDetailsView',\n        attributes: { 'class': 'ProductListDetailsView' },\n        events: {\n            // items events\n            'click [data-action=\"add-to-cart\"]': 'addItemToCartHandler',\n            'click [data-action=\"add-items-to-cart\"]': 'addItemsToCartBulkHandler',\n            'click [data-action=\"delete-items\"]': 'deleteItemsHandler',\n            'click [data-action=\"edit-item\"]': 'askEditListItem',\n            'click [data-action=\"update-item-quantity\"]': 'updateListItemQuantity',\n            'click [data-action=\"update-item-quantity-max\"]': 'updateListItemMaxQuantity',\n            'click [data-ui-action=\"show-edit-notes\"]': 'showEditNotes',\n            'click [data-ui-action=\"cancel-edit-notes-form\"]': 'showViewNotes',\n            'click [data-action=\"add-list-to-cart\"]': 'addListToCart_',\n            'click [data-action=\"edit-list\"]': 'editListHandler',\n            'change [data-action=\"change-quantity\"]': 'updateItemQuantity',\n            'keyup [data-action=\"change-quantity\"]': 'updateItemQuantity',\n            'submit [data-action=\"update-quantity-item-list\"]': 'updateItemQuantityFormSubmit',\n            'click [data-action=\"product-list-item\"]': 'toggleProductListItemHandler'\n        },\n        sortOptions: [\n            {\n                value: 'sku',\n                name: _('Sort by name').translate(),\n                selected: true\n            },\n            {\n                value: 'price',\n                name: _('Sort by price').translate()\n            },\n            {\n                value: 'created',\n                name: _('Sort by date Added').translate()\n            },\n            {\n                value: 'priority',\n                name: _('Sort by priority').translate()\n            }\n        ],\n        initialize: function (options) {\n            this.options = options;\n            this.model = options.model;\n            this.application = options.application;\n            this.cart = LiveOrderModel.getInstance();\n            this.displayOptions = this.application.getConfig('productList.templates');\n            this.includeSortingFilteringHeader = options.includeSortingFilteringHeader;\n            this.title = this.model.get('name');\n            this.collection = this.model.get('items');\n            this.collection.productListId = this.model.get('internalid');\n            this.setupListHeader(this.collection);\n            this.on('afterCompositeViewRender', function () {\n                var self = this, out_of_stock_items = [], items = this.model.get('items'), is_single_list = this.application.ProductListModule.Utils.isSingleList();\n                items.each(function (item) {\n                    if (!item.get('item').get('_isPurchasable')) {\n                        out_of_stock_items.push(item);\n                    }\n                    if (!is_single_list) {\n                        self.renderMove(item);\n                    }\n                });\n                var warning_message = null;\n                if (out_of_stock_items.length === 1) {\n                    warning_message = _('$(0) of $(1) items in your list is currently not available for purchase. If you decide to add the list to your cart, only available products will be added.').translate(out_of_stock_items.length, items.length);\n                } else if (out_of_stock_items.length > 1) {\n                    warning_message = _('$(0) of $(1) items in your list are currently not available for purchase. If you decide to add the list to your cart, only available products will be added.').translate(out_of_stock_items.length, items.length);\n                }\n                if (warning_message) {\n                    self.showWarningMessage(warning_message);\n                }\n            });\n            BackboneCompositeView.add(this);\n            this.collection.on('reset', jQuery.proxy(this, 'render'));\n        }    // @method setupListHeader @param {Backbone.Collection} collection\n,\n        setupListHeader: function (collection) {\n            if (!this.includeSortingFilteringHeader) {\n                return;\n            }\n            var self = this;\n            this.listHeader = new ListHeaderView({\n                view: this,\n                application: this.application,\n                avoidFirstFetch: true,\n                headerMarkup: function () {\n                    var view = new ProductListBulkActionsView({ model: self.model });\n                    view.render();\n                    return new Handlebars.SafeString(view.$el.html());\n                },\n                hideFilterExpandable: function () {\n                    return this.collection.length < 2;\n                },\n                selectable: true,\n                collection: collection,\n                sorts: this.sortOptions\n            });\n        }    // @method addListToCart_ add this list to cart handler\n,\n        addListToCart_: function () {\n            this.addListToCart(this.model);\n        }    // @method addListToCart\n,\n        addListToCart: ProductListListsView.prototype.addListToCart,\n        addItemToCartHandler: function (e) {\n            e.stopPropagation();\n            e.preventDefault();\n            var self = this, selected_product_list_item_id = self.$(e.target).closest('article').data('id'), selected_product_list_item = self.model.get('items').findWhere({ internalid: selected_product_list_item_id.toString() }), selected_item = selected_product_list_item.get('item'), selected_item_internalid = selected_item.internalid, item_detail = selected_product_list_item.getItemForCart(selected_item_internalid, selected_product_list_item.get('quantity'), selected_item.itemoptions_detail, selected_product_list_item.getOptionsArray());\n            var add_to_cart_promise = this.addItemToCart(item_detail), whole_promise = jQuery.when(add_to_cart_promise).then(jQuery.proxy(this, 'showConfirmationHelper', selected_product_list_item));\n            if (whole_promise) {\n                this.disableElementsOnPromise(whole_promise, 'article[data-item-id=\"' + selected_item_internalid + '\"] a, article[data-item-id=\"' + selected_item_internalid + '\"] button');\n            }\n        }    // @method _getSelection @return {items:ProductList.Item.Collection,items_for_cart:Array<Backbone.Model>,button_selector:String}\n,\n        _getSelection: function () {\n            var items = [], button_selector = [];\n            //Filter items for bulk operation\n            _.each(this.collection.models, function (pli) {\n                //irrelevant items: no-op\n                if (pli.get('checked') !== true) {\n                    return;\n                }\n                items.push(pli);\n                var item_internal_id = pli.getItemId();\n                button_selector.push('article[data-item-id=\"' + item_internal_id + '\"] a, article[data-item-id=\"' + item_internal_id + '\"] button');\n            });\n            return {\n                items: new ProductListItemCollection(items),\n                button_selector: button_selector\n            };\n        }    //@method addItemsToCartBulkHandler\n,\n        addItemsToCartBulkHandler: function (e) {\n            e.preventDefault();\n            var self = this, selected_models = this._getSelection();\n            //no items selected: no opt\n            if (selected_models.items.length < 1) {\n                return;\n            }\n            var button_selector = selected_models.button_selector.join(',')    //add items to cart\n, add_to_cart_promise = this.cart.addProducts(selected_models.items.models);\n            add_to_cart_promise.then(function () {\n                self.unselectAll();\n                self.showConfirmationHelper();\n            });\n            this.disableElementsOnPromise(add_to_cart_promise, button_selector);\n        }    // @method deleteItemsHandler\n,\n        deleteItemsHandler: function (e) {\n            e.preventDefault();\n            var self = this, selected_models = this._getSelection(), delete_promises = [];\n            if (selected_models.items.length < 1) {\n                return;\n            }\n            //there are two collections with the same information this.model and the one on application\n            //should remove the item on both\n            var app_item_list = _.findWhere(self.application.ProductListModule.Utils.getProductLists().models, { id: self.model.id });\n            _.each([].concat(selected_models.items.models), function (item) {\n                //fix already used in \"deleteListItem\"\n                item.url = ProductListItemModel.prototype.url;\n                app_item_list && app_item_list.get('items').remove(item);\n                delete_promises.push(item.destroy().promise());\n            });\n            jQuery.when.apply(jQuery, delete_promises).then(function () {\n                self.render();\n                MenuTreeView.getInstance().updateMenuItemsUI();\n                self.showConfirmationMessage(_('The selected items were removed from your product list').translate());\n            });\n        }    // @method selectAll this is called from the ListHeader when you check select all.\n,\n        selectAll: function () {\n            _.each(this.collection.models, function (item) {\n                item.set('checked', true);\n            });\n            this.render();\n        }    // @method unselectAll\n,\n        unselectAll: function () {\n            _.each(this.collection.models, function (item) {\n                item.set('checked', false);\n            });\n            this.render();\n        }    // @method showConfirmationHelper\n,\n        showConfirmationHelper: function (selected_item) {\n            this.showConfirmationMessage(_('Good! The items were successfully added to your cart. You can continue to <a href=\"#\" data-touchpoint=\"viewcart\">view cart and checkout</a>').translate());\n            //selected item may be undefined\n            if (_.isUndefined(selected_item) === true) {\n                return;\n            }\n            this.addedToCartView = new ProductListAddedToCartView({\n                application: this.application,\n                parentView: this,\n                item: selected_item\n            });\n            this.application.getLayout().showInModal(this.addedToCartView);\n        }    // @method addItemToCart Adds the item to the cart\n,\n        addItemToCart: function (item) {\n            return this.cart.addItem(item);\n        }    // @method deleteListItem Remove an product list item from the current list @param {ProductList.Item.Model} product_list_item @param {Function} successFunc\n,\n        deleteListItem: function (product_list_item, successFunc) {\n            this.model.get('items').remove(product_list_item);\n            product_list_item.url = ProductListItemModel.prototype.url;\n            var promise = product_list_item.destroy();\n            promise && successFunc && promise.done(function () {\n                successFunc();\n            });\n        }    // @method askEditListItem Edit a product list item from the current list\n,\n        askEditListItem: function (e) {\n            e.stopPropagation();\n            var product_list_itemid = this.$(e.target).closest('[data-id]').data('id'), selected_item = this.model.get('items').get(product_list_itemid), editView = new ProductListItemEditView({\n                    application: this.application,\n                    parentView: this,\n                    model: selected_item,\n                    title: _('Edit Item').translate(),\n                    confirm_edit_method: 'editListItemHandler'\n                });\n            this.application.getLayout().showInModal(editView);\n        }    // @method updateListItemQuantity Updates product list item quantity from the current list\n,\n        updateListItemQuantity: function (e) {\n            this.updateListItemMinMaxQuantity(e, '_minimumQuantity');\n        },\n        updateListItemMaxQuantity: function (e) {\n            this.updateListItemMinMaxQuantity(e, '_maximumQuantity');\n        },\n        updateListItemMinMaxQuantity: function (e, minMax) {\n            e.preventDefault();\n            var self = this, product_list_itemid = this.$(e.target).data('id'), selected_pli = this.model.get('items').findWhere({ internalid: product_list_itemid.toString() }), quantity = selected_pli.get('item').get(minMax), promise = this.updateItemQuantityHelper(selected_pli, quantity);\n            promise && promise.done(function () {\n                self.render();\n            });\n        }    // @method editListItemHandler Product list item edition handler\n,\n        editListItemHandler: function (new_attributes) {\n            var new_model = new ProductListItemModel(new_attributes), products = this.model.get('items'), original_model = products.get(new_attributes.internalid), original_model_index = products.indexOf(original_model);\n            this.model.get('items').remove(new_attributes.internalid, { silent: true });\n            this.model.get('items').add(new_model, { at: original_model_index });\n            this.render();\n        }    // @method getDisplayOption Retrieve the current (if any) items display option\n,\n        getDisplayOption: function () {\n            var search = this.options.params && this.options.params.display || 'list';\n            return _(this.displayOptions).findWhere({ id: search });\n        }    // @method renderMove Renders the move control for a product list\n             // @param {ProductList.Model} product_list_model\n,\n        renderMove: function (product_list_model) {\n            var self = this, container = this.$('[data-id=\"' + product_list_model.id + '\"]').find('[data-type=\"productlist-control-move\"]'), control = new ProductListControlView({\n                    collection: self.getMoveLists(self.application.ProductListModule.Utils.getProductLists(), self.model, product_list_model),\n                    product: product_list_model,\n                    application: self.application,\n                    countedClicks: {},\n                    moveOptions: {\n                        parentView: self,\n                        productListItem: product_list_model\n                    }\n                });\n            jQuery(container).empty().append(control.$el);\n            control.render();\n        }    // @method getMoveLists Filters all lists so it does not include the current list and the lists where the item is already present\n,\n        getMoveLists: function (all_lists, current_list, list_item) {\n            return all_lists.filtered(function (model) {\n                return model.get('internalid') !== current_list.get('internalid') && !model.get('items').find(function (product_item) {\n                    // return product_item.get('item').id === list_item.get('item').id;\n                    return product_item.isEqual(list_item);\n                });\n            });\n        }    // @method editListHandler Shows the edit modal view\n,\n        editListHandler: function (event) {\n            event.preventDefault();\n            ProductListListsView.prototype.editList.apply(this, [this.model]);\n        }    // @method getSelectedMenu\n,\n        getSelectedMenu: function () {\n            return 'productlist_' + (this.model.get('internalid') ? this.model.get('internalid') : 'tmpl_' + this.model.get('templateid'));\n        }    // @method getBreadcrumbPages\n,\n        getBreadcrumbPages: function () {\n            var breadcrumb = [\n                {\n                    text: _('Wishlist').translate(),\n                    href: '/wishlist'\n                },\n                {\n                    text: this.model.get('name'),\n                    href: '/wishlist/' + (this.model.get('internalid') ? this.model.get('internalid') : 'tmpl_' + this.model.get('templateid'))\n                }\n            ];\n            if (this.application.ProductListModule.Utils.isSingleList()) {\n                breadcrumb.splice(0, 1);    //remove first\n            }\n            return breadcrumb;\n        }    // @method updateItemQuantityFormSubmit Updates quantity on form submit.\n,\n        updateItemQuantityFormSubmit: function (e) {\n            e.preventDefault();\n            this.updateItemQuantity(e);\n        }    // @method updateItemQuantityHelper Helper function. Used in updateItemQuantity and updateListItemQuantity functions.\n,\n        updateItemQuantityHelper: function (selected_item, new_quantity) {\n            selected_item.set('quantity', new_quantity);\n            var self = this, edit_result = selected_item.save(null, { validate: false });\n            if (edit_result) {\n                edit_result.done(function (new_attributes) {\n                    var new_model = new ProductListItemModel(new_attributes);\n                    self.model.get('items').add(new_model, { merge: true });\n                    var item_list = self.application.ProductListModule.Utils.getProductLists().findWhere({ id: self.model.id });\n                    item_list && item_list.get('items').get(selected_item.id).set('quantity', new_quantity);\n                });\n            }\n            return edit_result;\n        }    // @method updateItemQuantity executes on blur of the quantity input. Finds the item in the product list, updates its quantity and saves the list model\n,\n        updateItemQuantity: _.debounce(function (e) {\n            e.preventDefault();\n            var product_list_itemid = this.$(e.target).closest('article').data('id'), selected_item = this.model.get('items').findWhere({ internalid: product_list_itemid.toString() }), options = jQuery(e.target).closest('form').serializeObject(), $input = jQuery(e.target).closest('form').find('[name=\"item_quantity\"]'), new_quantity = parseInt(options.item_quantity, 10), current_quantity = parseInt(selected_item.get('quantity'), 10), minimum_quantity = parseInt(selected_item.get('item').get('_minimumQuantity'), 10) || 0, maximum_quantity = parseInt(selected_item.get('item').get('_maximumQuantity'), 10);\n            new_quantity = new_quantity > 0 && new_quantity > minimum_quantity ? new_quantity : minimum_quantity || current_quantity;\n            new_quantity = !!maximum_quantity && new_quantity > maximum_quantity ? maximum_quantity : new_quantity;\n            $input.val(new_quantity);\n            if (new_quantity === current_quantity) {\n                return;\n            }\n            $input.val(new_quantity).prop('disabled', true);\n            var edit_promise = this.updateItemQuantityHelper(selected_item, new_quantity);\n            if (!edit_promise) {\n                return;\n            }\n            edit_promise.always(function () {\n                $input.prop('disabled', false);\n            });\n        }, 600)    // @method toggleProductListItemHandler\n,\n        toggleProductListItemHandler: function toggleProductListItemHandler(e) {\n            this.toggleProductListItem(jQuery(e.target).closest('[data-id]').data('id'));\n        }    // @method toggleProductListItem\n,\n        toggleProductListItem: function (pli) {\n            pli = this.collection.get(pli);\n            if (pli) {\n                this[pli.get('checked') ? 'unselectProductListItem' : 'selectProductListItem'](pli);\n                this.render();\n            }\n        }    // @method toggleProductListItem\n,\n        selectProductListItem: function (pli) {\n            if (pli) {\n                pli.set('checked', true);\n            }\n        }    // @method unselectProductListItem\n,\n        unselectProductListItem: function (pli) {\n            if (pli) {\n                pli.set('checked', false);\n            }\n        },\n        childViews: {\n            'ListHeader': function () {\n                return this.listHeader;\n            },\n            'ProductList.DynamicDisplay': function () {\n                var displayOption = this.getDisplayOption(), rows = parseInt(displayOption.columns, 10) || 3;\n                return new BackboneCollectionView({\n                    childView: ProductListDisplayFullView,\n                    collection: this.model.get('items').models,\n                    viewsPerRow: rows,\n                    childViewOptions: {\n                        application: this.application,\n                        show_edit_action: true,\n                        show_move_action: true\n                    }\n                });\n            }\n        }    // @method getContext @return {ProductList.Details.View.Context}\n,\n        getContext: function () {\n            var items = this.model.get('items');\n            // @class ProductList.Details.View.Context\n            return {\n                // @property {Boolean} showListHeader\n                showListHeader: !(items.length === 0 && this.model.get('typeName') === 'predefined')    // @property {Boolean} isTypePredefined\n,\n                isTypePredefined: this.model.get('typeName') === 'predefined'    // @property {String} name\n,\n                name: this.model.get('name')    // @property {Boolean} hasItems\n,\n                hasItems: items.length > 0    // @property {Integer} itemsLength\n,\n                itemsLength: items.length,\n                hasOneItem: items.length === 1\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module ProductList\n// ProductList.Deletion.Views.js\n// -----------------------\n// View to handle Product Lists (lists and items) deletion\ndefine('ProductList.Deletion.View', [\n    'product_list_deletion.tpl',\n    'underscore',\n    'Backbone',\n    'Backbone.View',\n    'Backbone.View.render',\n    'Utils'\n], function (product_list_deletion_tpl, _, Backbone) {\n    'use strict';\n    // @class ProductList.Deletion.View @extends Backbone.View\n    return Backbone.View.extend({\n        template: product_list_deletion_tpl,\n        title: _('Delete item').translate(),\n        attributes: { 'class': 'view product-list-deletion-confirm' },\n        page_header: _('Delete item').translate(),\n        events: { 'click [data-action=\"delete\"]': 'confirmDelete' },\n        initialize: function (options) {\n            this.application = options.application;\n            this.parentView = options.parentView;\n            this.target = options.target;\n            this.title = options.title;\n            this.page_header = options.title;\n            this.body = options.body;\n            this.confirm_delete_method = options.confirm_delete_method;\n            this.confirmLabel = options.confirmLabel || _('Yes, Remove It').translate();\n        },\n        render: function () {\n            Backbone.View.prototype.render.apply(this, arguments);\n            var self = this;\n            this.$containerModal.on('shown.bs.modal', function () {\n                self.$('[data-action=\"delete\"]').focus();\n            });\n        }    // @method confirmDelete Invokes parent view delete confirm callback function\n,\n        confirmDelete: function () {\n            this.parentView[this.confirm_delete_method](this.target);\n        }    // @method getTitle Sets focus con cancel button and returns the title text\n,\n        getTitle: function () {\n            return _('Delete product list').translate();\n        }    // @method getContext @return {ProductList.Deletion.View.Context}\n,\n        getContext: function () {\n            return {\n                // @class ProductList.Deletion.View.Context\n                // @property {String} body\n                body: this.body,\n                hasConfirmLabel: !!this.confirmLabel,\n                confirmLabel: this.confirmLabel,\n                hasCancelLabel: !!this.cancelLabel,\n                cancelLabel: this.cancelLabel\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module ProductList\ndefine('ProductList.DetailsLater.View', [\n    'product_list_details_later.tpl',\n    'ProductList.DetailsLaterMacro.View',\n    'ProductList.Details.View',\n    'ProductList.Deletion.View',\n    'LiveOrder.Model',\n    'Profile.Model',\n    'Backbone.CollectionView',\n    'Backbone.CompositeView',\n    'products_detail_later_cell.tpl',\n    'backbone_collection_view_row.tpl',\n    'underscore',\n    'jQuery',\n    'Backbone',\n    'Backbone.View',\n    'Backbone.View.render'\n], function (product_list_details_later_tpl, ProductListDetailsLaterMacroView, ProductListDetailsView, ProductListDeletionView, LiveOrderModel, ProfileModel, BackboneCollectionView, BackboneCompositeView, products_detail_later_cell_tpl, backbone_collection_view_row_tpl, _, jQuery, Backbone) {\n    'use strict';\n    var product_list_promise;\n    // @class ProductList.DetailsLater.View @extends Backbone.View\n    return Backbone.View.extend({\n        template: product_list_details_later_tpl,\n        events: {\n            // items events\n            'click [data-action=\"add-to-cart\"]': 'addItemToCartHandler',\n            'click [data-action=\"delete-item\"]': 'askDeleteListItem',\n            'change [data-action=\"change-quantity\"]': 'updateItemQuantity',\n            'keyup [data-action=\"change-quantity\"]': 'updateItemQuantity',\n            'click [data-ui-action=\"add\"]': 'addQuantity',\n            'click [data-ui-action=\"minus\"]': 'subQuantity'\n        },\n        initialize: function (options) {\n            //this.loadProductList();\n            BackboneCompositeView.add(this);\n            this.options = options;\n            this.application = options.application;\n            this.cart = LiveOrderModel.getInstance();\n            this.model.on('change', this.render, this);\n            this.model.get('items').on('add remove change reset', this.render, this);\n            this.promise = this.loadProductList();\n        },\n        render: function () {\n            if (ProfileModel.getInstance().get('isLoggedIn') === 'T') {\n                this._render();\n                this.$('[data-action=\"pushable\"]').scPush();\n            } else {\n                this.$el.empty();\n            }\n            return this;\n        },\n        loadProductList: function () {\n            var self = this;\n            if (!product_list_promise) {\n                ProfileModel.getPromise().done(function () {\n                    if (ProfileModel.getInstance().get('isLoggedIn') === 'T') {\n                        product_list_promise = self.options.application.ProductListModule.Utils.getSavedForLaterProductList().done(function (attributes) {\n                            self.model.set(attributes);\n                        });\n                    }\n                });\n            }\n            return product_list_promise;\n        }    // @method addItemToCartHandler Add a particular item into the cart\n,\n        addItemToCartHandler: function (e) {\n            e.stopPropagation();\n            e.preventDefault();\n            var selected_product_list_item_id = this.$(e.target).closest('article').data('id'), selected_product_list_item = this.model.get('items').get(selected_product_list_item_id), add_to_cart_promise = this.cart.addLine(selected_product_list_item), whole_promise = jQuery.when(add_to_cart_promise, this.deleteListItem(selected_product_list_item));\n            //.then(jQuery.proxy(this, 'executeAddToCartCallback'));\n            this.disableElementsOnPromise(whole_promise, this.$(e.target).closest('article').find('button'));\n        }    // @method addQuantity Increase the product's Quantity by 1\n             // @param {HTMLEvent} e \n,\n        addQuantity: function (e) {\n            e.preventDefault();\n            var $element = jQuery(e.target), oldValue = $element.parent().find('input').val(), newVal = parseFloat(oldValue) + 1;\n            var input = $element.parent().find('input');\n            input.val(newVal);\n            input.trigger('change');\n        }    // @method subQuantity Decreases the product's Quantity by 1\n             // @param {HTMLEvent} e\n,\n        subQuantity: function (e) {\n            e.preventDefault();\n            var $element = jQuery(e.target), oldValue = $element.parent().find('input').val(), newVal = parseFloat(oldValue) - 1;\n            newVal = Math.max(1, newVal);\n            var input = $element.parent().find('input');\n            input.val(newVal);\n            input.trigger('change');\n        }    // @method askDeleteListItem opens a confirmation dialog for deleting an item from the Saved for Later list.\n             // @param {HTMLEvent} e\n,\n        askDeleteListItem: function (e) {\n            e.stopPropagation();\n            this.deleteConfirmationView = new ProductListDeletionView({\n                application: this.application,\n                parentView: this,\n                target: e.target,\n                title: _('Delete selected items').translate(),\n                body: _('Are you sure you want to remove selected items?').translate(),\n                confirmLabel: _('Yes').translate(),\n                confirm_delete_method: 'deleteListItemHandler'\n            });\n            this.deleteConfirmationView.showInModal();\n        }    // @method deleteListItemHandler deletes a single item from the Saved for Later list.\n             // @param {HTMLEvent} e\n,\n        deleteListItemHandler: function (target) {\n            var self = this, itemid = jQuery(target).closest('article').data('id'), product_list_item = this.model.get('items').findWhere({ internalid: itemid + '' }), success = function () {\n                    if (self.application.getLayout().updateMenuItemsUI) {\n                        self.application.getLayout().updateMenuItemsUI();\n                    }\n                    self.deleteConfirmationView.$containerModal.modal('hide');\n                    self.render();\n                    self.showConfirmationMessage(_('The item was removed from your product list').translate(), true);\n                };\n            self.model.get('items').remove(product_list_item);\n            self.deleteListItem(product_list_item, success);\n        },\n        deleteListItem: ProductListDetailsView.prototype.deleteListItem,\n        disableElementsOnPromise: ProductListDetailsView.prototype.disableElementsOnPromise,\n        updateItemQuantity: ProductListDetailsView.prototype.updateItemQuantity,\n        updateItemQuantityHelper: ProductListDetailsView.prototype.updateItemQuantityHelper,\n        childViews: {\n            'ProductList.DetailsLater.Collection': function () {\n                return new BackboneCollectionView({\n                    collection: this.model.get('items'),\n                    childView: ProductListDetailsLaterMacroView,\n                    viewsPerRow: 4,\n                    cellTemplate: products_detail_later_cell_tpl,\n                    rowTemplate: backbone_collection_view_row_tpl,\n                    childViewOptions: { application: this.application }\n                });\n            }\n        }    // @method getContext @return {ProductList.DetailsLater.View.Context}\n,\n        getContext: function () {\n            var items = this.model.get('items'), itemsLength = items.length;\n            // @class ProductList.DetailsLater.View.Context\n            return {\n                // @property {Integer} itemsLength\n                itemsLength: itemsLength    // @property {Boolean} hasItems\n,\n                hasItems: itemsLength > 0    // @property {Boolean} isEmpty\n,\n                isEmpty: itemsLength === 0    // @property {Boolean} hasMoreThanOneItem\n,\n                hasMoreThanOneItem: itemsLength > 1\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module Transaction.Line.Views\ndefine('Cart.Lines.View', [\n    'Transaction.Line.Views.Price.View',\n    'Transaction.Line.Views.Options.Selected.View',\n    'ProductLine.Stock.View',\n    'ProductLine.Sku.View',\n    'ProductLine.StockDescription.View',\n    'Transaction.Line.Views.Tax',\n    'Backbone.CollectionView',\n    'Backbone.CompositeView',\n    'cart_lines.tpl',\n    'Backbone',\n    'underscore',\n    'SC.Configuration'\n], function (TransactionLineViewsPriceView, TransactionLineViewsOptionsSelectedView, ProductLineStockView, ProductLineSkuView, ProductLineStockDescriptionView, TransactionLineViewsTax, BackboneCollectionView, BackboneCompositeView, cart_lines_tpl, Backbone, _, Configuration) {\n    'use strict';\n    //@class Cart.Lines.View @extend Backbone.View\n    return Backbone.View.extend({\n        template: cart_lines_tpl    //@method initialize\n                          //@param {Transaction.Line.Views.Cell.Actionable.Initialize.Options} options\n                          //@return {Void}\n,\n        initialize: function () {\n            BackboneCompositeView.add(this);\n        },\n        childViews: {\n            'Item.Price': function () {\n                return new TransactionLineViewsPriceView({\n                    model: this.model,\n                    showComparePrice: true\n                });\n            },\n            'Item.Sku': function () {\n                return new ProductLineSkuView({ model: this.model });\n            },\n            'Item.SelectedOptions': function () {\n                return new TransactionLineViewsOptionsSelectedView({ model: this.model });\n            },\n            'Product.Stock.Info': function () {\n                return new ProductLineStockView({ model: this.model });\n            },\n            'Item.Tax.Info': function () {\n                if (Configuration.get('showTaxDetailsPerLine')) {\n                    return new TransactionLineViewsTax({ model: this.model });\n                }\n            },\n            'Item.Summary.View': function () {\n                return new this.options.SummaryView(_.extend({\n                    model: this.model,\n                    application: this.options.application\n                }, this.options.summaryOptions || {}));\n            },\n            'Item.Actions.View': function () {\n                return new this.options.ActionsView(_.extend({\n                    model: this.model,\n                    application: this.options.application\n                }, this.options.actionsOptions || {}));\n            },\n            'StockDescription': function () {\n                return new ProductLineStockDescriptionView({ model: this.model });\n            }\n        }    //@method getContext\n             //@return {Transaction.Line.Views.Actionable.View.Context}\n,\n        getContext: function () {\n            var item = this.model.get('item');\n            //@class Transaction.Line.Views.Actionable.View.Context\n            return {\n                //@property {OrderLine.Model|Transaction.Line.Model} line\n                line: this.model,\n                lineId: this.model.get('internalid')    //@property {Item.Model} item\n,\n                item: item    //@property {String} itemId\n,\n                itemId: item.get('internalid')    //@property {String} linkAttributes\n,\n                linkAttributes: this.model.getFullLink({\n                    quantity: null,\n                    location: null,\n                    fulfillmentChoice: null\n                })    //@property {Boolean} isNavigable\n,\n                isNavigable: !!this.options.navigable && !!item.get('_isPurchasable')    //@property {Boolean} showCustomAlert\n,\n                showCustomAlert: !!item.get('_cartCustomAlert')    //@property {String} customAlertType\n,\n                customAlertType: item.get('_cartCustomAlertType') || 'info'    //@property {Boolean} showActionsView\n,\n                showActionsView: !!this.options.ActionsView,\n                showSummaryView: !!this.options.SummaryView,\n                showAlert: !_.isUndefined(this.options.showAlert) ? !!this.options.showAlert : true    //@property {Boolean} showGeneralClass\n,\n                showGeneralClass: !!this.options.generalClass,\n                generalClass: this.options.generalClass,\n                thumbnail: this.model.getThumbnail()\n            };    //@class Transaction.Line.Views.Actionable.View\n        }\n    });\n});    //@class Cart.Lines.Initialize.Options\n       //@property {Transaction.Line.Model} model\n       //@property {String} generalClass Class name used in the generated HTML\n       //@property {Backbone.View} SummaryView View to show details\n       //@property {Backbone.View} ActionsView View to show actions buttons\n       //@property {Object} actionsOptions Any object used to extend the options sent to the Action View\n       //@property {Object} summaryOptions Any object used to extend the options sent to the Summary View\n       //@property {Boolean} navigable\n       //@property {Boolean} showAlert Indicate if a place holder is added in the final HTML, used when the action can generate errors\n       //@property {ApplicationSkeleton} application\n       //@property {Boolean} hideComparePrice Property used to bypass to the TransactionLineViewsPriceView\n","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module Transaction.Line.Views\ndefine('Cart.Lines.Free.View', [\n    'LiveOrder.Model',\n    'Transaction.Line.Views.Price.View',\n    'Transaction.Line.Views.Options.Selected.View',\n    'ProductLine.Stock.View',\n    'ProductLine.Sku.View',\n    'ProductLine.StockDescription.View',\n    'Transaction.Line.Views.Tax',\n    'GlobalViews.Message.View',\n    'Backbone.CollectionView',\n    'Backbone.CompositeView',\n    'cart_lines_free.tpl',\n    'Backbone',\n    'underscore',\n    'SC.Configuration'\n], function (LiveOrderModel, TransactionLineViewsPriceView, TransactionLineViewsOptionsSelectedView, ProductLineStockView, ProductLineSkuView, ProductLineStockDescriptionView, TransactionLineViewsTax, GlobalViewsMessageView, BackboneCollectionView, BackboneCompositeView, cart_lines_free_tpl, Backbone, _, Configuration) {\n    'use strict';\n    //@class Cart.Lines.Free.View @extend Backbone.View\n    return Backbone.View.extend({\n        template: cart_lines_free_tpl    //@method initialize\n                               //@param {Transaction.Line.Views.Cell.Actionable.Initialize.Options} options\n                               //@return {Void}\n,\n        initialize: function () {\n            BackboneCompositeView.add(this);\n            this.cart = LiveOrderModel.getInstance();\n        },\n        events: {\n            'click [data-action=\"plus\"]': 'addQuantity',\n            'click [data-action=\"minus\"]': 'subQuantity',\n            'click [data-action=\"remove-free-gift\"]': 'removeGift',\n            'change [data-type=\"cart-free-item-quantity-input\"]': 'changeQuantity'\n        }    // @method addQuantity Add 1 to the quantity field\n             // @return {Void}\n,\n        addQuantity: function () {\n            var old_value = this.$('[name=\"quantity\"]').val(), new_val = Math.min(this.model.get('free_gift_info').qtyelegible, parseFloat(old_value) + 1);\n            this.$('[name=\"quantity\"]').val(new_val);\n            this.changeQuantity();\n        }    // @method subQuantity Subtract 1 from the quantity field\n             // @return {Void}\n,\n        subQuantity: function () {\n            var old_value = this.$('[name=\"quantity\"]').val(), new_val = Math.max(1, parseFloat(old_value) - 1);\n            this.$('[name=\"quantity\"]').val(new_val);\n            this.changeQuantity();\n        },\n        removeGift: function () {\n            this.cart.removeLine(this.model);\n        },\n        updateGift: function (quantity) {\n            this.$('[name=\"quantity\"]').prop('disabled', false);\n            var line = this.model, current_quantity = line.get('quantity');\n            line.set('quantity', quantity);\n            var invalid = line.validate(), placeholder = this.$el.find('[data-type=\"alert-placeholder\"]');\n            placeholder.empty();\n            if (!invalid) {\n                this.cart.updateLine(line);\n            } else {\n                _.each(invalid, function (value) {\n                    var global_view_message = new GlobalViewsMessageView({\n                        message: value,\n                        type: 'error',\n                        closable: true\n                    });\n                    placeholder.append(global_view_message.render().$el.html());\n                });\n                line.set('quantity', current_quantity);\n            }\n            this.$('[name=\"quantity\"]').prop('disabled', false);\n        },\n        changeQuantity: _.debounce(function () {\n            var $input = this.$('[name=\"quantity\"]'), current_quantity = parseInt(this.model.get('quantity'), 10), new_quantity = $input.val() <= this.model.get('free_gift_info').eligible_quantity && $input.val() > 0 ? parseInt($input.val()) : current_quantity;\n            $input.val(new_quantity);\n            if (new_quantity && new_quantity !== current_quantity) {\n                this.updateGift(new_quantity);\n            }\n        }, 1000),\n        childViews: {\n            'Item.Price': function () {\n                return new TransactionLineViewsPriceView({\n                    model: this.model,\n                    showComparePrice: true\n                });\n            },\n            'Item.Sku': function () {\n                return new ProductLineSkuView({ model: this.model });\n            },\n            'Item.SelectedOptions': function () {\n                return new TransactionLineViewsOptionsSelectedView({ model: this.model });\n            },\n            'Product.Stock.Info': function () {\n                return new ProductLineStockView({ model: this.model });\n            },\n            'Item.Tax.Info': function () {\n                if (Configuration.get('showTaxDetailsPerLine')) {\n                    return new TransactionLineViewsTax({ model: this.model });\n                }\n            },\n            'StockDescription': function () {\n                return new ProductLineStockDescriptionView({ model: this.model });\n            }\n        }    //@method getContext\n             //@return {Transaction.Line.Views.Actionable.View.Context}\n,\n        getContext: function () {\n            var item = this.model.get('item');\n            //@class Transaction.Line.Views.Actionable.View.Context\n            return {\n                //@property {OrderLine.Model|Transaction.Line.Model} line\n                line: this.model,\n                lineId: this.model.get('internalid')    //@property {Item.Model} item\n,\n                item: item    //@property {String} itemId\n,\n                itemId: item.get('internalid')    //@property {String} linkAttributes\n,\n                linkAttributes: this.model.getFullLink({\n                    quantity: null,\n                    location: null,\n                    fulfillmentChoice: null\n                })    //@property {Boolean} isNavigable\n,\n                isNavigable: !!this.options.navigable && !!item.get('_isPurchasable')    // @property {ImageContainer} thumbnail\n,\n                thumbnail: this.model.getThumbnail()    // @property {Boolean} isQtyEditable\n,\n                isQtyEditable: this.model.get('free_gift_info').eligible_quantity > 1    // @property {Number} qtyElegible\n,\n                qtyElegible: this.model.get('free_gift_info').eligible_quantity\n            };    //@class Transaction.Line.Views.Actionable.View\n        }\n    });\n});    //@class Cart.Lines.Initialize.Options\n       //@property {Transaction.Line.Model} model\n       //@property {String} generalClass Class name used in the generated HTML\n       //@property {Backbone.View} SummaryView View to show details\n       //@property {Backbone.View} ActionsView View to show actions buttons\n       //@property {Object} actionsOptions Any object used to extend the options sent to the Action View\n       //@property {Object} summaryOptions Any object used to extend the options sent to the Summary View\n       //@property {Boolean} navigable\n       //@property {Boolean} showAlert Indicate if a place holder is added in the final HTML, used when the action can generate errors\n       //@property {ApplicationSkeleton} application\n       //@property {Boolean} hideComparePrice Property used to bypass to the TransactionLineViewsPriceView\n","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module Cart\ndefine('Cart.Promocode.Notifications.View', [\n    'GlobalViews.Message.View',\n    'cart_promocode_notifications.tpl',\n    'Backbone',\n    'Backbone.CompositeView',\n    'underscore'\n], function (GlobalViewsMessageView, cart_promocode_notifications, Backbone, BackboneCompositeView, _) {\n    'use strict';\n    //@class Cart.Promocode.Notification.View @extend Backbone.View\n    return Backbone.View.extend({\n        //@property {Function} template\n        template: cart_promocode_notifications    //@method initialize\n                                        //@return {Void}\n,\n        initialize: function initialize() {\n            BackboneCompositeView.add(this);\n            this.on('afterCompositeViewRender', this.afterViewRender, this);\n        }    // @property {ChildViews} childViews\n,\n        childViews: {\n            'Promocode.Notification': function () {\n                var notification;\n                if (this.model.get('type') === 'FREEGIFT' && !!this.model.get('freegiftinfo')) {\n                    notification = this.getFreeGiftNotification(this.model.get('freegiftinfo')[0], this.model.get('freegiftinfo')[1]);\n                } else {\n                    notification = this.getNotification();\n                }\n                return new GlobalViewsMessageView({\n                    message: notification.message,\n                    type: notification.type,\n                    closable: true\n                });\n            }\n        }    // @method afterViewRender lets parent model know the promotion already shwoed its current notification\n             // @return {Void}\n,\n        afterViewRender: function () {\n            this.options.parentModel.trigger('promocodeNotificationShown', this.model.get('internalid'));\n        }    // @method getNotification \n             // @return {Notification}\n,\n        getNotification: function () {\n            var notification = {};\n            if (this.model.get('applicabilitystatus') === 'APPLIED') {\n                notification.type = 'success';\n                notification.message = _('Promotion <strong>$(0)</strong> is now discounting your order.').translate(this.model.get('code'));\n            } else if (this.model.get('applicabilityreason') === 'CRITERIA_NOT_MET') {\n                notification.type = !this.model.get('isautoapplied') ? 'warning' : 'info';\n                notification.message = _('Promotion <strong>$(0)</strong> is not discounting your order. $(1)').translate(this.model.get('code'), this.model.get('errormsg'));\n            } else if (this.model.get('applicabilityreason') === 'DISCARDED_BEST_OFFER') {\n                notification.type = 'info';\n                notification.message = _('We have chosen the best possible offer for you. Promotion <strong>$(0)</strong> is not discounting your order.').translate(this.model.get('code'));\n            }\n            return notification;\n        }    // @method getFreeGiftNotification\n             // @return {Notification}\n,\n        getFreeGiftNotification: function (free_gift_info_old, free_gift_info_current) {\n            if (!free_gift_info_old) {\n                return this.setFreeGifttNotification('success', free_gift_info_current.qtygiven);\n            } else if (!free_gift_info_current) {\n                return this.setFreeGifttNotification('warning', free_gift_info_old.qtygiven);\n            } else {\n                var qty_diff = free_gift_info_current.qtygiven - free_gift_info_old.qtygiven;\n                if (qty_diff > 0) {\n                    return this.setFreeGifttNotification('success', qty_diff);\n                } else {\n                    return this.setFreeGifttNotification('warning', qty_diff * -1);\n                }\n            }\n        },\n        setFreeGifttNotificationText: function (message_type, gift_quantity) {\n            var notification = {};\n            notification.type = message_type;\n            if (message_type === 'success') {\n                if (gift_quantity > 1) {\n                    notification.message = _('Congratulations! $(0) FREE $(1) were added to your cart.').translate(gift_quantity, this.model.get('freegiftname'));\n                } else {\n                    notification.message = _('Congratulations! $(0) FREE $(1) was added to your cart.').translate(gift_quantity, this.model.get('freegiftname'));\n                }\n            } else if (message_type === 'warning') {\n                var errormsg = !!this.model.get('errormsg') ? this.model.get('errormsg') : '';\n                if (gift_quantity > 1) {\n                    notification.message = _('$(0) $(1) were removed from your cart. $(2)').translate(gift_quantity, this.model.get('freegiftname'), errormsg);\n                } else {\n                    notification.message = _('$(0) $(1) was removed from your cart. $(2)').translate(gift_quantity, this.model.get('freegiftname'), errormsg);\n                }\n            }\n            return notification;\n        }    //@method getContext\n             //@return {Cart.Promocode.Notifications.View.context}\n,\n        getContext: function getContext() {\n            //@class Cart.Promocode.Notifications.View.context\n            return {};    //@class Cart.Promocode.Notifications.View\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module Cart\ndefine('Cart.PromocodeForm.View', [\n    'ErrorManagement',\n    'GlobalViews.Message.View',\n    'cart_promocode_form.tpl',\n    'Backbone',\n    'Backbone.CompositeView',\n    'jQuery',\n    'underscore',\n    'Utils'\n], function (ErrorManagement, GlobalViewsMessageView, cart_promocode_form_tpl, Backbone, BackboneCompositeView, jQuery, _) {\n    'use strict';\n    // @class Cart.PromocodeForm.View @extends Backbone.View\n    return Backbone.View.extend({\n        // @property {Function} template\n        template: cart_promocode_form_tpl,\n        events: { 'submit form[data-action=\"apply-promocode\"]': 'applyPromocode' }    // @method initialize Override default method to define internal state and make this View composite\n                                                                              // @param {Cart.PromocodeForm.View.Initialization.options} options\n                                                                              // @return {Void}\n,\n        initialize: function (options) {\n            this.promocode = options.promocode || {};\n            this.state = {\n                errorMessage: null,\n                code: '',\n                isSaving: false\n            };\n            this.applying_promocode = _.bind(this.applying_promocode, this);\n            this.apply_promocode_succeeded = _.bind(this.apply_promocode_succeeded, this);\n            this.apply_promocode_finished = _.bind(this.apply_promocode_finished, this);\n            this.apply_promocode_failed = _.bind(this.apply_promocode_failed, this);\n            this.model.cancelableOn('before:LiveOrder.addPromotion', this.applying_promocode);\n            this.model.cancelableOn('after:LiveOrder.addPromotion', this.apply_promocode_succeeded);\n            this.model.on('apply_promocode_finished', this.apply_promocode_finished);\n            this.model.on('apply_promocode_failed', this.apply_promocode_failed);\n            BackboneCompositeView.add(this);\n        },\n        destroy: function () {\n            this.model.cancelableOff('before:LiveOrder.addPromotion', this.applying_promocode);\n            this.model.cancelableOff('after:LiveOrder.addPromotion', this.apply_promocode_succeeded);\n            this.model.off('apply_promocode_finished', this.apply_promocode_finished);\n            this.model.off('apply_promocode_failed', this.apply_promocode_failed);\n            this._destroy();\n        },\n        applying_promocode: function applying_promocode() {\n            //@event {Void} applying_promocode\n            this.trigger('applying_promocode');\n        },\n        apply_promocode_succeeded: function apply_promocode_succeeded() {\n            //@event {Void} apply_promocode_succeeded\n            this.trigger('apply_promocode_succeeded');\n        },\n        apply_promocode_finished: function apply_promocode_finished() {\n            //@event {Void} apply_promocode_finished\n            this.trigger('apply_promocode_finished');\n        },\n        apply_promocode_failed: function apply_promocode_failed() {\n            //@event {Void} apply_promocode_failed\n            this.trigger('apply_promocode_failed');\n        }    //@method applyPromocode Adds a new promocode into the current model (LiveOrder.Model)\n             //@param {DOMEvent} e\n             //@return {Void}\n,\n        applyPromocode: function applyPromocode(e) {\n            e.preventDefault();\n            e.stopPropagation();\n            var self = this, $target = this.$(e.target), options = $target.serializeObject();\n            if (!options.promocode) {\n                this.state.errorMessage = _('Promo Code is required').translate();\n            } else {\n                this.state.errorMessage = null;\n                this.state.isSaving = true;\n                this.model.addPromotion(options.promocode).fail(function savePromocodeFailed(jqXhr) {\n                    jqXhr.preventDefault = true;\n                    self.state.errorMessage = ErrorManagement.parseErrorMessage(jqXhr, self.options.application.getLayout().errorMessageKeys);\n                }).always(function savePromocodeEnded() {\n                    self.state.isSaving = false;\n                    self.state.code = '';\n                    self.render();\n                });\n            }\n            this.render();\n        },\n        childViews: {\n            'GlobalsViewErrorMessage': function () {\n                var placeholder = jQuery('[data-type=\"promocode-error-placeholder\"]');\n                var global_view_message = new GlobalViewsMessageView({\n                    message: this.state.errorMessage,\n                    type: 'error',\n                    closable: true\n                });\n                placeholder.html(global_view_message.render().$el.html());\n            }\n        }    // @method getContext\n             // @return {Cart.PromocodeForm.View.Context}\n,\n        getContext: function getContext() {\n            // @class Cart.PromocodeForm.View.Context\n            return {\n                // @property {Boolean} showErrorMessage\n                showErrorMessage: !!this.state.errorMessage,\n                errorMessage: this.state.errorMessage,\n                promocodeCode: this.state.code,\n                isSaving: this.state.isSaving\n            };    // @class Cart.PromocodeForm.View\n        }\n    });\n});    //@class Cart.PromocodeForm.View.Initialization.options\n       //@property {LiveOrder.Model} model\n       //@property {ApplicationSkeleton} application\n","/*\r\n    © 2017 NetSuite Inc.\r\n    User may not copy, modify, distribute, or re-bundle or otherwise make available this code;\r\n    provided, however, if you are an authorized user with a NetSuite account or log-in, you\r\n    may use this code subject to the terms that govern your access and use.\r\n*/\n//@module Cart\ndefine('Cart.Promocode.Reason.View', [\n    'cart_promo_reason.tpl',\n    'Backbone',\n    'underscore'\n], function (cart_promo_reason_tpl, Backbone, _) {\n    'use strict';\n    //@class Cart.Promocode.List.Item.View @extend Backbone.View\n    return Backbone.View.extend({\n        //@property {Function} template\n        template: cart_promo_reason_tpl    //@method getContext\n                                 //@return {Cart.Promocode.List.Item.View.Context}\n,\n        getContext: function getContext() {\n            console.log(this.model);\n            var reason = this.model.get('applicabilityreason');\n            var status = this.model.get('applicabilitystatus');\n            var reasonmsg = '', statusmsg = '';\n            if (status == 'APPLIED') {\n                statusmsg = _('Promotion is applied for this item.').translate();\n            } else if (status == 'NOT_APPLIED') {\n                statusmsg = _('Sorry, no discount is added to your order').translate();\n            } else if (status == 'NOT_AVAILABLE') {\n                statusmsg = _('Status of this promotion is not available.').translate();\n            }\n            if (reason == 'DISCARDED_BEST_OFFER') {\n                reasonmsg = _('Promotion is not applied as there is another promocode or a combination of promocodes that is giving you a better discount.').translate();\n            } else if (reason == 'CRITERIA_NOT_MET') {\n                reasonmsg = _('Sorry, the promocode is not applied as it does not meet the criteria.').translate();\n            }\n            return {\n                reasonmsg: reasonmsg,\n                statusmsg: statusmsg\n            };    //@class Cart.Promocode.List.Item.View\n        }\n    });\n});    //@class Cart.Promocode.List.Item.View.Initialize.Options\n       //@property {Backbone.Model<{code:String,internalid:String}>} model\n       //@property {Boolean?} isReadOnly\n","/*\n    © 2017 NetSuite Inc.\n    User may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n    provided, however, if you are an authorized user with a NetSuite account or log-in, you\n    may use this code subject to the terms that govern your access and use.\n*/\n//@module Cart\ndefine('Cart.Item.Summary.View', [\n    'Cart.Promocode.List.Item.View',\n    'Cart.Promocode.Reason.View',\n    'Backbone.CompositeView',\n    'Backbone.CollectionView',\n    'Profile.Model',\n    'cart_item_summary.tpl',\n    'Backbone',\n    'underscore'\n], function (CartPromocodeListItemView, CartPromocodeReasonView, BackboneCompositeView, BackboneCollectionView, ProfileModel, cart_item_summary_tpl, Backbone, _) {\n    'use strict';\n    //@class Cart.Item.Summary.View @extend Backbone.View\n    return Backbone.View.extend({\n        // @property {Function} template\n        template: cart_item_summary_tpl    //@method initialize Defines this view as composite\n                                 //@return {Void}\n,\n        initialize: function initialize(options) {\n            BackboneCompositeView.add(this);\n            if (options.amodel != undefined && options.amodel != null && options.amodel != '') {\n                this.AllPromo = _.filter(options.amodel.get('promocodes') || [], function (promocode) {\n                    return promocode.internalid;\n                });\n            }\n        }    // @property {Object} events\n,\n        events: {\n            'click [data-action=\"plus\"]': 'addQuantity',\n            'click [data-action=\"minus\"]': 'subQuantity'\n        }    // @method addQuantity Add 1 to the quantity field\n             // @param {jQuery.Event} e\n             // @return {Void}\n,\n        addQuantity: function (e) {\n            e.preventDefault();\n            var $element = this.$(e.target), quantity_input = $element.parent().find('input'), old_value = quantity_input.val(), max_quantity = this.model.get('item').get('_maximumQuantity', true), new_val = parseFloat(old_value) + 1;\n            new_val = !!max_quantity ? Math.min(max_quantity, new_val) : new_val;\n            quantity_input.val(new_val);\n            quantity_input.change();\n        }    // @method subQuantity Subtract 1 from the quantity field\n             // @param {jQuery.Event} e\n             // @return {Void}\n,\n        subQuantity: function (e) {\n            e.preventDefault();\n            var $element = this.$(e.target), quantity_input = $element.parent().find('input'), old_value = quantity_input.val(), new_val = parseFloat(old_value) - 1;\n            new_val = Math.max(this.model.get('item').get('_minimumQuantity', true), new_val);\n            quantity_input.val(new_val);\n            quantity_input.change();\n        },\n        childViews: {\n            'PromocodeList': function () {\n                if (!!this.model.get('discounts_impact')) {\n                    var discounts = _.filter(this.model.get('discounts_impact').discounts, function (discount) {\n                        return !!discount.promotion_couponcode;\n                    });\n                    return new BackboneCollectionView({\n                        collection: discounts,\n                        viewsPerRow: 1,\n                        childView: CartPromocodeListItemView,\n                        childViewOptions: {\n                            isReadOnly: true,\n                            source: 'item_summary'\n                        }\n                    });\n                }\n            },\n            'PromoReason': function () {\n                var test;\n                setOptions:\n                    function setOptions(options) {\n                        test = options.amodel || this.model;\n                    }\n                console.log(test);\n                return new BackboneCollectionView({\n                    collection: this.AllPromo,\n                    viewsPerRow: 1,\n                    childView: CartPromocodeReasonView,\n                    childViewOptions: {\n                        isReadOnly: this.options.isReadOnly,\n                        source: 'summary'\n                    }\n                });\n            }\n        }    // @method getContext\n             // @return {Cart.Item.Summary.View.Context}\n,\n        getContext: function () {\n            var minimum_quantity = this.model.get('item').get('_minimumQuantity', true) || 1, maximum_quantity = this.model.get('item').get('_maximumQuantity', true);\n            //@class Cart.Item.Summary.View.Context\n            return {\n                //@property {Model} line\n                line: this.model,\n                lineId: this.model.get('internalid')    //@property {Boolean} isMinusButtonDisabled\n,\n                isMinusButtonDisabled: this.model.get('item').get('quantity') <= minimum_quantity || this.model.get('item').get('quantity') === 1    //@property {Boolean} isPlusButtonDisabled\n,\n                isPlusButtonDisabled: !!maximum_quantity && this.model.get('item').get('quantity') >= maximum_quantity    //@property {Boolean} showQuantity\n,\n                showQuantity: this.model.get('item').get('_itemType') === 'GiftCert'    //@property {Boolean} showComparePrice\n,\n                showComparePrice: this.model.get('amount') > this.model.get('total')    //@property {Boolean} showMinimumQuantity\n,\n                showMinimumQuantity: minimum_quantity > 1    //@property {Integer} minimumQuantity\n,\n                minimumQuantity: minimum_quantity    //@property {Boolean} showMaximumQuantity\n,\n                showMaximumQuantity: !!maximum_quantity    //@property {Integer} maximumQuantity\n,\n                maximumQuantity: maximum_quantity    // @property {Boolean} isPriceEnabled\n,\n                isPriceEnabled: !ProfileModel.getInstance().hidePrices()\n            };    //@class Cart.Item.Summary.View\n        }\n    });\n});","/*\n    © 2017 NetSuite Inc.\n    User may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n    provided, however, if you are an authorized user with a NetSuite account or log-in, you\n    may use this code subject to the terms that govern your access and use.\n*/\n// @module Cart\ndefine('Cart.Summary.View', [\n    'SC.Configuration',\n    'Cart.PromocodeForm.View',\n    'Cart.Item.Summary.View',\n    'Backbone.CompositeView',\n    'Backbone.CollectionView',\n    'GlobalViews.FormatPaymentMethod.View',\n    'Profile.Model',\n    'Cart.Promocode.List.View',\n    'Session',\n    'cart_summary.tpl',\n    'cart_summary_gift_certificate_cell.tpl',\n    'underscore',\n    'Backbone'\n], function (Configuration, CartPromocodeFormView, CartItemSummaryView, BackboneCompositeView, BackboneCollectionView, GlobalViewsFormatPaymentMethodView, ProfileModel, CartPromocodeListView, Session, cart_summary_tpl, cart_summary_gift_certificate_cell_tpl, _, Backbone) {\n    'use strict';\n    // @class Cart.Summary.View @extends Backbone.View\n    return Backbone.View.extend({\n        // @property {Function} template\n        template: cart_summary_tpl    // @method initialize\n,\n        initialize: function initialize(options) {\n            this.model = options.model;\n            BackboneCompositeView.add(this);\n            this.promocodeFormComponent = new CartPromocodeFormView({\n                model: this.model,\n                application: this.options.application\n            });\n            return new CartItemSummaryView({\n                amodel: this.model,\n                isReadOnly: false\n            });\n        }    // @property {Object} childViews\n,\n        childViews: {\n            'Cart.PromocodeFrom': function () {\n                return this.promocodeFormComponent;\n            },\n            'CartPromocodeListView': function () {\n                return new CartPromocodeListView({\n                    model: this.model,\n                    isReadOnly: false\n                });\n            },\n            'GiftCertificates': function () {\n                var gift_certificates = this.model.get('paymentmethods').where({ type: 'giftcertificate' }) || [];\n                return new BackboneCollectionView({\n                    collection: gift_certificates,\n                    cellTemplate: cart_summary_gift_certificate_cell_tpl,\n                    viewsPerRow: 1,\n                    childView: GlobalViewsFormatPaymentMethodView,\n                    rowTemplate: null\n                });\n            }\n        }    //@method getUrlLogin\n             //@return {String}\n,\n        getUrlLogin: function getUrlLogin() {\n            var login = Session.get('touchpoints.login'), currentTouchpoint = this.model.application && this.model.application.Configuration.currentTouchpoint ? this.model.application.Configuration.currentTouchpoint : 'home';\n            login += '&origin=' + currentTouchpoint;\n            if (this.$el.closest('.modal-product-detail').size() > 0)\n                //we are in the quick view\n                {\n                    var hashtag = this.$el.closest('.modal-product-detail').find('[data-name=\"view-full-details\"]').data('hashtag');\n                    login += '&origin_hash=' + encodeURIComponent(hashtag.replace('#/', ''));\n                }\n            else {\n                login += '&origin_hash=' + encodeURIComponent(Backbone.history.fragment);\n            }\n            return login;\n        }    // @method getContext\n             // @return {Cart.Summary.View.Context}\n,\n        getContext: function getContext() {\n            var continueURL = Configuration.get('siteSettings.sitetype') === 'ADVANCED' ? Configuration.defaultSearchUrl : '', is_wsdk = false, summary = this.model.get('summary'), items_count = _.reduce(this.model.get('lines').pluck('quantity'), function (memo, quantity) {\n                    return memo + (parseFloat(quantity) || 1);\n                }, 0), shipping_address = this.model.get('addresses').get(this.model.get('shipaddress')) || new Backbone.Model(), default_country = shipping_address.get('country') || Configuration.get('siteSettings.defaultshipcountry'), shipping_zip_code = shipping_address.get('zip'), promocodes = this.model.get('promocodes') || [], gift_certificates = this.model.get('paymentmethods').where({ type: 'giftcertificate' }) || [], is_single_country = _.size(Configuration.get('siteSettings.countries', [])) === 1, is_zipcode_require, selected_country, countries_list, is_estimated_shipping_valid, show_estimation_form = true, countries = _.clone(Configuration.get('siteSettings.countries'));\n            //Determine if the Zip Code is required and just leave selected the current address\n            if (countries && default_country && countries[default_country]) {\n                selected_country = _.findWhere(countries, { selected: true });\n                if (selected_country) {\n                    selected_country.selected = false;\n                }\n                countries[default_country].selected = true;\n                is_zipcode_require = countries[default_country].isziprequired !== 'F';\n                selected_country = countries[default_country];\n                countries_list = _.toArray(countries);\n            } else {\n                selected_country = _.findWhere(countries, { selected: true });\n                countries_list = _.toArray(countries);\n                if (!selected_country) {\n                    selected_country = _.first(countries_list);\n                }\n                is_zipcode_require = selected_country.isziprequired !== 'F';\n            }\n            //Determine if the current address is valid (complete)\n            if (_.isString(shipping_address.id) && shipping_address.id !== '-------null') {\n                is_estimated_shipping_valid = is_zipcode_require ? !!shipping_zip_code : !!shipping_address.get('country');\n            } else {\n                is_estimated_shipping_valid = false;\n            }\n            //Check if WSDK is configured\n            if (Configuration.get('siteSettings.iswsdk', false) && Configuration.get('siteSettings.wsdkcancelcarturl')) {\n                continueURL = Configuration.get('siteSettings.wsdkcancelcarturl');\n                is_wsdk = true;\n            }\n            //Calculate if the estimation form should be rendered or not\n            if (is_estimated_shipping_valid && is_zipcode_require) {\n                show_estimation_form = false;\n            } else if (is_estimated_shipping_valid) {\n                show_estimation_form = !this.options.showEstimated;\n            } else {\n                show_estimation_form = true;\n            }\n            // @class Cart.Summary.View.Context\n            return {\n                // @property {LiveOrder.Model} model\n                model: this.model,\n                isWSDK: is_wsdk    // @property {String} continueURL\n,\n                continueURL: continueURL    // @property {Boolean} showActions\n,\n                showActions: true    // @property {Boolean} showLabelsAsEstimated\n,\n                showLabelsAsEstimated: true    // @property {Object} summary\n,\n                summary: summary    // @property {Number} itemCount\n,\n                itemCount: items_count    // @property {Boolean} isSingleItem\n,\n                isSingleItem: items_count === 1    // @property {Boolean} isZipCodeRequire\n,\n                isZipCodeRequire: is_zipcode_require    // @property {Boolean} showEstimate Shows or not the estimation form\n,\n                showEstimate: show_estimation_form    // @property {Boolean} showHandlingCost\n,\n                showHandlingCost: !!summary.handlingcost,\n                showGiftCertificates: !!summary.giftcertapplied,\n                showPromocodeForm: Configuration.get('promocodes.allowMultiples', true) || !promocodes.length,\n                giftCertificates: gift_certificates    // @property {Boolean} showDiscountTotal\n,\n                showDiscountTotal: !!summary.discounttotal,\n                defaultCountry: default_country    // @property {Boolean} isDefaultCountryUS\n,\n                isDefaultCountryUS: default_country === 'US'    // @property {Array} countries\n,\n                countries: countries_list    // @property {Boolean} singleCountry\n,\n                singleCountry: is_single_country    // @property {String} singleCountryCode\n,\n                singleCountryCode: is_single_country ? countries_list[0].code : ''    // @property {String} shipToText\n,\n                shipToText: shipping_zip_code || selected_country.name,\n                singleCountryName: is_single_country ? countries_list[0].name : ''    // @property {String} shippingZipCode\n,\n                shippingZipCode: shipping_zip_code || ''    // @property {Boolean} showPaypalButton\n,\n                showPaypalButton: Configuration.get('siteSettings.checkout.paypalexpress.available', 'F') === 'T'    // @property {String} paypalButtonImageUrl\n,\n                paypalButtonImageUrl: Configuration.get('paypalButtonImageUrl', 'https://www.paypalobjects.com/webstatic/en_US/i/buttons/checkout-logo-large.png')    // @property {Boolean} showProceedButton\n,\n                showProceedButton: Configuration.get('siteSettings.sitetype') === 'STANDARD'    // @property {String} urlLogin\n,\n                urlLogin: this.getUrlLogin()    // @property {Boolean} isPriceEnabled\n,\n                isPriceEnabled: !ProfileModel.getInstance().hidePrices()    // @property {Boolean} showPickupInStoreLabel\n,\n                showPickupInStoreLabel: this.model.getPickupInStoreLines().length > 0    // @property {Boolean} areAllItemsPickupable\n,\n                areAllItemsPickupable: this.model.getPickupInStoreLines().length === this.model.get('lines').length,\n                taxLabel: !!Configuration.get('summaryTaxLabel') ? Configuration.get('summaryTaxLabel') : 'Tax'\n            };    // @class Cart.Summary.View\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module Cart\ndefine('Cart.Item.Actions.View', [\n    'Backbone.CompositeView',\n    'SC.Configuration',\n    'cart_item_actions.tpl',\n    'Backbone',\n    'Utils'\n], function (BackboneCompositeView, Configuration, cart_item_actions_tpl, Backbone, Utils) {\n    'use strict';\n    //@class Cart.Item.Actions.View @extend Backbone.View\n    return Backbone.View.extend({\n        template: cart_item_actions_tpl,\n        initialize: function () {\n            this.application = this.options.application;\n            BackboneCompositeView.add(this);\n        }    //@method getContext @return Cart.Item.Actions.View.Context\n,\n        getContext: function () {\n            //@class Cart.Item.Actions.View.Context\n            return {\n                //@property {Model} line\n                line: this.model,\n                item: this.model.get('item')    //@property {String} editUrl\n,\n                editUrl: Utils.addParamsToUrl(this.model.generateURL(), {\n                    'source': 'cart',\n                    'internalid': this.model.get('internalid')\n                })    //@property {Boolean} isAdvanced\n,\n                isAdvanced: Configuration.siteSettings.sitetype !== 'STANDARD'    //@property {Boolean} showSaveForLateButton\n,\n                showSaveForLateButton: this.application.ProductListModule && this.application.ProductListModule.Utils.isProductListEnabled() && Configuration.currentTouchpoint === 'home'    //@property {String} lineId\n,\n                lineId: this.model.get('internalid')    //@property {Boolean} showQuantity\n,\n                showQuantity: this.model.get('item').get('_itemType') === 'GiftCert'\n            };    //@class Cart.Item.Actions.View\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n/*\n@module jQueryExtras\n#jQuery.scStickyButton\nA jQuery plugin that implements a sticky button behavior. Usage:\n\n\tthis.$el.find('[data-action=\"sticky\"]').scStickyButton()\n*/\ndefine('jQuery.scStickyButton', [\n    'jQuery',\n    'Utils'\n], function (jQuery, Utils) {\n    'use strict';\n    var sticky_button, padding_offset = 20;\n    jQuery.fn.scStickyButton = function () {\n        if (canStick()) {\n            init(this);\n            // try to update the button position on every scroll, touch start and touch move\n            jQuery(document).on('scroll touchstart touchmove', checkStickyPosition);\n        }\n        return this;\n    };\n    function canStick() {\n        var viewport_width = Utils.getViewportWidth(), mobile_width_max = 768;\n        return viewport_width < mobile_width_max;\n    }\n    // initialize the plugin generating required markup and setting the event listeners\n    function init(sticky) {\n        sticky_button = jQuery(sticky);\n        // wrap the original button with a clone into a container. This achieves de desired behavior while scrolling the page\n        var button_clone = jQuery('<div class=\"sticky-button-container-clone\">').append(sticky_button.clone(true).removeAttr('data-action'));\n        sticky_button.wrap('<div class=\"sticky-button-container\">').parent().append(button_clone);\n        // initialize with \"unsticked\" state\n        unStickIt();\n    }\n    // checks if the button should be sticked or unsticked\n    function checkStickyPosition() {\n        var document_scroll_top = jQuery(document).scrollTop(), is_sticked = sticky_button.hasClass('sticked'), current_offset = sticky_button.offset().top - padding_offset;\n        if (!is_sticked && document_scroll_top >= current_offset) {\n            stickIt();\n        } else if (is_sticked && document_scroll_top <= current_offset) {\n            unStickIt();\n        }\n    }\n    function stickIt() {\n        var clone = sticky_button.parent().find('.sticky-button-container-clone').first();\n        clone.addClass('sticked');\n        sticky_button.addClass('sticked');\n    }\n    function unStickIt() {\n        var clone = sticky_button.parent().find('.sticky-button-container-clone').first();\n        clone.removeClass('sticked');\n        sticky_button.removeClass('sticked');\n    }\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module Cart\ndefine('Cart.Detailed.View', [\n    'Backbone.CompositeView',\n    'GlobalViews.Message.View',\n    'Backbone.CollectionView',\n    'Backbone.FormView',\n    'Cart.Lines.View',\n    'Cart.Lines.Free.View',\n    'Cart.Promocode.Notifications.View',\n    'Cart.Summary.View',\n    'Cart.Item.Summary.View',\n    'Cart.Item.Actions.View',\n    'SC.Configuration',\n    'cart_detailed.tpl',\n    'cart_lines_free.tpl',\n    'Utils',\n    'underscore',\n    'Backbone',\n    'jQuery',\n    'jQuery.scStickyButton'\n], function (BackboneCompositeView, GlobalViewsMessageView, BackboneCollectionView, BackboneFormView, CartLinesView, CartLinesFreeView, CartPromocodeNotifications, CartSummaryView, CartItemSummaryView, CartItemActionsView, Configuration, cart_detailed_tpl, cart_lines_free_tpl, Utils, _, Backbone, jQuery) {\n    'use strict';\n    var colapsibles_states = {};\n    // @class Cart.Detailed.View This is the Shopping Cart view @extends Backbone.View\n    return Backbone.View.extend({\n        // @property {Function} template\n        template: cart_detailed_tpl    // @property {String} title\n,\n        title: _('Shopping Cart').translate()    // @property {String} page_header\n,\n        page_header: _('Shopping Cart').translate()    // @property {Object} attributes\n,\n        attributes: {\n            'id': 'Cart.Detailed.View',\n            'data-root-component-id': 'Cart.Detailed.View'\n        },\n        bindings: { '[name=\"zip\"]': 'zip' }    // @property {Object} events\n,\n        events: {\n            'change [data-type=\"cart-item-quantity-input\"]': 'debouncedUpdateItemQuantity',\n            'keypress [data-type=\"cart-item-quantity-input\"]': 'debouncedUpdateItemQuantity',\n            'submit [data-action=\"update-quantity\"]': 'updateItemQuantityFormSubmit',\n            'click [data-action=\"remove-item\"]': 'removeItem',\n            'submit form[data-action=\"estimate-tax-ship\"]': 'estimateTaxShip',\n            'click [data-action=\"remove-shipping-address\"]': 'removeShippingAddress',\n            'change [data-action=\"estimate-tax-ship-country\"]': 'changeCountry'\n        }    // @method initialize\n             // @param {Cart.Detailed.View.InitializeParameters} options\n             // @return {Void}\n,\n        initialize: function (options) {\n            this.application = options.application;\n            this.showEstimated = false;\n            BackboneCompositeView.add(this);\n            BackboneFormView.add(this);\n            this.model.on('change', this.render, this);\n            this.model.get('lines').on('add remove', this.render, this);\n            this.model.on('LINE_ROLLBACK', this.render, this);\n            this.model.on('promocodeNotificationShown', this.removePromocodeNotification, this);\n            this.on('afterCompositeViewRender', this.resetColapsiblesState, this);\n            this.on('afterCompositeViewRender', this.initPlugins, this);\n            this.options = options;\n        }    // @method getBreadcrumbPages\n             // @return {BreadcrumbPage}\n,\n        getBreadcrumbPages: function () {\n            return {\n                href: '/cart',\n                text: _('Shopping Cart').translate()\n            };\n        }    // @method initPlugins\n             // initialize plugins\n,\n        initPlugins: function initPlugins() {\n            if (Configuration.get('siteSettings.sitetype') === 'ADVANCED') {\n                this.$('[data-action=\"sticky\"]').scStickyButton();\n            }\n            Utils.initBxSlider(this.$('[data-type=\"carousel-items\"]'), Configuration.get('bxSliderDefaults'));\n        },\n        render: function render() {\n            this.storeColapsiblesState();\n            this._render();\n            return this;\n        }    // @method hideError\n,\n        hideError: function hideError(selector) {\n            var el = selector ? selector.find('[data-type=\"alert-placeholder\"]') : this.$('[data-type=\"alert-placeholder\"]');\n            el.empty();\n        }    // @method showError\n,\n        showError: function showError(message, line, error_details) {\n            var placeholder;\n            this.hideError();\n            if (line) {\n                // if we detect its a rolled back item, (this i an item that was deleted\n                // but the new options were not valid and was added back to it original state)\n                // We will move all the references to the new line id\n                if (error_details && error_details.status === 'LINE_ROLLBACK') {\n                    var new_line_id = error_details.newLineId;\n                    line.attr('id', new_line_id);\n                    line.find('[name=\"internalid\"]').attr({\n                        id: 'update-internalid-' + new_line_id,\n                        value: new_line_id\n                    });\n                }\n                placeholder = line.find('[data-type=\"alert-placeholder\"]');\n                this.hideError(line);\n            } else {\n                placeholder = this.$('[data-type=\"alert-placeholder\"]');\n                this.hideError();\n            }\n            // Finds or create the placeholder for the error message\n            if (!placeholder.length) {\n                placeholder = jQuery('<div/>', { 'data-type': 'alert-placeholder' });\n                this.$el.prepend(placeholder);\n            }\n            var global_view_message = new GlobalViewsMessageView({\n                message: message,\n                type: 'error',\n                closable: true\n            });\n            // Renders the error message and into the placeholder\n            placeholder.append(global_view_message.render().$el.html());\n            // Re Enables all posible disableded buttons of the line or the entire view\n            if (line) {\n                line.find(':disabled').attr('disabled', false);\n            } else {\n                this.$(':disabled').attr('disabled', false);\n            }\n        }    // @method validInputValue\n             // Check if the input[type=\"number\"] has empty string or NaN value\n             // input.val() == '' && validInput == false: NaN\n             // input.val() == '' && validInput == true: empty string\n,\n        validInputValue: function (input) {\n            // html5 validation\n            if (input.validity && !input.validity.valid || input.value === '') {\n                return false;\n            }\n            // Fallback to browsers that don't yet support html5 input validation\n            return !isNaN(input.value);\n        }    // @method updateItemQuantity\n             // Finds the item in the cart model, updates its quantity and saves the cart model\n,\n        updateItemQuantity: function updateItemQuantity(e) {\n            var self = this, $line = null, $form = jQuery(e.target).closest('form'), options = $form.serializeObject(), internalid = options.internalid, line = this.model.get('lines').get(internalid), $input = $form.find('[name=\"quantity\"]'), validInput = this.validInputValue($input[0]);\n            if (!line || this.isRemoving) {\n                return;\n            }\n            if (!validInput || options.quantity) {\n                var new_quantity = parseInt(options.quantity, 10), item = line.get('item'), min_quantity = item ? item.get('_minimumQuantity', true) : line.get('minimumquantity'), max_quantity = item ? item.get('_maximumQuantity', true) : line.get('maximumquantity'), current_quantity = parseInt(line.get('quantity'), 10);\n                new_quantity = new_quantity >= min_quantity ? new_quantity : current_quantity;\n                new_quantity = !!max_quantity && new_quantity > max_quantity ? current_quantity : new_quantity;\n                $input.val(new_quantity);\n                if (new_quantity !== current_quantity) {\n                    $line = this.$('#' + internalid);\n                    $input.val(new_quantity).prop('disabled', true);\n                    line.set('quantity', new_quantity);\n                    var invalid = line.validate();\n                    if (!invalid) {\n                        var update_promise = this.model.updateLine(line);\n                        this.disableElementsOnPromise(update_promise, '#' + internalid + ' button');\n                        update_promise.fail(function (jqXhr) {\n                            jqXhr.preventDefault = true;\n                            var result = JSON.parse(jqXhr.responseText);\n                            self.showError(result.errorMessage, $line, result.errorDetails);\n                            line.set('quantity', current_quantity);\n                        }).always(function () {\n                            $input.prop('disabled', false);\n                        });\n                    } else {\n                        var placeholder = this.$('#' + internalid + ' [data-type=\"alert-placeholder\"]');\n                        placeholder.empty();\n                        _.each(invalid, function (value) {\n                            var global_view_message = new GlobalViewsMessageView({\n                                message: value,\n                                type: 'error',\n                                closable: true\n                            });\n                            placeholder.append(global_view_message.render().$el.html());\n                        });\n                        $input.prop('disabled', false);\n                        line.set('quantity', current_quantity);\n                    }\n                }\n            }\n        },\n        debouncedUpdateItemQuantity: _.debounce(function (e) {\n            this.updateItemQuantity(e);\n        }, 1000)    // @method updateItemQuantityFormSubmit\n,\n        updateItemQuantityFormSubmit: function updateItemQuantityFormSubmit(e) {\n            e.preventDefault();\n            this.updateItemQuantity(e);\n        }    // @method removeItem\n             // handles the click event of the remove button\n             // removes the item from the cart model and saves it.\n,\n        removeItem: function removeItem(e) {\n            var self = this, product = this.model.get('lines').get(this.$(e.target).data('internalid')), remove_promise = this.model.removeLine(product), internalid = product.get('internalid');\n            this.isRemoving = true;\n            this.disableElementsOnPromise(remove_promise, 'article[id=\"' + internalid + '\"] a, article[id=\"' + internalid + '\"] button');\n            remove_promise.always(function () {\n                self.isRemoving = false;\n            });\n            return remove_promise;\n        }    // @method estimateTaxShip\n             // Sets a fake address with country and zip code based on the options.\n,\n        estimateTaxShip: function estimateTaxShip(e) {\n            e.preventDefault();\n            var options = this.$(e.target).serializeObject(), self = this;\n            var fake_address = {\n                zip: options.zip,\n                country: options.country\n            };\n            this.model.cancelableTrigger('before:LiveOrder.estimateShipping', fake_address).then(function () {\n                var address_internalid = fake_address.zip + '-' + fake_address.country + '-null';\n                fake_address.internalid = address_internalid;\n                self.model.get('addresses').push(fake_address);\n                self.model.set('shipaddress', address_internalid);\n                var promise = self.saveForm(e);\n                if (promise) {\n                    self.swapEstimationStatus();\n                }\n                promise.done(function (lines) {\n                    self.model.cancelableTrigger('after:LiveOrder.estimateShipping', _.isUndefined(lines) ? false : lines);\n                });\n            });\n        }    // @method changeEstimationStatus\n,\n        swapEstimationStatus: function swapEstimationStatus() {\n            this.showEstimated = !this.showEstimated;\n        }    // @method removeShippingAddress\n             // sets a fake null address so it gets removed by the backend\n,\n        removeShippingAddress: function removeShippingAddress(e) {\n            var self = this, ship_address = self.model.get('addresses');\n            self.model.cancelableTrigger('before:LiveOrder.clearEstimateShipping', ship_address).then(function () {\n                e.preventDefault();\n                self.swapEstimationStatus();\n                self.model.save({\n                    shipmethod: null,\n                    shipaddress: null\n                });\n                self.model.cancelableTrigger('after:LiveOrder.clearEstimateShipping', true);\n            });\n        }    // @method changeCountry\n,\n        changeCountry: function changeCountry(e) {\n            e.preventDefault();\n            var options = this.$(e.target).serializeObject(), AddressModel = this.model.get('addresses').model;\n            this.model.get('addresses').add(new AddressModel({\n                country: options.country,\n                internalid: options.country\n            }));\n            this.model.set({ shipaddress: options.country });\n        }    // @method resetColapsiblesState\n             // @return {Void}\n,\n        resetColapsiblesState: function resetColapsiblesState() {\n            var self = this;\n            _.each(colapsibles_states, function (is_in, element_selector) {\n                self.$(element_selector)[is_in ? 'addClass' : 'removeClass']('in').css('height', is_in ? 'auto' : '0');\n            });\n        }    // @method storeColapsiblesState\n             // @return {Void}\n,\n        storeColapsiblesState: function () {\n            this.$('.collapse').each(function (index, element) {\n                colapsibles_states[Utils.getFullPathForElement(element)] = jQuery(element).hasClass('in');\n            });\n        }    // @method removePromocodeNotification\n             // @param String promocode_id\n             // @return {Void}\n,\n        removePromocodeNotification: function (promocode_id) {\n            var promocode = _.findWhere(this.model.get('promocodes'), { internalid: promocode_id });\n            delete promocode.notification;\n        },\n        destroy: function () {\n            colapsibles_states = {};\n            this.model.off('change', this.render, this);\n            this.model.get('lines').off('add remove', this.render, this);\n            this.model.off('LINE_ROLLBACK', this.render, this);\n            this.off('afterCompositeViewRender', this.resetColapsiblesState, this);\n            this.off('afterCompositeViewRender', this.initPlugins, this);\n            this._destroy();\n        }    // @property {ChildViews} childViews\n,\n        childViews: {\n            'Cart.Summary': function () {\n                return new CartSummaryView({\n                    model: this.model,\n                    showEstimated: this.showEstimated,\n                    application: this.application\n                });\n            },\n            'Item.ListNavigable': function () {\n                var lines = _.filter(this.model.get('lines').models || [], function (line) {\n                    return line.get('free_gift') !== true;\n                });\n                return new BackboneCollectionView({\n                    collection: lines,\n                    viewsPerRow: 1,\n                    childView: CartLinesView,\n                    childViewOptions: {\n                        navigable: true,\n                        application: this.application,\n                        SummaryView: CartItemSummaryView,\n                        ActionsView: CartItemActionsView,\n                        showAlert: false\n                    }\n                });\n            },\n            'Promocode.Notifications': function () {\n                var promotions = _.filter(this.model.get('promocodes') || [], function (promocode) {\n                    return promocode.notification === true;\n                });\n                if (promotions.length) {\n                    return new BackboneCollectionView({\n                        collection: promotions,\n                        viewsPerRow: 1,\n                        childView: CartPromocodeNotifications,\n                        childViewOptions: { parentModel: this.model }\n                    });\n                }\n            },\n            'Item.FreeGift': function () {\n                var free_gifts = _.filter(this.model.get('lines').models || [], function (line) {\n                    return line.get('free_gift') === true;\n                });\n                if (free_gifts.length) {\n                    return new BackboneCollectionView({\n                        collection: free_gifts,\n                        viewsPerRow: 1,\n                        childView: CartLinesFreeView,\n                        childViewOptions: { navigable: true }\n                    });\n                }\n            },\n            'FreeGift.Info': function () {\n                var message, free_gifts = _.filter(this.model.get('lines').models || [], function (line) {\n                        return line.get('free_gift') === true;\n                    });\n                if (free_gifts.length === 1) {\n                    message = _.translate('The following item is free but it may generate shipping costs.');\n                } else if (free_gifts.length > 1) {\n                    message = _.translate('The following items are free but they may generate shipping costs.');\n                }\n                if (message) {\n                    return new GlobalViewsMessageView({\n                        message: message,\n                        type: 'info',\n                        closable: false\n                    });\n                }\n            }\n        }    //@method getExtraChildrenOptions Overridable method used to add params to url to open the accordion\n             //@return {Cart.Detailed.View.ExtraChildrenOptions}\n,\n        getExtraChildrenOptions: function () {\n            //@class Cart.Detailed.View.ExtraChildrenOptions\n            return {\n                // @property {String} urlOptions\n                urlOptions: this.options.urlOptions\n            };    //@class Cart.Detailed.View\n        }    // @method getContext @return {Cart.Detailed.View.Context}\n,\n        getContext: function () {\n            var lines = this.model.get('lines'), product_count = lines.length, item_count = _.reduce(lines.models, function (memo, line) {\n                    return memo + line.get('quantity');\n                }, 0), product_and_items_count = '';\n            if (product_count === 1) {\n                if (item_count === 1) {\n                    product_and_items_count = _('1 Product, 1 Item').translate();\n                } else {\n                    product_and_items_count = _('1 Product, $(0) Items').translate(item_count);\n                }\n            } else {\n                if (item_count === 1) {\n                    product_and_items_count = _('$(0) Products, 1 Item').translate(product_count);\n                } else {\n                    product_and_items_count = _('$(0) Products, $(1) Items').translate(product_count, item_count);\n                }\n            }\n            // @class Cart.Detailed.View.Context\n            return {\n                //@property {LiveOrder.Model} model\n                model: this.model,\n                showLines: !!(lines && lines.length)    //@property {Orderline.Collection} lines\n,\n                lines: lines    //@property {String} productsAndItemsCount\n,\n                productsAndItemsCount: product_and_items_count    //@property {Number} productCount\n,\n                productCount: product_count    //@property {Number} itemCount\n,\n                itemCount: item_count    //@property {String} pageHeader\n,\n                pageHeader: this.page_header\n            };    // @class Cart.Detailed.View\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n/*\n@module jQueryExtras\n\n#scPush\n\nA jQuery plugin for manag push content that comes from the right side. To set up:\n\n * invoke this plugin to the content that will be pushed\n * that content must define a 'data-id' attribute (if not, it will be automatically generated)\n * add an element (button or else) to be the 'pusher' by adding data-type='sc-pusher'\n * that pusher must define a 'data-target' with the data-id of the push content\n * previously defined (if not defined, it will be automatically generated)\n\nAvailable options:\n\n\t{\n\t\ttarget: 'mobile'/'tablet' -> only for mobile or both mobile and tablet\n\t}\n\nDefault options:\n\n\t{\n\t\ttarget: 'mobile' -> mobile only\n\t}\n*/\ndefine('jQuery.scPush', [\n    'jQuery',\n    'underscore',\n    'Utils'\n], function (jQuery, _, Utils) {\n    'use strict';\n    jQuery.fn.scPush = function (options) {\n        var settings = jQuery.extend({}, jQuery.fn.push.defaults, options), $main = jQuery('.layout-container');\n        // add an overlay on tablet devices to avoid unexpected behaviors (avoid navigations outside the pusher)\n        setOverlay();\n        // remove unnecesary styles when navigating (caused by pusher content events)\n        $main.removeClass('sc-pushing');\n        $main.css({\n            'margin-top': '',\n            'height': ''\n        }).removeClass('sc-pushing-partial');\n        // check if there was an opened pusher\n        var opened_pusher_id = jQuery('[data-pushing]').attr('data-pushing'), opened_pusher = jQuery('[data-id=\"' + opened_pusher_id + '\"]');\n        if (opened_pusher.length > 0) {\n            opened_pusher.addClass('sc-pushing-reopened');\n            openPushContent(opened_pusher_id, true);\n            $main.addClass('sc-pushing');\n        }\n        return this.each(function () {\n            var self = this, $this = jQuery(this), $push_header = $this.find('.sc-pusher-header, [data-type=\"sc-pusher-header\"]');\n            if (!$push_header.length) {\n                // add push header containing back button\n                $push_header = jQuery('<div class=\"sc-pusher-header\"><a href=\"#\" class=\"sc-pusher-header-back\" data-action=\"sc-pusher-dismiss\">' + _('Back').translate() + '</a></div>');\n                $this.prepend($push_header);\n            }\n            // add data-type for styling\n            var push_target_size = settings.target === 'tablet' ? 'sc-pushable-md' : 'sc-pushable-xs';\n            $this.attr('data-pusher', push_target_size);\n            // get push content id (assign a new one if doesn't have)\n            var id = $this.data('id');\n            if (!id) {\n                id = 'sc-pusher-' + new Date().getTime();\n                $this.attr('data-id', id);\n            }\n            var openFn = jQuery.proxy(function (e) {\n                var proxy = jQuery.proxy(openPushContent, this);\n                if (options && options.beforeOpen) {\n                    var res = options.beforeOpen(proxy, e);\n                    if (!res) {\n                        return;\n                    }\n                } else {\n                    e.preventDefault();\n                }\n                // save current scroll height\n                this.currentScroll = jQuery(document.body).scrollTop();\n                // open the pusher content\n                proxy(id);\n                if (options && options.afterOpen) {\n                    options.afterOpen(proxy, e);\n                }\n            }, this);\n            var closeFn = jQuery.proxy(function (e) {\n                e.preventDefault();\n                $this.trigger('beforeClose');\n                jQuery('#content').removeAttr('data-pushing');\n                jQuery('[data-id=\"' + id + '\"]').removeClass('sc-pushing-reopened');\n                $main.removeClass('sc-pushing');\n                jQuery('[data-view=\"Footer\"]').show();\n                if (Utils.getViewportWidth() < 768) {\n                    this.currentScroll && jQuery(document.body).scrollTop(this.currentScroll);\n                } else {\n                    $main.css({\n                        'margin-top': '',\n                        'height': ''\n                    }).removeClass('sc-pushing-partial');\n                    jQuery(document.body).scrollTop(this.currentScroll);\n                    jQuery('.main-push-overlay').removeClass('active');\n                }\n                if ($this.attr('data-action')) {\n                    $this.attr('data-action', $this.attr('data-action').replace('sc-pushing', ''));\n                }\n                $this.trigger('afterClose');\n            }, this);\n            // search for pusher and add handler\n            var pusher = jQuery('[data-type=\"sc-pusher\"][data-target=\"' + id + '\"]');\n            $this.on('open', openFn);\n            // open push action\n            pusher.on('click', openFn);\n            // close push action\n            $this.on('close', closeFn);\n            $push_header.find('[data-action=\"sc-pusher-dismiss\"]').on('click', closeFn);\n        });\n    };\n    function setOverlay() {\n        if (Utils.getViewportWidth() >= 768) {\n            var $main = jQuery('.layout-container'), overlay = jQuery('<div class=\"main-push-overlay\" data-action=\"main-push-overlay-hide\"></div>');\n            $main.find('.main-push-overlay').remove();\n            $main.append(overlay);\n            overlay.on('click', function () {\n                jQuery(this).removeClass('active');\n                var pushed_content = jQuery('[data-action=\"sc-pushing\"]');\n                jQuery('#content').removeAttr('data-pushing');\n                jQuery('[data-id=\"' + pushed_content.attr('data-id') + '\"]').removeClass('sc-pushing-reopened');\n                $main.removeClass('sc-pushing');\n                jQuery('[data-view=\"Footer\"]').show();\n                $main.css({\n                    'margin-top': '',\n                    'height': ''\n                }).removeClass('sc-pushing-partial');\n                pushed_content.attr('data-action', pushed_content.attr('data-action').replace('sc-pushing', ''));\n                // scroll back to the original scroll position\n                jQuery(document.body).scrollTop(pushed_content[0].currentScroll);\n            });\n        }\n    }\n    function openPushContent(id, isStatic) {\n        // let the content know what pusher is opened (useful when navigating so it remains open)\n        jQuery('#content').attr('data-pushing', id);\n        jQuery('[data-id=\"' + id + '\"]').attr('data-action', 'sc-pushing');\n        var open_handler = jQuery.proxy(onPushOpened, this);\n        if (isStatic) {\n            open_handler();\n        } else {\n            jQuery('[data-id=\"' + id + '\"][data-action=\"sc-pushing\"]').one('webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend', function (e) {\n                open_handler();\n                // remove handlers cause jQuery 'one' in Chrome will execute both webkitTransitionEnd and transitionend\n                jQuery(this).off('webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend');\n            });\n        }\n    }\n    function onPushOpened() {\n        var $main = jQuery('.layout-container');\n        if (Utils.getViewportWidth() < 768) {\n            $main.addClass('sc-pushing');\n            jQuery('[data-view=\"Footer\"]').hide();\n        } else {\n            $main.css({\n                'margin-top': -this.currentScroll,\n                'height': '+=' + this.currentScroll\n            }).addClass('sc-pushing-partial');\n            jQuery('.main-push-overlay').addClass('active');\n        }\n    }\n    jQuery.fn.push.defaults = {\n        target: 'mobile',\n        appendPusher: false\n    };\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module ProductList\ndefine('ProductList.CartSaveForLater.View', [\n    'SC.Configuration',\n    'ErrorManagement',\n    'ProductList.DetailsLater.View',\n    'ProductList.Model',\n    'ProductList.Item.Model',\n    'Cart.Detailed.View',\n    'Session',\n    'Profile.Model',\n    'product_list_details_later.tpl',\n    'underscore',\n    'jQuery',\n    'Backbone',\n    'Utils',\n    'jQuery.scPush'\n], function (Configuration, ErrorManagement, ProductListDetailsLaterView, ProductListModel, ProductListItemModel, CartDetailedView, Session, ProfileModel, product_list_details_later_tpl, _, jQuery, Backbone, Utils) {\n    'use strict';\n    // @class ProductList.SaveForLater.View extends the cart Detailed.View for adding save-for-later product list experience.\n    // @extends Cart.Detailed.View\n    var original_initialize = CartDetailedView.prototype.initialize, product_list_model = new ProductListModel();\n    _.extend(CartDetailedView.prototype, {\n        initialize: function () {\n            var self = this;\n            original_initialize.apply(this, arguments);\n            this.productListModel = product_list_model;\n            this.utils = this.application.ProductListModule && this.application.ProductListModule.Utils;\n            ProfileModel.getPromise().done(function () {\n                self.render();\n            });\n        },\n        childViews: _.extend({}, CartDetailedView.prototype.childViews, {\n            'SavedForLater': function () {\n                if (this.utils && this.utils.isProductListEnabled()) {\n                    return new ProductListDetailsLaterView({\n                        application: this.options.application,\n                        model: this.productListModel\n                    });\n                }\n                return null;\n            }\n        })    // save for later:\n              // handles the click event of the save for later button\n              // removes the item from the cart and adds it to the saved for later list\n,\n        saveForLaterItem: function (e) {\n            e.preventDefault();\n            if (!this.validateLogin()) {\n                return;\n            }\n            var cart_line = this.model.get('lines').get(jQuery(e.target).data('internalid')), internalid = cart_line.get('internalid'), whole_promise = jQuery.Deferred(), self = this;\n            jQuery.when(this.model.removeLine(cart_line), self.addItemToList(cart_line)).then(function () {\n                self.showConfirmationMessage(_('Good! You saved the item for later. If you want to add it back to your cart, see below in <b>\"Saved for later\"</b>').translate());\n                whole_promise.resolve();\n            });\n            this.disableElementsOnPromise(whole_promise, '#' + internalid + ' button');\n        }    // Add a new product list item into a product list\n,\n        addItemToList: function (cart_line) {\n            var defer = jQuery.Deferred(), self = this;\n            if (this.productListModel.isNew()) {\n                this.productListModel.save().done(function () {\n                    self.doAddItemToList(self.productListModel.get('internalid'), cart_line, defer);\n                });\n            } else {\n                self.doAddItemToList(self.productListModel.get('internalid'), cart_line, defer);\n            }\n            return defer.promise();\n        }    // Adds the new item to the collection\n,\n        doAddItemToList: function (product_list_id, cart_line, internal_promise) {\n            var self = this, product_list_item_model = ProductListItemModel.createFromTransactionLine(cart_line);\n            product_list_item_model.set('productList', { id: product_list_id });\n            product_list_item_model.set('description', '');\n            product_list_item_model.set('item', cart_line.get('item'), { silent: true });\n            product_list_item_model.save(null, { validate: false }).done(function () {\n                product_list_item_model.set('item', cart_line.get('item'), { silent: true });\n                self.productListModel.get('items').add(product_list_item_model, { at: 0 });\n                internal_promise.resolve();\n            });\n        },\n        validateLogin: function () {\n            if (ProfileModel.getInstance().get('isLoggedIn') === 'F') {\n                var parameters = {\n                    'origin': this.application.getConfig('currentTouchpoint'),\n                    'origin_hash': encodeURIComponent(Backbone.history.fragment)\n                };\n                window.location.href = Utils.addParamsToUrl(Session.get('touchpoints.login'), parameters);\n                return false;\n            }\n            return true;\n        }\n    });\n    CartDetailedView.prototype.events = _.extend({}, CartDetailedView.prototype.events, { 'click [data-action=\"save-for-later-item\"]': 'saveForLaterItem' });\n    return CartDetailedView;\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module ProductList\ndefine('ProductList.Utils', [\n    'ProductList.Collection',\n    'ProductList.Model',\n    'Profile.Model',\n    'ProductList.ControlSingle.View',\n    'ProductList.Control.View',\n    'ProductList.Item.Model',\n    'MenuTree.View',\n    'underscore',\n    'jQuery',\n    'ProductList.CartSaveForLater.View'\n], function (ProductListCollection, ProductListModel, ProfileModel, ProductListControlSingleView, ProductListControlView, ProductListItemModel, MenuTreeView, _, jQuery) {\n    'use strict';\n    var productListsInstancePromise, productListsInstance;\n    // @class ProductList.Utils an utility class to support the ProductList ApplicationModule. It will define shortcut accessors to product lists, render the controls on 'afterAppendView' and show and define the MyAccount menu items.\n    return function (application) {\n        return {\n            // @method getProductListsPromise Loads Product Lists collection model singleton @return {jQuery.Deferred}\n            getProductListsPromise: function () {\n                if (!productListsInstancePromise) {\n                    productListsInstancePromise = jQuery.Deferred();\n                    productListsInstance = new ProductListCollection();\n                    productListsInstance.application = application;\n                    productListsInstance.fetch({ cache: false }).done(function (jsonCollection) {\n                        productListsInstance.reset(jsonCollection);\n                        productListsInstancePromise.resolve(productListsInstance);\n                    });\n                }\n                return productListsInstancePromise;\n            }    // @method productListsPromiseDone method to be called once the product lists are loaded to show the MyAccount's menu item\n,\n            productListsPromiseDone: function () {\n                // Replace dummy menu item from My Account\n                var layout = application.getLayout(), menu_tree = MenuTreeView.getInstance();\n                menu_tree.replaceMenuItem(function (menuitem) {\n                    return menuitem && menuitem.id === 'product_list_dummy';\n                }, function (application) {\n                    var utils = application.ProductListModule.Utils;\n                    if (!utils.isProductListEnabled()) {\n                        return undefined;\n                    }\n                    var product_lists = utils.getProductLists(), actual_object = {\n                            id: function () {\n                                // Returns the correct id of the list in the case of single list and 'productlists' otherwise.\n                                var is_single_list = utils.isSingleList();\n                                if (is_single_list) {\n                                    var the_single_list = product_lists.at(0);\n                                    // Check if it's a predefined list before return\n                                    return 'productlist_' + (the_single_list.get('internalid') ? the_single_list.get('internalid') : 'tmpl_' + the_single_list.get('templateId'));\n                                } else {\n                                    return 'productlists';\n                                }\n                            },\n                            name: function () {\n                                // The name of the first list in the case of single list or generic 'Product Lists' otherwise\n                                return utils.isSingleList() ? product_lists.at(0).get('name') : _('Wishlist').translate();\n                            },\n                            url: function () {\n                                // Returns a link to the list in the case of single list and no link otherwise.\n                                var is_single_list = utils.isSingleList();\n                                if (is_single_list) {\n                                    var the_single_list = product_lists.at(0);\n                                    return 'wishlist/' + (the_single_list.get('internalid') ? the_single_list.get('internalid') : 'tmpl_' + the_single_list.get('templateId'));\n                                } else {\n                                    return '';\n                                }\n                            }    // Index of the menu item for menu order\n,\n                            index: 2    // Sub-menu items\n,\n                            children: function () {\n                                // If it's single list, there is no sub-menu\n                                if (utils.isSingleList()) {\n                                    return [];\n                                }\n                                // The first item (if not single list) has to be a link to the landing page\n                                var items = [{\n                                        id: 'productlist_all',\n                                        name: _('All my lists').translate(),\n                                        url: 'wishlist/?',\n                                        index: 1\n                                    }];\n                                // Then add all the lists\n                                product_lists.each(function (productlist) {\n                                    items.push({\n                                        id: 'productlist_' + (productlist.get('internalid') || 'tmpl_' + productlist.get('templateId')),\n                                        url: 'wishlist/' + (productlist.get('internalid') || 'tmpl_' + productlist.get('templateId')),\n                                        name: productlist.get('name') + ' (' + productlist.get('items').length + ')',\n                                        index: 2\n                                    });\n                                });\n                                return items;\n                            }\n                        };\n                    return actual_object;\n                });\n                menu_tree.updateMenuItemsUI();\n                if (application.ProductListModule.Utils.isSingleList()) {\n                    // Update header profile link for single product list...\n                    var the_single_list = application.ProductListModule.Utils.getProductLists().at(0), product_list_menu_item = layout.$('.header-profile-single-productlist');\n                    if (the_single_list && product_list_menu_item) {\n                        var product_list_hashtag = '#wishlist/' + (the_single_list.get('internalid') ? the_single_list.get('internalid') : 'tmpl_' + the_single_list.get('templateId'));\n                        product_list_menu_item.text(the_single_list.get('name'));\n                        product_list_menu_item.attr('data-hashtag', product_list_hashtag);\n                    }\n                }\n            }    // @method profileModelPromiseDone method to be executed once the user profile has loaded. We need this to start working with product lists.\n,\n            profileModelPromiseDone: function () {\n                var utils = application.ProductListModule.Utils;\n                // if Product Lists are not enabled, return...\n                if (!utils.isProductListEnabled()) {\n                    return;\n                }\n                var layout = application.getLayout();\n                // rendering product lists\n                utils.renderProductLists();\n                layout.on('afterAppendView', function (view) {\n                    utils.renderProductLists(view);\n                });\n                layout.on('afterAppendToDom', function () {\n                    utils.renderProductLists();\n                });\n                // Put this code block outside afterAppendView to avoid infinite loop!\n                utils.getProductListsPromise().done(utils.productListsPromiseDone);\n                ProductListItemModel.prototype.keyMapping = application.getConfig('itemKeyMapping', {});\n                ProductListItemModel.prototype.itemOptionsConfig = application.getConfig('itemOptions', []);\n            }    // @method getProductLists @return {ProductList.Collection}\n,\n            getProductLists: function () {\n                if (!productListsInstance) {\n                    productListsInstance = new ProductListCollection();\n                    productListsInstance.application = application;\n                }\n                return productListsInstance;\n            }    // @method getProductList obtain a single ProductList with all its item's data @return {ProductList.Model}\n,\n            getProductList: function (id) {\n                var productList = new ProductListModel();\n                productList.set('internalid', id);\n                return productList.fetch();\n            }    // @method getSavedForLaterProductList obtain a single Saved for Later ProductList with all its item's data @return {jQuery.Deferred}\n,\n            getSavedForLaterProductList: function () {\n                var productList = new ProductListModel();\n                productList.set('internalid', 'later');\n                return productList.fetch();\n            },\n            getRequestAQuoteProductList: function () {\n                var productList = new ProductListModel();\n                productList.set('internalid', 'quote');\n                return productList.fetch();\n            }    // @method isProductListEnabled is the Product-List functionality available for this application? @return {Boolean}\n,\n            isProductListEnabled: function () {\n                return SC.ENVIRONMENT.PRODUCTLIST_ENABLED;\n            }    // @method isSingleList are we in the single-list modality ? @return {Boolean}\n,\n            isSingleList: function () {\n                return !application.getConfig('productList.additionEnabled', false) && _.filter(application.getConfig('productList.listTemplates', []), function (pl) {\n                    return !pl.typeName || pl.typeName !== 'later' && pl.typeName !== 'quote';\n                }).length === 1;\n            }    // @method renderProductLists render all product-lists related widgets @param {Backbone.View} view\n,\n            renderProductLists: function (view) {\n                if (!application.ProductListModule.Utils.isProductListEnabled()) {\n                    return;\n                }\n                application.ProductListModule.Utils.renderControl(view);\n            }    // @method internalGetProductId Gets the internal product id for a store item considering it could be a matrix child.\n                 // @param {Item.Model} product\n                 // @return {String}\n,\n            internalGetProductId: function (product) {\n                // If its matrix its expected that only 1 item is selected, not more than one nor 0\n                if (product.getPosibleOptions().length) {\n                    var selected_options = product.getSelectedMatrixChilds();\n                    if (selected_options.length === 1) {\n                        return selected_options[0].get('internalid') + '';\n                    }\n                }\n                return product.get('_id') + '';\n            }    // @property {control:String} placeholder this application will render some of its views in existing DOM elements (placeholders)\n,\n            placeholder: { control: '[data-type=\"product-lists-control\"]' }    // @method renderControl renders the control used in shopping pdp and quickview @param {Backbone.View} view\n,\n            renderControl: function (view_) {\n                var utils = application.ProductListModule.Utils;\n                jQuery(this.placeholder.control).each(function () {\n                    var view = view_ || application.getLayout().currentView, is_single_list_mode = utils.isSingleList(), $container = jQuery(this), product_lists_promise = utils.getProductListsPromise();\n                    product_lists_promise.done(function () {\n                        // this control needs a reference to the StoreItem model !\n                        if (view && view.model && view.model.getPosibleOptions) {\n                            var control = null;\n                            if (is_single_list_mode) {\n                                control = new ProductListControlSingleView({\n                                    collection: utils.getProductLists(),\n                                    product: view.model,\n                                    application: application\n                                });\n                            } else {\n                                view.countedClicks = {};\n                                control = new ProductListControlView({\n                                    collection: utils.getProductLists(),\n                                    product: view.model,\n                                    application: application,\n                                    isDisabledWishlistButton: !!jQuery(utils.placeholder.control).data('disabledbutton'),\n                                    countedClicks: view.countedClicks\n                                });\n                            }\n                            $container.empty().append(control.$el);\n                            control.render();\n                        }\n                    });\n                    if (product_lists_promise.state() === 'pending') {\n                        $container.empty().append('<button class=\"product-list-control-button-wishlist\">' + (is_single_list_mode ? _('Loading List...').translate() : _('Loading Lists...').translate()) + '</button>');\n                    }\n                });\n            }\n        };\n    };\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module Header\ndefine('Header.Menu.MyAccount.View', [\n    'SC.Configuration',\n    'header_menu_myaccount.tpl',\n    'Backbone',\n    'underscore',\n    'jQuery',\n    'ProductList.Utils'\n], function (Configuration, header_menu_myaccount_tpl, Backbone, _, jQuery, ProductListUtils) {\n    'use strict';\n    // @class Header.Profile.View @extends Backbone.View\n    return Backbone.View.extend({\n        template: header_menu_myaccount_tpl,\n        initialize: function () {\n            this.productListModule = ProductListUtils(this.options.application);\n            this.isProductListEnabled = this.productListModule.isProductListEnabled();\n            if (this.isProductListEnabled) {\n                this.productListsPromise = this.productListModule.getProductListsPromise();\n                this.product_list_collection = this.productListModule.getProductLists();\n                var self = this;\n                this.debounced_render = _.debounce(_.bind(this.render, this), 250);\n                this.productListsPromise.done(function () {\n                    _.each(self.product_list_collection.models, function (list) {\n                        list.get('items').on('add remove', function () {\n                            self.debounced_render();\n                        }, this);\n                    }, this);\n                    self.debounced_render();\n                });\n                this.product_list_collection.on('add remove change:name', this.debounced_render);\n            } else {\n                this.productListsPromise = jQuery.Deferred();\n            }\n        },\n        render: function () {\n            this._render();\n            if (this.$('.header-menu-myaccount-level3-orders').children().length === 1) {\n                //All children menu of the order section have been removed (lack of permissions) and only the back options is present\n                this.$('.header-menu-myaccount-level2-orders').remove();\n            }\n        },\n        destroy: function () {\n            if (this.product_list_collection) {\n                this.product_list_collection.off('add remove', this.debounced_render);\n            }\n            this._destroy();\n        }    // @method getContext @return {Header.Profile.View.Context}\n,\n        getContext: function () {\n            if (this.product_list_collection) {\n                this.product_list_collection.each(function (product_list) {\n                    var url = 'wishlist/' + (product_list.get('internalid') || 'tmpl_' + product_list.get('templateId'));\n                    product_list.set('url', url, { silent: true });\n                });\n            }\n            var isSCISIntegrationEnabled = Configuration.get('siteSettings.isSCISIntegrationEnabled', false);\n            // @class Header.Profile.View.Context\n            return {\n                // @property {Boolean} isProductListsEnabled\n                isProductListsEnabled: !!this.isProductListEnabled,\n                isSingleList: !!this.productListModule.isSingleList()    // @property {Boolean} isCaseModuleEnabled\n,\n                isCaseModuleEnabled: SC && SC.ENVIRONMENT && SC.ENVIRONMENT.casesManagementEnabled,\n                productListsReady: this.productListsPromise.state() === 'resolved'    // @property {ProductList.Collection|Array} productLists\n,\n                productLists: this.product_list_collection || []    // @property {Boolean} purchasesPermissions\n,\n                purchasesPermissions: isSCISIntegrationEnabled ? 'transactions.tranFind.1,transactions.tranPurchases.1' : 'transactions.tranFind.1,transactions.tranSalesOrd.1'    // @property {Boolean} returnsPermissions\n,\n                returnsPermissions: isSCISIntegrationEnabled ? 'transactions.tranFind.1,transactions.tranPurchasesReturns.1' : 'transactions.tranFind.1,transactions.tranRtnAuth.1'\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module Header\ndefine('Header.Profile.View', [\n    'Profile.Model',\n    'SC.Configuration',\n    'Header.Menu.MyAccount.View',\n    'header_profile.tpl',\n    'Backbone',\n    'Backbone.CompositeView',\n    'underscore'\n], function (ProfileModel, Configuration, HeaderMenuMyAccountView, header_profile_tpl, Backbone, BackboneCompositeView, _) {\n    'use strict';\n    // @class Header.Profile.View\n    return Backbone.View.extend({\n        template: header_profile_tpl,\n        initialize: function () {\n            var self = this;\n            BackboneCompositeView.add(this);\n            ProfileModel.getPromise().done(function () {\n                self.render();\n            });\n            this.on('afterViewRender', function () {\n                _.ellipsis('.header-profile-loading-indicator');\n            });\n        },\n        childViews: {\n            'Header.Menu.MyAccount': function () {\n                return new HeaderMenuMyAccountView(this.options);\n            }\n        }    // @method getContext @return {Header.Profile.View.Context}\n,\n        getContext: function () {\n            var profile = ProfileModel.getInstance(), is_loading = !_.getPathFromObject(Configuration, 'performance.waitForUserProfile', true) && ProfileModel.getPromise().state() !== 'resolved', is_logged_in = (profile.get('isLoggedIn') === 'T' || profile.get('isRecognized') === 'T') && profile.get('isGuest') === 'F';\n            // @class Header.Profile.View.Context\n            return {\n                // @property {Boolean} showExtendedMenu\n                showExtendedMenu: !is_loading && is_logged_in    // @property {Boolean} showLoginMenu\n,\n                showLoginMenu: !is_loading && !is_logged_in    // @property {Boolean} showLoadingMenu\n,\n                showLoadingMenu: is_loading    // @property {Boolean} showMyAccountMenu\n,\n                showMyAccountMenu: !!this.options.showMyAccountMenu,\n                displayName: profile.get('firstname') || profile.get('companyname')    // @property {Boolean} showLogin\n,\n                showLogin: Configuration.getRegistrationType() !== 'disabled'    // @property {Boolean} showRegister\n,\n                showRegister: Configuration.getRegistrationType() === 'optional' || Configuration.getRegistrationType() === 'required'\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module GlobalViews\ndefine('GlobalViews.HostSelector.View', [\n    'SC.Configuration',\n    'global_views_host_selector.tpl',\n    'Backbone',\n    'Utils',\n    'underscore',\n    'jQuery'\n], function (Configuration, global_views_host_selector_tpl, Backbone, Utils, _, jQuery) {\n    'use strict';\n    // @class GlobalViews.HostSelector.View @extends Backbone.View\n    return Backbone.View.extend({\n        template: global_views_host_selector_tpl,\n        events: {\n            'change select[data-toggle=\"host-selector\"]': 'selectHost',\n            'click select[data-toggle=\"host-selector\"]': 'selectHostClick'\n        }    // @method selectHostClick @param {HTMLEvent} e\n,\n        selectHostClick: function (e) {\n            e.stopPropagation();\n        }    // @method selectHost @param {HTMLEvent} e\n,\n        selectHost: function (e) {\n            if (Configuration.currentTouchpoint === 'home') {\n                this.setHost(e);\n            } else {\n                this.setLang(e);\n            }\n        }    // @method setHref @param {String} url\n,\n        setHref: function (url) {\n            window.location.href = Utils.getAbsoluteUrl('redirections.ssp?location=' + location.protocol + '//' + url);\n        }    // @method setSearch @param {String} search\n,\n        setSearch: function (search) {\n            window.location.search = search;\n        }    // @method getCurrentPath @returns {String}\n,\n        getCurrentPath: function () {\n            return location.pathname;\n        }    // @method setHost @param {HTMLEvent} e\n,\n        setHost: function (e) {\n            var host = jQuery(e.target).val(), url;\n            if (Backbone.history._hasPushState) {\n                // Seo Engine is on, send him to the root\n                url = host;\n            } else {\n                // send it to the current path, it's probably a test site\n                url = host + this.getCurrentPath();\n            }\n            // redirects to url\n            this.setHref(url);\n        }    // @method setLang @param {HTMLEvent} e\n,\n        setLang: function (e) {\n            var selected_host = jQuery(e.target).val(), available_hosts = SC.ENVIRONMENT.availableHosts, selected_language;\n            for (var i = 0; i < available_hosts.length; i++) {\n                var host = available_hosts[i], lang = _(host.languages).findWhere({ host: selected_host });\n                if (lang && lang.locale) {\n                    selected_language = lang;\n                    break;\n                }\n            }\n            // use the param **\"lang\"** to pass this to the ssp environment\n            if (selected_language && selected_language.locale) {\n                var current_search = Utils.parseUrlOptions(window.location.search);\n                current_search.lang = selected_language.locale;\n                var search = _.reduce(current_search, function (memo, val, name) {\n                    return val ? memo + name + '=' + val + '&' : memo;\n                }, '?');\n                this.setSearch(search);\n                return search;\n            }\n        }    // @method getContext @return GlobalViews.HostSelector.View.Context\n,\n        getContext: function () {\n            var is_home_touchpoint = Configuration.currentTouchpoint === 'home';\n            var use_parameter = !is_home_touchpoint, current_host = is_home_touchpoint ? SC.ENVIRONMENT.currentHostString : SC.ENVIRONMENT.currentLanguage.locale, available_hosts = _.map(SC.ENVIRONMENT.availableHosts, function (host) {\n                    // @class GlobalViews.HostSelector.View.Context.Host\n                    return {\n                        // @property {Boolean} hasLanguages\n                        hasLanguages: host.languages && host.languages.length,\n                        title: host.title,\n                        languages: _.map(host.languages, function (language) {\n                            //@class GlobalViews.HostSelector.View.Context.Host.Language\n                            return {\n                                // @property {String} host\n                                host: language.host,\n                                displayName: language.title || language.name,\n                                isSelected: !!(use_parameter && language.locale === current_host || language.host === current_host)\n                            };\n                        })\n                    };\n                });\n            // @class GlobalViews.HostSelector.View.Context\n            return {\n                // @property {Boolean} showHosts\n                showHosts: !!(available_hosts && available_hosts.length > 1)    // @property {Array<GlobalViews.HostSelector.View.Context.Host>} availableHosts\n,\n                availableHosts: available_hosts    // @property {String} currentHost\n,\n                currentHost: current_host    // @param {Boolean} useParameter\n,\n                useParameter: use_parameter\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module GlobalViews\ndefine('GlobalViews.CurrencySelector.View', [\n    'SC.Configuration',\n    'Utils',\n    'Session',\n    'global_views_currency_selector.tpl',\n    'Backbone',\n    'underscore'\n], function (Configuration, Utils, Session, global_views_currency_selector_tpl, Backbone, _) {\n    'use strict';\n    // @class GlobalViews.CurrencySelector.View @extends Backbone.View\n    return Backbone.View.extend({\n        template: global_views_currency_selector_tpl,\n        events: {\n            'change select[data-toggle=\"currency-selector\"]': 'setCurrency',\n            'click select[data-toggle=\"currency-selector\"]': 'currencySelectorClick'\n        }    // @method currencySelectorClick @param {HTMLEvent} e\n,\n        currencySelectorClick: function (e) {\n            e.stopPropagation();\n        }    // @method setCurrency @param {HTMLEvent} e\n,\n        setCurrency: function (e) {\n            var currency_code = this.$(e.target).val(), selected_currency = _.find(SC.ENVIRONMENT.availableCurrencies, function (currency) {\n                    return currency.code === currency_code;\n                });\n            window.location.href = Utils.addParamsToUrl(Session.get('touchpoints.' + Configuration.get('currentTouchpoint')), { cur: selected_currency.code });\n        }    // @method getContext\n             // @return {GlobalViews.CurrencySelector.View.Context}\n,\n        getContext: function () {\n            var available_currencies = _.map(SC.ENVIRONMENT.availableCurrencies, function (currency) {\n                // @class GlobalViews.CurrencySelector.View.Context.Currency\n                return {\n                    // @property {String} code\n                    code: currency.code,\n                    internalId: currency.internalid,\n                    isDefault: currency.isdefault,\n                    symbol: currency.symbol,\n                    symbolPlacement: currency.symbolplacement,\n                    displayName: currency.title || currency.name,\n                    isSelected: SC.ENVIRONMENT.currentCurrency.code === currency.code\n                };\n            });\n            // @class GlobalViews.CurrencySelector.View.Context\n            return {\n                // @property {Boolean} showCurrencySelector\n                showCurrencySelector: !!(SC.ENVIRONMENT.availableCurrencies && SC.ENVIRONMENT.availableCurrencies.length > 1)    // @property {Array<GlobalViews.CurrencySelector.View.Context.Currency>} availableCurrencies\n,\n                availableCurrencies: available_currencies || []    // @property {String} currentCurrencyCode\n,\n                currentCurrencyCode: SC.ENVIRONMENT.currentCurrency.code,\n                currentCurrencySymbol: SC.getSessionInfo('currency').symbol\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\ndefine('jQuery.sidebarMenu', ['jQuery'], function (jQuery) {\n    'use strict';\n    function Menu(el) {\n        var wrapper = el, last_opened_menu = wrapper, root_ul = wrapper.find('.header-sidebar-menu:first'), animating = false, has_animation_support = detectAnimationSupport(), class_names = {\n                menuOpened: 'header-sidebar-menu-opened',\n                menuPath: 'header-sidebar-menu-path',\n                menuTransition: 'header-sidebar-menu-transition',\n                animateIn: 'header-sidebar-menu-flyer-in',\n                animateOut: 'header-sidebar-menu-flyer-out',\n                flyer: 'header-sidebar-menu-flyer'\n            }, height_stack = [];\n        //initializing menu\n        last_opened_menu.addClass(class_names.menuPath);\n        last_opened_menu.addClass(class_names.menuOpened);\n        jQuery(root_ul).on('click', '[data-action=\"push-menu\"]', function (e) {\n            e.preventDefault();\n            e.stopPropagation();\n            if (animating === true) {\n                return;\n            }\n            animating = true;\n            var anchor = jQuery(this), parent_li = anchor.closest('li'), pushing_menu = anchor.next();\n            animate(pushing_menu, class_names.animateIn, function () {\n                //change the last opened menu.\n                last_opened_menu.removeClass(class_names.menuOpened);\n                last_opened_menu = parent_li;\n                //add current opened subview\n                parent_li.addClass(class_names.menuPath).addClass(class_names.menuOpened);\n            });\n        });\n        jQuery(root_ul).on('click', '[data-action=\"pop-menu\"]', function (e) {\n            e.preventDefault();\n            e.stopPropagation();\n            if (animating === true) {\n                return;\n            }\n            animating = true;\n            var anchor = jQuery(this)    //anchor is the back button\n, anchor_menu = anchor.closest('ul'), opened_li = anchor.closest('.' + class_names.menuOpened);\n            opened_li.removeClass(class_names.menuPath).removeClass(class_names.menuOpened);\n            last_opened_menu = opened_li.closest('.' + class_names.menuPath);\n            last_opened_menu.addClass(class_names.menuOpened);\n            animate(anchor_menu, class_names.animateOut);\n        });\n        var flyer_className = '.' + class_names.flyer;\n        jQuery(wrapper).on('animationend MSAnimationEnd oAnimationEnd webkitAnimationEnd', flyer_className, function () {\n            var cb = jQuery(this).data('callback');\n            if (cb) {\n                cb();\n            }\n            jQuery(this).remove();\n            animating = false;\n            root_ul.addClass(class_names.menuTransition);    //fix ios transition glitch\n        });\n        function animate(sub_menu, animation_class, cb) {\n            var flyer_menu = sub_menu.clone(false);\n            flyer_menu.removeClass().addClass(class_names.flyer).insertAfter(root_ul).addClass(animation_class);\n            if (animation_class === class_names.animateIn) {\n                height_stack.push(root_ul.height());\n                root_ul.css('height', flyer_menu.height());\n            } else {\n                root_ul.css('height', height_stack.pop());\n            }\n            flyer_menu.data('callback', cb);\n            if (!has_animation_support) {\n                if (cb) {\n                    cb();\n                }\n                flyer_menu.remove();\n                animating = false;\n                root_ul.addClass(class_names.menuTransition);    //fix ios transition glitch\n            }\n        }\n    }\n    function detectAnimationSupport() {\n        var domPrefixes = 'Webkit Moz O ms Khtml'.split(' '), elm = document.createElement('div');\n        if (elm.style.animationName !== undefined) {\n            return true;\n        }\n        for (var i = 0; i < domPrefixes.length; i++) {\n            if (elm.style[domPrefixes[i] + 'AnimationName'] !== undefined) {\n                return true;\n            }\n        }\n        return false;\n    }\n    jQuery.fn.sidebarMenu = function () {\n        return this.each(function () {\n            Menu(jQuery(this));\n        });\n    };\n    return jQuery.fn.sidebarMenu;\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module Header\ndefine('Header.Menu.View', [\n    'Profile.Model',\n    'SC.Configuration',\n    'Header.Profile.View',\n    'Header.Menu.MyAccount.View',\n    'GlobalViews.HostSelector.View',\n    'GlobalViews.CurrencySelector.View',\n    'header_menu.tpl',\n    'Backbone',\n    'Backbone.CompositeView',\n    'underscore',\n    'jQuery',\n    'jQuery.sidebarMenu'\n], function (ProfileModel, Configuration, HeaderProfileView, HeaderMenuMyAccountView, GlobalViewsHostSelectorView, GlobalViewsCurrencySelectorView, header_menu, Backbone, BackboneCompositeView, _, jQuery) {\n    'use strict';\n    //@class Header.Menu.View @extends Backbone.View\n    return Backbone.View.extend({\n        template: header_menu,\n        events: {\n            'mouseenter [data-toggle=\"categories-menu\"]': 'menuOpen',\n            'mouseleave [data-toggle=\"categories-menu\"]': 'menuClose',\n            'click [data-toggle=\"categories-menu\"]': 'menuClose'\n        },\n        menuOpen: function (e) {\n            jQuery(e.currentTarget).addClass('open');\n        },\n        menuClose: function (e) {\n            jQuery(e.currentTarget).removeClass('open');\n        },\n        initialize: function () {\n            var self = this;\n            BackboneCompositeView.add(this);\n            this.options.application.on('Configuration.navigationData', this.render, this);\n            ProfileModel.getPromise().done(function () {\n                self.render();\n            });\n        },\n        childViews: {\n            'Header.Profile': function () {\n                return new HeaderProfileView({\n                    showMyAccountMenu: false,\n                    application: this.options.application\n                });\n            },\n            'Header.Menu.MyAccount': function () {\n                return new HeaderMenuMyAccountView(this.options);\n            },\n            'Global.HostSelector': function () {\n                return new GlobalViewsHostSelectorView();\n            },\n            'Global.CurrencySelector': function () {\n                return new GlobalViewsCurrencySelectorView();\n            }\n        },\n        render: function () {\n            Backbone.View.prototype.render.apply(this, arguments);\n            this.$('[data-type=\"header-sidebar-menu\"]').sidebarMenu();\n        }    // @method getContext\n             // @return {Header.Sidebar.View.Context}\n,\n        getContext: function () {\n            var profile = ProfileModel.getInstance(), is_loading = !Configuration.get('performance.waitForUserProfile', true) && ProfileModel.getPromise().state() !== 'resolved', is_loged_in = profile.get('isLoggedIn') === 'T' && profile.get('isGuest') === 'F', environment = SC.ENVIRONMENT, show_languages = environment.availableHosts && environment.availableHosts.length > 1, show_currencies = environment.availableCurrencies && environment.availableCurrencies.length > 1 && !Configuration.get('header.notShowCurrencySelector');\n            // @class Header.Sidebar.View.Context\n            return {\n                // @property {Array<NavigationData>} navigationItems\n                categories: Configuration.navigationData || []    // @property {Boolean} showExtendedMenu\n,\n                showExtendedMenu: !is_loading && is_loged_in    // @property {Boolean} showLanguages\n,\n                showLanguages: show_languages    // @property {Boolean} showCurrencies\n,\n                showCurrencies: show_currencies\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module ItemsSearcher\ndefine('ItemsSearcher.Utils', [\n    'SC.Configuration',\n    'underscore'\n], function (Configuration, _) {\n    'use strict';\n    // @class ItemsSearcher.Utils\n    return {\n        // @method formatKeywords format a search query string according to configuration.js (searchPrefs)\n        // @param {String} keywords @return {String} the formatted keywords\n        // @static\n        // @return {String}\n        formatKeywords: function (keywords) {\n            var keywordFormatter = _.getPathFromObject(Configuration, 'searchPrefs.keywordsFormatter');\n            if (keywordFormatter && _.isFunction(keywordFormatter)) {\n                keywords = keywordFormatter(keywords);\n                var maxLength = _.getPathFromObject(Configuration, 'searchPrefs.maxLength', 99999);\n                if (keywords.length > maxLength) {\n                    keywords = keywords.substring(0, maxLength);\n                }\n            }\n            return keywords;\n        }\n    };\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module BackboneExtras \n// @class Backbone.CachedCollection \n// It's just an extension of the original Backbone.Collection but it uses the Backbone.cachedSync \n// @extends Backbone.Collection\ndefine('Backbone.CachedCollection', [\n    'Backbone.CachedSync',\n    'Backbone'\n], function (BackboneCachedSync, Backbone) {\n    'use strict';\n    Backbone.CachedCollection = Backbone.Collection.extend({\n        sync: BackboneCachedSync.cachedSync,\n        addToCache: BackboneCachedSync.addToCache,\n        isCached: BackboneCachedSync.isCached\n    });\n    return Backbone.CachedCollection;\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module Item\ndefine('Item.Collection', [\n    'Backbone.CachedCollection',\n    'Item.Model',\n    'Session',\n    'Profile.Model',\n    'underscore',\n    'Utils'\n], function (BackboneCachedCollection, ItemModel, Session, ProfileModel, _) {\n    'use strict';\n    //@class Item.Collection @extends Backbone.BackboneCachedCollection\n    return BackboneCachedCollection.extend({\n        url: function () {\n            var profile = ProfileModel.getInstance(), url = _.addParamsToUrl(profile.getSearchApiUrl(), _.extend({}, this.searchApiMasterOptions, Session.getSearchApiParams()), profile.isAvoidingDoubleRedirect());\n            return url;\n        },\n        model: ItemModel    // http://backbonejs.org/#Model-parse\n,\n        parse: function (response) {\n            // NOTE: Compact is used to filter null values from response\n            return _.compact(response.items) || null;\n        }\n    });\n});","/*!\n * typeahead.js 0.10.5\n * https://github.com/twitter/typeahead.js\n * Copyright 2013-2014 Twitter, Inc. and other contributors; Licensed MIT\n */\ndefine('typeahead', ['jQuery'], function () {\n    (function ($) {\n        var _ = function () {\n            'use strict';\n            return {\n                isMsie: function () {\n                    return /(msie|trident)/i.test(navigator.userAgent) ? navigator.userAgent.match(/(msie |rv:)(\\d+(.\\d+)?)/i)[2] : false;\n                },\n                isBlankString: function (str) {\n                    return !str || /^\\s*$/.test(str);\n                },\n                escapeRegExChars: function (str) {\n                    return str.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, '\\\\$&');\n                },\n                isString: function (obj) {\n                    return typeof obj === 'string';\n                },\n                isNumber: function (obj) {\n                    return typeof obj === 'number';\n                },\n                isArray: $.isArray,\n                isFunction: $.isFunction,\n                isObject: $.isPlainObject,\n                isUndefined: function (obj) {\n                    return typeof obj === 'undefined';\n                },\n                toStr: function toStr(s) {\n                    return _.isUndefined(s) || s === null ? '' : s + '';\n                },\n                bind: $.proxy,\n                each: function (collection, cb) {\n                    $.each(collection, reverseArgs);\n                    function reverseArgs(index, value) {\n                        return cb(value, index);\n                    }\n                },\n                map: $.map,\n                filter: $.grep,\n                every: function (obj, test) {\n                    var result = true;\n                    if (!obj) {\n                        return result;\n                    }\n                    $.each(obj, function (key, val) {\n                        if (!(result = test.call(null, val, key, obj))) {\n                            return false;\n                        }\n                    });\n                    return !!result;\n                },\n                some: function (obj, test) {\n                    var result = false;\n                    if (!obj) {\n                        return result;\n                    }\n                    $.each(obj, function (key, val) {\n                        if (result = test.call(null, val, key, obj)) {\n                            return false;\n                        }\n                    });\n                    return !!result;\n                },\n                mixin: $.extend,\n                getUniqueId: function () {\n                    var counter = 0;\n                    return function () {\n                        return counter++;\n                    };\n                }(),\n                templatify: function templatify(obj) {\n                    return $.isFunction(obj) ? obj : template;\n                    function template() {\n                        return String(obj);\n                    }\n                },\n                defer: function (fn) {\n                    setTimeout(fn, 0);\n                },\n                debounce: function (func, wait, immediate) {\n                    var timeout, result;\n                    return function () {\n                        var context = this, args = arguments, later, callNow;\n                        later = function () {\n                            timeout = null;\n                            if (!immediate) {\n                                result = func.apply(context, args);\n                            }\n                        };\n                        callNow = immediate && !timeout;\n                        clearTimeout(timeout);\n                        timeout = setTimeout(later, wait);\n                        if (callNow) {\n                            result = func.apply(context, args);\n                        }\n                        return result;\n                    };\n                },\n                throttle: function (func, wait) {\n                    var context, args, timeout, result, previous, later;\n                    previous = 0;\n                    later = function () {\n                        previous = new Date();\n                        timeout = null;\n                        result = func.apply(context, args);\n                    };\n                    return function () {\n                        var now = new Date(), remaining = wait - (now - previous);\n                        context = this;\n                        args = arguments;\n                        if (remaining <= 0) {\n                            clearTimeout(timeout);\n                            timeout = null;\n                            previous = now;\n                            result = func.apply(context, args);\n                        } else if (!timeout) {\n                            timeout = setTimeout(later, remaining);\n                        }\n                        return result;\n                    };\n                },\n                noop: function () {\n                }\n            };\n        }();\n        var VERSION = '0.10.5';\n        var tokenizers = function () {\n            'use strict';\n            return {\n                nonword: nonword,\n                whitespace: whitespace,\n                obj: {\n                    nonword: getObjTokenizer(nonword),\n                    whitespace: getObjTokenizer(whitespace)\n                }\n            };\n            function whitespace(str) {\n                str = _.toStr(str);\n                return str ? str.split(/\\s+/) : [];\n            }\n            function nonword(str) {\n                str = _.toStr(str);\n                return str ? str.split(/\\W+/) : [];\n            }\n            function getObjTokenizer(tokenizer) {\n                return function setKey() {\n                    var args = [].slice.call(arguments, 0);\n                    return function tokenize(o) {\n                        var tokens = [];\n                        _.each(args, function (k) {\n                            tokens = tokens.concat(tokenizer(_.toStr(o[k])));\n                        });\n                        return tokens;\n                    };\n                };\n            }\n        }();\n        var LruCache = function () {\n            'use strict';\n            function LruCache(maxSize) {\n                this.maxSize = _.isNumber(maxSize) ? maxSize : 100;\n                this.reset();\n                if (this.maxSize <= 0) {\n                    this.set = this.get = $.noop;\n                }\n            }\n            _.mixin(LruCache.prototype, {\n                set: function set(key, val) {\n                    var tailItem = this.list.tail, node;\n                    if (this.size >= this.maxSize) {\n                        this.list.remove(tailItem);\n                        delete this.hash[tailItem.key];\n                    }\n                    if (node = this.hash[key]) {\n                        node.val = val;\n                        this.list.moveToFront(node);\n                    } else {\n                        node = new Node(key, val);\n                        this.list.add(node);\n                        this.hash[key] = node;\n                        this.size++;\n                    }\n                },\n                get: function get(key) {\n                    var node = this.hash[key];\n                    if (node) {\n                        this.list.moveToFront(node);\n                        return node.val;\n                    }\n                },\n                reset: function reset() {\n                    this.size = 0;\n                    this.hash = {};\n                    this.list = new List();\n                }\n            });\n            function List() {\n                this.head = this.tail = null;\n            }\n            _.mixin(List.prototype, {\n                add: function add(node) {\n                    if (this.head) {\n                        node.next = this.head;\n                        this.head.prev = node;\n                    }\n                    this.head = node;\n                    this.tail = this.tail || node;\n                },\n                remove: function remove(node) {\n                    node.prev ? node.prev.next = node.next : this.head = node.next;\n                    node.next ? node.next.prev = node.prev : this.tail = node.prev;\n                },\n                moveToFront: function (node) {\n                    this.remove(node);\n                    this.add(node);\n                }\n            });\n            function Node(key, val) {\n                this.key = key;\n                this.val = val;\n                this.prev = this.next = null;\n            }\n            return LruCache;\n        }();\n        var PersistentStorage = function () {\n            'use strict';\n            var ls, methods;\n            try {\n                ls = window.localStorage;\n                ls.setItem('~~~', '!');\n                ls.removeItem('~~~');\n            } catch (err) {\n                ls = null;\n            }\n            function PersistentStorage(namespace) {\n                this.prefix = [\n                    '__',\n                    namespace,\n                    '__'\n                ].join('');\n                this.ttlKey = '__ttl__';\n                this.keyMatcher = new RegExp('^' + _.escapeRegExChars(this.prefix));\n            }\n            if (ls && window.JSON) {\n                methods = {\n                    _prefix: function (key) {\n                        return this.prefix + key;\n                    },\n                    _ttlKey: function (key) {\n                        return this._prefix(key) + this.ttlKey;\n                    },\n                    get: function (key) {\n                        if (this.isExpired(key)) {\n                            this.remove(key);\n                        }\n                        return decode(ls.getItem(this._prefix(key)));\n                    },\n                    set: function (key, val, ttl) {\n                        if (_.isNumber(ttl)) {\n                            ls.setItem(this._ttlKey(key), encode(now() + ttl));\n                        } else {\n                            ls.removeItem(this._ttlKey(key));\n                        }\n                        return ls.setItem(this._prefix(key), encode(val));\n                    },\n                    remove: function (key) {\n                        ls.removeItem(this._ttlKey(key));\n                        ls.removeItem(this._prefix(key));\n                        return this;\n                    },\n                    clear: function () {\n                        var i, key, keys = [], len = ls.length;\n                        for (i = 0; i < len; i++) {\n                            if ((key = ls.key(i)).match(this.keyMatcher)) {\n                                keys.push(key.replace(this.keyMatcher, ''));\n                            }\n                        }\n                        for (i = keys.length; i--;) {\n                            this.remove(keys[i]);\n                        }\n                        return this;\n                    },\n                    isExpired: function (key) {\n                        var ttl = decode(ls.getItem(this._ttlKey(key)));\n                        return _.isNumber(ttl) && now() > ttl ? true : false;\n                    }\n                };\n            } else {\n                methods = {\n                    get: _.noop,\n                    set: _.noop,\n                    remove: _.noop,\n                    clear: _.noop,\n                    isExpired: _.noop\n                };\n            }\n            _.mixin(PersistentStorage.prototype, methods);\n            return PersistentStorage;\n            function now() {\n                return new Date().getTime();\n            }\n            function encode(val) {\n                return JSON.stringify(_.isUndefined(val) ? null : val);\n            }\n            function decode(val) {\n                return JSON.parse(val);\n            }\n        }();\n        var Transport = function () {\n            'use strict';\n            var pendingRequestsCount = 0, pendingRequests = {}, maxPendingRequests = 6, sharedCache = new LruCache(10);\n            function Transport(o) {\n                o = o || {};\n                this.cancelled = false;\n                this.lastUrl = null;\n                this._send = o.transport ? callbackToDeferred(o.transport) : $.ajax;\n                this._get = o.rateLimiter ? o.rateLimiter(this._get) : this._get;\n                this._cache = o.cache === false ? new LruCache(0) : sharedCache;\n            }\n            Transport.setMaxPendingRequests = function setMaxPendingRequests(num) {\n                maxPendingRequests = num;\n            };\n            Transport.resetCache = function resetCache() {\n                sharedCache.reset();\n            };\n            _.mixin(Transport.prototype, {\n                _get: function (url, o, cb) {\n                    var that = this, jqXhr;\n                    if (this.cancelled || url !== this.lastUrl) {\n                        return;\n                    }\n                    if (jqXhr = pendingRequests[url]) {\n                        jqXhr.done(done).fail(fail);\n                    } else if (pendingRequestsCount < maxPendingRequests) {\n                        pendingRequestsCount++;\n                        pendingRequests[url] = this._send(url, o).done(done).fail(fail).always(always);\n                    } else {\n                        this.onDeckRequestArgs = [].slice.call(arguments, 0);\n                    }\n                    function done(resp) {\n                        cb && cb(null, resp);\n                        that._cache.set(url, resp);\n                    }\n                    function fail() {\n                        cb && cb(true);\n                    }\n                    function always() {\n                        pendingRequestsCount--;\n                        delete pendingRequests[url];\n                        if (that.onDeckRequestArgs) {\n                            that._get.apply(that, that.onDeckRequestArgs);\n                            that.onDeckRequestArgs = null;\n                        }\n                    }\n                },\n                get: function (url, o, cb) {\n                    var resp;\n                    if (_.isFunction(o)) {\n                        cb = o;\n                        o = {};\n                    }\n                    this.cancelled = false;\n                    this.lastUrl = url;\n                    if (resp = this._cache.get(url)) {\n                        _.defer(function () {\n                            cb && cb(null, resp);\n                        });\n                    } else {\n                        this._get(url, o, cb);\n                    }\n                    return !!resp;\n                },\n                cancel: function () {\n                    this.cancelled = true;\n                }\n            });\n            return Transport;\n            function callbackToDeferred(fn) {\n                return function customSendWrapper(url, o) {\n                    var deferred = $.Deferred();\n                    fn(url, o, onSuccess, onError);\n                    return deferred;\n                    function onSuccess(resp) {\n                        _.defer(function () {\n                            deferred.resolve(resp);\n                        });\n                    }\n                    function onError(err) {\n                        _.defer(function () {\n                            deferred.reject(err);\n                        });\n                    }\n                };\n            }\n        }();\n        var SearchIndex = function () {\n            'use strict';\n            function SearchIndex(o) {\n                o = o || {};\n                if (!o.datumTokenizer || !o.queryTokenizer) {\n                    $.error('datumTokenizer and queryTokenizer are both required');\n                }\n                this.datumTokenizer = o.datumTokenizer;\n                this.queryTokenizer = o.queryTokenizer;\n                this.reset();\n            }\n            _.mixin(SearchIndex.prototype, {\n                bootstrap: function bootstrap(o) {\n                    this.datums = o.datums;\n                    this.trie = o.trie;\n                },\n                add: function (data) {\n                    var that = this;\n                    data = _.isArray(data) ? data : [data];\n                    _.each(data, function (datum) {\n                        var id, tokens;\n                        id = that.datums.push(datum) - 1;\n                        tokens = normalizeTokens(that.datumTokenizer(datum));\n                        _.each(tokens, function (token) {\n                            var node, chars, ch;\n                            node = that.trie;\n                            chars = token.split('');\n                            while (ch = chars.shift()) {\n                                node = node.children[ch] || (node.children[ch] = newNode());\n                                node.ids.push(id);\n                            }\n                        });\n                    });\n                },\n                get: function get(query) {\n                    var that = this, tokens, matches;\n                    tokens = normalizeTokens(this.queryTokenizer(query));\n                    _.each(tokens, function (token) {\n                        var node, chars, ch, ids;\n                        if (matches && matches.length === 0) {\n                            return false;\n                        }\n                        node = that.trie;\n                        chars = token.split('');\n                        while (node && (ch = chars.shift())) {\n                            node = node.children[ch];\n                        }\n                        if (node && chars.length === 0) {\n                            ids = node.ids.slice(0);\n                            matches = matches ? getIntersection(matches, ids) : ids;\n                        } else {\n                            matches = [];\n                            return false;\n                        }\n                    });\n                    return matches ? _.map(unique(matches), function (id) {\n                        return that.datums[id];\n                    }) : [];\n                },\n                reset: function reset() {\n                    this.datums = [];\n                    this.trie = newNode();\n                },\n                serialize: function serialize() {\n                    return {\n                        datums: this.datums,\n                        trie: this.trie\n                    };\n                }\n            });\n            return SearchIndex;\n            function normalizeTokens(tokens) {\n                tokens = _.filter(tokens, function (token) {\n                    return !!token;\n                });\n                tokens = _.map(tokens, function (token) {\n                    return token.toLowerCase();\n                });\n                return tokens;\n            }\n            function newNode() {\n                return {\n                    ids: [],\n                    children: {}\n                };\n            }\n            function unique(array) {\n                var seen = {}, uniques = [];\n                for (var i = 0, len = array.length; i < len; i++) {\n                    if (!seen[array[i]]) {\n                        seen[array[i]] = true;\n                        uniques.push(array[i]);\n                    }\n                }\n                return uniques;\n            }\n            function getIntersection(arrayA, arrayB) {\n                var ai = 0, bi = 0, intersection = [];\n                arrayA = arrayA.sort(compare);\n                arrayB = arrayB.sort(compare);\n                var lenArrayA = arrayA.length, lenArrayB = arrayB.length;\n                while (ai < lenArrayA && bi < lenArrayB) {\n                    if (arrayA[ai] < arrayB[bi]) {\n                        ai++;\n                    } else if (arrayA[ai] > arrayB[bi]) {\n                        bi++;\n                    } else {\n                        intersection.push(arrayA[ai]);\n                        ai++;\n                        bi++;\n                    }\n                }\n                return intersection;\n                function compare(a, b) {\n                    return a - b;\n                }\n            }\n        }();\n        var oParser = function () {\n            'use strict';\n            return {\n                local: getLocal,\n                prefetch: getPrefetch,\n                remote: getRemote\n            };\n            function getLocal(o) {\n                return o.local || null;\n            }\n            function getPrefetch(o) {\n                var prefetch, defaults;\n                defaults = {\n                    url: null,\n                    thumbprint: '',\n                    ttl: 24 * 60 * 60 * 1000,\n                    filter: null,\n                    ajax: {}\n                };\n                if (prefetch = o.prefetch || null) {\n                    prefetch = _.isString(prefetch) ? { url: prefetch } : prefetch;\n                    prefetch = _.mixin(defaults, prefetch);\n                    prefetch.thumbprint = VERSION + prefetch.thumbprint;\n                    prefetch.ajax.type = prefetch.ajax.type || 'GET';\n                    prefetch.ajax.dataType = prefetch.ajax.dataType || 'json';\n                    !prefetch.url && $.error('prefetch requires url to be set');\n                }\n                return prefetch;\n            }\n            function getRemote(o) {\n                var remote, defaults;\n                defaults = {\n                    url: null,\n                    cache: true,\n                    wildcard: '%QUERY',\n                    replace: null,\n                    rateLimitBy: 'debounce',\n                    rateLimitWait: 300,\n                    send: null,\n                    filter: null,\n                    ajax: {}\n                };\n                if (remote = o.remote || null) {\n                    remote = _.isString(remote) ? { url: remote } : remote;\n                    remote = _.mixin(defaults, remote);\n                    remote.rateLimiter = /^throttle$/i.test(remote.rateLimitBy) ? byThrottle(remote.rateLimitWait) : byDebounce(remote.rateLimitWait);\n                    remote.ajax.type = remote.ajax.type || 'GET';\n                    remote.ajax.dataType = remote.ajax.dataType || 'json';\n                    delete remote.rateLimitBy;\n                    delete remote.rateLimitWait;\n                    !remote.url && $.error('remote requires url to be set');\n                }\n                return remote;\n                function byDebounce(wait) {\n                    return function (fn) {\n                        return _.debounce(fn, wait);\n                    };\n                }\n                function byThrottle(wait) {\n                    return function (fn) {\n                        return _.throttle(fn, wait);\n                    };\n                }\n            }\n        }();\n        (function (root) {\n            'use strict';\n            var old, keys;\n            old = root.Bloodhound;\n            keys = {\n                data: 'data',\n                protocol: 'protocol',\n                thumbprint: 'thumbprint'\n            };\n            root.Bloodhound = Bloodhound;\n            function Bloodhound(o) {\n                if (!o || !o.local && !o.prefetch && !o.remote) {\n                    $.error('one of local, prefetch, or remote is required');\n                }\n                this.limit = o.limit || 5;\n                this.sorter = getSorter(o.sorter);\n                this.dupDetector = o.dupDetector || ignoreDuplicates;\n                this.local = oParser.local(o);\n                this.prefetch = oParser.prefetch(o);\n                this.remote = oParser.remote(o);\n                this.cacheKey = this.prefetch ? this.prefetch.cacheKey || this.prefetch.url : null;\n                this.index = new SearchIndex({\n                    datumTokenizer: o.datumTokenizer,\n                    queryTokenizer: o.queryTokenizer\n                });\n                this.storage = this.cacheKey ? new PersistentStorage(this.cacheKey) : null;\n            }\n            Bloodhound.noConflict = function noConflict() {\n                root.Bloodhound = old;\n                return Bloodhound;\n            };\n            Bloodhound.tokenizers = tokenizers;\n            _.mixin(Bloodhound.prototype, {\n                _loadPrefetch: function loadPrefetch(o) {\n                    var that = this, serialized, deferred;\n                    if (serialized = this._readFromStorage(o.thumbprint)) {\n                        this.index.bootstrap(serialized);\n                        deferred = $.Deferred().resolve();\n                    } else {\n                        deferred = $.ajax(o.url, o.ajax).done(handlePrefetchResponse);\n                    }\n                    return deferred;\n                    function handlePrefetchResponse(resp) {\n                        that.clear();\n                        that.add(o.filter ? o.filter(resp) : resp);\n                        that._saveToStorage(that.index.serialize(), o.thumbprint, o.ttl);\n                    }\n                },\n                _getFromRemote: function getFromRemote(query, cb) {\n                    var that = this, url, uriEncodedQuery;\n                    if (!this.transport) {\n                        return;\n                    }\n                    query = query || '';\n                    uriEncodedQuery = encodeURIComponent(query);\n                    url = this.remote.replace ? this.remote.replace(this.remote.url, query) : this.remote.url.replace(this.remote.wildcard, uriEncodedQuery);\n                    return this.transport.get(url, this.remote.ajax, handleRemoteResponse);\n                    function handleRemoteResponse(err, resp) {\n                        err ? cb([]) : cb(that.remote.filter ? that.remote.filter(resp) : resp);\n                    }\n                },\n                _cancelLastRemoteRequest: function cancelLastRemoteRequest() {\n                    this.transport && this.transport.cancel();\n                },\n                _saveToStorage: function saveToStorage(data, thumbprint, ttl) {\n                    if (this.storage) {\n                        this.storage.set(keys.data, data, ttl);\n                        this.storage.set(keys.protocol, location.protocol, ttl);\n                        this.storage.set(keys.thumbprint, thumbprint, ttl);\n                    }\n                },\n                _readFromStorage: function readFromStorage(thumbprint) {\n                    var stored = {}, isExpired;\n                    if (this.storage) {\n                        stored.data = this.storage.get(keys.data);\n                        stored.protocol = this.storage.get(keys.protocol);\n                        stored.thumbprint = this.storage.get(keys.thumbprint);\n                    }\n                    isExpired = stored.thumbprint !== thumbprint || stored.protocol !== location.protocol;\n                    return stored.data && !isExpired ? stored.data : null;\n                },\n                _initialize: function initialize() {\n                    var that = this, local = this.local, deferred;\n                    deferred = this.prefetch ? this._loadPrefetch(this.prefetch) : $.Deferred().resolve();\n                    local && deferred.done(addLocalToIndex);\n                    this.transport = this.remote ? new Transport(this.remote) : null;\n                    return this.initPromise = deferred.promise();\n                    function addLocalToIndex() {\n                        that.add(_.isFunction(local) ? local() : local);\n                    }\n                },\n                initialize: function initialize(force) {\n                    return !this.initPromise || force ? this._initialize() : this.initPromise;\n                },\n                add: function add(data) {\n                    this.index.add(data);\n                },\n                get: function get(query, cb) {\n                    var that = this, matches = [], cacheHit = false;\n                    matches = this.index.get(query);\n                    matches = this.sorter(matches).slice(0, this.limit);\n                    matches.length < this.limit ? cacheHit = this._getFromRemote(query, returnRemoteMatches) : this._cancelLastRemoteRequest();\n                    if (!cacheHit) {\n                        (matches.length > 0 || !this.transport) && cb && cb(matches);\n                    }\n                    function returnRemoteMatches(remoteMatches) {\n                        var matchesWithBackfill = matches.slice(0);\n                        _.each(remoteMatches, function (remoteMatch) {\n                            var isDuplicate;\n                            isDuplicate = _.some(matchesWithBackfill, function (match) {\n                                return that.dupDetector(remoteMatch, match);\n                            });\n                            !isDuplicate && matchesWithBackfill.push(remoteMatch);\n                            return matchesWithBackfill.length < that.limit;\n                        });\n                        cb && cb(that.sorter(matchesWithBackfill));\n                    }\n                },\n                clear: function clear() {\n                    this.index.reset();\n                },\n                clearPrefetchCache: function clearPrefetchCache() {\n                    this.storage && this.storage.clear();\n                },\n                clearRemoteCache: function clearRemoteCache() {\n                    this.transport && Transport.resetCache();\n                },\n                ttAdapter: function ttAdapter() {\n                    return _.bind(this.get, this);\n                }\n            });\n            return Bloodhound;\n            function getSorter(sortFn) {\n                return _.isFunction(sortFn) ? sort : noSort;\n                function sort(array) {\n                    return array.sort(sortFn);\n                }\n                function noSort(array) {\n                    return array;\n                }\n            }\n            function ignoreDuplicates() {\n                return false;\n            }\n        }(this));\n        var html = function () {\n            return {\n                wrapper: '<span class=\"twitter-typeahead\"></span>',\n                dropdown: '<span class=\"tt-dropdown-menu\"></span>',\n                dataset: '<div class=\"tt-dataset-%CLASS%\"></div>',\n                suggestions: '<span class=\"tt-suggestions\"></span>',\n                suggestion: '<div class=\"tt-suggestion\"></div>'\n            };\n        }();\n        var css = function () {\n            'use strict';\n            var css = {\n                wrapper: {\n                    position: 'relative',\n                    display: 'inline-block'\n                },\n                hint: {\n                    position: 'absolute',\n                    top: '0',\n                    left: '0',\n                    borderColor: 'transparent',\n                    boxShadow: 'none',\n                    opacity: '1'\n                },\n                input: {\n                    position: 'relative',\n                    verticalAlign: 'top',\n                    backgroundColor: 'transparent'\n                },\n                inputWithNoHint: {\n                    position: 'relative',\n                    verticalAlign: 'top'\n                },\n                dropdown: {\n                    position: 'absolute',\n                    top: '100%',\n                    left: '0',\n                    zIndex: '2000',\n                    display: 'none'\n                },\n                suggestions: { display: 'block' },\n                suggestion: {\n                    whiteSpace: 'nowrap',\n                    cursor: 'pointer'\n                },\n                suggestionChild: { whiteSpace: 'normal' },\n                ltr: {\n                    left: '0',\n                    right: 'auto'\n                },\n                rtl: {\n                    left: 'auto',\n                    right: ' 0'\n                }\n            };\n            if (_.isMsie()) {\n                _.mixin(css.input, { backgroundImage: 'url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)' });\n            }\n            if (_.isMsie() && _.isMsie() <= 7) {\n                _.mixin(css.input, { marginTop: '-1px' });\n            }\n            return css;\n        }();\n        var EventBus = function () {\n            'use strict';\n            var namespace = 'typeahead:';\n            function EventBus(o) {\n                if (!o || !o.el) {\n                    $.error('EventBus initialized without el');\n                }\n                this.$el = $(o.el);\n            }\n            _.mixin(EventBus.prototype, {\n                trigger: function (type) {\n                    var args = [].slice.call(arguments, 1);\n                    this.$el.trigger(namespace + type, args);\n                }\n            });\n            return EventBus;\n        }();\n        var EventEmitter = function () {\n            'use strict';\n            var splitter = /\\s+/, nextTick = getNextTick();\n            return {\n                onSync: onSync,\n                onAsync: onAsync,\n                off: off,\n                trigger: trigger\n            };\n            function on(method, types, cb, context) {\n                var type;\n                if (!cb) {\n                    return this;\n                }\n                types = types.split(splitter);\n                cb = context ? bindContext(cb, context) : cb;\n                this._callbacks = this._callbacks || {};\n                while (type = types.shift()) {\n                    this._callbacks[type] = this._callbacks[type] || {\n                        sync: [],\n                        async: []\n                    };\n                    this._callbacks[type][method].push(cb);\n                }\n                return this;\n            }\n            function onAsync(types, cb, context) {\n                return on.call(this, 'async', types, cb, context);\n            }\n            function onSync(types, cb, context) {\n                return on.call(this, 'sync', types, cb, context);\n            }\n            function off(types) {\n                var type;\n                if (!this._callbacks) {\n                    return this;\n                }\n                types = types.split(splitter);\n                while (type = types.shift()) {\n                    delete this._callbacks[type];\n                }\n                return this;\n            }\n            function trigger(types) {\n                var type, callbacks, args, syncFlush, asyncFlush;\n                if (!this._callbacks) {\n                    return this;\n                }\n                types = types.split(splitter);\n                args = [].slice.call(arguments, 1);\n                while ((type = types.shift()) && (callbacks = this._callbacks[type])) {\n                    syncFlush = getFlush(callbacks.sync, this, [type].concat(args));\n                    asyncFlush = getFlush(callbacks.async, this, [type].concat(args));\n                    syncFlush() && nextTick(asyncFlush);\n                }\n                return this;\n            }\n            function getFlush(callbacks, context, args) {\n                return flush;\n                function flush() {\n                    var cancelled;\n                    for (var i = 0, len = callbacks.length; !cancelled && i < len; i += 1) {\n                        cancelled = callbacks[i].apply(context, args) === false;\n                    }\n                    return !cancelled;\n                }\n            }\n            function getNextTick() {\n                var nextTickFn;\n                if (window.setImmediate) {\n                    nextTickFn = function nextTickSetImmediate(fn) {\n                        setImmediate(function () {\n                            fn();\n                        });\n                    };\n                } else {\n                    nextTickFn = function nextTickSetTimeout(fn) {\n                        setTimeout(function () {\n                            fn();\n                        }, 0);\n                    };\n                }\n                return nextTickFn;\n            }\n            function bindContext(fn, context) {\n                return fn.bind ? fn.bind(context) : function () {\n                    fn.apply(context, [].slice.call(arguments, 0));\n                };\n            }\n        }();\n        var highlight = function (doc) {\n            'use strict';\n            var defaults = {\n                node: null,\n                pattern: null,\n                tagName: 'strong',\n                className: null,\n                wordsOnly: false,\n                caseSensitive: false\n            };\n            return function hightlight(o) {\n                var regex;\n                o = _.mixin({}, defaults, o);\n                if (!o.node || !o.pattern) {\n                    return;\n                }\n                o.pattern = _.isArray(o.pattern) ? o.pattern : [o.pattern];\n                regex = getRegex(o.pattern, o.caseSensitive, o.wordsOnly);\n                traverse(o.node, hightlightTextNode);\n                function hightlightTextNode(textNode) {\n                    var match, patternNode, wrapperNode;\n                    if (match = regex.exec(textNode.data)) {\n                        wrapperNode = doc.createElement(o.tagName);\n                        o.className && (wrapperNode.className = o.className);\n                        patternNode = textNode.splitText(match.index);\n                        patternNode.splitText(match[0].length);\n                        wrapperNode.appendChild(patternNode.cloneNode(true));\n                        textNode.parentNode.replaceChild(wrapperNode, patternNode);\n                    }\n                    return !!match;\n                }\n                function traverse(el, hightlightTextNode) {\n                    var childNode, TEXT_NODE_TYPE = 3;\n                    for (var i = 0; i < el.childNodes.length; i++) {\n                        childNode = el.childNodes[i];\n                        if (childNode.nodeType === TEXT_NODE_TYPE) {\n                            i += hightlightTextNode(childNode) ? 1 : 0;\n                        } else {\n                            traverse(childNode, hightlightTextNode);\n                        }\n                    }\n                }\n            };\n            function getRegex(patterns, caseSensitive, wordsOnly) {\n                var escapedPatterns = [], regexStr;\n                for (var i = 0, len = patterns.length; i < len; i++) {\n                    escapedPatterns.push(_.escapeRegExChars(patterns[i]));\n                }\n                regexStr = wordsOnly ? '\\\\b(' + escapedPatterns.join('|') + ')\\\\b' : '(' + escapedPatterns.join('|') + ')';\n                return caseSensitive ? new RegExp(regexStr) : new RegExp(regexStr, 'i');\n            }\n        }(window.document);\n        var Input = function () {\n            'use strict';\n            var specialKeyCodeMap;\n            specialKeyCodeMap = {\n                9: 'tab',\n                27: 'esc',\n                37: 'left',\n                39: 'right',\n                13: 'enter',\n                38: 'up',\n                40: 'down'\n            };\n            function Input(o) {\n                var that = this, onBlur, onFocus, onKeydown, onInput;\n                o = o || {};\n                if (!o.input) {\n                    $.error('input is missing');\n                }\n                onBlur = _.bind(this._onBlur, this);\n                onFocus = _.bind(this._onFocus, this);\n                onKeydown = _.bind(this._onKeydown, this);\n                onInput = _.bind(this._onInput, this);\n                this.$hint = $(o.hint);\n                this.$input = $(o.input).on('blur.tt', onBlur).on('focus.tt', onFocus).on('keydown.tt', onKeydown);\n                if (this.$hint.length === 0) {\n                    this.setHint = this.getHint = this.clearHint = this.clearHintIfInvalid = _.noop;\n                }\n                if (!_.isMsie()) {\n                    this.$input.on('input.tt', onInput);\n                } else {\n                    this.$input.on('keydown.tt keypress.tt cut.tt paste.tt', function ($e) {\n                        if (specialKeyCodeMap[$e.which || $e.keyCode]) {\n                            return;\n                        }\n                        _.defer(_.bind(that._onInput, that, $e));\n                    });\n                }\n                this.query = this.$input.val();\n                this.$overflowHelper = buildOverflowHelper(this.$input);\n            }\n            Input.normalizeQuery = function (str) {\n                return (str || '').replace(/^\\s*/g, '').replace(/\\s{2,}/g, ' ');\n            };\n            _.mixin(Input.prototype, EventEmitter, {\n                _onBlur: function onBlur() {\n                    this.resetInputValue();\n                    this.trigger('blurred');\n                },\n                _onFocus: function onFocus() {\n                    this.trigger('focused');\n                },\n                _onKeydown: function onKeydown($e) {\n                    var keyName = specialKeyCodeMap[$e.which || $e.keyCode];\n                    this._managePreventDefault(keyName, $e);\n                    if (keyName && this._shouldTrigger(keyName, $e)) {\n                        this.trigger(keyName + 'Keyed', $e);\n                    }\n                },\n                _onInput: function onInput() {\n                    this._checkInputValue();\n                },\n                _managePreventDefault: function managePreventDefault(keyName, $e) {\n                    var preventDefault, hintValue, inputValue;\n                    switch (keyName) {\n                    case 'tab':\n                        hintValue = this.getHint();\n                        inputValue = this.getInputValue();\n                        preventDefault = hintValue && hintValue !== inputValue && !withModifier($e);\n                        break;\n                    case 'up':\n                    case 'down':\n                        preventDefault = !withModifier($e);\n                        break;\n                    default:\n                        preventDefault = false;\n                    }\n                    preventDefault && $e.preventDefault();\n                },\n                _shouldTrigger: function shouldTrigger(keyName, $e) {\n                    var trigger;\n                    switch (keyName) {\n                    case 'tab':\n                        trigger = !withModifier($e);\n                        break;\n                    default:\n                        trigger = true;\n                    }\n                    return trigger;\n                },\n                _checkInputValue: function checkInputValue() {\n                    var inputValue, areEquivalent, hasDifferentWhitespace;\n                    inputValue = this.getInputValue();\n                    areEquivalent = areQueriesEquivalent(inputValue, this.query);\n                    hasDifferentWhitespace = areEquivalent ? this.query.length !== inputValue.length : false;\n                    this.query = inputValue;\n                    if (!areEquivalent) {\n                        this.trigger('queryChanged', this.query);\n                    } else if (hasDifferentWhitespace) {\n                        this.trigger('whitespaceChanged', this.query);\n                    }\n                },\n                focus: function focus() {\n                    this.$input.focus();\n                },\n                blur: function blur() {\n                    this.$input.blur();\n                },\n                getQuery: function getQuery() {\n                    return this.query;\n                },\n                setQuery: function setQuery(query) {\n                    this.query = query;\n                },\n                getInputValue: function getInputValue() {\n                    return this.$input.val();\n                },\n                setInputValue: function setInputValue(value, silent) {\n                    this.$input.val(value);\n                    silent ? this.clearHint() : this._checkInputValue();\n                },\n                resetInputValue: function resetInputValue() {\n                    this.setInputValue(this.query, true);\n                },\n                getHint: function getHint() {\n                    return this.$hint.val();\n                },\n                setHint: function setHint(value) {\n                    this.$hint.val(value);\n                },\n                clearHint: function clearHint() {\n                    this.setHint('');\n                },\n                clearHintIfInvalid: function clearHintIfInvalid() {\n                    var val, hint, valIsPrefixOfHint, isValid;\n                    val = this.getInputValue();\n                    hint = this.getHint();\n                    valIsPrefixOfHint = val !== hint && hint.indexOf(val) === 0;\n                    isValid = val !== '' && valIsPrefixOfHint && !this.hasOverflow();\n                    !isValid && this.clearHint();\n                },\n                getLanguageDirection: function getLanguageDirection() {\n                    return (this.$input.css('direction') || 'ltr').toLowerCase();\n                },\n                hasOverflow: function hasOverflow() {\n                    var constraint = this.$input.width() - 2;\n                    this.$overflowHelper.text(this.getInputValue());\n                    return this.$overflowHelper.width() >= constraint;\n                },\n                isCursorAtEnd: function () {\n                    var valueLength, selectionStart, range;\n                    valueLength = this.$input.val().length;\n                    selectionStart = this.$input[0].selectionStart;\n                    if (_.isNumber(selectionStart)) {\n                        return selectionStart === valueLength;\n                    } else if (document.selection) {\n                        range = document.selection.createRange();\n                        range.moveStart('character', -valueLength);\n                        return valueLength === range.text.length;\n                    }\n                    return true;\n                },\n                destroy: function destroy() {\n                    this.$hint.off('.tt');\n                    this.$input.off('.tt');\n                    this.$hint = this.$input = this.$overflowHelper = null;\n                }\n            });\n            return Input;\n            function buildOverflowHelper($input) {\n                return $('<pre aria-hidden=\"true\"></pre>').css({\n                    position: 'absolute',\n                    visibility: 'hidden',\n                    whiteSpace: 'pre',\n                    fontFamily: $input.css('font-family'),\n                    fontSize: $input.css('font-size'),\n                    fontStyle: $input.css('font-style'),\n                    fontVariant: $input.css('font-variant'),\n                    fontWeight: $input.css('font-weight'),\n                    wordSpacing: $input.css('word-spacing'),\n                    letterSpacing: $input.css('letter-spacing'),\n                    textIndent: $input.css('text-indent'),\n                    textRendering: $input.css('text-rendering'),\n                    textTransform: $input.css('text-transform')\n                }).insertAfter($input);\n            }\n            function areQueriesEquivalent(a, b) {\n                return Input.normalizeQuery(a) === Input.normalizeQuery(b);\n            }\n            function withModifier($e) {\n                return $e.altKey || $e.ctrlKey || $e.metaKey || $e.shiftKey;\n            }\n        }();\n        var Dataset = function () {\n            'use strict';\n            var datasetKey = 'ttDataset', valueKey = 'ttValue', datumKey = 'ttDatum';\n            function Dataset(o) {\n                o = o || {};\n                o.templates = o.templates || {};\n                if (!o.source) {\n                    $.error('missing source');\n                }\n                if (o.name && !isValidName(o.name)) {\n                    $.error('invalid dataset name: ' + o.name);\n                }\n                this.query = null;\n                this.highlight = !!o.highlight;\n                this.name = o.name || _.getUniqueId();\n                this.source = o.source;\n                this.displayFn = getDisplayFn(o.display || o.displayKey);\n                this.templates = getTemplates(o.templates, this.displayFn);\n                this.$el = $(html.dataset.replace('%CLASS%', this.name));\n            }\n            Dataset.extractDatasetName = function extractDatasetName(el) {\n                return $(el).data(datasetKey);\n            };\n            Dataset.extractValue = function extractDatum(el) {\n                return $(el).data(valueKey);\n            };\n            Dataset.extractDatum = function extractDatum(el) {\n                return $(el).data(datumKey);\n            };\n            _.mixin(Dataset.prototype, EventEmitter, {\n                _render: function render(query, suggestions) {\n                    if (!this.$el) {\n                        return;\n                    }\n                    var that = this, hasSuggestions;\n                    this.$el.empty();\n                    hasSuggestions = suggestions && suggestions.length;\n                    if (!hasSuggestions && this.templates.empty) {\n                        this.$el.html(getEmptyHtml()).prepend(that.templates.header ? getHeaderHtml() : null).append(that.templates.footer ? getFooterHtml() : null);\n                    } else if (hasSuggestions) {\n                        this.$el.html(getSuggestionsHtml()).prepend(that.templates.header ? getHeaderHtml() : null).append(that.templates.footer ? getFooterHtml() : null);\n                    }\n                    this.trigger('rendered');\n                    function getEmptyHtml() {\n                        return that.templates.empty({\n                            query: query,\n                            isEmpty: true\n                        });\n                    }\n                    function getSuggestionsHtml() {\n                        var $suggestions, nodes;\n                        $suggestions = $(html.suggestions).css(css.suggestions);\n                        nodes = _.map(suggestions, getSuggestionNode);\n                        $suggestions.append.apply($suggestions, nodes);\n                        that.highlight && highlight({\n                            className: 'tt-highlight',\n                            node: $suggestions[0],\n                            pattern: query\n                        });\n                        return $suggestions;\n                        function getSuggestionNode(suggestion) {\n                            var $el;\n                            $el = $(html.suggestion).append(that.templates.suggestion(suggestion)).data(datasetKey, that.name).data(valueKey, that.displayFn(suggestion)).data(datumKey, suggestion);\n                            $el.children().each(function () {\n                                $(this).css(css.suggestionChild);\n                            });\n                            return $el;\n                        }\n                    }\n                    function getHeaderHtml() {\n                        return that.templates.header({\n                            query: query,\n                            isEmpty: !hasSuggestions\n                        });\n                    }\n                    function getFooterHtml() {\n                        return that.templates.footer({\n                            query: query,\n                            isEmpty: !hasSuggestions\n                        });\n                    }\n                },\n                getRoot: function getRoot() {\n                    return this.$el;\n                },\n                update: function update(query) {\n                    var that = this;\n                    this.query = query;\n                    this.canceled = false;\n                    this.source(query, render);\n                    function render(suggestions) {\n                        if (!that.canceled && query === that.query) {\n                            that._render(query, suggestions);\n                        }\n                    }\n                },\n                cancel: function cancel() {\n                    this.canceled = true;\n                },\n                clear: function clear() {\n                    this.cancel();\n                    this.$el.empty();\n                    this.trigger('rendered');\n                },\n                isEmpty: function isEmpty() {\n                    return this.$el.is(':empty');\n                },\n                destroy: function destroy() {\n                    this.$el = null;\n                }\n            });\n            return Dataset;\n            function getDisplayFn(display) {\n                display = display || 'value';\n                return _.isFunction(display) ? display : displayFn;\n                function displayFn(obj) {\n                    return obj[display];\n                }\n            }\n            function getTemplates(templates, displayFn) {\n                return {\n                    empty: templates.empty && _.templatify(templates.empty),\n                    header: templates.header && _.templatify(templates.header),\n                    footer: templates.footer && _.templatify(templates.footer),\n                    suggestion: templates.suggestion || suggestionTemplate\n                };\n                function suggestionTemplate(context) {\n                    return '<p>' + displayFn(context) + '</p>';\n                }\n            }\n            function isValidName(str) {\n                return /^[_a-zA-Z0-9-]+$/.test(str);\n            }\n        }();\n        var Dropdown = function () {\n            'use strict';\n            function Dropdown(o) {\n                var that = this, onSuggestionClick, onSuggestionMouseEnter, onSuggestionMouseLeave;\n                o = o || {};\n                if (!o.menu) {\n                    $.error('menu is required');\n                }\n                this.isOpen = false;\n                this.isEmpty = true;\n                this.datasets = _.map(o.datasets, initializeDataset);\n                onSuggestionClick = _.bind(this._onSuggestionClick, this);\n                onSuggestionMouseEnter = _.bind(this._onSuggestionMouseEnter, this);\n                onSuggestionMouseLeave = _.bind(this._onSuggestionMouseLeave, this);\n                this.$menu = $(o.menu).on('click.tt', '.tt-suggestion', onSuggestionClick).on('mouseenter.tt', '.tt-suggestion', onSuggestionMouseEnter).on('mouseleave.tt', '.tt-suggestion', onSuggestionMouseLeave);\n                _.each(this.datasets, function (dataset) {\n                    that.$menu.append(dataset.getRoot());\n                    dataset.onSync('rendered', that._onRendered, that);\n                });\n            }\n            _.mixin(Dropdown.prototype, EventEmitter, {\n                _onSuggestionClick: function onSuggestionClick($e) {\n                    this.trigger('suggestionClicked', $($e.currentTarget));\n                },\n                _onSuggestionMouseEnter: function onSuggestionMouseEnter($e) {\n                    this._removeCursor();\n                    this._setCursor($($e.currentTarget), true);\n                },\n                _onSuggestionMouseLeave: function onSuggestionMouseLeave() {\n                    this._removeCursor();\n                },\n                _onRendered: function onRendered() {\n                    this.isEmpty = _.every(this.datasets, isDatasetEmpty);\n                    this.isEmpty ? this._hide() : this.isOpen && this._show();\n                    this.trigger('datasetRendered');\n                    function isDatasetEmpty(dataset) {\n                        return dataset.isEmpty();\n                    }\n                },\n                _hide: function () {\n                    this.$menu.hide();\n                },\n                _show: function () {\n                    this.$menu.css('display', 'block');\n                },\n                _getSuggestions: function getSuggestions() {\n                    return this.$menu.find('.tt-suggestion');\n                },\n                _getCursor: function getCursor() {\n                    return this.$menu.find('.tt-cursor').first();\n                },\n                _setCursor: function setCursor($el, silent) {\n                    $el.first().addClass('tt-cursor');\n                    !silent && this.trigger('cursorMoved');\n                },\n                _removeCursor: function removeCursor() {\n                    this._getCursor().removeClass('tt-cursor');\n                },\n                _moveCursor: function moveCursor(increment) {\n                    var $suggestions, $oldCursor, newCursorIndex, $newCursor;\n                    if (!this.isOpen) {\n                        return;\n                    }\n                    $oldCursor = this._getCursor();\n                    $suggestions = this._getSuggestions();\n                    this._removeCursor();\n                    newCursorIndex = $suggestions.index($oldCursor) + increment;\n                    newCursorIndex = (newCursorIndex + 1) % ($suggestions.length + 1) - 1;\n                    if (newCursorIndex === -1) {\n                        this.trigger('cursorRemoved');\n                        return;\n                    } else if (newCursorIndex < -1) {\n                        newCursorIndex = $suggestions.length - 1;\n                    }\n                    this._setCursor($newCursor = $suggestions.eq(newCursorIndex));\n                    this._ensureVisible($newCursor);\n                },\n                _ensureVisible: function ensureVisible($el) {\n                    var elTop, elBottom, menuScrollTop, menuHeight;\n                    elTop = $el.position().top;\n                    elBottom = elTop + $el.outerHeight(true);\n                    menuScrollTop = this.$menu.scrollTop();\n                    menuHeight = this.$menu.height() + parseInt(this.$menu.css('paddingTop'), 10) + parseInt(this.$menu.css('paddingBottom'), 10);\n                    if (elTop < 0) {\n                        this.$menu.scrollTop(menuScrollTop + elTop);\n                    } else if (menuHeight < elBottom) {\n                        this.$menu.scrollTop(menuScrollTop + (elBottom - menuHeight));\n                    }\n                },\n                close: function close() {\n                    if (this.isOpen) {\n                        this.isOpen = false;\n                        this._removeCursor();\n                        this._hide();\n                        this.trigger('closed');\n                    }\n                },\n                open: function open() {\n                    if (!this.isOpen) {\n                        this.isOpen = true;\n                        !this.isEmpty && this._show();\n                        this.trigger('opened');\n                    }\n                },\n                setLanguageDirection: function setLanguageDirection(dir) {\n                    this.$menu.css(dir === 'ltr' ? css.ltr : css.rtl);\n                },\n                moveCursorUp: function moveCursorUp() {\n                    this._moveCursor(-1);\n                },\n                moveCursorDown: function moveCursorDown() {\n                    this._moveCursor(+1);\n                },\n                getDatumForSuggestion: function getDatumForSuggestion($el) {\n                    var datum = null;\n                    if ($el.length) {\n                        datum = {\n                            raw: Dataset.extractDatum($el),\n                            value: Dataset.extractValue($el),\n                            datasetName: Dataset.extractDatasetName($el)\n                        };\n                    }\n                    return datum;\n                },\n                getDatumForCursor: function getDatumForCursor() {\n                    return this.getDatumForSuggestion(this._getCursor().first());\n                },\n                getDatumForTopSuggestion: function getDatumForTopSuggestion() {\n                    return this.getDatumForSuggestion(this._getSuggestions().first());\n                },\n                update: function update(query) {\n                    _.each(this.datasets, updateDataset);\n                    function updateDataset(dataset) {\n                        dataset.update(query);\n                    }\n                },\n                empty: function empty() {\n                    _.each(this.datasets, clearDataset);\n                    this.isEmpty = true;\n                    function clearDataset(dataset) {\n                        dataset.clear();\n                    }\n                },\n                isVisible: function isVisible() {\n                    return this.isOpen && !this.isEmpty;\n                },\n                destroy: function destroy() {\n                    this.$menu.off('.tt');\n                    this.$menu = null;\n                    _.each(this.datasets, destroyDataset);\n                    function destroyDataset(dataset) {\n                        dataset.destroy();\n                    }\n                }\n            });\n            return Dropdown;\n            function initializeDataset(oDataset) {\n                return new Dataset(oDataset);\n            }\n        }();\n        var Typeahead = function () {\n            'use strict';\n            var attrsKey = 'ttAttrs';\n            function Typeahead(o) {\n                var $menu, $input, $hint;\n                o = o || {};\n                if (!o.input) {\n                    $.error('missing input');\n                }\n                this.isActivated = false;\n                this.autoselect = !!o.autoselect;\n                this.minLength = _.isNumber(o.minLength) ? o.minLength : 1;\n                this.$node = buildDom(o.input, o.withHint);\n                $menu = this.$node.find('.tt-dropdown-menu');\n                $input = this.$node.find('.tt-input');\n                $hint = this.$node.find('.tt-hint');\n                $input.on('blur.tt', function ($e) {\n                    var active, isActive, hasActive;\n                    active = document.activeElement;\n                    isActive = $menu.is(active);\n                    hasActive = $menu.has(active).length > 0;\n                    if (_.isMsie() && (isActive || hasActive)) {\n                        $e.preventDefault();\n                        $e.stopImmediatePropagation();\n                        _.defer(function () {\n                            $input.focus();\n                        });\n                    }\n                });\n                $menu.on('mousedown.tt', function ($e) {\n                    $e.preventDefault();\n                });\n                this.eventBus = o.eventBus || new EventBus({ el: $input });\n                this.dropdown = new Dropdown({\n                    menu: $menu,\n                    datasets: o.datasets\n                }).onSync('suggestionClicked', this._onSuggestionClicked, this).onSync('cursorMoved', this._onCursorMoved, this).onSync('cursorRemoved', this._onCursorRemoved, this).onSync('opened', this._onOpened, this).onSync('closed', this._onClosed, this).onAsync('datasetRendered', this._onDatasetRendered, this);\n                this.input = new Input({\n                    input: $input,\n                    hint: $hint\n                }).onSync('focused', this._onFocused, this).onSync('blurred', this._onBlurred, this).onSync('enterKeyed', this._onEnterKeyed, this).onSync('tabKeyed', this._onTabKeyed, this).onSync('escKeyed', this._onEscKeyed, this).onSync('upKeyed', this._onUpKeyed, this).onSync('downKeyed', this._onDownKeyed, this).onSync('leftKeyed', this._onLeftKeyed, this).onSync('rightKeyed', this._onRightKeyed, this).onSync('queryChanged', this._onQueryChanged, this).onSync('whitespaceChanged', this._onWhitespaceChanged, this);\n                this._setLanguageDirection();\n            }\n            _.mixin(Typeahead.prototype, {\n                _onSuggestionClicked: function onSuggestionClicked(type, $el) {\n                    var datum;\n                    if (datum = this.dropdown.getDatumForSuggestion($el)) {\n                        this._select(datum);\n                    }\n                },\n                _onCursorMoved: function onCursorMoved() {\n                    var datum = this.dropdown.getDatumForCursor();\n                    this.input.setInputValue(datum.value, true);\n                    this.eventBus.trigger('cursorchanged', datum.raw, datum.datasetName);\n                },\n                _onCursorRemoved: function onCursorRemoved() {\n                    this.input.resetInputValue();\n                    this._updateHint();\n                },\n                _onDatasetRendered: function onDatasetRendered() {\n                    this._updateHint();\n                },\n                _onOpened: function onOpened() {\n                    this._updateHint();\n                    this.eventBus.trigger('opened');\n                },\n                _onClosed: function onClosed() {\n                    this.input.clearHint();\n                    this.eventBus.trigger('closed');\n                },\n                _onFocused: function onFocused() {\n                    this.isActivated = true;\n                    this.dropdown.open();\n                },\n                _onBlurred: function onBlurred() {\n                    this.isActivated = false;\n                    this.dropdown.empty();\n                    this.dropdown.close();\n                },\n                _onEnterKeyed: function onEnterKeyed(type, $e) {\n                    var cursorDatum, topSuggestionDatum;\n                    cursorDatum = this.dropdown.getDatumForCursor();\n                    topSuggestionDatum = this.dropdown.getDatumForTopSuggestion();\n                    if (cursorDatum) {\n                        this._select(cursorDatum);\n                        $e.preventDefault();\n                    } else if (this.autoselect && topSuggestionDatum) {\n                        this._select(topSuggestionDatum);\n                        $e.preventDefault();\n                    }\n                },\n                _onTabKeyed: function onTabKeyed(type, $e) {\n                    var datum;\n                    if (datum = this.dropdown.getDatumForCursor()) {\n                        this._select(datum);\n                        $e.preventDefault();\n                    } else {\n                        this._autocomplete(true);\n                    }\n                },\n                _onEscKeyed: function onEscKeyed() {\n                    this.dropdown.close();\n                    this.input.resetInputValue();\n                },\n                _onUpKeyed: function onUpKeyed() {\n                    var query = this.input.getQuery();\n                    this.dropdown.isEmpty && query.length >= this.minLength ? this.dropdown.update(query) : this.dropdown.moveCursorUp();\n                    this.dropdown.open();\n                },\n                _onDownKeyed: function onDownKeyed() {\n                    var query = this.input.getQuery();\n                    this.dropdown.isEmpty && query.length >= this.minLength ? this.dropdown.update(query) : this.dropdown.moveCursorDown();\n                    this.dropdown.open();\n                },\n                _onLeftKeyed: function onLeftKeyed() {\n                    this.dir === 'rtl' && this._autocomplete();\n                },\n                _onRightKeyed: function onRightKeyed() {\n                    this.dir === 'ltr' && this._autocomplete();\n                },\n                _onQueryChanged: function onQueryChanged(e, query) {\n                    this.input.clearHintIfInvalid();\n                    query.length >= this.minLength ? this.dropdown.update(query) : this.dropdown.empty();\n                    this.dropdown.open();\n                    this._setLanguageDirection();\n                },\n                _onWhitespaceChanged: function onWhitespaceChanged() {\n                    this._updateHint();\n                    this.dropdown.open();\n                },\n                _setLanguageDirection: function setLanguageDirection() {\n                    var dir;\n                    if (this.dir !== (dir = this.input.getLanguageDirection())) {\n                        this.dir = dir;\n                        this.$node.css('direction', dir);\n                        this.dropdown.setLanguageDirection(dir);\n                    }\n                },\n                _updateHint: function updateHint() {\n                    var datum, val, query, escapedQuery, frontMatchRegEx, match;\n                    datum = this.dropdown.getDatumForTopSuggestion();\n                    if (datum && this.dropdown.isVisible() && !this.input.hasOverflow()) {\n                        val = this.input.getInputValue();\n                        query = Input.normalizeQuery(val);\n                        escapedQuery = _.escapeRegExChars(query);\n                        frontMatchRegEx = new RegExp('^(?:' + escapedQuery + ')(.+$)', 'i');\n                        match = frontMatchRegEx.exec(datum.value);\n                        match ? this.input.setHint(val + match[1]) : this.input.clearHint();\n                    } else {\n                        this.input.clearHint();\n                    }\n                },\n                _autocomplete: function autocomplete(laxCursor) {\n                    var hint, query, isCursorAtEnd, datum;\n                    hint = this.input.getHint();\n                    query = this.input.getQuery();\n                    isCursorAtEnd = laxCursor || this.input.isCursorAtEnd();\n                    if (hint && query !== hint && isCursorAtEnd) {\n                        datum = this.dropdown.getDatumForTopSuggestion();\n                        datum && this.input.setInputValue(datum.value);\n                        this.eventBus.trigger('autocompleted', datum.raw, datum.datasetName);\n                    }\n                },\n                _select: function select(datum) {\n                    this.input.setQuery(datum.value);\n                    this.input.setInputValue(datum.value, true);\n                    this._setLanguageDirection();\n                    this.eventBus.trigger('selected', datum.raw, datum.datasetName);\n                    this.dropdown.close();\n                    _.defer(_.bind(this.dropdown.empty, this.dropdown));\n                },\n                open: function open() {\n                    this.dropdown.open();\n                },\n                close: function close() {\n                    this.dropdown.close();\n                },\n                setVal: function setVal(val) {\n                    val = _.toStr(val);\n                    if (this.isActivated) {\n                        this.input.setInputValue(val);\n                    } else {\n                        this.input.setQuery(val);\n                        this.input.setInputValue(val, true);\n                    }\n                    this._setLanguageDirection();\n                },\n                getVal: function getVal() {\n                    return this.input.getQuery();\n                },\n                destroy: function destroy() {\n                    this.input.destroy();\n                    this.dropdown.destroy();\n                    destroyDomStructure(this.$node);\n                    this.$node = null;\n                }\n            });\n            return Typeahead;\n            function buildDom(input, withHint) {\n                var $input, $wrapper, $dropdown, $hint;\n                $input = $(input);\n                $wrapper = $(html.wrapper).css(css.wrapper);\n                $dropdown = $(html.dropdown).css(css.dropdown);\n                $hint = $input.clone().css(css.hint).css(getBackgroundStyles($input));\n                $hint.val('').removeData().addClass('tt-hint').removeAttr('id name placeholder required').prop('readonly', true).attr({\n                    autocomplete: 'off',\n                    spellcheck: 'false',\n                    tabindex: -1\n                });\n                $input.data(attrsKey, {\n                    dir: $input.attr('dir'),\n                    autocomplete: $input.attr('autocomplete'),\n                    spellcheck: $input.attr('spellcheck'),\n                    style: $input.attr('style')\n                });\n                $input.addClass('tt-input').attr({\n                    autocomplete: 'off',\n                    spellcheck: false\n                }).css(withHint ? css.input : css.inputWithNoHint);\n                try {\n                    !$input.attr('dir') && $input.attr('dir', 'auto');\n                } catch (e) {\n                }\n                return $input.wrap($wrapper).parent().prepend(withHint ? $hint : null).append($dropdown);\n            }\n            function getBackgroundStyles($el) {\n                return {\n                    backgroundAttachment: $el.css('background-attachment'),\n                    backgroundClip: $el.css('background-clip'),\n                    backgroundColor: $el.css('background-color'),\n                    backgroundImage: $el.css('background-image'),\n                    backgroundOrigin: $el.css('background-origin'),\n                    backgroundPosition: $el.css('background-position'),\n                    backgroundRepeat: $el.css('background-repeat'),\n                    backgroundSize: $el.css('background-size')\n                };\n            }\n            function destroyDomStructure($node) {\n                var $input = $node.find('.tt-input');\n                _.each($input.data(attrsKey), function (val, key) {\n                    _.isUndefined(val) ? $input.removeAttr(key) : $input.attr(key, val);\n                });\n                $input.detach().removeData(attrsKey).removeClass('tt-input').insertAfter($node);\n                $node.remove();\n            }\n        }();\n        (function () {\n            'use strict';\n            var old, typeaheadKey, methods;\n            old = $.fn.typeahead;\n            typeaheadKey = 'ttTypeahead';\n            methods = {\n                initialize: function initialize(o, datasets) {\n                    datasets = _.isArray(datasets) ? datasets : [].slice.call(arguments, 1);\n                    o = o || {};\n                    return this.each(attach);\n                    function attach() {\n                        var $input = $(this), eventBus, typeahead;\n                        _.each(datasets, function (d) {\n                            d.highlight = !!o.highlight;\n                        });\n                        typeahead = new Typeahead({\n                            input: $input,\n                            eventBus: eventBus = new EventBus({ el: $input }),\n                            withHint: _.isUndefined(o.hint) ? true : !!o.hint,\n                            minLength: o.minLength,\n                            autoselect: o.autoselect,\n                            datasets: datasets\n                        });\n                        $input.data(typeaheadKey, typeahead);\n                    }\n                },\n                open: function open() {\n                    return this.each(openTypeahead);\n                    function openTypeahead() {\n                        var $input = $(this), typeahead;\n                        if (typeahead = $input.data(typeaheadKey)) {\n                            typeahead.open();\n                        }\n                    }\n                },\n                close: function close() {\n                    return this.each(closeTypeahead);\n                    function closeTypeahead() {\n                        var $input = $(this), typeahead;\n                        if (typeahead = $input.data(typeaheadKey)) {\n                            typeahead.close();\n                        }\n                    }\n                },\n                val: function val(newVal) {\n                    return !arguments.length ? getVal(this.first()) : this.each(setVal);\n                    function setVal() {\n                        var $input = $(this), typeahead;\n                        if (typeahead = $input.data(typeaheadKey)) {\n                            typeahead.setVal(newVal);\n                        }\n                    }\n                    function getVal($input) {\n                        var typeahead, query;\n                        if (typeahead = $input.data(typeaheadKey)) {\n                            query = typeahead.getVal();\n                        }\n                        return query;\n                    }\n                },\n                destroy: function destroy() {\n                    return this.each(unattach);\n                    function unattach() {\n                        var $input = $(this), typeahead;\n                        if (typeahead = $input.data(typeaheadKey)) {\n                            typeahead.destroy();\n                            $input.removeData(typeaheadKey);\n                        }\n                    }\n                }\n            };\n            $.fn.typeahead = function (method) {\n                var tts;\n                if (methods[method] && method !== 'initialize') {\n                    tts = this.filter(function () {\n                        return !!$(this).data(typeaheadKey);\n                    });\n                    return methods[method].apply(tts, [].slice.call(arguments, 1));\n                } else {\n                    return methods.initialize.apply(this, arguments);\n                }\n            };\n            $.fn.typeahead.noConflict = function noConflict() {\n                $.fn.typeahead = old;\n                return this;\n            };\n        }());\n    }(window.jQuery));\n    return;\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module ItemsSearcher\ndefine('ItemsSearcher.Collection', [\n    'SC.Configuration',\n    'Item.Collection',\n    'underscore',\n    'Utils',\n    'typeahead'\n], function (Configuration, ItemCollection, _) {\n    'use strict';\n    // @class ItemsSearcher.Collection Connects to the search api to get the minimal information of the items to show on the typeahead of the search\n    // A Model Contains a Collection of items and the list of facet groups with its values\n    // @extends Item.Collection\n    return ItemCollection.extend({\n        // @class ItemsSearcher.View.Options.Collection.Option\n        defaultOptions: {\n            //@property {String} searcherAPIConfiguration\n            searcherAPIConfiguration: 'searchApiMasterOptions.typeAhead'\n        }    // @class ItemsSearcher.Collection\n             //@method initialize\n             //@param {Array<Item.Model>?} collection\n             //@param {ItemsSearcher.View.Options.Collection.Option?} options\n             //@return {Void}\n,\n        initialize: function (collection, options) {\n            this.options = _.defaults(options || {}, this.defaultOptions);\n            this.searchApiMasterOptions = Configuration.get(this.options.searcherAPIConfiguration);\n            ItemCollection.prototype.initialize.apply(this, arguments);\n        }    //@method fetch We need to make sure that the cache is set to true, so we wrap it\n             //@param {Object} options\n             //@return {jQuery.Proxy}\n,\n        fetch: function (options) {\n            options = options || {};\n            options.cache = true;\n            return ItemCollection.prototype.fetch.apply(this, arguments);\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module ItemsSearcher\ndefine('ItemsSearcher.Item.View', [\n    'GlobalViews.StarRating.View',\n    'itemssearcher_item.tpl',\n    'Backbone',\n    'Backbone.CompositeView',\n    'underscore'\n], function (GlobalViewsStarRatingView, itemssearcher_item_tpl, Backbone, BackboneCompositeView, _) {\n    'use strict';\n    // @class ItemsSearcher.Item.View @extends Backbone.View\n    return Backbone.View.extend({\n        //@property {Function} template\n        template: function () {\n        }    //@property {ItemsSearcher.View.Options} defaultOptions\n             //@class ItemsSearcher.View.Options.Item.View.Option\n,\n        defaultOptions: {\n            //@property {Function} template\n            template: itemssearcher_item_tpl\n        }    // @class ItemsSearcher.Item.View\n             //@method initialize\n             //@param {ItemsSearcher.View.Options.Item.View.Option?} options\n             //@return {Void}\n,\n        initialize: function (options) {\n            this.options = _.defaults(options || {}, this.defaultOptions);\n            this.template = this.options.template;\n            BackboneCompositeView.add(this);\n        }    //@property {Object} childViews\n,\n        childViews: {\n            'Global.StarRating': function () {\n                return new GlobalViewsStarRatingView({\n                    model: this.model,\n                    showRatingCount: false\n                });\n            }\n        }    // @method getContext\n             // @returns {ItemsSearcher.Item.View.Context}\n,\n        getContext: function () {\n            // @class ItemsSearcher.Item.View.Context\n            return {\n                // @property {Item.Model} model\n                model: this.model,\n                currentQuery: _(this.options.query).escape()    // @property {Boolea} isItemSelected\n,\n                isItemSelected: !!this.model,\n                hasResults: this.options.areResults,\n                isAjaxDone: this.options.isAjaxDone\n            };    // @class ItemsSearcher.Item.View\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module ItemsSearcher\ndefine('ItemsSearcher.View', [\n    'ItemsSearcher.Utils',\n    'ItemsSearcher.Collection',\n    'ItemsSearcher.Item.View',\n    'PluginContainer',\n    'itemssearcher.tpl',\n    'Backbone',\n    'underscore',\n    'jQuery',\n    'Utils'\n], function (ItemsSearcherUtils, ItemsSearcherCollection, ItemsSearcherItemView, PluginContainer, itemssearcher_tpl, Backbone, _, jQuery) {\n    'use strict';\n    // @class ItemsSearcher.View @extends Backbone.View\n    var ItemsSearcherView = Backbone.View.extend({\n        //@property {Function} template\n        template: function () {\n        }    //@property {ItemsSearcher.View.Options} defaultOptions\n             //@class ItemsSearcher.View.Options\n,\n        defaultOptions: {\n            //@property {String} placeholderLabel\n            placeholderLabel: _('Search Products...').translate()    //@property {Number} minLength\n,\n            minLength: 3    //@property {Number} maxLength\n,\n            maxLength: 10    //@property {Number} limit\n,\n            limit: 10    //@property {String} sort\n,\n            sort: 'relevance:desc'    //@property {Array} labels\n,\n            labels: []    //@property {ItemsSearcher.Collection} collection\n,\n            collection: ItemsSearcherCollection    //@property {String} query\n,\n            query: ''    //@property {Boolean} ajaxDone\n,\n            ajaxDone: false    //@property {Boolean} showMenuOnClick\n,\n            showMenuOnClick: false    //@property {ItemsSearcher.Item.View} itemView\n,\n            itemView: ItemsSearcherItemView    //@property {Boolean} highlight\n,\n            highlight: true    //@property {Function} template\n,\n            template: itemssearcher_tpl    //@property {Void} componentId\n,\n            componentId: void 0    //@property {Void} componentName\n,\n            componentName: void 0    //@property {Boolean} showSeeAll Indicate if the first result should be the \"See All\" option\n,\n            showSeeAll: true    //@property {Boolean} highlightFirst\n,\n            highlightFirst: true    //@property {ItemsSearcher.View.Options.Item.View.Option} itemViewOptions\n,\n            itemViewOptions: {}    //@property {ItemsSearcher.View.Options.Collection.Option} collectionOptions\n,\n            collectionOptions: {}    //@property {Function<Item.Model, String, String>} getItemDisplayName This function give the chance to\n                  //change the way items display name is returned\n,\n            getItemDisplayName: null\n        }    // @class SiteSearch.View\n             //@property {Object} events\n,\n        events: {\n            'keyup [data-type=\"search-input\"]': 'onKeyUp',\n            'keydown [data-type=\"search-input\"]': 'onKeyDown'\n        }    //@method initialize\n             //@param {ItemsSearcher.View.Options?} options\n             //@return {Void}\n,\n        initialize: function (options) {\n            this.options = _.defaults(options || {}, this.defaultOptions);\n            this.collection = new this.options.collection([], this.options.collectionOptions);\n            this.template = this.options.template;\n            this.on('afterViewRender', this.configureTypeahead, this);\n            this.installPlugins();\n        }    //@method installPlugins Internal method used to define the plugins this component expose\n             //@return {Void}\n,\n        installPlugins: function () {\n            //@property {PluginContainer} postItemsSuggestionObtained This hook is executed after the fetch of item of retrieved\n            //Allows apply any extra transformation over the result from the Search API before those are displayed by the type ahead\n            //Each execute method on this hook will receive:\n            //the collection {ItemsSearcher.Collection} of items\n            //the current string query\n            //and it's expected to return another {ItemsSearcher.Collection} collection.\n            this.postItemsSuggestionObtained = new PluginContainer();\n        }    //@method getTypeAheadConfiguration Generates the type ahead configuration\n             //@return {ItemsSearcher.View.TypeAheadConfiguration}\n,\n        getTypeAheadConfiguration: function () {\n            var self = this;\n            //@class ItemsSearcher.View.TypeAheadConfiguration\n            return {\n                //@property {Function<String,Function>} source\n                source: _.debounce(_.bind(self.loadSuggestionItemsSource, self), 500)    //@property {Function<String>} displayKey Function used to return the string to be displayed on the main input after an item is selected\n,\n                displayKey: _.bind(self.getSelectedItemDisplayText, self)    //@property {Object<suggestion:Function>} templates\n,\n                templates: { suggestion: _.bind(self.getSuggestionItemTemplate, self) }\n            };    // @class ItemsSearcher.View\n        }    //@method configureTypeahead Configures the type ahead and loads the $searchElement attribute\n             //@return {Void}\n,\n        configureTypeahead: function () {\n            var self = this, typeaheadOptions = {\n                    highlight: this.options.highlight,\n                    minLength: this.options.minLength\n                };\n            //@property {jQuery} $searchElement\n            self.$searchElement = self.$('[data-type=\"search-input\"]');\n            // after the layout has be rendered, we initialize the plugin\n            if (SC.ENVIRONMENT.jsEnvironment !== 'server') {\n                self.$searchElement.typeahead(typeaheadOptions, this.getTypeAheadConfiguration()).on('typeahead:selected', _.bind(self.onItemSelected, self));\n                self.$searchElement.on('focus', _.bind(self.selectFirstIfRequire, self));\n                //TYPE AHEAD HACKS\n                var drop = self.$searchElement.data('ttTypeahead').dropdown;\n                drop.$menu.off('click.tt', '.tt-suggestion').on('click.tt', '.tt-suggestion', _.bind(function ($e) {\n                    $e.preventDefault();\n                    $e.stopPropagation();\n                    drop.trigger('suggestionClicked', jQuery($e.currentTarget));\n                }, drop));\n                //Display menu when selected the input hack\n                if (self.options.showMenuOnClick) {\n                    self.$searchElement.focus(function () {\n                        var ev = jQuery.Event('keydown');\n                        ev.keyCode = ev.which = 40;\n                        jQuery(this).trigger(ev);\n                        return true;\n                    });\n                }\n            }\n        }    //@method getCurrentQuery Get the current search. Use when triggering events\n             //@return {String}\n,\n        getCurrentQuery: function getCurrentQuery() {\n            return jQuery.trim(this.$searchElement.val());\n        }    //@method cleanSearch Clean the current search and close the dropdown\n             //@param {Boolean} stop_triggering_event Indicate if NOT trigger the event itemSelect indicating the unselected item\n             //@return {Void}\n,\n        cleanSearch: function cleanSearch(stop_triggering_event) {\n            this.$searchElement.data('ttTypeahead') && this.$searchElement.data('ttTypeahead').close();\n            this.$searchElement.typeahead('val', '');\n            this.options.query = '';\n            this.options.selectedItem = null;\n            if (!stop_triggering_event) {\n                this.trigger('itemSelected', {\n                    selectedItem: null,\n                    collection: this.collection.models,\n                    currentQuery: this.options.query\n                });\n            }\n        }    //@method onItemSelected Handle the selection of an item of the type-ahead result\n             //@param {HTMLEvent} e\n             //@param {String} item_id\n             //@return {Void}\n,\n        onItemSelected: function onItemSelected(e, item_id) {\n            this.options.selectedItem = this.collection.get(item_id);\n            // @event itemSelected\n            this.trigger('itemSelected'    //@class ItemsSearcher.View.itemSelected.Properties\n, {\n                //@property {Item.Model?} selectedItem\n                selectedItem: this.collection.get(item_id)    //@property {Array<Item.Model>} collection\n,\n                collection: this.collection.models,\n                currentQuery: this.options.query,\n                isResultCompleted: this.options.ajaxDone\n            });    // @class ItemsSearcher.View\n        }    //@method setFocus Set the focus to the input searcher\n             //@return {Void}\n,\n        setFocus: function setFocus() {\n            this.$searchElement.focus();\n        }    //@method selectFirstIfRequire Highlights the first item of the suggest if the highlightFirst options is specified\n             //@return {Void}\n,\n        selectFirstIfRequire: function selectFirstIfRequire() {\n            if (this.options.highlightFirst) {\n                var $menu_container = this.$searchElement.data('ttTypeahead').dropdown.$menu, current_cursor_index = $menu_container.find('.tt-suggestion.tt-cursor').index();\n                if (current_cursor_index === -1) {\n                    $menu_container.find('.tt-suggestion').first().addClass('tt-cursor');\n                }\n            }\n        }    // @method loadSuggestionItemsSource Implements the search logic by fetching the collection of items\n             // @param {String} query To string to search for\n             // @param {Function<Array<String>, Void>} callback IMPORTANT Based on the values passed in to this callback the typeAhead plugin will invoke\n             // the methd getSelectedItemDisplayText asking for the string of each item\n             // @return {Void}\n,\n        loadSuggestionItemsSource: function loadSuggestionItemsSource(query, callback) {\n            var self = this;\n            self.options.ajaxDone = false;\n            self.options.results = {};\n            self.options.query = ItemsSearcherUtils.formatKeywords(query);\n            // self.collection.reset(undefined, {silent:true});\n            this.collection = new this.options.collection([], this.options.collectionOptions);\n            // if the character length from the query is over the min length\n            if (self.options.query.length >= self.options.minLength) {\n                self.options.labels = ['see-all-' + self.options.query];\n                callback(self.options.labels);\n                self.$searchElement.data('ttTypeahead').dropdown.moveCursorDown();\n            }\n            // silent = true makes it invisible to any listener that is waiting for the data to load\n            // We can use jQuery's .done, as the fetch method returns a promise\n            // http://api.jquery.com/deferred.done/\n            self.collection.fetch({\n                data: {\n                    q: jQuery.trim(self.options.query),\n                    sort: self.options.sort,\n                    limit: self.options.limit,\n                    offset: 0\n                },\n                killerId: _.uniqueId('ajax_killer_')\n            }, { silent: true }).done(function () {\n                self.collection = self.postItemsSuggestionObtained.executeAll(self.collection, self.options) || self.collection;\n                self.options.ajaxDone = true;\n                self.options.labels = self.options.showSeeAll ? ['see-all-' + self.options.query].concat(self.getItemIds(self.collection)) : self.getItemIds(self.collection);\n                // self.options.labels = self.options.showSeeAll ? ['see-all-' + self.options.query].concat(self.collection.pluck('_id')) : self.collection.pluck('_id');\n                if (!self.options.labels.length) {\n                    self.options.labels = ['see-all-' + self.options.query];\n                }\n                callback(self.options.labels);\n                self.selectFirstIfRequire();\n            });\n        }    //@method getItemIds Given the collection of items it generates an array of Ids. This method is used so it is easy to use another model\n             //rather than Item.Model (let say Product.Model)\n             //@param {Item.Collection} collection\n             //@return {Array<String>}\n,\n        getItemIds: function getItemIds(collection) {\n            return collection.map(function (item) {\n                return item.id;\n            });\n        }    //@method getSelectedItemDisplayText Returns the text shown on the input text when an item is selected by using the keyboard keys\n             //@param {String} item_id\n             //@return {String}\n,\n        getSelectedItemDisplayText: function (item_id) {\n            return this.getItemDisplayName(this.collection.get(item_id), this.options.query);\n        }    //@method getItemDisplayName Internal auxiliary method used to extract the display name of an item\n             //@param {Item.Model} item\n             //@param {String} query\n             //@return {String}\n,\n        getItemDisplayName: function (item, query) {\n            return _.isFunction(this.options.getItemDisplayName) ? this.options.getItemDisplayName(item, query) : item ? item.get('_name') : query;\n        }    //@method getSuggestionItemTemplate\n             //@param {String} item_id\n             //@return {jQuery} Returns a jQuery elements with the template\n,\n        getSuggestionItemTemplate: function (item_id) {\n            var item_view_options = _.extend({}, this.options.itemViewOptions, {\n                    model: this.collection.get(item_id),\n                    query: this.options.query,\n                    areResults: !!this.collection.length,\n                    isAjaxDone: this.options.ajaxDone\n                }), items_searcher_item = new this.options.itemView(item_view_options);\n            items_searcher_item.render();\n            return items_searcher_item.$el;\n        }    //@method onKeyUp Handle the visibility of the reset button, hide and show it\n             //@param {jQuertEvent} e\n             //@return {Void}\n,\n        onKeyUp: function (e) {\n            // @event keyUp\n            this.trigger('keyUp'    //@class ItemsSearcher.View.KeyDown.Properties\n, {\n                //@property {Array<Item.Model>} collection\n                collection: this.collection.models,\n                eventObject: e    //@property {String} currentQuery\n,\n                currentQuery: this.getCurrentQuery()\n            });    //@class ItemsSearcher.View\n        }    //@method onKeyDown Cleans the input field and hide the reset button on enter\n             //@param {jQueryEvent} e\n             //@return {Void}\n,\n        onKeyDown: function (e) {\n            var current_text = this.$searchElement.typeahead('val');\n            if (this.options.selectedItem && current_text !== this.getItemDisplayName(this.options.selectedItem, this.options.query)) {\n                this.options.selectedItem = null;\n                this.trigger('itemSelected', {\n                    selectedItem: null,\n                    collection: this.collection.models,\n                    currentQuery: this.options.query\n                });\n            }\n            // @event keyDown\n            this.trigger('keyDown'    //@class ItemsSearcher.View.KeyDown.Properties\n, {\n                //@property {Array<Item.Model>} collection\n                collection: this.collection.models,\n                eventObject: e    //@property {String} currentQuery\n,\n                currentQuery: this.getCurrentQuery()\n            });    //@class ItemsSearcher.View\n        }    //@method destroy Override default implementation to clean up all attached events of the initialize\n             //@return {Void}\n,\n        destroy: function () {\n            this.off('afterViewRender');\n            this.$searchElement.off('click');\n            Backbone.View.prototype.destroy.apply(this, arguments);\n        }    // @method getContext\n             // @returns {ItemsSearcher.View.Context}\n,\n        getContext: function () {\n            // @class ItemsSearcher.View.Context\n            return {\n                //@property {String} defaultPlaceholderLabel\n                placeholderLabel: this.options.placeholderLabel,\n                maxLength: this.options.maxLength,\n                showId: !!this.options.componentId,\n                id: this.options.componentId,\n                showName: !!this.options.componentName,\n                name: this.options.componentName\n            };    // @class ItemsSearcher.View\n        }\n    });\n    return ItemsSearcherView;\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module SiteSearch\ndefine('SiteSearch.View', [\n    'SC.Configuration',\n    'ItemsSearcher.View',\n    'Session',\n    'Backbone.CompositeView',\n    'site_search.tpl',\n    'Backbone',\n    'underscore',\n    'Utils'\n], function (Configuration, ItemsSearcherView, Session, BackboneCompositeView, site_search_tpl, Backbone, _, Utils) {\n    'use strict';\n    // @class SiteSearch.View @extends Backbone.View\n    return Backbone.View.extend({\n        //@property {Function} template\n        template: site_search_tpl    //@property {Object} events\n,\n        events: {\n            'submit [data-action=\"search\"]': 'searchEventHandler',\n            'click [data-type=\"search-reset\"]': 'resetHandle'\n        }    //@method initialize\n             //@return {Void}\n,\n        initialize: function () {\n            this.itemsSearcherComponent = new ItemsSearcherView({\n                minLength: Configuration.get('typeahead.minLength', 3),\n                maxLength: Configuration.get('searchPrefs.maxLength', 0),\n                limit: Configuration.get('typeahead.maxResults', 10),\n                sort: Configuration.get('typeahead.sort', 'relevance:desc'),\n                highlight: Configuration.get('typeahead.highlight', true)\n            });\n            this.itemsSearcherComponent.on('itemSelected', this.onItemSelected, this);\n            this.itemsSearcherComponent.on('keyUp', this.showReset, this);\n            this.itemsSearcherComponent.on('keyDown', this.cleanSearchOnEnter, this);\n            this.application = this.options.application;\n            BackboneCompositeView.add(this);\n        }    //@method showReset Handle when to show or hide the reset button\n             //@param {ItemsSearcher.View.KeyDown.Properties} event_properties\n             //@return {Void}\n,\n        showReset: function (event_properties) {\n            if (event_properties.currentQuery) {\n                this.$('[data-type=\"search-reset\"]').show();\n            } else {\n                this.$('[data-type=\"search-reset\"]').hide();\n            }\n        }    //@method cleanSearchOnEnter Cleans the current search status\n             //@param {ItemsSearcher.View.KeyDown.Properties} event_properties\n             //@return {Void}\n,\n        cleanSearchOnEnter: function (event_properties) {\n            if (event_properties.eventObject.keyCode === 27) {\n                this.$('[data-type=\"search-reset\"]').hide();\n                this.itemsSearcherComponent.cleanSearch();\n            }\n        }    //@method resetHandle Handle the reset action by hiding it and cleaning the current search status\n             //@return {Void}\n,\n        resetHandle: function () {\n            this.$('[data-type=\"search-reset\"]').hide();\n            this.itemsSearcherComponent.cleanSearch();\n        }    //@method showSiteSearch Auto-show the site search form\n,\n        showSiteSearch: function (dontFocus) {\n            this.$('[data-type=\"search-reset\"]').hide();\n            this.itemsSearcherComponent.cleanSearch(true);\n            if (!dontFocus) {\n                this.itemsSearcherComponent.setFocus();\n            }\n        }    // @method searchEventHandler Call on submit of the Search form\n             // @param {jQueryElement} e\n             // @return {Void}\n,\n        searchEventHandler: function (e) {\n            e.preventDefault();\n            var search_term = this.itemsSearcherComponent.getCurrentQuery();\n            if (search_term.length < 1) {\n                return;\n            }\n            this.itemsSearcherComponent.cleanSearch();\n            this.executeSearch(search_term);\n        }    // @method search This method handle the navigation to the search result page. This happens when the user press enter or click the 'Go' button\n             // @param {String} keywords\n             // @return {Void}\n,\n        executeSearch: function (keywords) {\n            var self = this, plp_component = this.application && this.application.getComponent('PLP');\n            if (!plp_component) {\n                self._executeSearch(keywords);\n            } else {\n                plp_component.setSearchText({ searchText: keywords }).fail(function (result) {\n                    if (result === false) {\n                        self._executeSearch(keywords);\n                    }\n                });\n            }\n        },\n        _executeSearch: function (keywords) {\n            var search_url = _.getPathFromObject(Configuration, 'defaultSearchUrl'), delimiters = _.getPathFromObject(Configuration, 'facetDelimiters'), keywordsDelimited = delimiters ? delimiters.betweenFacetsAndOptions + 'keywords' + delimiters.betweenOptionNameAndValue : '?keywords=';\n            // If we are not in Shopping we have to redirect to it\n            if (_.getPathFromObject(Configuration, 'currentTouchpoint') !== 'home') {\n                window.location.href = Session.get('touchpoints.home') + '#' + search_url + keywordsDelimited + keywords;\n            }    // Else we stay in the same app\n            else {\n                // We navigate to the default search url passing the keywords\n                Backbone.history.navigate(search_url + keywordsDelimited + keywords + this.getCurrentSearchOptions(), { trigger: true });\n            }\n        }    //@method onItemSelected Handle the selection of an item of the type-ahead result\n             //@param {ItemsSearcher.View.itemSelected.Properties} result\n             //@return {Void}\n,\n        onItemSelected: function (result) {\n            var item = result.selectedItem, collection = result.collection, query = result.currentQuery;\n            this.$('[data-type=\"search-reset\"]').hide();\n            this.itemsSearcherComponent.cleanSearch(true);\n            if (item) {\n                var path = item.get('_url');\n                if (Configuration.get('currentTouchpoint', '') !== 'home') {\n                    window.location.href = Session.get('touchpoints.home') + '#' + path;\n                } else {\n                    Backbone.history.navigate(path, { trigger: true });\n                }\n            } else {\n                if (!collection.length && result.isResultCompleted) {\n                    return false;\n                } else {\n                    this.executeSearch(query);\n                }\n            }\n        }    //@method getCurrentSearchOptions Returns current search options formatted as query params.\n             //@return {String}\n,\n        getCurrentSearchOptions: function () {\n            var newOptions = [], currentOptions = Utils.parseUrlOptions(window.location.href);\n            _.each(currentOptions, function (value, key) {\n                var lowerCaseKey = key.toLowerCase();\n                if (lowerCaseKey === 'order' || lowerCaseKey === 'show' || lowerCaseKey === 'display') {\n                    newOptions.push(lowerCaseKey + '=' + value);\n                }\n            });\n            var newOptionsStr = newOptions.join('&');\n            if (newOptionsStr.length > 0) {\n                newOptionsStr = '&' + newOptionsStr;\n            }\n            return newOptionsStr;\n        }    //@property {Object} childViews\n,\n        childViews: {\n            'ItemsSeacher': function () {\n                return this.itemsSearcherComponent;\n            }\n        }    //@method getContext\n             //@return {SiteSearch.View.Context}\n,\n        getContext: function () {\n            //@class SiteSearch.View.Context\n            return {};    //@class SiteSearch.View\n        }    //@method destroy Override default implementation to clean up all attached events of the initialize\n             //@return {Void}\n,\n        destroy: function () {\n            Backbone.View.prototype.destroy.apply(this, arguments);\n            this.itemsSearcherComponent.off('itemSelected');\n            this.itemsSearcherComponent.off('keyUp');\n            this.itemsSearcherComponent.off('keyDown');\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module Header\ndefine('Header.View', [\n    'SC.Configuration',\n    'Profile.Model',\n    'Header.Logo.View',\n    'Header.MiniCart.View',\n    'Header.MiniCartSummary.View',\n    'Header.Profile.View',\n    'Header.Menu.View',\n    'GlobalViews.HostSelector.View',\n    'GlobalViews.CurrencySelector.View',\n    'SiteSearch.View',\n    'header.tpl',\n    'jQuery',\n    'Backbone',\n    'Backbone.CompositeView',\n    'underscore',\n    'Utils'\n], function (Configuration, ProfileModel, HeaderLogoView, HeaderMiniCartView, HeaderMiniCartSummaryView, HeaderProfileView, HeaderMenuView, GlobalViewsHostSelectorView, GlobalViewsCurrencySelectorView, SiteSearchView, header_tpl, jQuery, Backbone, BackboneCompositeView, _, Utils) {\n    'use strict';\n    // @class Header.View @extends Backbone.View\n    return Backbone.View.extend({\n        template: header_tpl,\n        events: {\n            'click [data-action=\"show-sitesearch\"]': 'showSiteSearch',\n            'click [data-action=\"header-sidebar-show\"]': 'showSidebar',\n            'click [data-action=\"header-sidebar-hide\"]': 'hideSidebar',\n            'click [data-type=\"header-sidebar-menu\"]': 'hideSidebar'\n        },\n        initialize: function () {\n            var self = this;\n            BackboneCompositeView.add(this);\n            ProfileModel.getPromise().done(function () {\n                self.render();\n            });\n            Backbone.history.on('all', this.verifyShowSiteSearch, this);\n        }    // @method verifyShowSiteSearch expand the site search only if hash===home and (phone or tablet)\n,\n        verifyShowSiteSearch: function () {\n            var hash = Backbone.history.getFragment() || '';\n            hash = hash.indexOf('?') === -1 ? hash : hash.substring(0, hash.indexOf('?'));\n            var is_home = hash === '' || hash === '/';\n            if (Utils.getDeviceType() !== 'desktop' && is_home) {\n                this.showSiteSearch(null, true);\n            }    // else\n                 // {\n                 // \t// This hide sitesearch when navigate\n                 // \tthis.hideSiteSearch();\n                 // }\n        }    // @method showSiteSearch\n             // ,\tshowSiteSearch: function (ev)\n             // \t{\n             // \t\tev && ev.preventDefault();\n             // \t\t// This add a class 'active' to change button color\n             // \t\tthis.$('[data-action=\"show-sitesearch\"]').toggleClass('active');\n             // \t\tvar self = this;\n             // \t\tthis.$('[data-type=\"SiteSearch\"]').stop(true, false).slideToggle(function ()\n             // \t\t{\n             // \t\t\t// Set focus and cleans previous search\n             // \t\t\tself.getChildViewInstance('SiteSearch').showSiteSearch();\n             // \t\t});\n             // \t}\n             //@method hideSiteSearch Auto-hide the site search form\n             //@return {Void}\n             // , hideSiteSearch: function()\n             // \t{\n             // \t\t// This hide Sitesearch div\n             // \t\tthis.$('[data-type=\"SiteSearch\"]').slideUp();\n             // \t}\n             // @method showMiniCart\n             //@return {Void}\n,\n        showMiniCart: function () {\n            this.$('[data-type=\"mini-cart\"]').parent().addClass('open');\n        }    // @method showSidebar\n             //@return {Void}\n,\n        showSidebar: function () {\n            jQuery('#main').addClass('header-sidebar-opened');\n        }    // @method hideSidebar\n             //@return {Void}\n,\n        hideSidebar: function (e) {\n            if (e.target.tagName === 'A') {\n                if (this.activeLink) {\n                    this.activeLink.removeClass('active');\n                }\n                this.activeLink = jQuery(e.target);\n                this.activeLink.addClass('active');\n            }\n            jQuery('#main').removeClass('header-sidebar-opened');\n        },\n        childViews: {\n            'Header.MiniCart': function () {\n                return new HeaderMiniCartView();\n            },\n            'Header.MiniCartSummary': function () {\n                return new HeaderMiniCartSummaryView();\n            },\n            'Header.Profile': function () {\n                var header_profile_view_options = _.extend({\n                    showMyAccountMenu: true,\n                    application: this.options.application\n                }, this.options.headerProfileViewOptions || {});\n                return new HeaderProfileView(header_profile_view_options);\n            },\n            'Header.Logo': function () {\n                return new HeaderLogoView(this.options);\n            },\n            'Header.Menu': function () {\n                var header_view_options = _.extend({ application: this.options.application }, this.options.headerProfileViewOptions || {});\n                return new HeaderMenuView(header_view_options);\n            },\n            'Global.HostSelector': function () {\n                return new GlobalViewsHostSelectorView();\n            },\n            'Global.CurrencySelector': function () {\n                return new GlobalViewsCurrencySelectorView();\n            },\n            'SiteSearch': function () {\n                return new SiteSearchView({ application: this.options.application });\n            }\n        }    // @method getContext\n             // @return {Header.View.Context}\n,\n        getContext: function getContext() {\n            var environment = SC.ENVIRONMENT, show_languages = environment.availableHosts && environment.availableHosts.length > 1, show_currencies = environment.availableCurrencies && environment.availableCurrencies.length > 1 && !Configuration.get('header.notShowCurrencySelector');\n            var profile = ProfileModel.getInstance(), is_loading = !_.getPathFromObject(Configuration, 'performance.waitForUserProfile', true) && ProfileModel.getPromise().state() !== 'resolved', is_logged_in = (profile.get('isLoggedIn') === 'T' || profile.get('isRecognized') === 'T') && profile.get('isGuest') === 'F';\n            // @class Header.View.Context\n            return {\n                // @property {Profile.Model} profileModel\n                profileModel: ProfileModel.getInstance()    // @property {Boolean} showLoginMenu\n,\n                loggedInHome: !is_loading && is_logged_in,\n                showLanguages: show_languages    // @property {Boolean} showCurrencies\n,\n                showCurrencies: show_currencies    // @property {Boolean} showLanguagesOrCurrencies\n,\n                showLanguagesOrCurrencies: show_languages || show_currencies    // @property {Boolean} showLanguagesAndCurrencies\n,\n                showLanguagesAndCurrencies: show_languages && show_currencies    // @property {Boolean} isHomeTouchpoint\n,\n                isHomeTouchpoint: Configuration.currentTouchpoint === 'home'    // @property {String} cartTouchPoint\n,\n                cartTouchPoint: Configuration.get('modulesConfig.Cart.startRouter', false) ? Configuration.currentTouchpoint : 'viewcart'\n            };    // @class Header.View\n        }    //@method destroy Override default destroy method to clean navigation event handlers\n             //@return {Void}\n,\n        destroy: function () {\n            Backbone.View.prototype.destroy.apply(this, arguments);\n            Backbone.history.off('all', this.verifyShowSiteSearch);\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// Configuration.js\n// ----------------\n// All of the applications configurable defaults\n// Each section is comented with a title, please continue reading\ndefine('SC.MyAccount.Configuration', [\n    'Backbone.View',\n    'SC.Configuration',\n    'underscore',\n    'jQuery',\n    'PaymentWizard.Module.Invoice',\n    'PaymentWizard.Module.Summary',\n    'PaymentWizard.Module.ShowInvoices',\n    'PaymentWizard.Module.CreditTransaction',\n    'PaymentWizard.Module.PaymentMethod.Creditcard',\n    'PaymentWizard.Module.Addresses',\n    'PaymentWizard.Module.Confirmation',\n    'PaymentWizard.Module.ShowCreditTransaction',\n    'PaymentWizard.Module.ShowPayments',\n    'PaymentWizard.Module.ConfirmationSummary',\n    'PaymentWizard.Module.PaymentMethod.Selector',\n    'OrderWizard.Module.CartSummary',\n    'OrderWizard.Module.CartItems',\n    'OrderWizard.Module.ShowShipments',\n    'OrderWizard.Module.ShowPayments',\n    'OrderWizard.Module.TermsAndConditions',\n    'OrderWizard.Module.SubmitButton',\n    'OrderWizard.Module.PaymentMethod.Creditcard',\n    'OrderWizard.Module.PaymentMethod.Invoice',\n    'OrderWizard.Module.Address.Billing',\n    'OrderWizard.Module.PaymentMethod.Selector',\n    'QuoteToSalesOrderWizard.Module.QuoteDetails',\n    'QuoteToSalesOrderWizard.Module.Confirmation',\n    'QuoteToSalesOrderWizard.Module.PaymentMethod.Selector',\n    'Header.View',\n    'Utils'\n], function (BackboneView, BaseConfiguration, _, jQuery, PaymentWizardModuleInvoice, PaymentWizardModuleSummary, PaymentWizardModuleShowInvoices, PaymentWizardModuleCreditTransaction, PaymentWizardModulePaymentMethodCreditcard, PaymentWizardModuleAddresses, PaymentWizardModuleConfirmation, PaymentWizardModuleShowCreditTransaction, PaymentWizardModuleShowPayments, PaymentWizardModuleConfirmationSummary, PaymentWizardModulePaymentMethodSelector, OrderWizardModuleCartSummary, OrderWizardModuleCartItems, OrderWizardModuleShowShipments, OrderWizardModuleShowPayments, OrderWizardModuleTermsAndConditions, OrderWizardModuleSubmitButton, OrderWizardModulePaymentMethodCreditcard, OrderWizardModulePaymentMethodInvoice, OrderWizardModuleAddressBilling, OrderWizardModulePaymentMethodSelector, QuoteToSalesOrderWizardModuleQuoteDetails, QuoteToSalesOrderWizardModuleConfirmation, QuoteToSalesOrderWizardModulePaymentMethodSelector, HeaderView, Utils) {\n    'use strict';\n    var Configuration = {\n        // depending on the application we are configuring, used by the NavigationHelper.js\n        currentTouchpoint: 'customercenter',\n        modulesConfig: {\n            'Cart': { startRouter: false },\n            'Address': { startRouter: SC.ENVIRONMENT.siteSettings.is_logged_in },\n            'CreditCard': { startRouter: SC.ENVIRONMENT.siteSettings.is_logged_in }\n        }    // External Payment configuration.\n             // You need to set the url (fragment) to redirect the customer after returns from external payment gateway.\n,\n        externalPayment: {\n            SALESORDER: {\n                // record type\n                doneFragment: 'quotetosalesorder-confirmation',\n                failFragment: 'quotetosalesorder-review'\n            },\n            CUSTOMERPAYMENT: {\n                doneFragment: 'payment-confirmation',\n                failFragment: 'review-payment'\n            }\n        },\n        paymentWizardSteps: [\n            {\n                name: _('SELECT INVOICES TO PAY').translate(),\n                steps: [{\n                        url: 'make-a-payment',\n                        hideBackButton: true,\n                        hideContinueButton: false,\n                        modules: [\n                            PaymentWizardModuleInvoice,\n                            [\n                                PaymentWizardModuleSummary,\n                                {\n                                    container: '#wizard-step-content-right',\n                                    show_estimated_as_invoices_total: true\n                                }\n                            ]\n                        ],\n                        save: function () {\n                            return jQuery.Deferred().resolve();\n                        }\n                    }]\n            },\n            {\n                name: _('PAYMENT AND REVIEW').translate(),\n                steps: [\n                    {\n                        url: 'review-payment',\n                        hideBackButton: false,\n                        hideContinueButton: false,\n                        modules: [\n                            [\n                                PaymentWizardModuleCreditTransaction,\n                                { transaction_type: 'deposit' }\n                            ],\n                            [\n                                PaymentWizardModuleCreditTransaction,\n                                { transaction_type: 'credit' }\n                            ],\n                            [\n                                PaymentWizardModulePaymentMethodSelector,\n                                {\n                                    title: _('Payment Method').translate(),\n                                    record_type: 'customerpayment',\n                                    modules: [{\n                                            classModule: PaymentWizardModulePaymentMethodCreditcard,\n                                            name: _('Credit / Debit Card').translate(),\n                                            type: 'creditcard',\n                                            options: {}\n                                        }]\n                                }\n                            ],\n                            [\n                                PaymentWizardModuleSummary,\n                                {\n                                    container: '#wizard-step-content-right',\n                                    total_label: _('Payment Total').translate(),\n                                    submit: true\n                                }\n                            ],\n                            [\n                                PaymentWizardModuleShowInvoices,\n                                { container: '#wizard-step-content-right' }\n                            ]\n                        ],\n                        save: function () {\n                            return this.wizard.model.save();\n                        }\n                    },\n                    {\n                        url: 'payment-confirmation',\n                        hideBackButton: true,\n                        hideBreadcrumb: true,\n                        hideContinueButton: true,\n                        modules: [\n                            PaymentWizardModuleConfirmation,\n                            PaymentWizardModuleShowInvoices,\n                            [\n                                PaymentWizardModuleShowCreditTransaction,\n                                { transaction_type: 'deposit' }\n                            ],\n                            [\n                                PaymentWizardModuleShowCreditTransaction,\n                                { transaction_type: 'credit' }\n                            ],\n                            PaymentWizardModuleShowPayments,\n                            [\n                                PaymentWizardModuleConfirmationSummary,\n                                {\n                                    container: '#wizard-step-content-right',\n                                    submit: true\n                                }\n                            ]\n                        ]\n                    }\n                ]\n            }\n        ],\n        quotesToSalesOrderWizard: {\n            steps: [\n                {\n                    name: _('REVIEW YOUR ORDER').translate(),\n                    steps: [{\n                            url: 'quotetosalesorder-review',\n                            name: _('Review Your Oder').translate(),\n                            hideBackButton: true,\n                            hideContinueButton: false,\n                            continueButtonLabel: _('Place Order').translate(),\n                            hideBreadcrumb: true,\n                            showBottomMessage: true,\n                            modules: [\n                                QuoteToSalesOrderWizardModuleQuoteDetails,\n                                [\n                                    OrderWizardModuleCartSummary,\n                                    {\n                                        container: '#wizard-step-content-right',\n                                        warningMessage: _('Total may include handling costs not displayed in the summary breakdown').translate()\n                                    }\n                                ],\n                                [\n                                    OrderWizardModuleTermsAndConditions,\n                                    {\n                                        container: '#wizard-step-content-right',\n                                        showWrapper: true,\n                                        wrapperClass: 'order-wizard-termsandconditions-module-top-summary'\n                                    }\n                                ],\n                                [\n                                    OrderWizardModuleTermsAndConditions,\n                                    {\n                                        container: '#wizard-step-content-right',\n                                        showWrapper: true,\n                                        wrapperClass: 'order-wizard-termsandconditions-module-bottom'\n                                    }\n                                ],\n                                [\n                                    OrderWizardModuleSubmitButton,\n                                    {\n                                        container: '#wizard-step-content-right',\n                                        showWrapper: true,\n                                        wrapperClass: 'order-wizard-submitbutton-container'\n                                    }\n                                ],\n                                [\n                                    QuoteToSalesOrderWizardModulePaymentMethodSelector,\n                                    {\n                                        record_type: 'salesorder',\n                                        modules: [\n                                            {\n                                                classModule: OrderWizardModulePaymentMethodCreditcard,\n                                                name: _('Credit / Debit Card').translate(),\n                                                type: 'creditcard',\n                                                options: {}\n                                            },\n                                            {\n                                                classModule: OrderWizardModulePaymentMethodInvoice,\n                                                name: _('Invoice').translate(),\n                                                type: 'invoice',\n                                                options: {}\n                                            }\n                                        ]\n                                    }\n                                ],\n                                [\n                                    OrderWizardModuleAddressBilling,\n                                    {\n                                        useModelAddresses: true,\n                                        title: _('Billing Address').translate()\n                                    }\n                                ],\n                                [\n                                    OrderWizardModuleShowShipments,\n                                    {\n                                        useModelAddresses: true,\n                                        hide_edit_cart_button: true\n                                    }\n                                ],\n                                [\n                                    OrderWizardModuleTermsAndConditions,\n                                    {\n                                        showWrapper: true,\n                                        wrapperClass: 'order-wizard-termsandconditions-module-default'\n                                    }\n                                ]\n                            ],\n                            save: function () {\n                                _.first(this.moduleInstances).trigger('change_label_continue', _('Processing...').translate());\n                                var self = this, submit_opreation = this.wizard.model.submit();\n                                submit_opreation.always(function () {\n                                    _.first(self.moduleInstances).trigger('change_label_continue', _('Placed Order').translate());\n                                });\n                                return submit_opreation;\n                            }\n                        }]\n                },\n                {\n                    steps: [{\n                            url: 'quotetosalesorder-confirmation',\n                            hideContinueButton: true,\n                            name: _('Thank you').translate(),\n                            hideBackButton: true,\n                            hideBreadcrumb: true,\n                            headerView: HeaderView,\n                            modules: [\n                                [\n                                    OrderWizardModuleCartSummary,\n                                    {\n                                        container: '#wizard-step-content-right',\n                                        warningMessage: _('Total may include handling costs not displayed in the summary breakdown').translate()\n                                    }\n                                ],\n                                QuoteToSalesOrderWizardModuleConfirmation,\n                                QuoteToSalesOrderWizardModuleQuoteDetails,\n                                [\n                                    OrderWizardModuleShowPayments,\n                                    { useModelAddresses: true }\n                                ],\n                                [\n                                    OrderWizardModuleShowShipments,\n                                    {\n                                        useModelAddresses: true,\n                                        hide_edit_cart_button: true,\n                                        hide_edit_address_button: true\n                                    }\n                                ]\n                            ]\n                        }]\n                }\n            ]\n        },\n        sca: { collapseElements: false }\n    };\n    // window.screen = false;\n    // Calculates the width of the device, it will try to use the real screen size.\n    var screen_width = Utils.getViewportWidth();\n    // Phone Specific\n    if (screen_width < 768) {\n        Configuration.sca.collapseElements = true;\n        BaseConfiguration.defaultPaginationSettings = BaseConfiguration.defaultPaginationSettingsPhone;\n    }    // Tablet Specific\n    else if (screen_width >= 768 && screen_width <= 978) {\n        Configuration.sca.collapseElements = true;\n        BaseConfiguration.defaultPaginationSettings = BaseConfiguration.defaultPaginationSettingsTablet;\n    }\n    _.extend(BaseConfiguration, Configuration);\n    return BaseConfiguration;\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module GlobalViews\ndefine('GlobalViews.Modal.View', [\n    'global_views_modal.tpl',\n    'Backbone.CompositeView',\n    'Backbone',\n    'underscore'\n], function (global_views_modal_tpl, BackboneCompositeView, Backbone, _) {\n    'use strict';\n    // @class GlobalViews.Modal.View @extends Backbone.View\n    return Backbone.View.extend({\n        template: global_views_modal_tpl,\n        initialize: function () {\n            BackboneCompositeView.add(this);\n        },\n        childViews: {\n            'Child.View': function () {\n                return this.options.childViewIstance;\n            }\n        }    // @method getContext @return GlobalViews.Modal.View.Context\n,\n        getContext: function () {\n            // @class GlobalViews.Modal.View.Context\n            return {\n                //@property {String} pageHeader\n                pageHeader: this.options.pageHeader || ' '    //@property {Boolean} showPageHeader\n,\n                showPageHeader: _.isUndefined(this.options.childViewIstance.showModalPageHeader) ? !!this.options.pageHeader : this.options.childViewIstance.showModalPageHeader,\n                modalDialogClass: this.options.childViewIstance.modalClass || ''\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module GlobalViews\ndefine('GlobalViews.BackToTop.View', [\n    'global_views_back_to_top.tpl',\n    'Backbone',\n    'jQuery'\n], function (global_views_back_to_top_tpl, Backbone, jQuery) {\n    'use strict';\n    // @class GlobalViews.BackToTop.View @extends Backbone.View\n    return Backbone.View.extend({\n        template: global_views_back_to_top_tpl,\n        events: { 'click [data-action=\"back-to-top\"]': 'backToTop' }    // @method backToTop\n,\n        backToTop: function () {\n            jQuery('html, body').animate({ scrollTop: '0px' }, 300);\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module Footer\ndefine('Footer.View', [\n    'SC.Configuration',\n    'GlobalViews.BackToTop.View',\n    'footer.tpl',\n    'Backbone',\n    'Backbone.CompositeView',\n    'jQuery'\n], function (Configuration, GlobalViewsBackToTopView, footer_tpl, Backbone, BackboneCompositeView, jQuery) {\n    'use strict';\n    // @class Footer.View @extends Backbone.View\n    return Backbone.View.extend({\n        template: footer_tpl,\n        initialize: function (options) {\n            this.application = options.application;\n            BackboneCompositeView.add(this);\n            //after appended to DOM, we add the footer height as the content bottom padding, so the footer doesn't go on top of the content\n            //wrap it in a setTimeout because if not, calling height() can take >150 ms in slow devices - forces the browser to re-compute the layout.\n            this.application.getLayout().on('afterAppendToDom', function () {\n                var headerMargin = 25;\n                setTimeout(function () {\n                    var contentHeight = jQuery(window).innerHeight() - jQuery('#site-header')[0].offsetHeight - headerMargin - jQuery('#site-footer')[0].offsetHeight;\n                    jQuery('#main-container').css('min-height', contentHeight);\n                }, 10);\n            });\n        },\n        childViews: {\n            'Global.BackToTop': function () {\n                return new GlobalViewsBackToTopView();\n            }\n        }    // @method getContext @return {Footer.View.Context}\n,\n        getContext: function () {\n            var footerNavigationLinks = Configuration.get('footer.navigationLinks', []);\n            // @class Footer.View.Context\n            return {\n                // @property {Boolean} showLanguages\n                showFooterNavigationLinks: !!footerNavigationLinks.length,\n                footerNavigationLinks: footerNavigationLinks\n            };    // @class Footer.View\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module GlobalViews\ndefine('GlobalViews.Breadcrumb.View', [\n    'global_views_breadcrumb.tpl',\n    'Backbone',\n    'jQuery',\n    'underscore'\n], function (global_views_breadcrumb_tpl, Backbone, jQuery, _) {\n    'use strict';\n    // @class GlobalViews.Breadcrumb.View @extends Backbone.View\n    return Backbone.View.extend({\n        template: global_views_breadcrumb_tpl,\n        initialize: function (options) {\n            var opt_pages = options.pages;\n            if (_.isUndefined(opt_pages)) {\n                this.pages = [];\n            } else if (_.isArray(opt_pages)) {\n                this.pages = opt_pages;\n            } else {\n                this.pages = [opt_pages];\n            }\n        }    // @method getContext @return GlobalViews.Breadcrumb.View.Context\n,\n        getContext: function () {\n            _.each(this.pages, function (page) {\n                if (page['data-touchpoint']) {\n                    page.hasDataTouchpoint = true;\n                }\n                if (page['data-hashtag']) {\n                    page.hasDataHashtag = true;\n                }\n            });\n            //@class GlobalViews.Breadcrumb.View.Context\n            return {\n                // @property {Array<Object>} pages\n                pages: this.pages\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module Notifications\ndefine('Notifications.Order.Promocodes.View', [\n    'GlobalViews.Message.View',\n    'notifications_order_promocodes.tpl',\n    'Backbone',\n    'Backbone.CompositeView',\n    'underscore'\n], function (GlobalViewsMessageView, notifications_order_promocodes, Backbone, BackboneCompositeView, _) {\n    'use strict';\n    //@class Notification.Order.Promocodes.View @extend Backbone.View\n    return Backbone.View.extend({\n        //@property {Function} template\n        template: notifications_order_promocodes    //@method initialize\n                                          //@return {Void}\n,\n        initialize: function initialize() {\n            BackboneCompositeView.add(this);\n            this.on('afterCompositeViewRender', this.afterViewRender, this);\n        }    // @property {ChildViews} childViews\n,\n        childViews: {\n            'Promocode.Notification': function () {\n                var notification;\n                if (this.model.get('type') === 'FREEGIFT' && !!this.model.get('freegiftinfo')) {\n                    notification = this.getFreeGiftNotification(this.model.get('freegiftinfo')[0], this.model.get('freegiftinfo')[1]);\n                } else {\n                    notification = this.getNotification();\n                }\n                if (notification && notification.message && notification.type) {\n                    return new GlobalViewsMessageView({\n                        message: notification.message,\n                        type: notification.type,\n                        closable: true\n                    });\n                }\n            }\n        }    // @method afterViewRender lets parent model know the promotion already shwoed its current notification\n             // @return {Void}\n,\n        afterViewRender: function () {\n            this.options.parentModel.trigger('promocodeNotificationShown', this.model.get('internalid'));\n        }    // @method getNotification\n             // @return {Notification}\n,\n        getNotification: function () {\n            var notification = {};\n            if (this.model.get('applicabilitystatus') === 'APPLIED') {\n                notification.type = 'success';\n                notification.message = _('Promotion <strong>$(0)</strong> is now discounting your order.').translate(this.model.get('code'));\n            } else if (this.model.get('applicabilityreason') === 'CRITERIA_NOT_MET') {\n                notification.type = !this.model.get('isautoapplied') ? 'warning' : 'info';\n                notification.message = _('Promotion <strong>$(0)</strong> is not discounting your order. $(1)').translate(this.model.get('code'), this.model.get('errormsg'));\n            } else if (this.model.get('applicabilityreason') === 'DISCARDED_BEST_OFFER') {\n                notification.type = 'info';\n                notification.message = _('We have chosen the best possible offer for you. Promotion <strong>$(0)</strong> is not discounting your order.').translate(this.model.get('code'));\n            }\n            return notification;\n        }    // @method getFreeGiftNotification\n             // @return {Notification}\n,\n        getFreeGiftNotification: function (free_gift_info_old, free_gift_info_current) {\n            var gift_quantity, message_type;\n            if (!free_gift_info_old) {\n                gift_quantity = free_gift_info_current.added_quantity;\n                message_type = 'success';\n            } else if (!free_gift_info_current) {\n                gift_quantity = free_gift_info_old.added_quantity;\n                message_type = 'warning';\n            } else {\n                var qty_diff = free_gift_info_current.added_quantity - free_gift_info_old.added_quantity;\n                if (qty_diff > 0) {\n                    gift_quantity = qty_diff;\n                    message_type = 'success';\n                } else {\n                    gift_quantity = qty_diff * -1;\n                    message_type = 'warning';\n                }\n            }\n            if (message_type && gift_quantity) {\n                return this.setFreeGifttNotificationText(message_type, gift_quantity);\n            }\n        },\n        setFreeGifttNotificationText: function (message_type, gift_quantity) {\n            var notification = {};\n            notification.type = message_type;\n            if (message_type === 'success') {\n                if (gift_quantity > 1) {\n                    notification.message = _('Congratulations! $(0) FREE $(1) were added to your cart.').translate(gift_quantity, this.model.get('freegiftname'));\n                } else {\n                    notification.message = _('Congratulations! $(0) FREE $(1) was added to your cart.').translate(gift_quantity, this.model.get('freegiftname'));\n                }\n            } else if (message_type === 'warning') {\n                var errormsg = !!this.model.get('errormsg') ? this.model.get('errormsg') : '';\n                if (gift_quantity > 1) {\n                    notification.message = _('$(0) $(1) were removed from your cart. $(2)').translate(gift_quantity, this.model.get('freegiftname'), errormsg);\n                } else {\n                    notification.message = _('$(0) $(1) was removed from your cart. $(2)').translate(gift_quantity, this.model.get('freegiftname'), errormsg);\n                }\n            }\n            return notification;\n        }    //@method getContext\n             //@return {Notifications.Order.Promocodes.View.context}\n,\n        getContext: function getContext() {\n            //@class Notifications.Order.Promocodes.View.context\n            return {};    //@class Notifications.Order.Promocodes.View\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module Notifications\ndefine('Notifications.Order.View', [\n    'Notifications.Order.Promocodes.View',\n    'LiveOrder.Model',\n    'notifications_order.tpl',\n    'Backbone',\n    'Backbone.CompositeView',\n    'Backbone.CollectionView',\n    'jQuery',\n    'underscore'\n], function (NotificationsOrderPromocodesView, LiveOrderModel, notifications_order_tpl, Backbone, BackboneCompositeView, BackboneCollectionView, jQuery, _) {\n    'use strict';\n    // @class Notifications.Order.View @extends Backbone.View\n    return Backbone.View.extend({\n        template: notifications_order_tpl,\n        initialize: function () {\n            BackboneCompositeView.add(this);\n            this.model = LiveOrderModel.getInstance();\n            this.model.on('change', this.render, this);\n            this.model.get('lines').on('add remove', this.render, this);\n            this.model.on('promocodeNotificationShown', this.removePromocodeNotification, this);\n            this.notification_shown = false;\n            this.on('afterCompositeViewRender', function () {\n                if (this.notification_shown) {\n                    jQuery('body').animate({ scrollTop: this.$el.offset().top }, 600);\n                    this.notification_shown = false;\n                }\n            });\n        },\n        removePromocodeNotification: function (promocode_id) {\n            var promocode = _.findWhere(this.model.get('promocodes'), { internalid: promocode_id });\n            delete promocode.notification;\n        }    // @property {ChildViews} childViews\n,\n        childViews: {\n            'Promocode.Notifications': function () {\n                var promotions = _.filter(this.model.get('promocodes') || [], function (promocode) {\n                    return promocode.notification === true;\n                });\n                if (promotions.length) {\n                    this.notification_shown = true;\n                    return new BackboneCollectionView({\n                        collection: promotions,\n                        viewsPerRow: 1,\n                        childView: NotificationsOrderPromocodesView,\n                        childViewOptions: { parentModel: this.model }\n                    });\n                }\n            }\n        }    // @method getContext @return Notifications.Order.View.Context\n,\n        getContext: function () {\n            //@class Notifications.Order.View.Context\n            return {};\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module Notifications\ndefine('Notifications.Profile.View', [\n    'Profile.Model',\n    'GlobalViews.Message.View',\n    'Session',\n    'notifications_profile.tpl',\n    'Backbone',\n    'Backbone.CompositeView',\n    'underscore'\n], function (ProfileModel, GlobalViewsMessageView, Session, notifications_profile_tpl, Backbone, BackboneCompositeView, _) {\n    'use strict';\n    // @class Notifications.Profile.View @extends Backbone.View\n    return Backbone.View.extend({\n        template: notifications_profile_tpl,\n        initialize: function () {\n            BackboneCompositeView.add(this);\n            this.model = ProfileModel.getInstance();\n            if (Session.get('email_change_verification', false)) {\n                this.message = {\n                    text: SC.SESSION.email_change_verification === 'true' ? _('Your email has been changed successfully to <strong>').translate() + this.model.get('email') + '</strong>' : SC.SESSION.email_change_verification,\n                    type: SC.SESSION.email_change_verification === 'true' ? 'success' : 'error'\n                };\n                delete SC.SESSION.email_change_verification;\n            } else if (SC.ENVIRONMENT.email_verification_error) {\n                this.message = {\n                    text: _('The validation process has failed. Please login into your account and click on the validation link again.').translate(),\n                    type: 'error'\n                };\n                delete SC.ENVIRONMENT.email_verification_error;\n            } else if (SC.ENVIRONMENT.password_reset_invalid_error) {\n                this.message = {\n                    text: _('Your reset password link is invalid. Request a new one using the Forgot Password link.').translate(),\n                    type: 'error'\n                };\n                delete SC.ENVIRONMENT.password_reset_invalid_error;\n            } else if (SC.ENVIRONMENT.password_reset_expired_error) {\n                this.message = {\n                    text: _('Your reset password link has expired. Request a new one using the Forgot Password link.').translate(),\n                    type: 'error'\n                };\n                delete SC.ENVIRONMENT.password_reset_expired_error;\n            } else if (SC.ENVIRONMENT.reset_password_confirmation_email) {\n                this.message = {\n                    text: _('Please check your email and get instructions on how to reset your password.').translate(),\n                    type: 'success'\n                };\n                delete SC.ENVIRONMENT.reset_password_confirmation_email;\n            } else if (SC.ENVIRONMENT.updated_password_confirmation) {\n                this.message = {\n                    text: _('Your password has been reset.').translate(),\n                    type: 'success'\n                };\n                delete SC.ENVIRONMENT.updated_password_confirmation;\n            }\n        }    // @property {ChildViews} childViews\n,\n        childViews: {\n            'ProfileChanges.Notifications': function () {\n                if (this.message) {\n                    return new GlobalViewsMessageView({\n                        message: this.message.text,\n                        type: this.message.type,\n                        closable: true\n                    });\n                }\n            }\n        }    // @method getContext @return Notifications.Order.View.Context\n,\n        getContext: function () {\n            //@class Notifications.Order.View.Context\n            return {};\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module Notifications\ndefine('Notifications.View', [\n    'Notifications.Order.View',\n    'Notifications.Profile.View',\n    'notifications.tpl',\n    'Backbone',\n    'Backbone.CompositeView'\n], function (NotificationsOrderView, NotificationsProfileView, notifications_tpl, Backbone, BackboneCompositeView) {\n    'use strict';\n    // @class Notifications.View @extends Backbone.View\n    return Backbone.View.extend({\n        template: notifications_tpl,\n        initialize: function () {\n            BackboneCompositeView.add(this);\n        }    // @property {ChildViews} childViews\n,\n        childViews: {\n            'Order.Notifications': function () {\n                return new NotificationsOrderView();\n            },\n            'Profile.Notifications': function () {\n                return new NotificationsProfileView();\n            }\n        }    // @method getContext @return Notifications.View.Context\n,\n        getContext: function () {\n            //@class Notifications.View.Context\n            return {};\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module ApplicationSkeleton\ndefine('ApplicationSkeleton.Layout', [\n    'GlobalViews.Modal.View',\n    'Header.View',\n    'Footer.View',\n    'Backbone.CompositeView',\n    'GlobalViews.Breadcrumb.View',\n    'Notifications.View',\n    'Tracker',\n    'Backbone',\n    'underscore',\n    'jQuery'\n], function (GlobalViewsModalView, HeaderView, FooterView, BackboneCompositeView, GlobalViewsBreadcrumbView, NotificationsView, Tracker, Backbone, _, jQuery) {\n    'use strict';\n    var $current_modal_el, current_modal_view;\n    // @class ApplicationSkeleton.Layout The root view of the application.\n    // It is installed in a container_element HTML element that must exists in the HTML DOM (div #main)\n    // Implement the concept of a currentView, this is at any time there is a MAIN view in which the use\n    // case implementation is shown. When the user navigates to different application use cases the\n    // currentView will change and the afterAppendView event is triggered, offering an API to Modules to\n    // react when a certain use case view is shown\n    // @extends Backbone.View\n    return Backbone.View.extend({\n        // @property {String} container_element where it will be appended\n        container_element: '#main'    // @property {String} content_element where the content (views) will be appended\n,\n        content_element: '#content',\n        events: {\n            'click [data-type=\"post-to-touchpoint\"]': 'touchpointPost',\n            'click [data-action=\"items-expander\"]': 'itemsExpander',\n            'click [data-action=\"dropdown-expander\"]': 'dropdownExpander'\n        }    //@property {Array} breadcrumbPrefix\n,\n        breadcrumbPrefix: []    //@property {Array} breadcrumbPages\n,\n        breadcrumbPages: [],\n        initialize: function (Application) {\n            BackboneCompositeView.add(this);\n            this.headerView = this.originalHeaderView = HeaderView;\n            this.footerView = this.originalFooterView = FooterView;\n            this.application = Application;\n            this.windowWidth = jQuery(window).width();\n            // @property {jQuery.Deferred} afterAppendViewPromise a promise that is resolved only if one view was shown in this layout\n            this.afterAppendViewPromise = jQuery.Deferred();\n            var self = this;\n            this.once('afterAppendView', function () {\n                self.afterAppendViewPromise.resolve();\n            });\n            jQuery(window).on('resize', _.throttle(function () {\n                if (_.getDeviceType(self.windowWidth) === _.getDeviceType(jQuery(window).width())) {\n                    return;\n                }\n                _.resetViewportWidth();\n                self.updateHeader();\n                self.updateFooter();\n                self.updateLayoutSB && self.updateLayoutSB();\n                self.windowWidth = jQuery(window).width();\n            }, 1000));\n        }    //@method getColorPalette Given a palette name it generates a Layout.ColorPalette. The returned palette can be used for any purpose.\n             //@public\n             //@param {String} palette_name Name of the requested palette\n             //@return {Layout.ColorPalette}\n,\n        getColorPalette: function getColorPalette(palette_name) {\n            //@class Layout.ColorPalette This class works as a dictionary, where each key is the color name (e.g. black) and each value is the color value (hexa value expressed in the configuration)\n            var color_palette = {};\n            //empty palette_name is not allowed\n            if (!palette_name) {\n                return color_palette;\n            }\n            _.each(this.application.getConfig('layout.colorPalette', []), function (color_item) {\n                if (color_item.paletteId === palette_name) {\n                    if (color_item.colorValue)\n                        // if it is a color\n                        {\n                            color_palette[color_item.colorName] = color_item.colorValue;\n                        }\n                    else if (color_item.imgsrc) {\n                        color_palette[color_item.colorName] = {\n                            src: color_item.imgsrc,\n                            height: color_item.imgheight,\n                            width: color_item.imgwidth\n                        };\n                    }\n                }\n            });\n            return color_palette;    // @class ApplicationSkeleton.Layout\n        },\n        render: function () {\n            // @event beforeRender triggered before rendering this layout view\n            this.trigger('beforeRender', this);\n            Backbone.View.prototype.render.call(this);\n            // @event afterRender triggered after rendering this layout view\n            this.trigger('afterRender', this);\n        }    // @method updateHeader\n,\n        updateHeader: function () {\n            if (this.application.getConfig('siteSettings.sitetype') === 'ADVANCED') {\n                this.headerViewInstance && this.headerViewInstance.render();\n            }\n        }    // @method updateFooter\n,\n        updateFooter: function () {\n            if (this.application.getConfig('siteSettings.sitetype') === 'ADVANCED') {\n                this.footerViewInstance && this.footerViewInstance.render();\n            }\n        }    //@method updateCrumbtrail Receives a collection of pages.\n             //@param {Array<BreadcrumbPage>||BreadcrumbPage} pages\n             //@return {Array<BreadcrumbPage>} List of all the \"navigation\" needed to get to the current page\n,\n        updateCrumbtrail: function (pages) {\n            if (!_.isArray(pages)) {\n                pages = [pages];\n            }\n            this.breadcrumbPages = _.union(this.breadcrumbPrefix, pages);\n            return this.breadcrumbPages;\n        }    //@method hideBreadcrumb\n,\n        hideBreadcrumb: function () {\n            this.breadcrumbViewInstance && this.breadcrumbViewInstance.$el.empty();\n        }    // @method appendToDom append this layout view to the DOM in the element pointed by property container_element\n,\n        appendToDom: function () {\n            var self = this;\n            this.afterAppendViewPromise.done(function () {\n                // @event beforeAppendToDom triggered before this layout view is appended to the DOM\n                self.trigger('beforeAppendToDom', self);\n                jQuery(self.container_element).html(self.$el);\n                // @event afterAppendToDom triggered after this layout view is appended to the DOM\n                self.trigger('afterAppendToDom', self);\n            });\n        }    // @method getApplication\n             // @return {ApplicationSkeleton} this layout's application\n,\n        getApplication: function () {\n            return this.application;\n        }    // @method touchpointPost perform a POST operation to the specified touchpoint ('post-touchpoint')\n,\n        touchpointPost: function (e) {\n            var touchpoint = this.$(e.target).data('post-touchpoint'), touchpoints = SC.getSessionInfo('touchpoints'), target_touchpoint = (touchpoints ? touchpoints[touchpoint] : '') || '', new_url = _.fixUrl(target_touchpoint);\n            _.doPost(new_url);\n        }    // @method itemsExpander\n,\n        itemsExpander: function (e) {\n            e.preventDefault();\n            e.stopPropagation();\n            jQuery(e.currentTarget).parent().find('[data-action=\"items-expander\"] a i').toggleClass('icon-minus').end().find('[data-content=\"items-body\"]').stop().slideToggle();\n        }    // @method dropdownExpander\n,\n        dropdownExpander: function (e) {\n            e.preventDefault();\n            e.stopPropagation();\n            jQuery(e.currentTarget).parent().find('[data-action=\"dropdown-expander\"] a i').toggleClass('icon-chevron-up').end().find('[data-content=\"items-body\"]').stop().slideToggle();\n        }    // @method showContent use view.shoContent or layout.showContent(aView) to set the currentView\n             // @param {Backbone.View} view\n             // @param {Boolean} dont_scroll\n,\n        showContent: function showContent(view, dont_scroll) {\n            return this.cancelableTriggerUnsafe('beforeAppendView', view).then(_.bind(this._showContent, this, view, dont_scroll));\n        }    // @method showContent use view.showContent or layout.showContent(aView) to set the currentView\n             // @param {Backbone.View} view\n             // @param {Boolean} dont_scroll\n,\n        _showContent: function _showContent(view, dont_scroll) {\n            var first_show_content = !this.currentView, current_view = this.currentView;\n            if (!view.enhancedPage) {\n                Tracker.getInstance().trackPageview('/' + Backbone.history.fragment);\n            }\n            // if the current view displays a bootstrap modal manually (without calling view.showInModal)\n            // then it is necessary to clean up the modal backdrop manually here\n            this.closeModal();\n            if (view.inModal) {\n                return view.showInModal();\n            }\n            // We render the layout only once, the first time showContent is called\n            if (!this.rendered) {\n                this.render();\n                this.rendered = true;\n            }\n            // This line will destroy the view only if you are adding a different instance of a view\n            if (current_view && current_view !== view) {\n                current_view.destroy();\n                if (current_view.bodyClass) {\n                    this.$el.removeClass(current_view.bodyClass);\n                }\n            }\n            // @property {Backbone.View} currentView The layout as a view can contain many child views, but there is one that is mandatory and important and is referenced by this property\n            // The currentView is the one that is showing the use case  page that the user is currently being working on. While the user navigates through our\n            // application the currentView will be changing.\n            // {Backbone.View} the single children of the layout should have only one view, the currentView\n            this.currentView = view;\n            this._currentView = view;\n            //update the header and footer\n            this.headerView = this.currentView.getHeaderView && this.currentView.getHeaderView() ? this.currentView.getHeaderView() : this.originalHeaderView;\n            this.footerView = this.currentView.getFooterView && this.currentView.getFooterView() ? this.currentView.getFooterView() : this.originalFooterView;\n            if (this.headerViewInstance && !(this.headerViewInstance instanceof this.headerView) || this.footerViewInstance && !(this.footerViewInstance instanceof this.footerView)) {\n                this.getChildViewInstance('Header') && this.getChildViewInstance('Header').undelegateEvents();\n                this.getChildViewInstance('Footer') && this.getChildViewInstance('Footer').undelegateEvents();\n                this.addChildViewInstances({\n                    'Header': this.childViews.Header,\n                    'Footer': this.childViews.Footer\n                });\n                this.render();\n            }\n            // update the breadcrumb\n            var breadcrumb_pages = this.currentView.getBreadcrumbPages ? this.currentView.getBreadcrumbPages() : null;\n            if (breadcrumb_pages && this.breadcrumbViewInstance) {\n                this.breadcrumbViewInstance.pages = this.updateCrumbtrail(breadcrumb_pages || []);\n                this.breadcrumbViewInstance.render();\n            } else {\n                this.hideBreadcrumb();\n            }\n            // keep the min height value to restore it later because the .empty() will mess the current scrolling.\n            var minHeight;\n            if (!first_show_content) {\n                minHeight = this.$(this.content_element).css('min-height');\n                // set the height of 'content_element' to his current height because after empty() there will be no scroll bar and the dont_scroll will not work\n                this.$(this.content_element).css('min-height', this.$(this.content_element).height() + 'px');\n            }\n            // Empties the content first, so events don't get unbind\n            this.$(this.content_element).empty();\n            view.render();\n            if (view.bodyClass) {\n                this.$el.addClass(view.bodyClass);\n            }\n            //document's title\n            document.title = view.title || '';\n            // @event beforeAppendView\n            this.trigger('beforeAppendView', view);\n            this.$(this.content_element).append(view.$el);\n            if (!first_show_content && minHeight) {\n                this.$(this.content_element).css('min-height', minHeight);\n            }\n            // @event afterAppendView\n            this.trigger('afterAppendView', view);\n            view.isRenderedInLayout = true;\n            // Sometimes we do not want to scroll top when the view is rendered\n            // Eventually we might change view and dont_scroll to an option obj\n            if (!dont_scroll && !first_show_content) {\n                jQuery(document).scrollTop(0);\n            }\n            // we need to return a promise always, as show content might be async\n            return jQuery.Deferred().resolveWith(this, [view]);\n        }    // @method wrapModalView\n             // @param {Backbone.View} view\n,\n        wrapModalView: function (view) {\n            var $modal_body = view.$containerModal.find(['data-type=\"modal-body\"']);\n            if (view.$('.modal-body').length && $modal_body.length) {\n                $modal_body.removeClass('modal-body');\n            }\n            return this;\n        }    // @method prefixViewIds\n             // @param {Backbone.View} view\n             // @param {String} prefix\n,\n        prefixViewIds: function (view, prefix) {\n            if (typeof view === 'string') {\n                prefix = view;\n                view = this.currentView;\n            }\n            if (view instanceof Backbone.View) {\n                prefix = prefix || '';\n                // Adding the prefix to all ids\n                view.$('[id]').each(function () {\n                    var el = jQuery(this);\n                    if (el.parents('svg').length > 0 || !!el.data('nonprefix')) {\n                        return;    // don't overwrite svg child ids & data-nonprefix=\"true\"\n                    }\n                    el.attr('id', function (i, old_id) {\n                        return prefix + old_id;\n                    });\n                });\n                // Adding the prefix to all fors, so labels still work\n                view.$('[for]').each(function () {\n                    jQuery(this).attr('for', function (i, old_id) {\n                        return prefix + old_id;\n                    });\n                });\n            }\n        }    // @method addModalListeners\n             // @param {Backbone.View} view\n,\n        addModalListeners: function (view, current_view) {\n            var self = this;\n            // hidden is an even triggered by the bootstrap modal plugin\n            // we obliterate anything related to the view once the modal is closed\n            view.$containerModal.on('hidden.bs.modal', function () {\n                self.$el.removeClass('modal-open');\n                view.trigger('modal-close', view);\n                current_view.destroy();\n                view.$containerModal.remove();\n                view.$containerModal = null;\n                self.$containerModal = null;\n                self.modalCurrentView = null;\n                $current_modal_el = false;\n                self._currentView = self.currentView;\n                //After closing te modal, impose the underlying view's title\n                document.title = self.currentView && self.currentView.getTitle() || '';\n            });\n            //Only trigger afterAppendView when finished showing the modal (has animation which causes a delay)\n            view.$containerModal.on('shown.bs.modal', function () {\n                if (view.focusFirstInput ? view.focusFirstInput() : true) {\n                    view.$('form:first *:input[type!=hidden]:first').focus();\n                }\n                self.trigger('afterAppendView', view);\n                view.$containerModal.modal('handleUpdate');\n            });\n        }    // @method getCurrentView\n             // @return {Backbone.View} the current view no matter if rendered normally or in a modal.\n,\n        getCurrentView: function () {\n            return this._currentView;\n        }    // @method showInPush\n             // @param {Backbone.View} view\n             // @param {Object} options\n,\n        showInPush: function (view, options) {\n            var self = this;\n            options = options || {};\n            if (!this.$pusher_container) {\n                this.$pusher_container = jQuery('<div data-action=\"pushable\"></div>');\n                this.$el.append(this.$pusher_container);\n            }\n            view.$pusher_container = this.$pusher_container;\n            view.render();\n            this.pushCurrentView = view;\n            this.$pusher_container.append(view.$el);\n            this.$pusher_container.scPush();\n            this.$pusher_container.trigger('open');\n            this.$pusher_container.on('afterClose', function () {\n                if (!options.no_destroy) {\n                    if (view) {\n                        view.$el.empty();\n                        view.destroy();\n                        self.$pusher_container.find('div:empty').remove();\n                        self.pushCurrentView = null;\n                    }\n                }\n            });\n            return jQuery.Deferred().resolveWith(this, [view]);\n        }    // @method closePush\n,\n        closePush: function removePush() {\n            if (this.$pusher_container) {\n                this.$pusher_container.trigger('close');\n                this.$pusher_container.find('div:empty').remove();\n            }\n        },\n        showInModal: function (view, options) {\n            return this.cancelableTriggerUnsafe('beforeAppendView', view).then(_.bind(this._showInModal, this, view, options));\n        }    // @method showInModal\n             // @param {Backbone.View} view\n             // @param {className:String,modalOptions:Object} options Optional object\n             // @param {jQuery.Deferred}\n,\n        _showInModal: function (view, options) {\n            var promise_result = jQuery.Deferred();\n            options = jQuery.extend({ modalOptions: {} }, options);\n            view.events = view.events || {};\n            // We add the mousedown event on the 'Cancel' button to hide the modal, otherwise,\n            // the validation could add a validation error and move the position of the 'Cancel' button\n            // and fail to close the modal on the click event\n            // Order of the events: mousedown, blur, click\n            view.events['mousedown [data-dismiss=\"modal\"]'] = function (e) {\n                e.preventDefault();\n            };\n            // we tell the view its being shown in a Modal\n            view.inModal = true;\n            // we need a different variable to know if the view has already been rendered in a modal\n            // this is to add the Modal container only once to the DOM\n            if (!view.hasRenderedInModal) {\n                var element_id = view.$el.attr('id');\n                GlobalViewsModalView.prototype.attributes = {};\n                GlobalViewsModalView.prototype.className = 'modal fade ' + (view.modalClass || element_id ? 'modal-' + element_id : '');\n                GlobalViewsModalView.prototype.attributes.id = view.modalId || element_id ? 'modal-' + element_id : 'modal';\n                current_modal_view = new GlobalViewsModalView({\n                    childViewIstance: view,\n                    pageHeader: view.page_header || view.title || ''\n                });\n                this.$containerModal = view.$containerModal = current_modal_view.$el;\n                this.modalCurrentView = view;\n                this._currentView = view;\n                view.options.layout = this;\n            }\n            this.trigger('beforeAppendView', view);\n            if (!view.hasRenderedInModal) {\n                var self = this;\n                // if there was a modal opened we wait for close it\n                this.closeModal().done(function () {\n                    self._showModalInDOM(view, options, current_modal_view, promise_result);\n                });\n            } else {\n                this._renderModalView(view, current_modal_view);\n                promise_result.resolveWith(this, [view]);\n            }\n            return promise_result;\n        },\n        closeModal: function () {\n            var promise = jQuery.Deferred();\n            if ($current_modal_el) {\n                $current_modal_el.on('hidden.bs.modal', function () {\n                    promise.resolve();\n                });\n                $current_modal_el.modal('hide');\n            } else {\n                promise.resolve();\n            }\n            return promise;\n        }    //@method _renderModalView Internal method to render a view in a modal context\n             //@param {Backbone.View} view\n             //@param {jQuery} current_modal_view\n             //@return {Void}\n,\n        _renderModalView: function (view, current_modal_view) {\n            // Generates the HTML for the view based on its template\n            // http://backbonejs.org/#View-render\n            if (!view.hasRenderedInModal) {\n                current_modal_view.render();\n            } else {\n                view.render();\n            }\n            this.wrapModalView(view).prefixViewIds(view, 'in-modal-');\n        }    //@method _showModalInDOM Internal auxiliary method responsible for render the view and show it as a modal.\n             //@param {Backbone.View} view\n             //@param {Object} options\n             //@param {jQuery} current_modal_view\n             //@param {jQuery.Deferred} promise\n             //@return {Void}\n,\n        _showModalInDOM: function (view, options, current_modal_view, promise) {\n            this._renderModalView(view, current_modal_view);\n            $current_modal_el = view.$containerModal;\n            this.addModalListeners(view, current_modal_view);\n            // So, now we add the wrapper modal with the view in it to the DOM - we append it to the Layout view instead of body, so modal links are managed by NavigationHelper.\n            view.$containerModal.appendTo(this.el);\n            // We trigger the plugin, it can be passed custom options\n            // http://twitter.github.com/bootstrap/javascript.html#modals\n            view.$containerModal.modal(options.modalOptions);\n            //When we are in SiteBuilder all our CSS classes are wrapped up with a container (#main generally)\n            //and as  bootrap add the class modal-open at the body HTML element, this makes unaccessible for boostrap selector due to the #main selector in the middle\n            //In the and we need all boostrap events properly attached, so we fix it by adding this class inside the main wrapper\n            this.$el.addClass('modal-open');\n            if (options.className) {\n                view.$containerModal.addClass(options.className);\n            }\n            // the view has now been rendered in a modal\n            view.hasRenderedInModal = true;\n            promise.resolveWith(this, [view]);\n        }    // Defining the interface for this class. All modules will interact with the layout trough this methods some others may be added as well\n             // @method showError\n,\n        showError: jQuery.noop,\n        showSuccess: jQuery.noop,\n        childViews: {\n            'Header': function () {\n                var options = { application: this.application };\n                if (this.currentView && this.currentView.getHeaderViewOptions) {\n                    _.extend(options, this.currentView.getHeaderViewOptions());\n                }\n                this.headerViewInstance = new this.headerView(options);\n                return this.headerViewInstance;\n            },\n            'Footer': function () {\n                var options = { application: this.application };\n                if (this.currentView && this.currentView.getFooterViewOptions) {\n                    _.extend(options, this.currentView.getFooterViewOptions());\n                }\n                this.footerViewInstance = new this.footerView(options);\n                return this.footerViewInstance;\n            },\n            'Global.Breadcrumb': function () {\n                this.breadcrumbViewInstance = new GlobalViewsBreadcrumbView({ pages: this.breadcrumbPages });\n                return this.breadcrumbViewInstance;\n            },\n            'Notifications': function () {\n                return new NotificationsView();\n            }\n        }    //@method getContext\n             //@return {ApplicationSkeleton.Layout.Context}\n,\n        getContext: function () {\n            //@class ApplicationSkeleton.Layout.Context\n            return {};\n        }\n    });\n});    //@class BreadcrumbPage\n       //@property {String} text\n       //@property {String} href\n","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module MyAccountApplication\ndefine('SC.MyAccount.Layout', [\n    'ApplicationSkeleton.Layout',\n    'MenuTree.View',\n    'myaccount_layout.tpl',\n    'underscore',\n    'Utils'\n], function (ApplicationSkeletonLayout, MenuTreeView, myaccount_layout_tpl, _) {\n    'use strict';\n    //@class SCA.MyAccount.Layout @extends ApplicationSkeleton.Layout\n    return ApplicationSkeletonLayout.extend({\n        //@property {Function} template\n        template: myaccount_layout_tpl,\n        className: 'layout-container'    //@method updateLayoutSB\n,\n        updateLayoutSB: function (selected_menu) {\n            this.selectedMenu = selected_menu || this.selectedMenu;\n            if (this.application.getConfig('siteSettings.sitetype') === 'STANDARD') {\n                if (_.isPhoneDevice() && this.selectedMenu === 'home') {\n                    // show side nav hide content\n                    this.$('.myaccount-layout-side-nav').removeClass('hide');\n                    this.$('.myaccount-layout-main').hide();\n                } else if (!_.isPhoneDevice()) {\n                    // show side nav and content\n                    this.$('.myaccount-layout-side-nav').removeClass('hide');\n                    this.$('.myaccount-layout-main').show();\n                } else {\n                    // hide side nav show content\n                    this.$('.myaccount-layout-side-nav').addClass('hide');\n                    this.$('.myaccount-layout-main').show();\n                }\n            }\n        }    //@method showContent Extends the original show content and adds support to update the sidebar and the breadcrumb\n,\n        showContent: function (view, dont_scroll) {\n            var promise = ApplicationSkeletonLayout.prototype.showContent.call(this, view, dont_scroll), selected_menu = view.getSelectedMenu ? view.getSelectedMenu() : '';\n            MenuTreeView.getInstance().updateSidebar(selected_menu);\n            this.updateLayoutSB(selected_menu);\n            return promise;\n        }    //@property {Array} breadcrumbPrefix\n,\n        breadcrumbPrefix: [\n            {\n                href: '#',\n                'data-touchpoint': 'home',\n                'data-hashtag': '#',\n                text: _('Home').translate()\n            },\n            {\n                href: '#',\n                'data-touchpoint': 'customercenter',\n                'data-hashtag': '#overview',\n                text: _('My Account').translate()\n            }\n        ]    //@propery {Object} childViews\n,\n        childViews: _.extend(ApplicationSkeletonLayout.prototype.childViews, {\n            'MenuTree': function () {\n                this.menuTreeViewInstance = MenuTreeView.getInstance();\n                return this.menuTreeViewInstance;\n            }\n        })\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module SC\ndefine('SC.ComponentContainer', ['underscore'], function (_) {\n    'use strict';\n    // @function sealComponent helper method to avoid that customers overwrite the component properties\n    // @param {SC.BaseComponent} component component to be sealed\n    // @param {String} component_name the component name\n    // @private\n    function sealComponent(component, component_name) {\n        try {\n            _.each(component, function (value, prop) {\n                Object.defineProperty(component, prop, {\n                    get: function () {\n                        return value;\n                    },\n                    set: function () {\n                        throw new Error('You cannot override property ' + prop + ' of component ' + component_name);\n                    }\n                });\n            });\n        } catch (e) {\n        }\n        return component;\n    }\n    // @class SC.ComponentContainer Manager of components. Extensions can get components implementations and register new component \n    // classes. A component is referenced always by its name. Host application provides a container instance to extensions through \n    // method @?method SC.SC.ExtensionEntryPoint.mountToApp\n    return {\n        // @property {Object} _components All the SC.Components loaded into the current application\n        // @private\n        _components: {}    // @method registerComponent Allows to register a new component into the running application\n              // it also seals the component, so as to not add new properties or messing up with the available\n              // components APIs.\n              // @param {SC.BaseComponent} component Component to be registered\n              // @public @extlayer\n              // @return {Void}\n,\n        registerComponent: function registerComponent(component) {\n            if (component && component.componentName) {\n                this._components[component.componentName] = sealComponent(component, component.componentName);\n                return;\n            }\n            var error = new Error('Invalid component parameter, make sure you specify a componentName property and getProxy method');\n            error.name = 'INVALID_PARAM';\n            throw error;\n        }    // @method getComponent Returns the requested component based on its name if there is no component with that name registered in this container\n             // @public @extlayer\n             // @param {String} component_name\n             // @return {SC.BaseComponent|null}\n,\n        getComponent: function getComponent(component_name) {\n            return this._components[component_name] || null;\n        }\n    };\n});    // @class SC.ExtensionEntryPoint An extension entry point an object provided by extensions implementing the method mountToApp that the host \n       // application calls passing a @?class SS.ComponentContainer instance so the extension can get concrete Component implementations\n       // (@?class SC.BaseComponent) or register new components to implement new extension points. See @?class SC.ComponentContainer\n       // @method mountToApp When the host application starts, it will call this method for each activated extension, in order of activation. \n       // @param {SC.ComponentContainer} componentContainer\n       // @public @extlayer\n","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module SC\ndefine('SC.ComponentErrors', [], function () {\n    'use strict';\n    return {\n        //@property {Object} notImplemented\n        notImplemented: {\n            // @property {String} code\n            code: 'NOT_IMPLEMENTED'    // @property {String} message\n,\n            message: 'Not implemented.'\n        }\n    };\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module SC\ndefine('SC.BaseComponent', [\n    'SC.CancelableEvents',\n    'SC.ComponentErrors',\n    'Utils',\n    'underscore'\n], function (SCCancelableEvents, SCComponentErrors, Utils, _) {\n    'use strict';\n    // @class SC.BaseComponent Base abstract class for front-end components. Use method @?method SC.SC.BaseComponent.extend to build concrete components.\n    // Implements helper methods for Views manipulation\n    // @extends SC.CancelableEvents\n    var base_component = _.extend({\n        // @property {String} componentName The name which identify this kind of component. This name is used both for registering a new component and\n        // getting a component implementation with @?class SC.ComponentContainer\n        // @extlayer\n        // @property {ApplicationSkeleton} application\n        // @method extend Extends the current component to generate a child one\n        // @public @extlayer\n        // @param {Object} child_component Any object with properties/methods that will be used to generate the SC.Component that will be returned\n        // @return {SC.BaseComponent}\n        extend: function extend(child_component) {\n            if (!child_component || !child_component.componentName && !this.componentName || !child_component.application) {\n                return this._reportError('INVALID_PARAM', 'Invalid SC.Component. Property \"componentName\" and \"application\" are required.');\n            }\n            this.application = child_component.application;\n            var new_component = _.extend({}, this, child_component);\n            return new_component;\n        }    // @method _reportError Internal method used to centrally handle error reporting\n             // @private\n             // @param {String} code Error code\n             // @param {String} description Error description\n             // @return {Error}\n,\n        _reportError: function _reportError(code, description) {\n            var error = new Error(description);\n            error.name = code;\n            throw error;\n        }    // @method _exposeAPIEvent Handle common code to expose private Application before and after events\n             // into public Extensibility events\n             // @param {String} event_name name of the private event\n             // @return {jQuery.Deferred}\n             // @private\n,\n        _exposeAPIEvent: function _exposeAPIEvent() {\n            var args = Array.prototype.slice.call(arguments);\n            return this.cancelableTrigger.apply(this, args);\n        }    //@method _suscribeToInnerEvents subscribes to the inner events, according to the innerToOuterMap parameter, in order to trigger the outer events\n             //@param {Array<String, String, Function>} innerToOuterMap Maps inner events with outer events\n             //@private\n,\n        _suscribeToInnerEvents: function _suscribeToInnerEvents(innerToOuterMap, model) {\n            var self = this;\n            _.map(innerToOuterMap, function (innerToOuter) {\n                var exposeInnerEvent = function exposeInnerEvent() {\n                    //remove the model (first argument) and keeps the first place of the array\n                    var args = Utils.deepCopy(Array.prototype.slice.call(arguments));\n                    args = innerToOuter.normalize ? innerToOuter.normalize.apply(self, args) : args;\n                    //prepend the event name to the arguments array\n                    args = _.isArray(args) ? args : [args];\n                    args.unshift(innerToOuter.outer);\n                    _.each(innerToOuter.disableEvents || [], function (event_name) {\n                        self.cancelableDisable(event_name);\n                    });\n                    _.each(innerToOuter.enableEvents || [], function (event_name) {\n                        self.cancelableEnable(event_name);\n                    });\n                    return self._exposeAPIEvent.apply(self, args);\n                };\n                model.cancelableOn(innerToOuter.inner, exposeInnerEvent);\n                model.on('destroy', function cancelOffInnerEvent() {\n                    model.cancelableOff(innerToOuter.inner, exposeInnerEvent);\n                });\n            });\n        }\n    }, SCCancelableEvents);\n    // @method on alias for @?method SC.SC.CancelableEvents.cancelableOn @extlayer @public\n    base_component.on = base_component.cancelableOn;\n    // @method off alias for @?method SC.SC.CancelableEvents.cancelableOff @extlayer @public\n    base_component.off = base_component.cancelableOff;\n    base_component.ERROR_IDENTIFIERS = SCComponentErrors;\n    return base_component;\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module SC\ndefine('SC.BaseComponent.ChildViewsComponent', ['underscore'], function (_) {\n    'use strict';\n    var root_component_add_map = {};\n    var root_component_set_map = {};\n    var root_component_remove_map = {};\n    // window.component = { add: root_component_add_map, set: root_component_set_map, rem: root_component_remove_map };\n    return {\n        _normalizeChildViews: function _normalizeChildViews(child_views) {\n            _.each(child_views, function (view_name, container_name) {\n                if (_.isFunction(view_name)) {\n                    var childViewConstructor = view_name;\n                    child_views[container_name] = {};\n                    child_views[container_name][container_name] = {\n                        childViewIndex: 10,\n                        childViewIsExternal: true,\n                        childViewConstructor: childViewConstructor\n                    };\n                } else {\n                    _.each(view_name, function (child_view) {\n                        child_view.childViewIsExternal = true;\n                    });\n                }\n            });\n            return child_views;\n        },\n        addChildViews: function addChildViews(component_id, child_views) {\n            child_views = this._normalizeChildViews(child_views || {});\n            if (!root_component_add_map[component_id]) {\n                root_component_add_map[component_id] = {};\n            }\n            _.each(child_views, function (views, data_view) {\n                if (!root_component_add_map[component_id][data_view]) {\n                    root_component_add_map[component_id][data_view] = {};\n                }\n                _.each(views, function (generator, view_id) {\n                    root_component_add_map[component_id][data_view][view_id] = generator;\n                });\n            });\n        },\n        removeChildView: function removeChildView(component_id, container_name, view_name) {\n            root_component_remove_map[component_id] = root_component_remove_map[component_id] || {};\n            root_component_remove_map[component_id][container_name] = root_component_remove_map[component_id][container_name] || {};\n            root_component_remove_map[component_id][container_name][view_name] = true;\n        },\n        setChildViewIndex: function setChildViewIndex(component_id, container_name, view_name, index) {\n            if (!root_component_set_map[component_id]) {\n                root_component_set_map[component_id] = {};\n            }\n            if (!root_component_set_map[component_id][container_name]) {\n                root_component_set_map[component_id][container_name] = {};\n            }\n            root_component_set_map[component_id][container_name][view_name] = index;\n        },\n        _getChildViews: function _getChildViews(map_structure, component_id, data_views) {\n            if (map_structure[component_id]) {\n                return _.pick(map_structure[component_id], data_views);\n            }\n            return {};\n        },\n        getModifiedChildViews: function getModifiedChildViews(component_id, data_views) {\n            return {\n                'addChildViews': this._getChildViews(root_component_add_map, component_id, data_views),\n                'setChildViewsIndex': this._getChildViews(root_component_set_map, component_id, data_views),\n                'removeChildViews': this._getChildViews(root_component_remove_map, component_id, data_views)\n            };\n        }\n    };\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n/*\n\t@module SC\n\t@class SC.BaseComponent.Plugin.RecollectDataViewSelectors\n\n\tLoads the recollectDataViewSelectors plugin that iterates through all the tags that contains data-cms in the\n\ttemplate string.\n*/\ndefine('SC.BaseComponent.Plugin.RecollectDataViewSelectors', [\n    'underscore',\n    'SC.BaseComponent.ChildViewsComponent'\n], function (_, SCBaseComponentChildViewsComponent) {\n    'use strict';\n    return function SCBaseComponentPluginRecollectDataViewSelectors() {\n        return {\n            name: 'recollectDataViewSelectors',\n            priority: 10,\n            execute: function (tmpl_str, view) {\n                var regex = /<[^>]*(data-view)=\\\"([^\"\\s]+)\\\"[^>]*>/g, regexCMS = /<[^>]*(data-cms-area)=\\\"([^\"\\s]+)\\\"[^>]*>/g, match = regex.exec(tmpl_str), matchCMS = regexCMS.exec(tmpl_str), selectors_on_ui = [], root_component_id = view.attributes && view.attributes['data-root-component-id'] || '', component_id = view.constructor.componentId;\n                while (match !== null) {\n                    selectors_on_ui.push(match[2]);\n                    match = regex.exec(tmpl_str);\n                }\n                while (matchCMS !== null) {\n                    selectors_on_ui.push('cms:' + matchCMS[2]);\n                    matchCMS = regexCMS.exec(tmpl_str);\n                }\n                var components = [\n                    'Backbone.View',\n                    root_component_id,\n                    component_id\n                ];\n                if (selectors_on_ui.length > 0) {\n                    _.each(components, function (component) {\n                        if (component) {\n                            var modifiedChildViews = SCBaseComponentChildViewsComponent.getModifiedChildViews(component, selectors_on_ui);\n                            view.addChildViewInstances(modifiedChildViews.addChildViews, false);\n                            _.each(modifiedChildViews.setChildViewsIndex, function (child_views, data_view) {\n                                _.each(child_views, function (child_view_index, child_view_id) {\n                                    view.setChildViewIndex(data_view, child_view_id, child_view_index, false);\n                                });\n                            });\n                            _.each(modifiedChildViews.removeChildViews, function (child_views, data_view) {\n                                _.each(child_views, function (value, child_view_id) {\n                                    view.removeChildViewInstance(data_view, child_view_id, true);\n                                });\n                            });\n                        }\n                    });\n                }\n                return tmpl_str;\n            }\n        };\n    };\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module SC\ndefine('SC.VisualComponent', [\n    'Backbone.View.render',\n    'SC.BaseComponent',\n    'SC.BaseComponent.ChildViewsComponent',\n    'SC.BaseComponent.Plugin.RecollectDataViewSelectors',\n    'Utils',\n    'underscore',\n    'Backbone'\n], function (BackboneView, SCBaseComponent, SCBaseComponentChildViewsComponent, SCBaseComponentPluginRecollectDataViewSelectors, Utils, _, Backbone) {\n    'use strict';\n    Backbone.View.postCompile.install(SCBaseComponentPluginRecollectDataViewSelectors());\n    // @class SC.BaseComponent Base abstract class for front-end components. Use method @?method SC.SC.BaseComponent.extend to build concrete components.\n    // Implements helper methods for Views manipulation\n    // @extends SC.CancelableEvents\n    var visual_component = _.extend({}, SCBaseComponent, {\n        // @property {String} componentName The name which identify this kind of component. This name is used both for registering a new component and\n        // getting a component implementation with @?class SC.ComponentContainer\n        // @extlayer\n        // @property {ApplicationSkeleton} application\n        // @method extend Extends the current component to generate a child one\n        // @public @extlayer\n        // @param {Object} child_component Any object with properties/methods that will be used to generate the SC.Component that will be returned\n        // @return {SC.BaseComponent}\n        extend: function extend(child_component) {\n            if (!child_component || !child_component.componentName && !this.componentName || !child_component.application) {\n                return this._reportError('INVALID_PARAM', 'Invalid SC.Component. Property \"componentName\" and \"application\" are required.');\n            }\n            this.application = child_component.application;\n            var new_component = _.extend({}, this, child_component);\n            new_component.application.getLayout().cancelableOn('beforeAppendView', _.bind(new_component._onApplicationBeforeView, new_component));\n            new_component.application.getLayout().on('afterAppendView', _.bind(new_component._onApplicationAfterAppendView, new_component));\n            return new_component;\n        }    // @method _onApplicationBeforeView Internal method used to automatically notify when views of the current component are about to be shown (BEFORE append view)\n             // @private\n             // @param {Backbone.View} view The view that will be shown\n             // @return {jQuery.Deferred|Void}\n,\n        _onApplicationBeforeView: function _onApplicationBeforeView(view) {\n            if (this._isViewFromComponent(view, true)) {\n                try {\n                    var self = this;\n                    this.viewToBeRendered = view;\n                    //@event {Void} showContent Trigger after a PDP is rendered.\n                    //@public\n                    return this.cancelableTrigger('beforeShowContent', this._getViewIdentifier(view)).always(function () {\n                        self.viewToBeRendered = null;\n                    });\n                } catch (e) {\n                    this.viewToBeRendered = null;\n                    throw e;\n                }\n            }\n        }    // @method _onApplicationAfterAppendView Internal method used to automatically notify when views of the current component where shown (AFTER append view)\n             // @private\n             // @param {Backbone.View} view The view that was shown\n             // @return {Void}\n,\n        _onApplicationAfterAppendView: function _onApplicationAfterAppendView(view) {\n            if (this._isViewFromComponent(view, true)) {\n                this.viewToBeRendered = null;\n                //@event {Void} afterShowContent Trigger after a PDP is rendered.\n                //@public\n                this.cancelableTrigger('afterShowContent', this._getViewIdentifier(view));\n            }\n        }    // @method _getViewIdentifier Given a view that belongs to the current component, returns the \"type\"/\"kind\" of view.\n             // This is used to determine what view among all the view of the current component is being shown\n             // @param {Backbone.View} view\n             // @return {String}\n             // @private\n,\n        _getViewIdentifier: function _getViewIdentifier() {\n            return 'CURRENT_VIEW';\n        }    // @method _isViewFromComponent Indicate if the passed-in the View is a View of the current component.\n             // The aim of this method is to be overwritten\n             // @private\n             // @param {Backbone.View} view Any view of the system\n             // @param {Boolean} is_instance Indicate if the passed in view is an instance or a constructor function.\n             // @return {Boolean} True in case the passed in View is a view of the current Component, false otherwise\n,\n        _isViewFromComponent: function _isViewFromComponent() {\n            return false;\n        }    // @method setChildViewIndex Change the position of a Child View inside a container\n             // @public @extlayer\n             // @param {String} view_id The identifier of the view, of the current component, that will have the Child View to change the index\n             // @param {String} placeholder_selector Identifier of the location where the view is located inside the specified View (view_id)\n             // @param {String} view_name Identifier of an specific view into the placeholder\n             // @param {Number} index The new index to position the Child View\n             // @return {null} null if everything works as expected. An exception will be thrown otherwise.\n,\n        setChildViewIndex: function setChildViewIndex(view_id, placeholder_selector, view_name, index) {\n            this._setChildViewIndex(view_id, placeholder_selector, view_name, index);\n        },\n        _setChildViewIndex: function _setChildViewIndex(view_id, placeholder_selector, view_name, index) {\n            var view;\n            try {\n                view = Utils.requireModules(view_id);\n            } catch (e) {\n                return this._reportError('INVALID_PARAM', 'The specified view_id is not valid for the current component.');\n            }\n            if (view && _.isFunction(view.setChildViewIndex) && this._isViewFromComponent(view, false)) {\n                SCBaseComponentChildViewsComponent.setChildViewIndex(view_id, placeholder_selector, view_name, index);\n            }\n        },\n        _getDefaultView: function _getDefaultView() {\n            if (this.DEFAULT_VIEW) {\n                return this.DEFAULT_VIEW;\n            } else {\n                return this._reportError('UNDEFINED_DEFAULTVIEW', 'The \"DEFAULT_VIEW\" was not defined in the Component');\n            }\n        }    // @method addChildView Add a child view in the data-view 'data_view' passed as parameter in the default view of the component\n,\n        addChildView: function addChildView(data_view, view_constructor) {\n            var generator = {}, view_id = _.uniqueId('view');\n            generator[data_view] = {};\n            generator[data_view][view_id] = { childViewConstructor: view_constructor };\n            this.addChildViews(this._getDefaultView(), generator);\n            return view_id;\n        }    // Add a new contextData to the view of the component\n             // {String} (optional) view_id The id of the view to add the new contextData\n             // {String} name The name of the new contextData\n             // {Function} func The function that will called when requesting the new contextData\n,\n        addContextData: function (view_id, name, func) {\n            if (arguments.length === 2) {\n                func = name;\n                name = view_id;\n                view_id = this._getDefaultView();\n            }\n            if (!_.isString(name)) {\n                this._reportError('INVALID_PARAM', 'The specified name is not valid.');\n            }\n            if (!_.isFunction(func)) {\n                this._reportError('INVALID_PARAM', 'The specified function is not valid.');\n            }\n            var view = Utils.requireModules(view_id);\n            if (view) {\n                view.contextData = view.contextData || {};\n                view.contextData[name] = func;\n            } else {\n                this._reportError('INVALID_PARAM', 'The specified view_id is not valid for the current component.');\n            }\n        }    // @method addChildViews Adds a child view/child views given by the child_views parameter into the specified view of the current component\n             // @public @extlayer\n             // @param {String} view_id The identifier of the view, of the current component, that will be extended with an extra/s child view/s\n             // @param {ChildViews} child_views Identifier of the location where the new view will be located inside the specified View (view_id)\n             // @return {null} null if everything works as expected. An exception will be thrown otherwise.\n,\n        addChildViews: function addChildViews(view_id, child_views) {\n            return this._addChildViews(view_id, child_views);\n        },\n        _addChildViews: function _addChildViews(view_id, child_views) {\n            var view;\n            try {\n                view = Utils.requireModules(view_id);\n            } catch (error) {\n                return this._reportError('INVALID_PARAM', 'The specified view_id is not valid for the current component or the view_constructor is not a function.');\n            }\n            if (view && _.isFunction(view.addChildViews) && this._isViewFromComponent(view, false)) {\n                view.componentId = view_id;\n                SCBaseComponentChildViewsComponent.addChildViews(view_id, child_views);\n            }\n        }    // @method removeChildView Removes a child view for a given view id\n             // @public @extlayer\n             // @param {String} view_id The identifier of the view, of the current component, that will be extended with an extra child view\n             // @param {String} placeholder_selector Identifier of the location where the new view will be located inside the specified View (view_id)\n             // @param {string} view_name Identifier of an specific view into the placeholder\n             // @return {null} null if everything works as expected. An exception will be thrown otherwise.\n,\n        removeChildView: function removeChildView(view_id, placeholder_selector, view_name)\n            // If removeChildView is called with only 1 parameter, it will be the placeholder_selector only, and it will remove it from the default_view\n            {\n                if (arguments.length < 1 || arguments.length > 3) {\n                    return this._reportError('INVALID_PARAM_COUNT', 'Incorrect number of parameters');\n                } else if (arguments.length === 2) {\n                    view_name = placeholder_selector;\n                    placeholder_selector = view_id;\n                    view_id = this._getDefaultView();\n                } else if (arguments.length === 1) {\n                    view_name = view_id;\n                    placeholder_selector = view_id;\n                    view_id = this._getDefaultView();\n                }\n                this._removeChildView(view_id, placeholder_selector, view_name);\n            },\n        _removeChildView: function removeChildView(view_id, placeholder_selector, view_name) {\n            var view;\n            try {\n                view = Utils.requireModules(view_id);\n            } catch (e) {\n                return this._reportError('INVALID_PARAM', 'The specified view_id is not valid for the current component.');\n            }\n            if (view && _.isFunction(view.removeChildView) && this._isViewFromComponent(view, false)) {\n                view_name = view_name || placeholder_selector;\n                SCBaseComponentChildViewsComponent.removeChildView(view_id, placeholder_selector, view_name);\n            }\n        }    // @method addToViewContextDefinition Adds an extra property to the UI context of a view id to extend the interaction with its template\n             // @public @extlayer\n             // @param {String} view_id The identifier of the view, of the current component, that will have its context extended.\n             // @param {String} property_name Name of the new property to be added\n             // @param {String} type Name of the type of the result of the callback (function that generates the value of the new property)\n             // @param {Function} callback Function in charge of generating the value for the new property.\n             // @return {null} null if everything works as expected. An exception will be thrown otherwise.\n,\n        addToViewContextDefinition: function addToViewContextDefinition(view_id, property_name, type, callback) {\n            var target_view = Utils.requireModules(view_id);\n            if (target_view && _.isFunction(target_view.addExtraContextProperty) && _.isFunction(callback) && this._isViewFromComponent(target_view, false)) {\n                target_view.addExtraContextProperty(property_name, type, callback);\n            } else {\n                return this._reportError('INVALID_PARAM', 'The specified view_id (' + view_id + ') is not valid for the current component or the callback is not a function.');\n            }\n        }    // @method removeToViewContextDefinition Removes an extra property to the UI context of a view.\n             // @public @extlayer\n             // @param {String} view_id The identifier of the view, of the current component, that will have its context extended.\n             // @param {String} property_name Name of the new property to be added\n             // @return {null} null if everything works as expected. An exception will be thrown otherwise.\n,\n        removeToViewContextDefinition: function removeToViewContextDefinition(view_id, property_name) {\n            var target_view = Utils.requireModules(view_id);\n            if (target_view && _.isFunction(target_view.removeExtraContextProperty) && this._isViewFromComponent(target_view, false)) {\n                target_view.removeExtraContextProperty(property_name);\n            } else {\n                return this._reportError('INVALID_PARAM', 'The specified view_id (' + view_id + ') is not valid for the current component or operation.');\n            }\n        }    // @method addToViewEventsDefinition Allows to add an extra event handler over a particular view for the given event selector\n             // @public @extlayer\n             // @param {String} view_id The identifier of the view, of the current component, that will be extended with an extra event handler.\n             // @param {String} event_selector\n             // @param {Function} callback Event handler function called when the specified event occurs\n             // @return {Void}\n,\n        addToViewEventsDefinition: function addToViewEventsDefinition(view_id, event_selector, callback) {\n            var target_view = Utils.requireModules(view_id);\n            if (!target_view || !_.isFunction(target_view.addExtraEventHandler) || !this._isViewFromComponent(target_view, false) || !_.isFunction(callback)) {\n                return this._reportError('INVALID_PARAM', 'The specified view_id (' + view_id + ') is not valid for the current component or operation, or the callback parameter is not a function.');\n            } else {\n                target_view.addExtraEventHandler(event_selector, callback);\n            }\n        }    // @method removeToViewEventsDefinition Allows to remove and an extra event handler added previously.\n             // @public @extlayer\n             // @param {String} view_id The identifier of the view, of the current component.\n             // @param {String} event_selector\n             // @return {Void}\n,\n        removeToViewEventsDefinition: function removeToViewEventsDefinition(view_id, event_selector) {\n            var target_view = Utils.requireModules(view_id);\n            if (!target_view || !_.isFunction(target_view.addExtraEventHandler) || !this._isViewFromComponent(target_view, false)) {\n                return this._reportError('INVALID_PARAM', 'The specified view_id (' + view_id + ') is not valid for the current component or operation, or the callback parameter is not a function.');\n            } else {\n                target_view.removeExtraEventHandler(event_selector);\n            }\n        }\n    });\n    return visual_component;\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n/*jshint unused:false*/\n// @module ApplicationSkeleton\ndefine('SC.LayoutComponent', [\n    'SC.VisualComponent',\n    'underscore',\n    'jQuery'\n], function (SCVisualComponent, _, jQuery) {\n    'use strict';\n    // @class LayoutComponent Allow users to manipulate views composition, bindings, events, template context, current view, exposing\n    // interesting moments as events regarding navigation and application life cycle.\n    // @extends SC.BaseComponent @public @extlayer\n    return function LayoutComponentGenerator(application) {\n        var privateComponent = SCVisualComponent.extend({\n            componentName: 'Layout',\n            application: application,\n            ALL_VIEWS: 'Backbone.View',\n            DEFAULT_VIEW: 'Backbone.View',\n            _isViewFromComponent: function _isViewFromComponent() {\n                return true;\n            },\n            _getViewIdentifier: function _getViewIdentifier(view) {\n                return view && view.attributes && view.attributes.id;\n            }    // @method addChildView Add a child view in the data-view 'data_view' passed as parameter in the default view of the component\n,\n            addChildView: function addChildView(data_view, view_constructor) {\n                var generator = {}, view_id = _.uniqueId('view');\n                generator[data_view] = {};\n                generator[data_view][view_id] = { childViewConstructor: view_constructor };\n                this.addChildViews(this.ALL_VIEWS, generator);\n                return view_id;\n            },\n            showContent: function showContent(view, options) {\n                try {\n                    if (view) {\n                        if (options.showInModal) {\n                            return this.application.getLayout().showInModal(view, options.options);\n                        } else {\n                            return this.application.getLayout().showContent(view, options.dontScroll);\n                        }\n                    } else {\n                        this._reportError('INVALID_PARAM', 'Missing \"view\" parameter');\n                    }\n                } catch (error) {\n                    return jQuery.Deferred().reject(error);\n                }\n            }\n        });\n        return privateComponent;\n    };\n});    // @class View\n       // A view is a visual unit which responsibility is to show a model instance in the DOM, event binding, view composition, etc.\n       // IN SuiteCommerce, Views are implemented with [Backbonejs Backbone.View](http://backbonejs.org/#View). *View* here is just\n       // a name to hide implementation specific details.\n       // The applicaiotn's layout have a *currentView* that implements a main feature and usually correspond to a stateless url.\n       // @extlayer\n       // @class Backbone.View SuiteCommerce BackboneViews implement a View so if your extension implements a Backbone.View you can pass\n       // such an instance to, for example, @?method setCurrentView @extends View. See [Backbonejs Backbone.View](http://backbonejs.org/#View)\n       // @extlayer\n","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// console.js\n// ----------------------\n// Defines console for IE.\n// Used to prevent the application to stop working in IE \ndefine('Console.Polyfill', function () {\n    'use strict';\n    // verify if there not console\n    if (typeof window.console === 'undefined') {\n        window.console = {};\n        var i = 0    // defining default function\n, noop = function () {\n            }    // defining methods names for console.\n, methods = [\n                'assert',\n                'error',\n                'clear',\n                'count',\n                'debug',\n                'dir',\n                'dirxml',\n                'exception',\n                'group',\n                'groupCollapsed',\n                'groupEnd',\n                'info',\n                'log',\n                'profile',\n                'profileEnd',\n                'table',\n                'time',\n                'timeEnd',\n                'trace',\n                'warn'\n            ];\n        // adding all methods\n        for (; i < methods.length; i++) {\n            window.console[methods[i]] = noop;\n        }\n    }\n    // adding memory object\n    if (typeof window.console.memory === 'undefined') {\n        window.console.memory = {};\n    }\n});","//  json2.js\n//  2016-10-28\n//  Public Domain.\n//  NO WARRANTY EXPRESSED OR IMPLIED. USE AT YOUR OWN RISK.\n//  See http://www.JSON.org/js.html\n//  This code should be minified before deployment.\n//  See http://javascript.crockford.com/jsmin.html\n//  USE YOUR OWN COPY. IT IS EXTREMELY UNWISE TO LOAD CODE FROM SERVERS YOU DO\n//  NOT CONTROL.\n//  This file creates a global JSON object containing two methods: stringify\n//  and parse. This file provides the ES5 JSON capability to ES3 systems.\n//  If a project might run on IE8 or earlier, then this file should be included.\n//  This file does nothing on ES5 systems.\n//      JSON.stringify(value, replacer, space)\n//          value       any JavaScript value, usually an object or array.\n//          replacer    an optional parameter that determines how object\n//                      values are stringified for objects. It can be a\n//                      function or an array of strings.\n//          space       an optional parameter that specifies the indentation\n//                      of nested structures. If it is omitted, the text will\n//                      be packed without extra whitespace. If it is a number,\n//                      it will specify the number of spaces to indent at each\n//                      level. If it is a string (such as \"\\t\" or \"&nbsp;\"),\n//                      it contains the characters used to indent at each level.\n//          This method produces a JSON text from a JavaScript value.\n//          When an object value is found, if the object contains a toJSON\n//          method, its toJSON method will be called and the result will be\n//          stringified. A toJSON method does not serialize: it returns the\n//          value represented by the name/value pair that should be serialized,\n//          or undefined if nothing should be serialized. The toJSON method\n//          will be passed the key associated with the value, and this will be\n//          bound to the value.\n//          For example, this would serialize Dates as ISO strings.\n//              Date.prototype.toJSON = function (key) {\n//                  function f(n) {\n//                      // Format integers to have at least two digits.\n//                      return (n < 10)\n//                          ? \"0\" + n\n//                          : n;\n//                  }\n//                  return this.getUTCFullYear()   + \"-\" +\n//                       f(this.getUTCMonth() + 1) + \"-\" +\n//                       f(this.getUTCDate())      + \"T\" +\n//                       f(this.getUTCHours())     + \":\" +\n//                       f(this.getUTCMinutes())   + \":\" +\n//                       f(this.getUTCSeconds())   + \"Z\";\n//              };\n//          You can provide an optional replacer method. It will be passed the\n//          key and value of each member, with this bound to the containing\n//          object. The value that is returned from your method will be\n//          serialized. If your method returns undefined, then the member will\n//          be excluded from the serialization.\n//          If the replacer parameter is an array of strings, then it will be\n//          used to select the members to be serialized. It filters the results\n//          such that only members with keys listed in the replacer array are\n//          stringified.\n//          Values that do not have JSON representations, such as undefined or\n//          functions, will not be serialized. Such values in objects will be\n//          dropped; in arrays they will be replaced with null. You can use\n//          a replacer function to replace those with JSON values.\n//          JSON.stringify(undefined) returns undefined.\n//          The optional space parameter produces a stringification of the\n//          value that is filled with line breaks and indentation to make it\n//          easier to read.\n//          If the space parameter is a non-empty string, then that string will\n//          be used for indentation. If the space parameter is a number, then\n//          the indentation will be that many spaces.\n//          Example:\n//          text = JSON.stringify([\"e\", {pluribus: \"unum\"}]);\n//          // text is '[\"e\",{\"pluribus\":\"unum\"}]'\n//          text = JSON.stringify([\"e\", {pluribus: \"unum\"}], null, \"\\t\");\n//          // text is '[\\n\\t\"e\",\\n\\t{\\n\\t\\t\"pluribus\": \"unum\"\\n\\t}\\n]'\n//          text = JSON.stringify([new Date()], function (key, value) {\n//              return this[key] instanceof Date\n//                  ? \"Date(\" + this[key] + \")\"\n//                  : value;\n//          });\n//          // text is '[\"Date(---current time---)\"]'\n//      JSON.parse(text, reviver)\n//          This method parses a JSON text to produce an object or array.\n//          It can throw a SyntaxError exception.\n//          The optional reviver parameter is a function that can filter and\n//          transform the results. It receives each of the keys and values,\n//          and its return value is used instead of the original value.\n//          If it returns what it received, then the structure is not modified.\n//          If it returns undefined then the member is deleted.\n//          Example:\n//          // Parse the text. Values that look like ISO date strings will\n//          // be converted to Date objects.\n//          myData = JSON.parse(text, function (key, value) {\n//              var a;\n//              if (typeof value === \"string\") {\n//                  a =\n//   /^(\\d{4})-(\\d{2})-(\\d{2})T(\\d{2}):(\\d{2}):(\\d{2}(?:\\.\\d*)?)Z$/.exec(value);\n//                  if (a) {\n//                      return new Date(Date.UTC(+a[1], +a[2] - 1, +a[3], +a[4],\n//                          +a[5], +a[6]));\n//                  }\n//              }\n//              return value;\n//          });\n//          myData = JSON.parse('[\"Date(09/09/2001)\"]', function (key, value) {\n//              var d;\n//              if (typeof value === \"string\" &&\n//                      value.slice(0, 5) === \"Date(\" &&\n//                      value.slice(-1) === \")\") {\n//                  d = new Date(value.slice(5, -1));\n//                  if (d) {\n//                      return d;\n//                  }\n//              }\n//              return value;\n//          });\n//  This is a reference implementation. You are free to copy, modify, or\n//  redistribute.\n/*jslint\n    eval, for, this\n*/\n/*property\n    JSON, apply, call, charCodeAt, getUTCDate, getUTCFullYear, getUTCHours,\n    getUTCMinutes, getUTCMonth, getUTCSeconds, hasOwnProperty, join,\n    lastIndex, length, parse, prototype, push, replace, slice, stringify,\n    test, toJSON, toString, valueOf\n*/\n// Create a JSON object only if one does not already exist. We create the\n// methods in a closure to avoid creating global variables.\ndefine('json2', [], function () {\n    if (typeof JSON !== 'object') {\n        JSON = {};\n    }\n    (function () {\n        'use strict';\n        var rx_one = /^[\\],:{}\\s]*$/;\n        var rx_two = /\\\\(?:[\"\\\\\\/bfnrt]|u[0-9a-fA-F]{4})/g;\n        var rx_three = /\"[^\"\\\\\\n\\r]*\"|true|false|null|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?/g;\n        var rx_four = /(?:^|:|,)(?:\\s*\\[)+/g;\n        var rx_escapable = /[\\\\\"\\u0000-\\u001f\\u007f-\\u009f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g;\n        var rx_dangerous = /[\\u0000\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g;\n        function f(n) {\n            // Format integers to have at least two digits.\n            return n < 10 ? '0' + n : n;\n        }\n        function this_value() {\n            return this.valueOf();\n        }\n        if (typeof Date.prototype.toJSON !== 'function') {\n            Date.prototype.toJSON = function () {\n                return isFinite(this.valueOf()) ? this.getUTCFullYear() + '-' + f(this.getUTCMonth() + 1) + '-' + f(this.getUTCDate()) + 'T' + f(this.getUTCHours()) + ':' + f(this.getUTCMinutes()) + ':' + f(this.getUTCSeconds()) + 'Z' : null;\n            };\n            Boolean.prototype.toJSON = this_value;\n            Number.prototype.toJSON = this_value;\n            String.prototype.toJSON = this_value;\n        }\n        var gap;\n        var indent;\n        var meta;\n        var rep;\n        function quote(string) {\n            // If the string contains no control characters, no quote characters, and no\n            // backslash characters, then we can safely slap some quotes around it.\n            // Otherwise we must also replace the offending characters with safe escape\n            // sequences.\n            rx_escapable.lastIndex = 0;\n            return rx_escapable.test(string) ? '\"' + string.replace(rx_escapable, function (a) {\n                var c = meta[a];\n                return typeof c === 'string' ? c : '\\\\u' + ('0000' + a.charCodeAt(0).toString(16)).slice(-4);\n            }) + '\"' : '\"' + string + '\"';\n        }\n        function str(key, holder) {\n            // Produce a string from holder[key].\n            var i;\n            // The loop counter.\n            var k;\n            // The member key.\n            var v;\n            // The member value.\n            var length;\n            var mind = gap;\n            var partial;\n            var value = holder[key];\n            // If the value has a toJSON method, call it to obtain a replacement value.\n            if (value && typeof value === 'object' && typeof value.toJSON === 'function') {\n                value = value.toJSON(key);\n            }\n            // If we were called with a replacer function, then call the replacer to\n            // obtain a replacement value.\n            if (typeof rep === 'function') {\n                value = rep.call(holder, key, value);\n            }\n            // What happens next depends on the value's type.\n            switch (typeof value) {\n            case 'string':\n                return quote(value);\n            case 'number':\n                // JSON numbers must be finite. Encode non-finite numbers as null.\n                return isFinite(value) ? String(value) : 'null';\n            case 'boolean':\n            case 'null':\n                // If the value is a boolean or null, convert it to a string. Note:\n                // typeof null does not produce \"null\". The case is included here in\n                // the remote chance that this gets fixed someday.\n                return String(value);\n            // If the type is \"object\", we might be dealing with an object or an array or\n            // null.\n            case 'object':\n                // Due to a specification blunder in ECMAScript, typeof null is \"object\",\n                // so watch out for that case.\n                if (!value) {\n                    return 'null';\n                }\n                // Make an array to hold the partial results of stringifying this object value.\n                gap += indent;\n                partial = [];\n                // Is the value an array?\n                if (Object.prototype.toString.apply(value) === '[object Array]') {\n                    // The value is an array. Stringify every element. Use null as a placeholder\n                    // for non-JSON values.\n                    length = value.length;\n                    for (i = 0; i < length; i += 1) {\n                        partial[i] = str(i, value) || 'null';\n                    }\n                    // Join all of the elements together, separated with commas, and wrap them in\n                    // brackets.\n                    v = partial.length === 0 ? '[]' : gap ? '[\\n' + gap + partial.join(',\\n' + gap) + '\\n' + mind + ']' : '[' + partial.join(',') + ']';\n                    gap = mind;\n                    return v;\n                }\n                // If the replacer is an array, use it to select the members to be stringified.\n                if (rep && typeof rep === 'object') {\n                    length = rep.length;\n                    for (i = 0; i < length; i += 1) {\n                        if (typeof rep[i] === 'string') {\n                            k = rep[i];\n                            v = str(k, value);\n                            if (v) {\n                                partial.push(quote(k) + (gap ? ': ' : ':') + v);\n                            }\n                        }\n                    }\n                } else {\n                    // Otherwise, iterate through all of the keys in the object.\n                    for (k in value) {\n                        if (Object.prototype.hasOwnProperty.call(value, k)) {\n                            v = str(k, value);\n                            if (v) {\n                                partial.push(quote(k) + (gap ? ': ' : ':') + v);\n                            }\n                        }\n                    }\n                }\n                // Join all of the member texts together, separated with commas,\n                // and wrap them in braces.\n                v = partial.length === 0 ? '{}' : gap ? '{\\n' + gap + partial.join(',\\n' + gap) + '\\n' + mind + '}' : '{' + partial.join(',') + '}';\n                gap = mind;\n                return v;\n            }\n        }\n        // If the JSON object does not yet have a stringify method, give it one.\n        if (typeof JSON.stringify !== 'function') {\n            meta = {\n                // table of character substitutions\n                '\\b': '\\\\b',\n                '\\t': '\\\\t',\n                '\\n': '\\\\n',\n                '\\f': '\\\\f',\n                '\\r': '\\\\r',\n                '\"': '\\\\\"',\n                '\\\\': '\\\\\\\\'\n            };\n            JSON.stringify = function (value, replacer, space) {\n                // The stringify method takes a value and an optional replacer, and an optional\n                // space parameter, and returns a JSON text. The replacer can be a function\n                // that can replace values, or an array of strings that will select the keys.\n                // A default replacer method can be provided. Use of the space parameter can\n                // produce text that is more easily readable.\n                var i;\n                gap = '';\n                indent = '';\n                // If the space parameter is a number, make an indent string containing that\n                // many spaces.\n                if (typeof space === 'number') {\n                    for (i = 0; i < space; i += 1) {\n                        indent += ' ';\n                    }    // If the space parameter is a string, it will be used as the indent string.\n                } else if (typeof space === 'string') {\n                    indent = space;\n                }\n                // If there is a replacer, it must be a function or an array.\n                // Otherwise, throw an error.\n                rep = replacer;\n                if (replacer && typeof replacer !== 'function' && (typeof replacer !== 'object' || typeof replacer.length !== 'number')) {\n                    throw new Error('JSON.stringify');\n                }\n                // Make a fake root object containing our value under the key of \"\".\n                // Return the result of stringifying the value.\n                return str('', { '': value });\n            };\n        }\n        // If the JSON object does not yet have a parse method, give it one.\n        if (typeof JSON.parse !== 'function') {\n            JSON.parse = function (text, reviver) {\n                // The parse method takes a text and an optional reviver function, and returns\n                // a JavaScript value if the text is a valid JSON text.\n                var j;\n                function walk(holder, key) {\n                    // The walk method is used to recursively walk the resulting structure so\n                    // that modifications can be made.\n                    var k;\n                    var v;\n                    var value = holder[key];\n                    if (value && typeof value === 'object') {\n                        for (k in value) {\n                            if (Object.prototype.hasOwnProperty.call(value, k)) {\n                                v = walk(value, k);\n                                if (v !== undefined) {\n                                    value[k] = v;\n                                } else {\n                                    delete value[k];\n                                }\n                            }\n                        }\n                    }\n                    return reviver.call(holder, key, value);\n                }\n                // Parsing happens in four stages. In the first stage, we replace certain\n                // Unicode characters with escape sequences. JavaScript handles many characters\n                // incorrectly, either silently deleting them, or treating them as line endings.\n                text = String(text);\n                rx_dangerous.lastIndex = 0;\n                if (rx_dangerous.test(text)) {\n                    text = text.replace(rx_dangerous, function (a) {\n                        return '\\\\u' + ('0000' + a.charCodeAt(0).toString(16)).slice(-4);\n                    });\n                }\n                // In the second stage, we run the text against regular expressions that look\n                // for non-JSON patterns. We are especially concerned with \"()\" and \"new\"\n                // because they can cause invocation, and \"=\" because it can cause mutation.\n                // But just to be safe, we want to reject all unexpected forms.\n                // We split the second stage into 4 regexp operations in order to work around\n                // crippling inefficiencies in IE's and Safari's regexp engines. First we\n                // replace the JSON backslash pairs with \"@\" (a non-JSON character). Second, we\n                // replace all simple value tokens with \"]\" characters. Third, we delete all\n                // open brackets that follow a colon or comma or that begin the text. Finally,\n                // we look to see that the remaining characters are only whitespace or \"]\" or\n                // \",\" or \":\" or \"{\" or \"}\". If that is so, then the text is safe for eval.\n                if (rx_one.test(text.replace(rx_two, '@').replace(rx_three, ']').replace(rx_four, ''))) {\n                    // In the third stage we use the eval function to compile the text into a\n                    // JavaScript structure. The \"{\" operator is subject to a syntactic ambiguity\n                    // in JavaScript: it can begin a block or an object literal. We wrap the text\n                    // in parens to eliminate the ambiguity.\n                    j = eval('(' + text + ')');\n                    // In the optional fourth stage, we recursively walk the new structure, passing\n                    // each name/value pair to a reviver function for possible transformation.\n                    return typeof reviver === 'function' ? walk({ '': j }, '') : j;\n                }\n                // If the text is not JSON parseable, then a SyntaxError is thrown.\n                throw new SyntaxError('JSON.parse');\n            };\n        }\n    }());\n    return JSON;\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module ApplicationSkeleton\n// Defines the top level components of an application like the name, layout, or the start function\ndefine('ApplicationSkeleton', [\n    'ApplicationSkeleton.Layout',\n    'SC.ComponentContainer',\n    'SC.LayoutComponent',\n    'underscore',\n    'Backbone',\n    'Utils',\n    'Console.Polyfill',\n    'json2'\n], function (Layout, SCComponentContainer, LayoutComponent, _, Backbone, Utils) {\n    'use strict';\n    // @class ApplicationSkeleton Defines the top level components of an application like the name, layout, or the start function\n    // @extends Backbone.Events\n    // @constructor Enforces new object to be created even if you do ApplicationSkeleton() (without new) @param {String} name\n    function ApplicationSkeleton(name) {\n        if (!(this instanceof ApplicationSkeleton)) {\n            return new ApplicationSkeleton();\n        }\n        // @property {SCA.Configuration} Application Default settings\n        this.Configuration = {};\n        // @property {String} name the name of this application instance\n        this.name = name;\n        // @property {Array<Any>} _modulesMountToAppResult stores the results of each modules mountToApp method call\n        // @private\n        this._modulesMountToAppResult = [];\n    }\n    // @method resizeImage Wraps the Utils.resizeImage and passes in the settings it needs\n    // @param {String} url\n    // @param {String} size\n    ApplicationSkeleton.prototype.resizeImage = function (url, size) {\n        url = url || _.getThemeAbsoluteUrlOfNonManagedResources('img/no_image_available.jpeg', this.getConfig('imageNotAvailable'));\n        var mapped_size = this.getConfig('imageSizeMapping.' + size, size);\n        return Utils.resizeImage(this.getConfig('siteSettings.imagesizes', []), url, mapped_size);\n    };\n    // @property {ApplicationSkeleton.Layout} Layout\n    // This View will be created and added to the dom as soon as the app starts.\n    // All module's views will get into the dom through this view by calling either showContent, showContent\n    ApplicationSkeleton.prototype.Layout = Layout;\n    // @method getLayout @returns {ApplicationSkeleton.Layout}\n    ApplicationSkeleton.prototype.getLayout = function getLayout() {\n        this._layoutInstance = this._layoutInstance || new this.Layout(this);\n        return this._layoutInstance;\n    };\n    // @method getConfig\n    // @returns {Any} the configuration object of the aplication\n    // if a path is applied, it returns that attribute of the config\n    // if nothing is found, it returns the default value\n    // @param {String} path\n    // @param {String} default_value\n    ApplicationSkeleton.prototype.getConfig = function getConfig(path, default_value) {\n        return Utils.getPathFromObject(this.Configuration, path, default_value);\n    };\n    // @method start starts this application by mounting configured modules and triggering events 'afterModulesLoaded' and 'afterStart'\n    // @param {Array<SubClassOf<ApplicationModule>>}\n    // @param {Array<SubClassOf<ApplicationModule>>} modules\n    // @param {Function} done_fn the handler to be called once the application finish starting\n    ApplicationSkeleton.prototype.start = function start(modules, done_fn) {\n        // @event beforeStart triggered before loading modules so users have a chance to include new modules at this point.\n        this.trigger('beforeStart', self);\n        var self = this;\n        // @property {Array<SubClassOf<ApplicationModule>>} modules We set the modules to the application the keys are the modules_list (names)\n        // and the values are the loaded modules returned in the arguments by require.js\n        self.modules = modules;\n        var mount_to_app_result = {};\n        this.registerComponent(LayoutComponent(this));\n        // we mount each module to our application\n        _.each(self.modules, function (module) {\n            if (module && _.isFunction(module.mountToApp)) {\n                mount_to_app_result = module.mountToApp(self);\n                if (mount_to_app_result && mount_to_app_result.componentName) {\n                    self.registerComponent(mount_to_app_result);\n                } else {\n                    self._modulesMountToAppResult.push(mount_to_app_result);\n                }\n            }\n        });\n        // This checks if you have registered modules\n        if (!Backbone.history) {\n            throw new Error('No Backbone.Router has been initialized (Hint: Are your modules properly set?).');\n        }\n        // @event afterModulesLoaded triggered after all modules have been loaded\n        self.trigger('afterModulesLoaded', self);\n        done_fn && _.isFunction(done_fn) && done_fn(self);\n        // @event afterStart triggered after the application finish starting and after the start() callback is called.\n        self.trigger('afterStart', self);\n    };\n    // We allow ApplicationSkeleton to listen and trigger custom events\n    // http://backbonejs.org/#Events\n    _.extend(ApplicationSkeleton.prototype, Backbone.Events, SCComponentContainer);\n    return ApplicationSkeleton;\n});    // @class ApplicationModule An Application is mainly composed by modules, and those can be mounted to an application\n       // instance by implementing a mountToApp it is the entry point of an application module. When the application start() it\n       // will mount all its configured modules using that method.\n       // @method mountToApp A module mounts itself in a given application instance, for example, initialize some Backbone.Routers\n       // @param {ApplicationSkeleton}\n       // @class Dictionary This class is used when we define a key/value pair (hashtable),\n       // the latter being a function. For example: ChildViews\n","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\ndefine('Application', ['ApplicationSkeleton'], function (ApplicationSkeleton) {\n    'use strict';\n    // Application Creation:\n    // Applications will provide by default: Layout (So your views can talk to)\n    // and a Router (so you can extend them with some nice defaults)\n    // If you like to create extensions to the Skeleton you should extend SC.ApplicationSkeleton\n    SC._applications = {};\n    SC.Application = function (application_name) {\n        SC._applications[application_name] = SC._applications[application_name] || new ApplicationSkeleton(application_name);\n        return SC._applications[application_name];\n    };\n    return SC.Application;\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n/*\n@module Backbone\n@class Backbone.Model\nExtends native Backbone.Model to make internalid the idAttribute\n*/\ndefine('Backbone.Model', [\n    'Backbone',\n    'underscore',\n    'SC.CancelableEvents'\n], function (Backbone, _, SCCancelableEvents) {\n    'use strict';\n    _.extend(Backbone.Model.prototype, {\n        // @method url SCA Overrides @?method Backbone.Model.url to add model's 'internalid' as parameter @return {String}\n        url: function () {\n            var base = _.result(this, 'urlRoot') || _.result(this.collection, 'url');\n            if (this.isNew()) {\n                return base;\n            }\n            var sep = base.indexOf('?') === -1 ? '?' : '&';\n            return base + sep + 'internalid=' + encodeURIComponent(this.id);\n        },\n        deepCopy: function deepCopy() {\n            return this.attributes || {};\n        }    // @method url SCA Overrides @?property Backbone.Model.idAttribute to add model's 'internalid' as parameter @return {String}\n,\n        idAttribute: 'internalid'\n    }, SCCancelableEvents);\n    return Backbone.Model;\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n/*\n@module BackboneExtras\n#Backbone.sync()\nOverrides native Backbone.sync to pass company and site id on all requests\n*/\ndefine('Backbone.Sync', [\n    'Backbone',\n    'underscore',\n    'jQuery',\n    'Utils'\n], function (Backbone, _, jQuery, Utils) {\n    'use strict';\n    // @method sync SCA Overrides @?method Backbone.Model.url to add model's 'internalid' as parameter @return {String}\n    Backbone.sync = _.wrap(Backbone.sync, function (fn, method, model, options) {\n        var url = options.url || _.result(model, 'url');\n        if (url) {\n            options = options || {};\n            if (url.indexOf('&c=') < 0 && url.indexOf('?c=') < 0) {\n                url = url + (~url.indexOf('?') ? '&' : '?') + jQuery.param({\n                    // Account Number\n                    c: SC.ENVIRONMENT.companyId\n                });\n            }\n            if (url.indexOf('&n=') < 0 && url.indexOf('?n=') < 0) {\n                url = url + (~url.indexOf('?') ? '&' : '?') + jQuery.param({\n                    // Site Number\n                    n: SC.ENVIRONMENT.siteSettings.siteid\n                });\n            }\n        }\n        options.url = url;\n        var actionDetails = model.get('actionDetails');\n        if (actionDetails) {\n            //Adds extra information to improve the performance metrics\n            options.url = Utils.addParamsToUrl(options.url, actionDetails);\n            model.unset('actionDetails');\n        }\n        return fn.apply(this, [\n            method,\n            model,\n            options\n        ]);\n    });\n    return Backbone.sync;\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n/*\n@module BackboneExtras\n\n#Backbone.Validation.callbacks\n\nThis code is responsible of showing / hiding error on forms input validation.\n\nIt extends the callbacks of the Backbone Validation plugin https://github.com/thedersen/backbone.validation\n\n##Usage\n\nFirst the view must have a model or collection attribute in order to activate the validation callbacks\n\n\tMyView = Backbone.View.extend({\n\t\ttemplate: 'my_template'\n\t,\tmodel: myModel\n\t});\n\nThe view template must have for each control group\n\t- data-validation=\"control-group\": for each control group\n\t- data-validation=\"control\" : for each element where a error message is shown\n\nExample:\n\n\t<div class=\"login-form-controls-group\" data-validation=\"control-group\">\n\t\t<label>\n\t\t\t{{translate 'Password <small>*</small>'}}\n\t\t</label>\n\t\t<div  class=\"login-form-controls\" data-validation=\"control\">\n\t\t\t<input type=\"password\" name=\"password\" id=\"login-password\" >\n\t\t</div>\n\t</div>\n\n*IMPORTANT* If you are using bootstrap3, be sure that you call Backbone.Validation.callbacks.setSelectorStyle('bootstrap3') or your error messages will not be shown.\n*/\ndefine('Backbone.Validation.callbacks', [\n    'Backbone',\n    'underscore',\n    'Backbone.Validation',\n    'Utils'\n], function (Backbone, _) {\n    'use strict';\n    var selectors = {\n        controlGroup: {\n            attr: 'data-validation',\n            value: 'control-group'\n        },\n        control: {\n            attr: 'data-validation',\n            value: 'control'\n        },\n        error: {\n            attr: 'data-validation-error',\n            value: ''\n        },\n        errorInline: {\n            attr: 'data-validation-error',\n            value: 'inline'\n        },\n        errorBlock: {\n            attr: 'data-validation-error',\n            value: 'block'\n        },\n        build: function (selectorName) {\n            var selector = selectors[selectorName];\n            return '[' + selector.attr + '=\"' + selector.value + '\"]';\n        }\n    };\n    _.extend(Backbone.Validation.callbacks, {\n        valid: function (view, attr, selector) {\n            var $control = view.$el.find('[' + selector + '=\"' + attr + '\"]')    // if its valid we remove the error classnames\n, $group = $control.closest(selectors.build('controlGroup')).removeAttr(selectors.error.attr), $target = $control.data('error-style') === 'inline' ? $group.find(selectors.build('errorInline')) : $group.find(selectors.build('errorBlock'));\n            view.helpMessages = view.helpMessages || {};\n            if (view.helpMessages[attr]) {\n                $target.text(view.helpMessages[attr]);\n            }\n            // we also need to remove all of the error messages\n            return $target.remove().end();\n        },\n        invalid: function (view, attr, error, selector) {\n            //removes back-end errors\n            view.hideError();\n            var $target, $control = view.$el.find('[' + selector + '=\"' + attr + '\"]'), $group = $control.closest(selectors.build('controlGroup')).attr(selectors.error.attr, selectors.error.value);\n            //This case happens when calling validation on attribute setting with { validate: true; }\n            if (!view.$savingForm) {\n                view.$savingForm = $control.closest('form');\n            }\n            if ($control.data('error-style') === 'inline') {\n                // if we don't have a place holder for the error\n                // we need to add it. $target will be the placeholder\n                if (!$group.find(selectors.build('errorInline')).length) {\n                    $group.find(selectors.build('control')).append('<span ' + selectors.errorInline.attr + '=\"' + selectors.errorInline.value + '\"></span>');\n                }\n                $target = $group.find(selectors.build('errorInline'));\n            } else {\n                // if we don't have a place holder for the error\n                // we need to add it. $target will be the placeholder\n                if (!$group.find(selectors.build('errorBlock')).length) {\n                    $group.find(selectors.build('control')).append('<p ' + selectors.errorBlock.attr + '=\"' + selectors.errorBlock.value + '\"></p>');\n                }\n                $target = $group.find(selectors.build('errorBlock'));\n            }\n            view.helpMessages = view.helpMessages || {};\n            view.helpMessages[attr] = $target.text();\n            return $target.text(error);\n        }\n    });\n    return Backbone.Validation.callbacks;\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\ndefine('Backbone.Validation.patterns', [\n    'Backbone',\n    'underscore',\n    'Backbone.Validation'\n], function (Backbone, _) {\n    'use strict';\n    _.extend(Backbone.Validation.patterns, {\n        // Same as email but is more restrictive and matches the same emails as the Netsuite backend UI\n        // Source: https://system.netsuite.com/javascript/NLUtil.jsp__NS_VER=2014.1.0&minver=154&locale=en_US.nlqs\n        //        (Search for NLValidationUtil_SIMPLE_EMAIL_PATTERN)\n        email: /^[-a-z0-9!#$%&'*+\\/=?^_`{|}~]+(?:\\.[-a-z0-9!#$%&'*+\\/=?^_`{|}~]+)*@(?:[a-z0-9]+(?:-+[a-z0-9]+)*\\.)+(?:xn--[a-z0-9]+|[a-z]{2,16})$/i    //This validation is less restrictive than standard and matches with the used in Netsuite backend\n,\n        netsuiteUrl: /^(https|http|ftp|file):\\/\\//,\n        netsuiteFloat: /^-{0,1}([0-9])+(\\.{1}[0-9]+)?$/,\n        netsuiteInteger: /^-{0,1}([0-9])+$/    //Allow numbers bettwen 000.00 and 000100.00 ending with optional %\n,\n        netsuitePercent: /^0*((([0-9]{1,2})(\\.[0-9]{1,2})?%?$)|(100(\\.0{1,2})?%?$))/    //Allow any character 7 or more times (this is the validation that the netsuite backend form does on phone type fields)\n,\n        netsuitePhone: /^.{7,}$/\n    });\n    return Backbone.Validation.patterns;\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n/*\n@module BackboneExtras\n#Backbone.View.saveForm\nextends native Backbone.View with a custom saveForm function to be called when forms are submited\n@obsolete please use Backbone.FormView\n*/\ndefine('Backbone.View.saveForm', [\n    'Backbone',\n    'underscore',\n    'jQuery'\n], function (Backbone, _, jQuery) {\n    'use strict';\n    _.extend(Backbone.View.prototype, {\n        // @module Backbone @class Backbone.View @method saveForm\n        // will serialize the input of some form and save() the given model using it\n        // @param {HTMLEvent} e @param {Backbone.Model} model @param {Object} props properties to pass to model.save()\n        // @return {jQuery.Deferred}\n        // @obsolete Please use @?ref Backbone.FormView\n        saveForm: function (e, model, props) {\n            e.preventDefault();\n            model = model || this.model;\n            this.$savingForm = jQuery(e.target).closest('form');\n            if (this.$savingForm.length) {\n                // Disables all for submit buttons, to prevent double submitions\n                this.$savingForm.find('input[type=\"submit\"], button[type=\"submit\"]').attr('disabled', true);\n                // and hides reset buttons\n                this.$savingForm.find('input[type=\"reset\"], button[type=\"reset\"]').hide();\n            }\n            this.hideError();\n            var self = this;\n            // Returns the promise of the save acction of the model\n            return model.save(props || this.$savingForm.serializeObject(), {\n                wait: true    // Hides error messages, re enables buttons and triggers the save event\n                        // if we are in a modal this also closes it\n,\n                success: function (model, response) {\n                    if (self.inModal && self.$containerModal) {\n                        self.$containerModal.modal('hide');\n                    }\n                    if (self.$savingForm.length) {\n                        self.hideError(self.$savingForm);\n                        self.$savingForm.find('[type=\"submit\"], [type=\"reset\"]').attr('disabled', false);\n                        model.trigger('save', model, response);\n                    }\n                }    // Re enables all button and shows an error message\n,\n                error: function (model, response) {\n                    self.$savingForm.find('*[type=submit], *[type=reset]').attr('disabled', false);\n                    if (response.responseText) {\n                        model.trigger('error', jQuery.parseJSON(response.responseText));\n                    }\n                }\n            });\n        }\n    });\n    return Backbone.View.prototype.saveForm;\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// Backbone.View.toggleReset.js\n// -----------------------\n// @module Backbone @class Backbone.View @method toggleReset\n// Backbones' view extension for showing/hiding a \"reset\" button that restore all form's fields that have changed\n// You have to assign the change event of the inputs of a form to call this function\n// For example in the \"events\" array of a view:\n//\n//\t\t'change form' : 'toggleReset'\n//\ndefine('Backbone.View.toggleReset', [\n    'Backbone',\n    'underscore',\n    'jQuery'\n], function (Backbone, _, jQuery) {\n    'use strict';\n    _.extend(Backbone.View.prototype, {\n        // the \"debounce\" add a small delay between the eventr and the function triggering\n        // it's useful when the user is writting so we don't trigger the event after every keypress\n        toggleReset: _.debounce(function (e) {\n            var $form = jQuery(e.target).closest('form'), model = this.model, attribute, value, fields_changed = _.filter($form.serializeObject(), function (item, key) {\n                    attribute = model.get(key);\n                    value = jQuery.trim(item);\n                    return attribute ? attribute !== value : !!value;\n                });\n            // if some field changed, the reset button is shown\n            $form.find('[data-action=\"reset\"]')[fields_changed.length ? 'removeClass' : 'addClass']('hide');\n            return this;\n        }, 300)\n    });\n    return Backbone.View.prototype.toggleReset;\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n/* ====================================================================\n * SLIDER\n * We developed jQuery plugin to provide range slider functionality\n * Used on file: facet_range_macro.txt\n *\n * We tried to follow same syntax and practices as Bootstrap.js\n * so we are using Bootstrap's jsHint settings\n * http://blog.getbootstrap.com/2012/04/19/bootstrap-jshint-and-recess/\n * ==================================================================== */\ndefine('Bootstrap.Slider', ['jQuery'], function ($) {\n    'use strict';\n    /* SLIDER CLASS DEFINITION\n\t * ======================= */\n    var Slider = function (element, options) {\n        this.init(element, options);\n    };\n    Slider.prototype = {\n        init: function (element, options) {\n            var $element = $(element), $children = $element.children();\n            this.$element = $element;\n            this.options = options;\n            this.values = this.parseValues(options.values, $element.data());\n            this.$bar = $children.filter('[data-control=\"bar\"]');\n            this.controls = {\n                $low: $children.filter('[data-control=\"low\"]'),\n                $high: $children.filter('[data-control=\"high\"]')\n            };\n            this.slideToInitial(true);\n            this.listen();\n        },\n        parseValues: function (defaults, dom_data) {\n            var values = {\n                min: dom_data.min || defaults.min,\n                max: dom_data.max || defaults.max\n            };\n            $.extend(values, {\n                low: Math.max(dom_data.low || defaults.min, values.min),\n                high: Math.min(dom_data.high || defaults.high, values.max)\n            });\n            return values;\n        },\n        listen: function () {\n            var proxy = jQuery.proxy;\n            //handle event for stoplisten 'html'\n            this.proxyHandleMouseDown = proxy(this.handleMouseDown, this);\n            this.proxyHandleMouseMove = proxy(this.handleMouseMove, this);\n            this.proxyHandleMouseUp = proxy(this.handleMouseUp, this);\n            this.$element.on('mousedown.slider.data-api', this.proxyHandleMouseDown).on('touchstart.slider.data-api', this.proxyHandleMouseDown);\n            $('html').on('mousemove.slider.data-api', this.proxyHandleMouseMove).on('touchmove.slider.data-api', this.proxyHandleMouseMove).on('mouseup.slider.data-api', this.proxyHandleMouseUp).on('touchend.slider.data-api', this.proxyHandleMouseUp).on('touchcancel.slider.data-api', this.proxyHandleMouseUp);\n        },\n        stopListen: function () {\n            $('html').off('mousemove.slider.data-api', this.proxyHandleMouseMove).off('touchmove.slider.data-api', this.proxyHandleMouseMove).off('mouseup.slider.data-api', this.proxyHandleMouseUp).off('touchend.slider.data-api', this.proxyHandleMouseUp).off('touchcancel.slider.data-api', this.proxyHandleMouseUp);\n        },\n        getMinBoundary: function () {\n            return this.$element.offset().left;\n        },\n        getMaxBoundary: function () {\n            return this.getMinBoundary() + this.$element.innerWidth();\n        },\n        handleMouseDown: function (e) {\n            if (e.which !== 1 && e.type !== 'touchstart') {\n                return;\n            }\n            var page_x = this.getPageX(e), $target = $(e.target);\n            if ($target.is('a') || $target.is('button')) {\n                if (this.values.low === this.values.max || this.values.high === this.values.min) {\n                    $target = this.controls['$' + (page_x < this.$element.offset().left + this.$element.innerWidth() / 2 ? 'high' : 'low')];\n                }\n                this.$dragging = $target;\n                this.$element.trigger('start', this);\n            } else {\n                this.$dragging = this.getClosestControl(page_x);\n                this.slideToValue(this.getSlidValue(page_x));\n            }\n            e.preventDefault();\n        },\n        handleMouseMove: function (e) {\n            if (!this.$dragging) {\n                return;\n            }\n            var page_x = this.getPageX(e), slid_value = this.getSlidValue(page_x), is_low = this.$dragging.data('control') === 'low', value = Math[is_low ? 'min' : 'max'](slid_value, this.values[is_low ? 'high' : 'low']);\n            this.slideToValue(value);\n            e.preventDefault();\n        },\n        handleMouseUp: function (e) {\n            if (!this.$dragging) {\n                return;\n            }\n            this.$dragging = null;\n            this.$element.trigger('stop', this);\n            e.preventDefault();\n        },\n        getPageX: function (e) {\n            var touch = e.originalEvent && e.originalEvent.touches ? e.originalEvent.touches[0] || e.originalEvent.changedTouches[0] : null;\n            return touch ? touch.pageX : e.pageX;\n        },\n        getSlidValue: function (page_x) {\n            var minBoundary = this.getMinBoundary(), maxBoundary = this.getMaxBoundary(), location = page_x > maxBoundary ? maxBoundary : page_x < minBoundary ? minBoundary : page_x;\n            return (location - minBoundary) / this.$element.innerWidth() * this.getSizeInValue() + this.values.min;\n        },\n        getClosestControl: function (page_x) {\n            var value = this.getSlidValue(page_x), distance_low = Math.abs(this.values.low - value), distance_high = Math.abs(this.values.high - value), $low = this.controls.$low;\n            if (distance_low !== distance_high) {\n                return distance_low < distance_high ? $low : this.controls.$high;\n            } else {\n                return page_x < $low.offset().left ? $low : this.controls.$high;\n            }\n        },\n        getSizeInValue: function () {\n            return this.values.max - this.values.min;\n        },\n        moveControl: function ($control, value) {\n            return $control.css({ left: (value - this.values.min) * 100 / this.getSizeInValue() + '%' });\n        },\n        resizeBar: function () {\n            return this.$bar.css({\n                left: (this.values.low - this.values.min) * 100 / this.getSizeInValue() + '%',\n                width: (this.values.high - this.values.low) / this.getSizeInValue() * 100 + '%'\n            });\n        },\n        slideToInitial: function (trigger) {\n            this.slideControls();\n            this.resizeBar();\n            if (trigger) {\n                this.$element.trigger('slide', this);\n            }\n        },\n        slideControls: function () {\n            this.moveControl(this.controls.$low, this.values.low);\n            this.moveControl(this.controls.$high, this.values.high);\n        },\n        slideToValue: function (value) {\n            var is_low = this.$dragging.data('control') === 'low';\n            this.values[is_low ? 'low' : 'high'] = value;\n            this.moveControl(this.$dragging, value);\n            this.resizeBar();\n            this.$element.trigger('slide', this);\n        }\n    };\n    /* SLIDER PLUGIN DEFINITION\n\t * ======================== */\n    // standar jQuery plugin definition\n    $.fn.slider = function (option) {\n        return this.each(function () {\n            var $this = $(this), data = $this.data('slider');\n            // if it wasn't initialized, we do so\n            if (!data) {\n                // we extend the passed options with the default ones\n                var options = $.extend({}, $.fn.slider.defaults, typeof option === 'object' && options);\n                $this.data('slider', data = new Slider(this, options));\n            }\n        });\n    };\n    $.fn.slider.Constructor = Slider;\n    $.fn.slider.defaults = {\n        values: {\n            min: 0,\n            max: 100\n        }\n    };\n    /* SLIDER DATA-API\n\t * =============== */\n    $(window).on('load', function () {\n        $('[data-toggle=\"slider\"]').slider();\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n/*\n@module jQueryExtras\n#jQuery.serializeObject\njQuery plugin used to transform a $form's data into an object literal with 'name: value' pairs. Usage: \n\n\tthis.model.save(this.$savingForm.serializeObject()).done(...)\n*/\ndefine('jQuery.serializeObject', ['jQuery'], function (jQuery) {\n    'use strict';\n    jQuery.fn.serializeObject = function () {\n        var o = {}    // http://api.jquery.com/serializeArray/\n, a = this.serializeArray();\n        // When a checkbox is not checked, we need to send the \"unchecked value\"\n        // that value is held as a data attribute: \"data-unchecked-value\"\n        this.find('input[type=checkbox]:not(:checked)[data-unchecked-value]').each(function () {\n            var $this = jQuery(this);\n            a.push({\n                name: $this.prop('name'),\n                value: $this.data('unchecked-value')\n            });\n        });\n        // Then we just loop through the array to create the object\n        jQuery.each(a, function () {\n            if (o[this.name] !== undefined) {\n                if (!o[this.name].push) {\n                    o[this.name] = [o[this.name]];\n                }\n                o[this.name].push(this.value || '');\n            } else {\n                o[this.name] = this.value || '';\n            }\n        });\n        return o;\n    };\n    return jQuery.fn.serializeObject;\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n/*!\n* Description: SuiteCommerce Reference My Account\n*\n* @copyright (c) 2000-2013, NetSuite Inc.\n* @version 1.0\n*/\n// Application.js\n// --------------\n// Extends the application with My Account specific core methods\ndefine('SC.MyAccount', [\n    'SC.MyAccount.Configuration',\n    'SC.MyAccount.Layout',\n    'Application',\n    'Backbone',\n    'jQuery',\n    'underscore',\n    'Backbone.View',\n    'MenuTree.View',\n    'Backbone.Model',\n    'Backbone.Sync',\n    'Backbone.Validation.callbacks',\n    'Backbone.Validation.patterns',\n    'Backbone.View.render',\n    'Backbone.View.saveForm',\n    'Backbone.View.toggleReset',\n    'Bootstrap.Slider',\n    'jQuery.ajaxSetup',\n    'jQuery.serializeObject',\n    'String.format'\n], function (Configuration, MyAccountLayout, Application, Backbone, jQuery, _, BackboneView, MenuTreeView) {\n    'use strict';\n    var MyAccount = Application('MyAccount');\n    // Applies Configuration\n    MyAccount.Configuration = _.extend(MyAccount.Configuration, Configuration);\n    MyAccount.Layout = MyAccountLayout;\n    // Once Modules are loaded this checks if they are exporting a menu entry and if so\n    // this adds it to the array of menu entries\n    MyAccount.on('afterModulesLoaded', function () {\n        var menu_tree = MenuTreeView.getInstance();\n        menu_tree.application = MyAccount;\n        _.each(MyAccount.modules, function (module) {\n            if (module) {\n                if (module.MenuItems) {\n                    menu_tree.addMenuItem(module.MenuItems);\n                }\n            }\n        });\n    });\n    // Setup global cache for this application\n    jQuery.ajaxSetup({ cache: false });\n    return MyAccount;\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\ndefine('Backbone.View.Plugin.ApplyPermissions', [\n    'Backbone.View.render',\n    'underscore',\n    'jQuery'\n], function (BackboneView, _, jQuery) {\n    'use strict';\n    return {\n        mountToApp: function () {\n            if (!_.result(SC, 'isPageGenerator')) {\n                BackboneView.postRender.install({\n                    name: 'applyPermissions',\n                    priority: 10    // Given a DOM template, removes the elements from the DOM that\n                          // do not comply with the list of permissions level\n                          // The permission level is specified by using the data-permissions attribute and data-permissions-operator (the latter is optional)\n                          // on any html tag in the following format:\n                          // <permission_category>.<permission_name>.<minimum_level>\n                          // permission_category and permission_name come from SC.ENVIRONMENT.permissions. (See commons.js)\n                          // e.g:\n                          //     <div data-permissions=\"transactions.tranFind.1\"></div>\n                          //     <div data-permissions=\"transactions.tranCustDep.3,transactions.tranDepAppl.1 lists.tranFind.1\"></div>\n                          // Notice several permissions can be separated by space or comma, by default (in case that data-permissions-operator is missing) all permission will be evaluates\n                          // as AND, otherwise data-permissions-operator should have the value OR\n                          // e.g:\n                          //     <div data-permissions=\"transactions.tranFind.1\"></div>\n                          //     <div data-permissions=\"transactions.tranCustDep.3,transactions.tranDepAppl.1 lists.tranFind.1\" data-permissions-operator=\"OR\" ></div>\n,\n                    execute: function (template) {\n                        // We need to wrap the template in a container so then we can find\n                        // and remove parent nodes also (jQuery.find only works in descendants).\n                        var $permissioned_elements = template.find('[data-permissions]');\n                        $permissioned_elements.each(function () {\n                            var $el = jQuery(this), element_permission = $el.data('permissions'), perms = element_permission.split(/[\\s,]+/), perm_operator = $el.data('permissions-operator') || 'AND', perm_eval, perm_evaluation = perm_operator !== 'OR';\n                            _.each(perms, function (perm) {\n                                var perm_tokens = perm.split('.');\n                                perm_eval = !(perm_tokens.length === 3 && perm_tokens[2] < 5 && SC.ENVIRONMENT.permissions && SC.ENVIRONMENT.permissions[perm_tokens[0]] && SC.ENVIRONMENT.permissions[perm_tokens[0]][perm_tokens[1]] < perm_tokens[2]);\n                                if (perm_operator === 'OR') {\n                                    perm_evaluation = perm_evaluation || perm_eval;\n                                } else {\n                                    perm_evaluation = perm_evaluation && perm_eval;\n                                }\n                            });\n                            if (!perm_evaluation) {\n                                $el.remove();\n                            }\n                        });\n                        return template;\n                    }\n                });\n            }\n        }\n    };\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\ndefine('Backbone.View.Plugin.Bootstrap', [\n    'Backbone.View.render',\n    'underscore'\n], function (BackboneView, _) {\n    'use strict';\n    return {\n        mountToApp: function () {\n            if (!_.result(SC, 'isPageGenerator')) {\n                BackboneView.postRender.install({\n                    name: 'HTMLBootstrap',\n                    priority: 10    //Fix all HTML bootstrap tooltips\n,\n                    execute: function ($el, view) {\n                        view.$('[data-toggle=\"tooltip\"]').tooltip({ html: true });\n                        view.$('[data-toggle=\"dropdown\"]').dropdown();    //view.$('[data-toggle=\"collapse\"]').collapse();\n                    }\n                });\n            }\n        }\n    };\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n/*\n@module BackboneExtras\n#Backbone.View.Plugins\nDefine the default plugins to execute by Backbone.View.render method. These plugins hook into the Backobne.view\nrender() life cycle and modify the view's output somehow, for example removing marked nodes that current user\nhas not permission to see, installing bootstrap widgets after a view is rendered, etc.\n*/\ndefine('Backbone.View.Plugin.DatePicker', [\n    'Backbone.View.render',\n    'underscore',\n    'jQuery',\n    'bootstrap-datepicker'\n], function (BackboneView, _, jQuery) {\n    'use strict';\n    return {\n        mountToApp: function () {\n            if (!_.result(SC, 'isPageGenerator')) {\n                BackboneView.postRender.install({\n                    name: 'datePicker',\n                    priority: 10,\n                    execute: function ($el, view) {\n                        if (_.isNativeDatePickerSupported() === false || _.isDesktopDevice()) {\n                            view.$('input[type=\"date\"]').each(function () {\n                                var $date_picker = jQuery(this);\n                                try {\n                                    $date_picker.attr('type', 'text');\n                                } catch (ex) {\n                                }\n                                $date_picker.datepicker({\n                                    format: $date_picker.data('format'),\n                                    startDate: $date_picker.data('start-date'),\n                                    endDate: $date_picker.data('end-date'),\n                                    autoclose: true,\n                                    todayHighlight: $date_picker.data('todayhighlight')\n                                });\n                            });\n                        }\n                    }\n                });\n            }\n        }\n    };\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\ndefine('Backbone.View.Plugin.DebugTemplateName', [\n    'Backbone.View.render',\n    'Utils',\n    'underscore'\n], function (BackboneView, Utils, _) {\n    'use strict';\n    return {\n        mountToApp: function () {\n            if (!_.result(SC, 'isPageGenerator')) {\n                BackboneView.postCompile.install({\n                    name: 'debugTemplateName',\n                    priority: 10,\n                    execute: function (tmpl_str, view) {\n                        var template_name = view.template.Name, prefix = Utils.isPageGenerator() ? '' : '\\n\\n<!-- TEMPLATE STARTS: ' + template_name + '-->\\n', posfix = Utils.isPageGenerator() ? '' : '\\n<!-- TEMPLATE ENDS: ' + template_name + ' -->\\n';\n                        tmpl_str = prefix + tmpl_str + posfix;\n                        return tmpl_str;\n                    }\n                });\n            }\n        }\n    };\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\ndefine('Backbone.View.Plugin.OldIEFix', [\n    'Backbone.View.render',\n    'Utils'\n], function (BackboneView, Utils) {\n    'use strict';\n    return {\n        mountToApp: function () {\n            if (Utils.oldIE()) {\n                BackboneView.postCompile.install({\n                    name: 'oldIEFix',\n                    priority: 20    // Workaround for internet explorer 7. href is overwritten with the absolute path so we save the original href\n                          // in data-href (only if we are in IE7)\n                          // IE7 detection courtesy of Backbone\n                          // More info: http://www.glennjones.net/2006/02/getattribute-href-bug/\n,\n                    execute: function (tmpl_str) {\n                        return (tmpl_str || '').replace(/href=\"(.+?)(?=\")/g, '$&\" data-href=\"$1');\n                    }\n                });\n            }\n        }\n    };\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\ndefine('Backbone.View.Plugin.PageGeneratorImages', [\n    'Backbone.View.render',\n    'underscore'\n], function (BackboneView, _) {\n    'use strict';\n    return {\n        mountToApp: function () {\n            // wrap all images with noscript tag in the page generator output so they are not automatically loaded by the browser and compete with our core resources.\n            if (_.result(SC, 'isPageGenerator')) {\n                BackboneView.postCompile.install({\n                    name: 'pageGeneratorWrapImagesNoscript',\n                    priority: 30,\n                    execute: function (tmpl_str) {\n                        return tmpl_str.replace(/(<img\\s+[^>]*>\\s*<\\/img>|<img\\s+[^>]*\\/>|(?:<img\\s+[^>]*>)(?!\\s*<\\/img>))(?!\\s*<\\s*\\/noscript\\s*>)/gim, '<noscript>$1</noscript>');\n                    }\n                });\n            }\n        }\n    };\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n/*\n@module BackboneExtras\n#Backbone.View.Plugins\nDefine the default plugins to execute by Backbone.View.render method. These plugins hook into the Backobne.view\nrender() life cycle and modify the view's output somehow, for example removing marked nodes that current user\nhas not permission to see, installing bootstrap widgets after a view is rendered, etc.\n*/\ndefine('Backbone.View.Plugins', [\n    'Backbone.View.Plugin.ApplyPermissions',\n    'Backbone.View.Plugin.Bootstrap',\n    'Backbone.View.Plugin.DatePicker',\n    'Backbone.View.Plugin.DebugTemplateName',\n    'Backbone.View.Plugin.OldIEFix',\n    'Backbone.View.Plugin.PageGeneratorImages'\n], function () {\n    'use strict';\n    var plugins = arguments;\n    return {\n        mountToApp: function () {\n            for (var i = 0; i < plugins.length; ++i) {\n                plugins[i].mountToApp.apply(this, arguments);\n            }\n        }\n    };\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module Locator\ndefine('Location.Model', [\n    'Backbone.CachedModel',\n    'Utils'\n], function (BackboneCachedModel, Utils) {\n    'use strict';\n    return BackboneCachedModel.extend({\n        //@property {String} urlRoot\n        urlRoot: Utils.getAbsoluteUrl('services/Location.Service.ss'),\n        toString: function toString() {\n            return this.get('internalid') || '';\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module Location\ndefine('Location.Collection', [\n    'Location.Model',\n    'underscore',\n    'Backbone.CachedCollection'\n], function (LocationModel, _, BackboneCachedCollection) {\n    'use strict';\n    //@class Location.Collection @extend Backbone.Collection\n    return BackboneCachedCollection.extend({\n        //@property {Location.Model} model\n        model: LocationModel    //@property {String} url\n,\n        url: _.getAbsoluteUrl('services/Location.Service.ss')    //@method parse Transforms the JSON response to extract  the array of models from the correct\n                                                            //response as to know what page is loaded\n,\n        parse: function parse(response) {\n            if (!_.isUndefined(response.totalRecordsFound)) {\n                this.totalRecordsFound = response.totalRecordsFound;\n                this.recordsPerPage = response.recordsPerPage;\n                return response.records;\n            } else {\n                return response;\n            }\n        }    //@method update\n             //@param {Object} options\n             //@param {Object} callbacks\n,\n        update: function update(options, callbacks) {\n            return this.fetch(_.extend({\n                data: {\n                    //@property {String} latitude\n                    latitude: options.latitude,\n                    longitude: options.longitude,\n                    radius: options.radius,\n                    sort: options.sort,\n                    page: options.page,\n                    locationtype: options.locationtype,\n                    results_per_page: options.results_per_page\n                },\n                reset: !!options.reset,\n                killerId: options.killerId\n            }, callbacks));\n        }\n    });\n});","/*!\n * jQuery Cookie Plugin v1.4.1\n * https://github.com/carhartl/jquery-cookie\n *\n * Copyright 2006, 2014 Klaus Hartl\n * Released under the MIT license\n */\n(function (factory) {\n    if (typeof define === 'function' && define.amd) {\n        // AMD\n        define('jquery.cookie', ['jQuery'], factory);\n    } else if (typeof exports === 'object') {\n        // CommonJS\n        factory(require('jquery'));\n    } else {\n        // Browser globals\n        factory(jQuery);\n    }\n}(function ($) {\n    var pluses = /\\+/g;\n    function encode(s) {\n        return config.raw ? s : encodeURIComponent(s);\n    }\n    function decode(s) {\n        return config.raw ? s : decodeURIComponent(s);\n    }\n    function stringifyCookieValue(value) {\n        return encode(config.json ? JSON.stringify(value) : String(value));\n    }\n    function parseCookieValue(s) {\n        if (s.indexOf('\"') === 0) {\n            // This is a quoted cookie as according to RFC2068, unescape...\n            s = s.slice(1, -1).replace(/\\\\\"/g, '\"').replace(/\\\\\\\\/g, '\\\\');\n        }\n        try {\n            // Replace server-side written pluses with spaces.\n            // If we can't decode the cookie, ignore it, it's unusable.\n            // If we can't parse the cookie, ignore it, it's unusable.\n            s = decodeURIComponent(s.replace(pluses, ' '));\n            return config.json ? JSON.parse(s) : s;\n        } catch (e) {\n        }\n    }\n    function read(s, converter) {\n        var value = config.raw ? s : parseCookieValue(s);\n        return $.isFunction(converter) ? converter(value) : value;\n    }\n    var config = $.cookie = function (key, value, options) {\n        // Write\n        if (arguments.length > 1 && !$.isFunction(value)) {\n            options = $.extend({}, config.defaults, options);\n            if (typeof options.expires === 'number') {\n                var days = options.expires, t = options.expires = new Date();\n                t.setTime(+t + days * 86400000);\n            }\n            return document.cookie = [\n                encode(key),\n                '=',\n                stringifyCookieValue(value),\n                options.expires ? '; expires=' + options.expires.toUTCString() : '',\n                // use expires attribute, max-age is not supported by IE\n                options.path ? '; path=' + options.path : '',\n                options.domain ? '; domain=' + options.domain : '',\n                options.secure ? '; secure' : ''\n            ].join('');\n        }\n        // Read\n        var result = key ? undefined : {};\n        // To prevent the for loop in the first place assign an empty array\n        // in case there are no cookies at all. Also prevents odd result when\n        // calling $.cookie().\n        var cookies = document.cookie ? document.cookie.split('; ') : [];\n        for (var i = 0, l = cookies.length; i < l; i++) {\n            var parts = cookies[i].split('=');\n            var name = decode(parts.shift());\n            var cookie = parts.join('=');\n            if (key && key === name) {\n                // If second argument (value) is a function it's a converter...\n                result = read(cookie, value);\n                break;\n            }\n            // Prevent storing a cookie that we couldn't decode.\n            if (!key && (cookie = read(cookie)) !== undefined) {\n                result[name] = cookie;\n            }\n        }\n        return result;\n    };\n    config.defaults = {};\n    $.removeCookie = function (key, options) {\n        if ($.cookie(key) === undefined) {\n            return false;\n        }\n        // Must not alter options, thus extending a fresh object...\n        $.cookie(key, '', $.extend({}, options, { expires: -1 }));\n        return !$.cookie(key);\n    };\n}));","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module Location\ndefine('Location.ProductLine', [\n    'Product.Model',\n    'Transaction.Line.Model',\n    'ProductLine.Common',\n    'Location.Model',\n    'underscore',\n    'Backbone'\n], function (ProductModel, TransactionLineModel, ProductLineCommon, LocationModel, _, Backbone) {\n    'use strict';\n    var initialize_location = function (attributes) {\n        this.on('change:location', function (model, location) {\n            var value;\n            if (location instanceof LocationModel || location instanceof Backbone.Model) {\n                value = location.clone();\n            } else if (_.isObject(location)) {\n                value = new LocationModel(location);\n            } else {\n                value = new LocationModel({ internalid: location });\n            }\n            model.set('location', value, { silent: true });\n        });\n        this.trigger('change:location', this, attributes && attributes.location || {});\n    };\n    var original_product_model_initialize_fn = ProductModel.prototype.initialize;\n    ProductModel.prototype.initialize = function initialize() {\n        original_product_model_initialize_fn.apply(this, arguments);\n        initialize_location.apply(this, arguments);\n    };\n    var original_transaction_line_model_initialize_fn = TransactionLineModel.prototype.initialize;\n    TransactionLineModel.prototype.initialize = function initialize() {\n        original_transaction_line_model_initialize_fn.apply(this, arguments);\n        initialize_location.apply(this, arguments);\n    };\n    var original_to_json_product_line_common_fn = ProductLineCommon.toJSON;\n    ProductLineCommon.toJSON = function toJSON() {\n        var result = original_to_json_product_line_common_fn.apply(this, arguments);\n        //@class Transaction.Line.Model.JSON\n        //@property {Object} location\n        result.location = this.attributes.location && this.attributes.location.attributes && this.attributes.location.attributes.internalid || '';\n        //@property {Object} fulfillmentChoice\n        result.fulfillmentChoice = this.attributes.fulfillmentChoice || 'ship';\n        return result;\n    };\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module ProductDetailToQuote\ndefine('Location', [\n    'Location.Collection',\n    'Location.Model',\n    'Transaction.Model',\n    'underscore',\n    'jQuery',\n    'jquery.cookie',\n    'Location.ProductLine'\n], function (LocationCollection, LocationModel, TransactionModel, _, jQuery) {\n    'use strict';\n    var locations_cache = {};\n    function fetchLocations(location_ids) {\n        location_ids = _.isArray(location_ids) ? location_ids : [location_ids];\n        var location_id_to_fetch = _.filter(location_ids, function (internalid) {\n                return !locations_cache[internalid] ? internalid : false;\n            }), promise = jQuery.Deferred();\n        location_ids = _.unique(_.compact(location_ids));\n        if (location_id_to_fetch.length) {\n            if (location_id_to_fetch.length === 1) {\n                promise = new LocationModel({ internalid: location_id_to_fetch[0] }).fetch().done(function (location) {\n                    locations_cache[location.internalid] = location;\n                });\n            } else {\n                promise = new LocationCollection().fetch({ data: { internalid: location_id_to_fetch.join(',') } }).done(function (locations) {\n                    _.each(locations, function (location) {\n                        locations_cache[location.internalid] = location;\n                    });\n                });\n            }\n        } else {\n            promise.resolve();\n        }\n        return promise;\n    }\n    //@class ProductDetailToQuote @extend ApplicationModule\n    return {\n        //@method get\n        //@param {String} location_id\n        //@return {Object}\n        get: function (location_id) {\n            return locations_cache[location_id] || {};\n        }    //@method fetchLocations\n             //@param {Array || String} location_ids\n             //@return {jQuery.Deferred}\n,\n        fetchLocations: fetchLocations    //@method mountToApp\n                          //@param {ApplicationSkeleton} application\n                          //@return {Void}\n,\n        mountToApp: function mountToApp() {\n            var original_transaction_model_fn = TransactionModel.prototype.initialize;\n            TransactionModel.prototype.initialize = function initialize() {\n                original_transaction_model_fn.apply(this, arguments);\n                this.on('change:lines', function (model) {\n                    var default_location_id = jQuery.cookie('myStore'), lines = model.get('lines'), is_cart = this.get('internalid') === 'cart', location_ids = lines.map(function (line) {\n                            return line.get('location') && line.get('location').get('internalid');\n                        });\n                    if (!location_ids.length) {\n                        return;\n                    }\n                    if (is_cart && default_location_id) {\n                        location_ids.push(default_location_id);\n                    }\n                    fetchLocations(location_ids).done(function () {\n                        lines.each(function (line) {\n                            var internalid = line.get('location') && line.get('location').get('internalid') || (is_cart ? default_location_id : null);\n                            if (internalid) {\n                                line.get('location').set(locations_cache[internalid]);\n                            }\n                        });\n                    });\n                });\n            };\n        }\n    };\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module Cart\ndefine('Cart.Confirmation.View', [\n    'Transaction.Line.Views.Price.View',\n    'Backbone.CompositeView',\n    'Transaction.Line.Views.Options.Selected.View',\n    'ProductLine.Sku.View',\n    'cart_confirmation_modal.tpl',\n    'Backbone',\n    'underscore',\n    'Utils'\n], function (TransactionLineViewsPriceView, BackboneCompositeView, TransactionLineViewsOptionsSelectedView, ProductLineSkuView, cart_confirmation_modal_tpl, Backbone, _) {\n    'use strict';\n    // @class Cart.Confirmation.View Cart Confirmation view @extends Backbone.View\n    return Backbone.View.extend({\n        // @property {Function} template\n        template: cart_confirmation_modal_tpl    // @property {String} title\n,\n        title: _('Added to Cart').translate(),\n        modalClass: 'global-views-modal-large'    // @property {String} page_header\n,\n        page_header: _('Added to Cart').translate()    // @property {Object} attributes\n,\n        attributes: {\n            'id': 'Cart.Confirmation.View',\n            'class': 'add-to-cart-confirmation-modal shopping-cart-modal'\n        }    // @method initialize\n,\n        initialize: function () {\n            this.model.on('change', this.render, this);\n            BackboneCompositeView.add(this);\n        },\n        destroy: function destroy() {\n            this.model.off('change', this.render, this);\n            this._destroy();\n        }    // @property {Object} childViews\n,\n        childViews: {\n            'Line.Price': function () {\n                return new TransactionLineViewsPriceView({ model: this.model });\n            },\n            'Line.SelectedOptions': function () {\n                return new TransactionLineViewsOptionsSelectedView({ model: this.model });\n            },\n            'Line.Sku': function () {\n                return new ProductLineSkuView({ model: this.model });\n            }\n        }    // @method getContext\n             // @return {Cart.Confirmation.View.Context}\n,\n        getContext: function () {\n            var item = this.model.get('item');\n            // @class Cart.Confirmation.View.Context\n            return {\n                // @property {LiveOrder.Line.Model} model\n                model: this.model,\n                thumbnail: this.model.getThumbnail()    // @property {Boolean} showQuantity\n,\n                showQuantity: item.get('_itemType') !== 'GiftCert' && this.model.get('quantity') > 0    // @property {String} itemName\n,\n                itemName: item.get('_name', true)\n            };\n        }    // @class Cart.Confirmation.View\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module Cart\ndefine('Cart.Confirmation.Helpers', [\n    'LiveOrder.Model',\n    'Cart.Confirmation.View',\n    'SC.Configuration',\n    'ErrorManagement.ResponseErrorParser',\n    'Backbone',\n    'Utils',\n    'jQuery',\n    'underscore'\n], function (LiveOrderModel, CartConfirmationView, Configuration, ErrorManagementResponseErrorParser, Backbone, Utils, jQuery, _) {\n    'use strict';\n    return {\n        // Cart.showCartConfirmation()\n        // This reads the configuration object and execs one of the functions above\n        showCartConfirmation: function showCartConfirmation(cart_promise, line, application) {\n            // Available values are: goToCart, showMiniCart and showCartConfirmationModal\n            this['_' + Configuration.get('addToCartBehavior', 'showCartConfirmationModal')](cart_promise, line, application);\n            var layout = application.getLayout();\n            cart_promise.fail(function (error) {\n                var output_message = '', error_object = error && error.responseJSON || {}, error_message = ErrorManagementResponseErrorParser(error, layout.errorMessageKeys);\n                //if the error was caused by an extension canceling the operation, then show the error message from the back-end\n                if (error_object.errorCode === 'ERR_EXT_CANCELED_OPERATION' && error_message) {\n                    output_message = error_message;\n                } else {\n                    output_message = _('Sorry, there is a problem with this Item and can not be purchased at this time. Please check back later.').translate();\n                }\n                layout.showErrorInModal(output_message);\n            });\n        },\n        _showCartConfirmationModal: function _showCartConfirmationModal(cart_promise, line, application) {\n            if (line.isNew()) {\n                return this._showOptimisticCartConfirmation(cart_promise, line, application);\n            } else {\n                cart_promise.done(function () {\n                    var view = new CartConfirmationView({\n                        application: application,\n                        model: LiveOrderModel.getInstance().getLatestAddition()\n                    });\n                    view.showInModal();\n                });\n            }\n        },\n        _showOptimisticCartConfirmation: function _showOptimisticCartConfirmation(cart_promise, line, application) {\n            // search the item in the cart to merge the quantities\n            if (LiveOrderModel.loadCart().state() === 'resolved') {\n                var cart_model = LiveOrderModel.getInstance(), cart_line = cart_model.findLine(line);\n                if (cart_line) {\n                    if (line.get('source') !== 'cart') {\n                        cart_line.set('quantity', cart_line.get('quantity') + parseInt(line.get('quantity'), 10));\n                    } else {\n                        cart_line.set('quantity', line.get('quantity'));\n                    }\n                    cart_promise.fail(function () {\n                        cart_line.set('quantity', cart_line.previous('quantity'));\n                    });\n                    line = cart_line;\n                } else {\n                    cart_model.get('lines').add(line, { at: 0 });\n                    cart_promise.fail(function () {\n                        cart_model.get('lines').remove(line);\n                    });\n                }\n            }\n            var view = new CartConfirmationView({\n                application: application,\n                model: line\n            });\n            cart_promise.done(function () {\n                view.model = cart_model.getLatestAddition();\n                view.render();\n            });\n            view.showInModal();\n        }    // Cart.goToCart()\n,\n        _goToCart: function _goToCart(cart_promise) {\n            cart_promise.done(function () {\n                Backbone.history.navigate('cart', { trigger: true });\n            });\n        },\n        _showMiniCart: function _showMiniCart(cart_promise, line, application) {\n            var layout = application.getLayout();\n            cart_promise.done(function () {\n                jQuery(document).scrollTop(0);\n                layout.closeModal().done(function () {\n                    layout.headerViewInstance && layout.headerViewInstance.showMiniCart();\n                });\n            });\n        }\n    };\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module Cart\ndefine('Cart.AddToCart.Button.View', [\n    'LiveOrder.Model',\n    'LiveOrder.Line.Model',\n    'Cart.Confirmation.Helpers',\n    'cart_add_to_cart_button.tpl',\n    'Backbone',\n    'underscore',\n    'Utils'\n], function (LiveOrderModel, LiveOrderLineModel, CartConfirmationHelpers, cart_add_to_cart_button_tpl, Backbone, _) {\n    'use strict';\n    //@class Cart.AddToCart.Button.View @extend Backbone.View\n    return Backbone.View.extend({\n        //@property {Function} template\n        template: cart_add_to_cart_button_tpl,\n        events: {\n            'mouseup [data-type=\"add-to-cart\"]': 'addToCart',\n            'click [data-type=\"add-to-cart\"]': 'addToCart'\n        }    //@method initialize\n             //@param {ProductDeatils.AddToCart.ViewCart.AddToCart.Button.View.Initialize.Options} options\n             //@return {Void}\n,\n        initialize: function initialize() {\n            Backbone.View.prototype.initialize.apply(this, arguments);\n            this.cart = LiveOrderModel.getInstance();\n            this.model.on('change', this.render, this);\n        }    //@method destroy Override default method to detach from change event of the current model\n             //@return {Void}\n,\n        destroy: function destroy() {\n            Backbone.View.prototype.destroy.apply(this, arguments);\n            this.model.off('change', this.render, this);\n        }    //@method getAddToCartValidators Returns the extra validation to add a product into the cart\n             //@return {BackboneValidationObject}\n,\n        getAddToCartValidators: function getAddToCartValidators() {\n            var self = this;\n            return {\n                quantity: {\n                    fn: function () {\n                        var line_on_cart = self.cart.findLine(self.model), quantity = self.model.get('quantity'), minimum_quantity = self.model.getItem().get('_minimumQuantity') || 1, maximum_quantity = self.model.getItem().get('_maximumQuantity');\n                        if (!_.isNumber(quantity) || _.isNaN(quantity) || quantity < 1) {\n                            return _.translate('Invalid quantity value');\n                        } else if (!line_on_cart && quantity < minimum_quantity) {\n                            return _.translate('Please add $(0) or more of this item', minimum_quantity);\n                        } else if (!!maximum_quantity) {\n                            maximum_quantity = !line_on_cart ? maximum_quantity : maximum_quantity - line_on_cart.quantity;\n                            if (quantity > maximum_quantity) {\n                                return _.translate('Please add $(0) or less of this item', maximum_quantity);\n                            }\n                        }\n                    }\n                }\n            };\n        }    //@method submitHandler Public method that fulfill the require interface of the Main action View of the PDP\n             //@param {jQuery.Event} e\n             //@return {Boolean}\n,\n        submitHandler: function submitHandler(e) {\n            return this.addToCart(e);\n        }    // @method addToCart Updates the Cart to include the current model\n             // also takes care of updating the cart if the current model is already in the cart\n             // @param {jQuery.Event} e\n             // @return {Boolean}\n,\n        addToCart: function addToCart(e) {\n            e.preventDefault();\n            var self = this, cart_promise;\n            if (!this.model.areAttributesValid([\n                    'options',\n                    'quantity'\n                ], self.getAddToCartValidators())) {\n                return;\n            }\n            if (!this.model.isNew() && this.model.get('source') === 'cart') {\n                cart_promise = this.cart.updateProduct(this.model);\n                cart_promise.done(function () {\n                    self.options.application.getLayout().closeModal();\n                });\n            } else {\n                var line = LiveOrderLineModel.createFromProduct(this.model);\n                cart_promise = this.cart.addLine(line);\n                CartConfirmationHelpers.showCartConfirmation(cart_promise, line, self.options.application);\n            }\n            cart_promise.fail(function (jqXhr) {\n                var error_details = null;\n                try {\n                    var response = JSON.parse(jqXhr.responseText);\n                    error_details = response.errorDetails;\n                } finally {\n                    if (error_details && error_details.status === 'LINE_ROLLBACK') {\n                        self.model.set('internalid', error_details.newLineId);\n                    }\n                }\n            });\n            this.disableElementsOnPromise(cart_promise, e.target);\n            return false;\n        }    //@method getContext\n             //@return {Cart.AddToCart.Button.View.Context}\n,\n        getContext: function getContext() {\n            //@class Cart.AddToCart.Button.View.Context\n            return {\n                //@property {Boolean} isCurrentItemPurchasable Indicate if the current item is valid to be purchase or not\n                isCurrentItemPurchasable: this.model.getItem().get('_isPurchasable')    //@property {Boolean} isUpdate\n,\n                isUpdate: !this.model.isNew() && this.model.get('source') === 'cart'\n            };    //@class Cart.AddToCart.Button.View\n        }\n    });\n});    //@class Cart.AddToCart.Button.View.Initialize.Options\n       //@property {Product.Model} model This view is only capable of adding new PRODUCTs into the cart.\n       //If you need to add something else please convert it into a Product.Model.\n       //\n","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module ProductDetails\ndefine('ProductDetails.Information.View', [\n    'SC.Configuration',\n    'product_details_information.tpl',\n    'Backbone',\n    'Utils',\n    'underscore'\n], function (Configuration, product_details_information_tpl, Backbone, Utils, _) {\n    'use strict';\n    // @class ProductDetails.Information.View @extends Backbone.View\n    return Backbone.View.extend({\n        template: product_details_information_tpl,\n        events: {\n            'click [data-action=\"show-more\"]': 'showMore',\n            'click [data-action=\"selected-tab\"]': 'debouncedCheckContentHeight'\n        }    //@method initialize Override default method to allow passing pre-calculated details\n             //@param {ProductDetails.Information.View.InitializationOptions} options\n             //@return {Void}\n,\n        initialize: function initialize() {\n            Backbone.View.prototype.initialize.apply(this, arguments);\n            this.details = this.options.details;\n        },\n        render: function () {\n            this.details = this.details || this.computeDetailsArea();\n            this._render();\n            if (!SC.isPageGenerator()) {\n                this.debouncedCheckContentHeight();\n            }\n        }    // @method computeDetailsArea\n             // Process what you have configured in itemDetails as item details.\n             // In the PDP extra information can be shown based on the itemDetails property in the Shopping.Configuration.\n             // These are extra field extracted from the item model\n             //@return {Array<ProductDetails.Information.DataContainer>}\n,\n        computeDetailsArea: function () {\n            var self = this, details = [];\n            _.each(Configuration.get('productDetailsInformation', []), function (item_information) {\n                var content = '';\n                if (item_information.contentFromKey) {\n                    content = self.model.get('item').get(item_information.contentFromKey);\n                }\n                var desc = self.model.get('item').get('custitem431');\n                if (content && Utils.trim(content)) {\n                    //@class ProductDetails.Information.DataContainer\n                    details.push({\n                        //@property {String} name\n                        name: item_information.name,\n                        content: content    //@property {String} itemprop\n,\n                        itemprop: item_information.itemprop\n                    });    //@class ProductDetails.Information.View\n                }\n            });\n            return details;\n        },\n        debouncedCheckContentHeight: function () {\n            return _.defer(_.bind(this.checkContentHeight, this));\n        },\n        checkContentHeight: function () {\n            var content_height = this.$('.active [data-type=\"information-content-text\"]').height();\n            if (content_height <= 370) {\n                this.$('[data-type=\"information-content-text-actions\"]').hide();\n            } else {\n                this.$('[data-type=\"information-content-text-actions\"]').show();\n            }\n        }    //@method showMore Toggle the content of an options, and change the label Show Less and Show More by adding a class\n             //@return {Void}\n,\n        showMore: function () {\n            this.$('[data-type=\"information-content\"]').toggleClass('show');\n        },\n        getContext: function () {\n            return {\n                //@property {Boolean} showInformation\n                showInformation: this.details.length > 0    //@property {Boolean} showHeader\n,\n                showHeader: this.details.length < 2    //@property {Array<ProductDetails.Information.DataContainer>} details\n,\n                details: this.details\n            };\n        }\n    });\n});    //@class ProductDetails.Information.View.InitializationOptions\n       //@property {Array<ProductDetails.Information.DataContainer>?} details\n       //@property {Product.Model} model\n       //\n","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module ProductDetails\ndefine('ProductDetails.Quantity.View', [\n    'LiveOrder.Model',\n    'product_details_quantity.tpl',\n    'Backbone'\n], function (LiveOrderModel, product_details_quantity_tpl, Backbone) {\n    'use strict';\n    // @class ProductDetails.Quantity.View @extends Backbone.View\n    return Backbone.View.extend({\n        template: product_details_quantity_tpl,\n        events: {\n            'click [data-action=\"updateQuantity\"]': 'setQuantity',\n            'click [data-action=\"changeQuantity\"]': 'setFocus',\n            'keyup [data-action=\"changeQuantity\"]': 'disableFocus'\n        }    // @method setQuantity Increase the product's Quantity by 1\n             // @param {jQuery.Event} e\n             // @return {Void}\n,\n        setQuantity: function setQuantity(e) {\n            e.preventDefault();\n            var value = parseInt(this.$(e.currentTarget).data('value'), 10), $input_quantity = this.$('[name=\"quantity\"]'), old_value = parseInt($input_quantity.val(), 10), new_quantity = old_value + value;\n            $input_quantity.val(new_quantity).trigger('blur');\n        }    // @method setFocus sets focus on input when clicked. Needed as FF won't focus if quantity is updated from spinners\n             // @return {Void}\n,\n        setFocus: function setFocus() {\n            this.$('[name=\"quantity\"]').focus();\n        }    // @method disableFocus Blur if ENTER/RETURN key is pressed\n             // @return {Void}\n,\n        disableFocus: function disableFocus(e) {\n            if (e.keyCode === 13) {\n                this.$('[name=\"quantity\"]').blur();\n            }\n        }    //@method getContext\n             //@return {ProductDetails.Quantity.View.Context}\n,\n        getContext: function getContext() {\n            //@class ProductDetails.Quantity.View.Context\n            return {\n                //@property {Product.Model} model\n                model: this.model,\n                showQuantity: this.model.get('item').get('_itemType') !== 'GiftCert'    //@property {Boolean} isMinusButtonDisabled\n,\n                isMinusButtonDisabled: this.model.get('quantity') <= 1\n            };    //@class ProductDetails.Quantity.View\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\ndefine('Utilities.ResizeImage', [\n    'SC.Configuration',\n    'Utils',\n    'underscore'\n], function (Configuration, Utils, _) {\n    'use strict';\n    return function resizeImage(url, size) {\n        url = url || Utils.getThemeAbsoluteUrlOfNonManagedResources('img/no_image_available.jpeg', Configuration.get('imageNotAvailable'));\n        size = Configuration['imageSizeMapping.' + size] || size;\n        var resize = _.first(_.where(Configuration.get('siteSettings.imagesizes', []), { name: size }));\n        if (!!resize) {\n            return url + (~url.indexOf('?') ? '&' : '?') + resize.urlsuffix;\n        }\n        return url;\n    };\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module SocialSharing\ndefine('SocialSharing.Flyout.Hover.View', [\n    'social_sharing_flyout_hover.tpl',\n    'Backbone'\n], function (social_sharing_flyout_hover_tpl, Backbone) {\n    'use strict';\n    // @class SocialSharing.Flyout.Hover.View @extends Backbone.View\n    return Backbone.View.extend({\n        template: social_sharing_flyout_hover_tpl    // @method getContext @returns {SocialSharing.Flyout.Hover.View.Context}\n,\n        getContext: function () {\n            // @class SocialSharing.Flyout.Hover.View.Context\n            return {};\n        }\n    });\n});","/*!\n\tZoom 1.7.20\n\tlicense: MIT\n\thttp://www.jacklmoore.com/zoom\n*/\ndefine('jquery.zoom', ['jQuery'], function () {\n    (function ($) {\n        var defaults = {\n            url: false,\n            callback: false,\n            target: false,\n            duration: 120,\n            on: 'mouseover',\n            // other options: grab, click, toggle\n            touch: true,\n            // enables a touch fallback\n            onZoomIn: false,\n            onZoomOut: false,\n            magnify: 1\n        };\n        // Core Zoom Logic, independent of event listeners.\n        $.zoom = function (target, source, img, magnify) {\n            var targetHeight, targetWidth, sourceHeight, sourceWidth, xRatio, yRatio, offset, $target = $(target), position = $target.css('position'), $source = $(source);\n            // The parent element needs positioning so that the zoomed element can be correctly positioned within.\n            target.style.position = /(absolute|fixed)/.test(position) ? position : 'relative';\n            target.style.overflow = 'hidden';\n            img.style.width = img.style.height = '';\n            $(img).addClass('zoomImg').css({\n                position: 'absolute',\n                top: 0,\n                left: 0,\n                opacity: 0,\n                width: img.width * magnify,\n                height: img.height * magnify,\n                border: 'none',\n                maxWidth: 'none',\n                maxHeight: 'none'\n            }).appendTo(target);\n            return {\n                init: function () {\n                    targetWidth = $target.outerWidth();\n                    targetHeight = $target.outerHeight();\n                    if (source === target) {\n                        sourceWidth = targetWidth;\n                        sourceHeight = targetHeight;\n                    } else {\n                        sourceWidth = $source.outerWidth();\n                        sourceHeight = $source.outerHeight();\n                    }\n                    xRatio = (img.width - targetWidth) / sourceWidth;\n                    yRatio = (img.height - targetHeight) / sourceHeight;\n                    offset = $source.offset();\n                },\n                move: function (e) {\n                    var left = e.pageX - offset.left, top = e.pageY - offset.top;\n                    top = Math.max(Math.min(top, sourceHeight), 0);\n                    left = Math.max(Math.min(left, sourceWidth), 0);\n                    img.style.left = left * -xRatio + 'px';\n                    img.style.top = top * -yRatio + 'px';\n                }\n            };\n        };\n        $.fn.zoom = function (options) {\n            return this.each(function () {\n                var settings = $.extend({}, defaults, options || {}),\n                    //target will display the zoomed image\n                    target = settings.target && $(settings.target)[0] || this,\n                    //source will provide zoom location info (thumbnail)\n                    source = this, $source = $(source), img = document.createElement('img'), $img = $(img), mousemove = 'mousemove.zoom', clicked = false, touched = false;\n                // If a url wasn't specified, look for an image element.\n                if (!settings.url) {\n                    var srcElement = source.querySelector('img');\n                    if (srcElement) {\n                        settings.url = srcElement.getAttribute('data-src') || srcElement.currentSrc || srcElement.src;\n                    }\n                    if (!settings.url) {\n                        return;\n                    }\n                }\n                $source.one('zoom.destroy', function (position, overflow) {\n                    $source.off('.zoom');\n                    target.style.position = position;\n                    target.style.overflow = overflow;\n                    img.onload = null;\n                    $img.remove();\n                }.bind(this, target.style.position, target.style.overflow));\n                img.onload = function () {\n                    var zoom = $.zoom(target, source, img, settings.magnify);\n                    function start(e) {\n                        zoom.init();\n                        zoom.move(e);\n                        // Skip the fade-in for IE8 and lower since it chokes on fading-in\n                        // and changing position based on mousemovement at the same time.\n                        $img.stop().fadeTo($.support.opacity ? settings.duration : 0, 1, $.isFunction(settings.onZoomIn) ? settings.onZoomIn.call(img) : false);\n                    }\n                    function stop() {\n                        $img.stop().fadeTo(settings.duration, 0, $.isFunction(settings.onZoomOut) ? settings.onZoomOut.call(img) : false);\n                    }\n                    // Mouse events\n                    if (settings.on === 'grab') {\n                        $source.on('mousedown.zoom', function (e) {\n                            if (e.which === 1) {\n                                $(document).one('mouseup.zoom', function () {\n                                    stop();\n                                    $(document).off(mousemove, zoom.move);\n                                });\n                                start(e);\n                                $(document).on(mousemove, zoom.move);\n                                e.preventDefault();\n                            }\n                        });\n                    } else if (settings.on === 'click') {\n                        $source.on('click.zoom', function (e) {\n                            if (clicked) {\n                                // bubble the event up to the document to trigger the unbind.\n                                return;\n                            } else {\n                                clicked = true;\n                                start(e);\n                                $(document).on(mousemove, zoom.move);\n                                $(document).one('click.zoom', function () {\n                                    stop();\n                                    clicked = false;\n                                    $(document).off(mousemove, zoom.move);\n                                });\n                                return false;\n                            }\n                        });\n                    } else if (settings.on === 'toggle') {\n                        $source.on('click.zoom', function (e) {\n                            if (clicked) {\n                                stop();\n                            } else {\n                                start(e);\n                            }\n                            clicked = !clicked;\n                        });\n                    } else if (settings.on === 'mouseover') {\n                        zoom.init();\n                        // Preemptively call init because IE7 will fire the mousemove handler before the hover handler.\n                        $source.on('mouseenter.zoom', start).on('mouseleave.zoom', stop).on(mousemove, zoom.move);\n                    }\n                    // Touch fallback\n                    if (settings.touch) {\n                        $source.on('touchstart.zoom', function (e) {\n                            e.preventDefault();\n                            if (touched) {\n                                touched = false;\n                                stop();\n                            } else {\n                                touched = true;\n                                start(e.originalEvent.touches[0] || e.originalEvent.changedTouches[0]);\n                            }\n                        }).on('touchmove.zoom', function (e) {\n                            e.preventDefault();\n                            zoom.move(e.originalEvent.touches[0] || e.originalEvent.changedTouches[0]);\n                        }).on('touchend.zoom', function (e) {\n                            e.preventDefault();\n                            if (touched) {\n                                touched = false;\n                                stop();\n                            }\n                        });\n                    }\n                    if ($.isFunction(settings.callback)) {\n                        settings.callback.call(img);\n                    }\n                };\n                img.setAttribute('role', 'presentation');\n                img.src = settings.url;\n            });\n        };\n        $.fn.zoom.defaults = defaults;\n    }(window.jQuery));\n    return;\n});","/**\n * BxSlider v4.1.1 - Fully loaded, responsive content slider\n * http://bxslider.com\n *\n * Copyright 2012, Steven Wanderski - http://stevenwanderski.com - http://bxcreative.com\n * Written while drinking Belgian ales and listening to jazz\n *\n * Released under the WTFPL license - http://sam.zoy.org/wtfpl/\n */\ndefine('jQuery.bxSlider', ['jQuery'], function () {\n    ;\n    (function ($) {\n        var plugin = {};\n        var defaults = {\n            // GENERAL\n            mode: 'horizontal',\n            slideSelector: '',\n            infiniteLoop: true,\n            hideControlOnEnd: false,\n            speed: 500,\n            easing: null,\n            slideMargin: 0,\n            startSlide: 0,\n            randomStart: false,\n            captions: false,\n            ticker: false,\n            tickerHover: false,\n            adaptiveHeight: false,\n            adaptiveHeightSpeed: 500,\n            video: false,\n            useCSS: true,\n            preloadImages: 'visible',\n            responsive: true,\n            slideZIndex: 50,\n            wrapperClass: 'bx-wrapper',\n            // TOUCH\n            touchEnabled: true,\n            swipeThreshold: 50,\n            oneToOneTouch: true,\n            preventDefaultSwipeX: true,\n            preventDefaultSwipeY: false,\n            // PAGER\n            pager: true,\n            pagerType: 'full',\n            pagerShortSeparator: ' / ',\n            pagerSelector: null,\n            buildPager: null,\n            pagerCustom: null,\n            // CONTROLS\n            controls: true,\n            nextText: 'Next',\n            prevText: 'Prev',\n            nextSelector: null,\n            prevSelector: null,\n            autoControls: false,\n            startText: 'Start',\n            stopText: 'Stop',\n            autoControlsCombine: false,\n            autoControlsSelector: null,\n            // AUTO\n            auto: false,\n            pause: 4000,\n            autoStart: true,\n            autoDirection: 'next',\n            autoHover: false,\n            autoDelay: 0,\n            autoSlideForOnePage: false,\n            // CAROUSEL\n            minSlides: 1,\n            maxSlides: 1,\n            moveSlides: 0,\n            slideWidth: 0,\n            // CALLBACKS\n            onSliderLoad: function () {\n            },\n            onSlideBefore: function () {\n            },\n            onSlideAfter: function () {\n            },\n            onSlideNext: function () {\n            },\n            onSlidePrev: function () {\n            },\n            onSliderResize: function () {\n            }\n        };\n        $.fn.bxSlider = function (options) {\n            if (this.length == 0)\n                return this;\n            // support mutltiple elements\n            if (this.length > 1) {\n                this.each(function () {\n                    $(this).bxSlider(options);\n                });\n                return this;\n            }\n            // create a namespace to be used throughout the plugin\n            var slider = {};\n            // set a reference to our slider element\n            var el = this;\n            plugin.el = this;\n            /**\n\t\t * Makes slideshow responsive\n\t\t */\n            // first get the original window dimens (thanks alot IE)\n            var windowWidth = $(window).width();\n            var windowHeight = $(window).height();\n            /**\n\t\t * ===================================================================================\n\t\t * = PRIVATE FUNCTIONS\n\t\t * ===================================================================================\n\t\t */\n            /**\n\t\t * Initializes namespace settings to be used throughout plugin\n\t\t */\n            var init = function () {\n                // merge user-supplied options with the defaults\n                slider.settings = $.extend({}, defaults, options);\n                // parse slideWidth setting\n                slider.settings.slideWidth = parseInt(slider.settings.slideWidth);\n                // store the original children\n                slider.children = el.children(slider.settings.slideSelector);\n                // check if actual number of slides is less than minSlides / maxSlides\n                if (slider.children.length < slider.settings.minSlides)\n                    slider.settings.minSlides = slider.children.length;\n                if (slider.children.length < slider.settings.maxSlides)\n                    slider.settings.maxSlides = slider.children.length;\n                // if random start, set the startSlide setting to random number\n                if (slider.settings.randomStart)\n                    slider.settings.startSlide = Math.floor(Math.random() * slider.children.length);\n                // store active slide information\n                slider.active = { index: slider.settings.startSlide };\n                // store if the slider is in carousel mode (displaying / moving multiple slides)\n                slider.carousel = slider.settings.minSlides > 1 || slider.settings.maxSlides > 1;\n                // if carousel, force preloadImages = 'all'\n                if (slider.carousel)\n                    slider.settings.preloadImages = 'all';\n                // calculate the min / max width thresholds based on min / max number of slides\n                // used to setup and update carousel slides dimensions\n                slider.minThreshold = slider.settings.minSlides * slider.settings.slideWidth + (slider.settings.minSlides - 1) * slider.settings.slideMargin;\n                slider.maxThreshold = slider.settings.maxSlides * slider.settings.slideWidth + (slider.settings.maxSlides - 1) * slider.settings.slideMargin;\n                // store the current state of the slider (if currently animating, working is true)\n                slider.working = false;\n                // initialize the controls object\n                slider.controls = {};\n                // initialize an auto interval\n                slider.interval = null;\n                // determine which property to use for transitions\n                slider.animProp = slider.settings.mode == 'vertical' ? 'top' : 'left';\n                // determine if hardware acceleration can be used\n                slider.usingCSS = slider.settings.useCSS && slider.settings.mode != 'fade' && function () {\n                    // create our test div element\n                    var div = document.createElement('div');\n                    // css transition properties\n                    var props = [\n                        'WebkitPerspective',\n                        'MozPerspective',\n                        'OPerspective',\n                        'msPerspective'\n                    ];\n                    // test for each property\n                    for (var i in props) {\n                        if (div.style[props[i]] !== undefined) {\n                            slider.cssPrefix = props[i].replace('Perspective', '').toLowerCase();\n                            slider.animProp = '-' + slider.cssPrefix + '-transform';\n                            return true;\n                        }\n                    }\n                    return false;\n                }();\n                // if vertical mode always make maxSlides and minSlides equal\n                if (slider.settings.mode == 'vertical')\n                    slider.settings.maxSlides = slider.settings.minSlides;\n                // save original style data\n                el.data('origStyle', el.attr('style'));\n                el.children(slider.settings.slideSelector).each(function () {\n                    $(this).data('origStyle', $(this).attr('style'));\n                });\n                // perform all DOM / CSS modifications\n                setup();\n            };\n            /**\n\t\t * Performs all DOM and CSS modifications\n\t\t */\n            var setup = function () {\n                // wrap el in a wrapper\n                el.wrap('<div class=\"' + slider.settings.wrapperClass + '\"><div class=\"bx-viewport\"></div></div>');\n                // store a namspace reference to .bx-viewport\n                slider.viewport = el.parent();\n                // add a loading div to display while images are loading\n                slider.loader = $('<div class=\"bx-loading\" />');\n                slider.viewport.prepend(slider.loader);\n                // set el to a massive width, to hold any needed slides\n                // also strip any margin and padding from el\n                el.css({\n                    width: slider.settings.mode == 'horizontal' ? slider.children.length * 100 + 215 + '%' : 'auto',\n                    position: 'relative'\n                });\n                // if using CSS, add the easing property\n                if (slider.usingCSS && slider.settings.easing) {\n                    el.css('-' + slider.cssPrefix + '-transition-timing-function', slider.settings.easing);    // if not using CSS and no easing value was supplied, use the default JS animation easing (swing)\n                } else if (!slider.settings.easing) {\n                    slider.settings.easing = 'swing';\n                }\n                var slidesShowing = getNumberSlidesShowing();\n                // make modifications to the viewport (.bx-viewport)\n                slider.viewport.css({\n                    width: '100%',\n                    overflow: 'hidden',\n                    position: 'relative'\n                });\n                slider.viewport.parent().css({ maxWidth: getViewportMaxWidth() });\n                // make modification to the wrapper (.bx-wrapper)\n                if (!slider.settings.pager) {\n                    slider.viewport.parent().css({ margin: '0 auto 0px' });\n                }\n                // apply css to all slider children\n                slider.children.css({\n                    'float': slider.settings.mode == 'horizontal' ? 'left' : 'none',\n                    listStyle: 'none',\n                    position: 'relative'\n                });\n                // apply the calculated width after the float is applied to prevent scrollbar interference\n                slider.children.css('width', getSlideWidth());\n                // if slideMargin is supplied, add the css\n                if (slider.settings.mode == 'horizontal' && slider.settings.slideMargin > 0)\n                    slider.children.css('marginRight', slider.settings.slideMargin);\n                if (slider.settings.mode == 'vertical' && slider.settings.slideMargin > 0)\n                    slider.children.css('marginBottom', slider.settings.slideMargin);\n                // if \"fade\" mode, add positioning and z-index CSS\n                if (slider.settings.mode == 'fade') {\n                    slider.children.css({\n                        position: 'absolute',\n                        zIndex: 0,\n                        display: 'none'\n                    });\n                    // prepare the z-index on the showing element\n                    slider.children.eq(slider.settings.startSlide).css({\n                        zIndex: slider.settings.slideZIndex,\n                        display: 'block'\n                    });\n                }\n                // create an element to contain all slider controls (pager, start / stop, etc)\n                slider.controls.el = $('<div class=\"bx-controls\" />');\n                // if captions are requested, add them\n                if (slider.settings.captions)\n                    appendCaptions();\n                // check if startSlide is last slide\n                slider.active.last = slider.settings.startSlide == getPagerQty() - 1;\n                // if video is true, set up the fitVids plugin\n                if (slider.settings.video)\n                    el.fitVids();\n                // set the default preload selector (visible)\n                var preloadSelector = slider.children.eq(slider.settings.startSlide);\n                if (slider.settings.preloadImages == 'all')\n                    preloadSelector = slider.children;\n                // only check for control addition if not in \"ticker\" mode\n                if (!slider.settings.ticker) {\n                    // if pager is requested, add it\n                    if (slider.settings.pager)\n                        appendPager();\n                    // if controls are requested, add them\n                    if (slider.settings.controls)\n                        appendControls();\n                    // if auto is true, and auto controls are requested, add them\n                    if (slider.settings.auto && slider.settings.autoControls)\n                        appendControlsAuto();\n                    // if any control option is requested, add the controls wrapper\n                    if (slider.settings.controls || slider.settings.autoControls || slider.settings.pager)\n                        slider.viewport.after(slider.controls.el);    // if ticker mode, do not allow a pager\n                } else {\n                    slider.settings.pager = false;\n                }\n                // CUSTOM: the following 3 lines are a customization\n                if (slider.settings.forceStart)\n                    start();\n                else\n                    // preload all images, then perform final DOM / CSS modifications that depend on images being loaded\n                    loadElements(preloadSelector, start);\n            };\n            var loadElements = function (selector, callback) {\n                var total = selector.find('img, iframe').length;\n                if (total == 0) {\n                    callback();\n                    return;\n                }\n                var count = 0;\n                selector.find('img, iframe').each(function () {\n                    // CUSTOM: remove time stamp, we want images to be cached\n                    // if($(this).is('img')) $(this).attr('src', $(this).attr('src') + '?timestamp=' + new Date().getTime());\n                    $(this).load(function () {\n                        setTimeout(function () {\n                            if (++count == total)\n                                callback();\n                        }, 0);\n                    });\n                });\n            };\n            /**\n\t\t * Start the slider\n\t\t */\n            var start = function () {\n                // if infinite loop, prepare additional slides\n                if (slider.settings.infiniteLoop && slider.settings.mode != 'fade' && !slider.settings.ticker) {\n                    var slice = slider.settings.mode == 'vertical' ? slider.settings.minSlides : slider.settings.maxSlides;\n                    var sliceAppend = slider.children.slice(0, slice).clone().addClass('bx-clone');\n                    var slicePrepend = slider.children.slice(-slice).clone().addClass('bx-clone');\n                    el.append(sliceAppend).prepend(slicePrepend);\n                }\n                // remove the loading DOM element\n                slider.loader.remove();\n                // set the left / top position of \"el\"\n                setSlidePosition();\n                // if \"vertical\" mode, always use adaptiveHeight to prevent odd behavior\n                if (slider.settings.mode == 'vertical')\n                    slider.settings.adaptiveHeight = true;\n                // set the viewport height\n                slider.viewport.height(getViewportHeight());\n                // make sure everything is positioned just right (same as a window resize)\n                el.redrawSlider();\n                // onSliderLoad callback\n                slider.settings.onSliderLoad(slider.active.index);\n                // slider has been fully initialized\n                slider.initialized = true;\n                // bind the resize call to the window\n                if (slider.settings.responsive)\n                    $(window).bind('resize', resizeWindow);\n                // if auto is true and has more than 1 page, start the show\n                if (slider.settings.auto && slider.settings.autoStart && (getPagerQty() > 1 || slider.settings.autoSlideForOnePage))\n                    initAuto();\n                // if ticker is true, start the ticker\n                if (slider.settings.ticker)\n                    initTicker();\n                // if pager is requested, make the appropriate pager link active\n                if (slider.settings.pager)\n                    updatePagerActive(slider.settings.startSlide);\n                // check for any updates to the controls (like hideControlOnEnd updates)\n                if (slider.settings.controls)\n                    updateDirectionControls();\n                // if touchEnabled is true, setup the touch events\n                if (slider.settings.touchEnabled && !slider.settings.ticker)\n                    initTouch();\n            };\n            /**\n\t\t * Returns the calculated height of the viewport, used to determine either adaptiveHeight or the maxHeight value\n\t\t */\n            var getViewportHeight = function () {\n                var height = 0;\n                // first determine which children (slides) should be used in our height calculation\n                var children = $();\n                // if mode is not \"vertical\" and adaptiveHeight is false, include all children\n                if (slider.settings.mode != 'vertical' && !slider.settings.adaptiveHeight) {\n                    children = slider.children;\n                } else {\n                    // if not carousel, return the single active child\n                    if (!slider.carousel) {\n                        children = slider.children.eq(slider.active.index);    // if carousel, return a slice of children\n                    } else {\n                        // get the individual slide index\n                        var currentIndex = slider.settings.moveSlides == 1 ? slider.active.index : slider.active.index * getMoveBy();\n                        // add the current slide to the children\n                        children = slider.children.eq(currentIndex);\n                        // cycle through the remaining \"showing\" slides\n                        for (i = 1; i <= slider.settings.maxSlides - 1; i++) {\n                            // if looped back to the start\n                            if (currentIndex + i >= slider.children.length) {\n                                children = children.add(slider.children.eq(i - 1));\n                            } else {\n                                children = children.add(slider.children.eq(currentIndex + i));\n                            }\n                        }\n                    }\n                }\n                // if \"vertical\" mode, calculate the sum of the heights of the children\n                if (slider.settings.mode == 'vertical') {\n                    children.each(function (index) {\n                        height += $(this).outerHeight();\n                    });\n                    // add user-supplied margins\n                    if (slider.settings.slideMargin > 0) {\n                        height += slider.settings.slideMargin * (slider.settings.minSlides - 1);\n                    }    // if not \"vertical\" mode, calculate the max height of the children\n                } else {\n                    height = Math.max.apply(Math, children.map(function () {\n                        return $(this).outerHeight(false);\n                    }).get());\n                }\n                if (slider.viewport.css('box-sizing') == 'border-box') {\n                    height += parseFloat(slider.viewport.css('padding-top')) + parseFloat(slider.viewport.css('padding-bottom')) + parseFloat(slider.viewport.css('border-top-width')) + parseFloat(slider.viewport.css('border-bottom-width'));\n                } else if (slider.viewport.css('box-sizing') == 'padding-box') {\n                    height += parseFloat(slider.viewport.css('padding-top')) + parseFloat(slider.viewport.css('padding-bottom'));\n                }\n                return height;\n            };\n            /**\n\t\t * Returns the calculated width to be used for the outer wrapper / viewport\n\t\t */\n            var getViewportMaxWidth = function () {\n                var width = '100%';\n                if (slider.settings.slideWidth > 0) {\n                    if (slider.settings.mode == 'horizontal') {\n                        width = slider.settings.maxSlides * slider.settings.slideWidth + (slider.settings.maxSlides - 1) * slider.settings.slideMargin;\n                    } else {\n                        width = slider.settings.slideWidth;\n                    }\n                }\n                return width;\n            };\n            /**\n\t\t * Returns the calculated width to be applied to each slide\n\t\t */\n            var getSlideWidth = function () {\n                // start with any user-supplied slide width\n                var newElWidth = slider.settings.slideWidth;\n                // get the current viewport width\n                var wrapWidth = slider.viewport.width();\n                // if slide width was not supplied, or is larger than the viewport use the viewport width\n                if (slider.settings.slideWidth == 0 || slider.settings.slideWidth > wrapWidth && !slider.carousel || slider.settings.mode == 'vertical') {\n                    newElWidth = wrapWidth;    // if carousel, use the thresholds to determine the width\n                } else if (slider.settings.maxSlides > 1 && slider.settings.mode == 'horizontal') {\n                    if (wrapWidth > slider.maxThreshold) {\n                    } else if (wrapWidth < slider.minThreshold) {\n                        newElWidth = (wrapWidth - slider.settings.slideMargin * (slider.settings.minSlides - 1)) / slider.settings.minSlides;\n                    }\n                }\n                return newElWidth;\n            };\n            /**\n\t\t * Returns the number of slides currently visible in the viewport (includes partially visible slides)\n\t\t */\n            var getNumberSlidesShowing = function () {\n                var slidesShowing = 1;\n                if (slider.settings.mode == 'horizontal' && slider.settings.slideWidth > 0) {\n                    // if viewport is smaller than minThreshold, return minSlides\n                    if (slider.viewport.width() < slider.minThreshold) {\n                        slidesShowing = slider.settings.minSlides;    // if viewport is larger than minThreshold, return maxSlides\n                    } else if (slider.viewport.width() > slider.maxThreshold) {\n                        slidesShowing = slider.settings.maxSlides;    // if viewport is between min / max thresholds, divide viewport width by first child width\n                    } else {\n                        var childWidth = slider.children.first().width() + slider.settings.slideMargin;\n                        slidesShowing = Math.floor((slider.viewport.width() + slider.settings.slideMargin) / childWidth);\n                    }    // if \"vertical\" mode, slides showing will always be minSlides\n                } else if (slider.settings.mode == 'vertical') {\n                    slidesShowing = slider.settings.minSlides;\n                }\n                return slidesShowing;\n            };\n            /**\n\t\t * Returns the number of pages (one full viewport of slides is one \"page\")\n\t\t */\n            var getPagerQty = function () {\n                var pagerQty = 0;\n                // if moveSlides is specified by the user\n                if (slider.settings.moveSlides > 0) {\n                    if (slider.settings.infiniteLoop) {\n                        pagerQty = Math.ceil(slider.children.length / getMoveBy());\n                    } else {\n                        // use a while loop to determine pages\n                        var breakPoint = 0;\n                        var counter = 0;\n                        // when breakpoint goes above children length, counter is the number of pages\n                        while (breakPoint < slider.children.length) {\n                            ++pagerQty;\n                            breakPoint = counter + getNumberSlidesShowing();\n                            counter += slider.settings.moveSlides <= getNumberSlidesShowing() ? slider.settings.moveSlides : getNumberSlidesShowing();\n                        }\n                    }    // if moveSlides is 0 (auto) divide children length by sides showing, then round up\n                } else {\n                    pagerQty = Math.ceil(slider.children.length / getNumberSlidesShowing());\n                }\n                return pagerQty;\n            };\n            /**\n\t\t * Returns the number of indivual slides by which to shift the slider\n\t\t */\n            var getMoveBy = function () {\n                // if moveSlides was set by the user and moveSlides is less than number of slides showing\n                if (slider.settings.moveSlides > 0 && slider.settings.moveSlides <= getNumberSlidesShowing()) {\n                    return slider.settings.moveSlides;\n                }\n                // if moveSlides is 0 (auto)\n                return getNumberSlidesShowing();\n            };\n            /**\n\t\t * Sets the slider's (el) left or top position\n\t\t */\n            var setSlidePosition = function () {\n                // if last slide, not infinite loop, and number of children is larger than specified maxSlides\n                if (slider.children.length > slider.settings.maxSlides && slider.active.last && !slider.settings.infiniteLoop) {\n                    if (slider.settings.mode == 'horizontal') {\n                        // get the last child's position\n                        var lastChild = slider.children.last();\n                        var position = lastChild.position();\n                        // set the left position\n                        setPositionProperty(-(position.left - (slider.viewport.width() - lastChild.outerWidth())), 'reset', 0);\n                    } else if (slider.settings.mode == 'vertical') {\n                        // get the last showing index's position\n                        var lastShowingIndex = slider.children.length - slider.settings.minSlides;\n                        var position = slider.children.eq(lastShowingIndex).position();\n                        // set the top position\n                        setPositionProperty(-position.top, 'reset', 0);\n                    }    // if not last slide\n                } else {\n                    // get the position of the first showing slide\n                    var position = slider.children.eq(slider.active.index * getMoveBy()).position();\n                    // check for last slide\n                    if (slider.active.index == getPagerQty() - 1)\n                        slider.active.last = true;\n                    // set the repective position\n                    if (position != undefined) {\n                        if (slider.settings.mode == 'horizontal')\n                            setPositionProperty(-position.left, 'reset', 0);\n                        else if (slider.settings.mode == 'vertical')\n                            setPositionProperty(-position.top, 'reset', 0);\n                    }\n                }\n            };\n            /**\n\t\t * Sets the el's animating property position (which in turn will sometimes animate el).\n\t\t * If using CSS, sets the transform property. If not using CSS, sets the top / left property.\n\t\t *\n\t\t * @param value (int)\n\t\t *  - the animating property's value\n\t\t *\n\t\t * @param type (string) 'slider', 'reset', 'ticker'\n\t\t *  - the type of instance for which the function is being\n\t\t *\n\t\t * @param duration (int)\n\t\t *  - the amount of time (in ms) the transition should occupy\n\t\t *\n\t\t * @param params (array) optional\n\t\t *  - an optional parameter containing any variables that need to be passed in\n\t\t */\n            var setPositionProperty = function (value, type, duration, params) {\n                // use CSS transform\n                if (slider.usingCSS) {\n                    // determine the translate3d value\n                    var propValue = slider.settings.mode == 'vertical' ? 'translate3d(0, ' + value + 'px, 0)' : 'translate3d(' + value + 'px, 0, 0)';\n                    // add the CSS transition-duration\n                    el.css('-' + slider.cssPrefix + '-transition-duration', duration / 1000 + 's');\n                    if (type == 'slide') {\n                        // set the property value\n                        el.css(slider.animProp, propValue);\n                        // bind a callback method - executes when CSS transition completes\n                        el.bind('transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd', function () {\n                            // unbind the callback\n                            el.unbind('transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd');\n                            updateAfterSlideTransition();\n                        });\n                    } else if (type == 'reset') {\n                        el.css(slider.animProp, propValue);\n                    } else if (type == 'ticker') {\n                        // make the transition use 'linear'\n                        el.css('-' + slider.cssPrefix + '-transition-timing-function', 'linear');\n                        el.css(slider.animProp, propValue);\n                        // bind a callback method - executes when CSS transition completes\n                        el.bind('transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd', function () {\n                            // unbind the callback\n                            el.unbind('transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd');\n                            // reset the position\n                            setPositionProperty(params['resetValue'], 'reset', 0);\n                            // start the loop again\n                            tickerLoop();\n                        });\n                    }    // use JS animate\n                } else {\n                    var animateObj = {};\n                    animateObj[slider.animProp] = value;\n                    if (type == 'slide') {\n                        el.animate(animateObj, duration, slider.settings.easing, function () {\n                            updateAfterSlideTransition();\n                        });\n                    } else if (type == 'reset') {\n                        el.css(slider.animProp, value);\n                    } else if (type == 'ticker') {\n                        el.animate(animateObj, speed, 'linear', function () {\n                            setPositionProperty(params['resetValue'], 'reset', 0);\n                            // run the recursive loop after animation\n                            tickerLoop();\n                        });\n                    }\n                }\n            };\n            /**\n\t\t * Populates the pager with proper amount of pages\n\t\t */\n            var populatePager = function () {\n                var pagerHtml = '';\n                var pagerQty = getPagerQty();\n                // loop through each pager item\n                for (var i = 0; i < pagerQty; i++) {\n                    var linkContent = '';\n                    // if a buildPager function is supplied, use it to get pager link value, else use index + 1\n                    if (slider.settings.buildPager && $.isFunction(slider.settings.buildPager)) {\n                        linkContent = slider.settings.buildPager(i);\n                        slider.pagerEl.addClass('bx-custom-pager');\n                    } else {\n                        linkContent = i + 1;\n                        slider.pagerEl.addClass('bx-default-pager');\n                    }\n                    // var linkContent = slider.settings.buildPager && $.isFunction(slider.settings.buildPager) ? slider.settings.buildPager(i) : i + 1;\n                    // add the markup to the string\n                    pagerHtml += '<div class=\"bx-pager-item\"><a href=\"\" data-slide-index=\"' + i + '\" class=\"bx-pager-link\">' + linkContent + '</a></div>';\n                }\n                ;\n                // populate the pager element with pager links\n                slider.pagerEl.html(pagerHtml);\n            };\n            /**\n\t\t * Appends the pager to the controls element\n\t\t */\n            var appendPager = function () {\n                if (!slider.settings.pagerCustom) {\n                    // create the pager DOM element\n                    slider.pagerEl = $('<div class=\"bx-pager\" />');\n                    // if a pager selector was supplied, populate it with the pager\n                    if (slider.settings.pagerSelector) {\n                        $(slider.settings.pagerSelector).html(slider.pagerEl);    // if no pager selector was supplied, add it after the wrapper\n                    } else {\n                        slider.controls.el.addClass('bx-has-pager').append(slider.pagerEl);\n                    }\n                    // populate the pager\n                    populatePager();\n                } else {\n                    slider.pagerEl = $(slider.settings.pagerCustom);\n                }\n                // assign the pager click binding\n                slider.pagerEl.on('click', 'a', clickPagerBind);\n            };\n            /**\n\t\t * Appends prev / next controls to the controls element\n\t\t */\n            var appendControls = function () {\n                slider.controls.next = $('<a class=\"bx-next\" href=\"\">' + slider.settings.nextText + '</a>');\n                slider.controls.prev = $('<a class=\"bx-prev\" href=\"\">' + slider.settings.prevText + '</a>');\n                // bind click actions to the controls\n                slider.controls.next.bind('click', clickNextBind);\n                slider.controls.prev.bind('click', clickPrevBind);\n                // if nextSlector was supplied, populate it\n                if (slider.settings.nextSelector) {\n                    $(slider.settings.nextSelector).append(slider.controls.next);\n                }\n                // if prevSlector was supplied, populate it\n                if (slider.settings.prevSelector) {\n                    $(slider.settings.prevSelector).append(slider.controls.prev);\n                }\n                // if no custom selectors were supplied\n                if (!slider.settings.nextSelector && !slider.settings.prevSelector) {\n                    // add the controls to the DOM\n                    slider.controls.directionEl = $('<div class=\"bx-controls-direction\" />');\n                    // add the control elements to the directionEl\n                    slider.controls.directionEl.append(slider.controls.prev).append(slider.controls.next);\n                    // slider.viewport.append(slider.controls.directionEl);\n                    slider.controls.el.addClass('bx-has-controls-direction').append(slider.controls.directionEl);\n                }\n            };\n            /**\n\t\t * Appends start / stop auto controls to the controls element\n\t\t */\n            var appendControlsAuto = function () {\n                slider.controls.start = $('<div class=\"bx-controls-auto-item\"><a class=\"bx-start\" href=\"\">' + slider.settings.startText + '</a></div>');\n                slider.controls.stop = $('<div class=\"bx-controls-auto-item\"><a class=\"bx-stop\" href=\"\">' + slider.settings.stopText + '</a></div>');\n                // add the controls to the DOM\n                slider.controls.autoEl = $('<div class=\"bx-controls-auto\" />');\n                // bind click actions to the controls\n                slider.controls.autoEl.on('click', '.bx-start', clickStartBind);\n                slider.controls.autoEl.on('click', '.bx-stop', clickStopBind);\n                // if autoControlsCombine, insert only the \"start\" control\n                if (slider.settings.autoControlsCombine) {\n                    slider.controls.autoEl.append(slider.controls.start);    // if autoControlsCombine is false, insert both controls\n                } else {\n                    slider.controls.autoEl.append(slider.controls.start).append(slider.controls.stop);\n                }\n                // if auto controls selector was supplied, populate it with the controls\n                if (slider.settings.autoControlsSelector) {\n                    $(slider.settings.autoControlsSelector).html(slider.controls.autoEl);    // if auto controls selector was not supplied, add it after the wrapper\n                } else {\n                    slider.controls.el.addClass('bx-has-controls-auto').append(slider.controls.autoEl);\n                }\n                // update the auto controls\n                updateAutoControls(slider.settings.autoStart ? 'stop' : 'start');\n            };\n            /**\n\t\t * Appends image captions to the DOM\n\t\t */\n            var appendCaptions = function () {\n                // cycle through each child\n                slider.children.each(function (index) {\n                    // get the image title attribute\n                    var title = $(this).find('img:first').attr('title');\n                    // append the caption\n                    if (title != undefined && ('' + title).length) {\n                        $(this).append('<div class=\"bx-caption\"><span>' + title + '</span></div>');\n                    }\n                });\n            };\n            /**\n\t\t * Click next binding\n\t\t *\n\t\t * @param e (event)\n\t\t *  - DOM event object\n\t\t */\n            var clickNextBind = function (e) {\n                // if auto show is running, stop it\n                if (slider.settings.auto)\n                    el.stopAuto();\n                el.goToNextSlide();\n                e.preventDefault();\n            };\n            /**\n\t\t * Click prev binding\n\t\t *\n\t\t * @param e (event)\n\t\t *  - DOM event object\n\t\t */\n            var clickPrevBind = function (e) {\n                // if auto show is running, stop it\n                if (slider.settings.auto)\n                    el.stopAuto();\n                el.goToPrevSlide();\n                e.preventDefault();\n            };\n            /**\n\t\t * Click start binding\n\t\t *\n\t\t * @param e (event)\n\t\t *  - DOM event object\n\t\t */\n            var clickStartBind = function (e) {\n                el.startAuto();\n                e.preventDefault();\n            };\n            /**\n\t\t * Click stop binding\n\t\t *\n\t\t * @param e (event)\n\t\t *  - DOM event object\n\t\t */\n            var clickStopBind = function (e) {\n                el.stopAuto();\n                e.preventDefault();\n            };\n            /**\n\t\t * Click pager binding\n\t\t *\n\t\t * @param e (event)\n\t\t *  - DOM event object\n\t\t */\n            var clickPagerBind = function (e) {\n                // if auto show is running, stop it\n                if (slider.settings.auto)\n                    el.stopAuto();\n                var pagerLink = $(e.currentTarget);\n                if (pagerLink.attr('data-slide-index') !== undefined) {\n                    var pagerIndex = parseInt(pagerLink.attr('data-slide-index'));\n                    // if clicked pager link is not active, continue with the goToSlide call\n                    if (pagerIndex != slider.active.index)\n                        el.goToSlide(pagerIndex);\n                    e.preventDefault();\n                }\n            };\n            /**\n\t\t * Updates the pager links with an active class\n\t\t *\n\t\t * @param slideIndex (int)\n\t\t *  - index of slide to make active\n\t\t */\n            var updatePagerActive = function (slideIndex) {\n                // if \"short\" pager type\n                var len = slider.children.length;\n                // nb of children\n                if (slider.settings.pagerType == 'short') {\n                    if (slider.settings.maxSlides > 1) {\n                        len = Math.ceil(slider.children.length / slider.settings.maxSlides);\n                    }\n                    slider.pagerEl.html(slideIndex + 1 + slider.settings.pagerShortSeparator + len);\n                    return;\n                }\n                // remove all pager active classes\n                slider.pagerEl.find('a').removeClass('active');\n                // apply the active class for all pagers\n                slider.pagerEl.each(function (i, el) {\n                    $(el).find('a').eq(slideIndex).addClass('active');\n                });\n            };\n            /**\n\t\t * Performs needed actions after a slide transition\n\t\t */\n            var updateAfterSlideTransition = function () {\n                // if infinte loop is true\n                if (slider.settings.infiniteLoop) {\n                    var position = '';\n                    // first slide\n                    if (slider.active.index == 0) {\n                        // set the new position\n                        position = slider.children.eq(0).position();    // carousel, last slide\n                    } else if (slider.active.index == getPagerQty() - 1 && slider.carousel) {\n                        position = slider.children.eq((getPagerQty() - 1) * getMoveBy()).position();    // last slide\n                    } else if (slider.active.index == slider.children.length - 1) {\n                        position = slider.children.eq(slider.children.length - 1).position();\n                    }\n                    if (position) {\n                        if (slider.settings.mode == 'horizontal') {\n                            setPositionProperty(-position.left, 'reset', 0);\n                        } else if (slider.settings.mode == 'vertical') {\n                            setPositionProperty(-position.top, 'reset', 0);\n                        }\n                    }\n                }\n                // declare that the transition is complete\n                slider.working = false;\n                // onSlideAfter callback\n                slider.settings.onSlideAfter(slider.children.eq(slider.active.index), slider.oldIndex, slider.active.index);\n            };\n            /**\n\t\t * Updates the auto controls state (either active, or combined switch)\n\t\t *\n\t\t * @param state (string) \"start\", \"stop\"\n\t\t *  - the new state of the auto show\n\t\t */\n            var updateAutoControls = function (state) {\n                // if autoControlsCombine is true, replace the current control with the new state\n                if (slider.settings.autoControlsCombine) {\n                    slider.controls.autoEl.html(slider.controls[state]);    // if autoControlsCombine is false, apply the \"active\" class to the appropriate control\n                } else {\n                    slider.controls.autoEl.find('a').removeClass('active');\n                    slider.controls.autoEl.find('a:not(.bx-' + state + ')').addClass('active');\n                }\n            };\n            /**\n\t\t * Updates the direction controls (checks if either should be hidden)\n\t\t */\n            var updateDirectionControls = function () {\n                if (getPagerQty() == 1) {\n                    slider.controls.prev.addClass('disabled');\n                    slider.controls.next.addClass('disabled');\n                } else if (!slider.settings.infiniteLoop && slider.settings.hideControlOnEnd) {\n                    // if first slide\n                    if (slider.active.index == 0) {\n                        slider.controls.prev.addClass('disabled');\n                        slider.controls.next.removeClass('disabled');    // if last slide\n                    } else if (slider.active.index == getPagerQty() - 1) {\n                        slider.controls.next.addClass('disabled');\n                        slider.controls.prev.removeClass('disabled');    // if any slide in the middle\n                    } else {\n                        slider.controls.prev.removeClass('disabled');\n                        slider.controls.next.removeClass('disabled');\n                    }\n                }\n            };\n            /**\n\t\t * Initialzes the auto process\n\t\t */\n            var initAuto = function () {\n                // if autoDelay was supplied, launch the auto show using a setTimeout() call\n                if (slider.settings.autoDelay > 0) {\n                    var timeout = setTimeout(el.startAuto, slider.settings.autoDelay);    // if autoDelay was not supplied, start the auto show normally\n                } else {\n                    el.startAuto();\n                }\n                // if autoHover is requested\n                if (slider.settings.autoHover) {\n                    // on el hover\n                    el.hover(function () {\n                        // if the auto show is currently playing (has an active interval)\n                        if (slider.interval) {\n                            // stop the auto show and pass true agument which will prevent control update\n                            el.stopAuto(true);\n                            // create a new autoPaused value which will be used by the relative \"mouseout\" event\n                            slider.autoPaused = true;\n                        }\n                    }, function () {\n                        // if the autoPaused value was created be the prior \"mouseover\" event\n                        if (slider.autoPaused) {\n                            // start the auto show and pass true agument which will prevent control update\n                            el.startAuto(true);\n                            // reset the autoPaused value\n                            slider.autoPaused = null;\n                        }\n                    });\n                }\n            };\n            /**\n\t\t * Initialzes the ticker process\n\t\t */\n            var initTicker = function () {\n                var startPosition = 0;\n                // if autoDirection is \"next\", append a clone of the entire slider\n                if (slider.settings.autoDirection == 'next') {\n                    el.append(slider.children.clone().addClass('bx-clone'));    // if autoDirection is \"prev\", prepend a clone of the entire slider, and set the left position\n                } else {\n                    el.prepend(slider.children.clone().addClass('bx-clone'));\n                    var position = slider.children.first().position();\n                    startPosition = slider.settings.mode == 'horizontal' ? -position.left : -position.top;\n                }\n                setPositionProperty(startPosition, 'reset', 0);\n                // do not allow controls in ticker mode\n                slider.settings.pager = false;\n                slider.settings.controls = false;\n                slider.settings.autoControls = false;\n                // if autoHover is requested\n                if (slider.settings.tickerHover && !slider.usingCSS) {\n                    // on el hover\n                    slider.viewport.hover(function () {\n                        el.stop();\n                    }, function () {\n                        // calculate the total width of children (used to calculate the speed ratio)\n                        var totalDimens = 0;\n                        slider.children.each(function (index) {\n                            totalDimens += slider.settings.mode == 'horizontal' ? $(this).outerWidth(true) : $(this).outerHeight(true);\n                        });\n                        // calculate the speed ratio (used to determine the new speed to finish the paused animation)\n                        var ratio = slider.settings.speed / totalDimens;\n                        // determine which property to use\n                        var property = slider.settings.mode == 'horizontal' ? 'left' : 'top';\n                        // calculate the new speed\n                        var newSpeed = ratio * (totalDimens - Math.abs(parseInt(el.css(property))));\n                        tickerLoop(newSpeed);\n                    });\n                }\n                // start the ticker loop\n                tickerLoop();\n            };\n            /**\n\t\t * Runs a continuous loop, news ticker-style\n\t\t */\n            var tickerLoop = function (resumeSpeed) {\n                speed = resumeSpeed ? resumeSpeed : slider.settings.speed;\n                var position = {\n                    left: 0,\n                    top: 0\n                };\n                var reset = {\n                    left: 0,\n                    top: 0\n                };\n                // if \"next\" animate left position to last child, then reset left to 0\n                if (slider.settings.autoDirection == 'next') {\n                    position = el.find('.bx-clone').first().position();    // if \"prev\" animate left position to 0, then reset left to first non-clone child\n                } else {\n                    reset = slider.children.first().position();\n                }\n                var animateProperty = slider.settings.mode == 'horizontal' ? -position.left : -position.top;\n                var resetValue = slider.settings.mode == 'horizontal' ? -reset.left : -reset.top;\n                var params = { resetValue: resetValue };\n                setPositionProperty(animateProperty, 'ticker', speed, params);\n            };\n            /**\n\t\t * Initializes touch events\n\t\t */\n            var initTouch = function () {\n                // initialize object to contain all touch values\n                slider.touch = {\n                    start: {\n                        x: 0,\n                        y: 0\n                    },\n                    end: {\n                        x: 0,\n                        y: 0\n                    }\n                };\n                slider.viewport.bind('touchstart', onTouchStart);\n            };\n            /**\n\t\t * Event handler for \"touchstart\"\n\t\t *\n\t\t * @param e (event)\n\t\t *  - DOM event object\n\t\t */\n            var onTouchStart = function (e) {\n                if (slider.working) {\n                    e.preventDefault();\n                } else {\n                    // record the original position when touch starts\n                    slider.touch.originalPos = el.position();\n                    var orig = e.originalEvent;\n                    // record the starting touch x, y coordinates\n                    slider.touch.start.x = orig.changedTouches[0].pageX;\n                    slider.touch.start.y = orig.changedTouches[0].pageY;\n                    // bind a \"touchmove\" event to the viewport\n                    slider.viewport.bind('touchmove', onTouchMove);\n                    // bind a \"touchend\" event to the viewport\n                    slider.viewport.bind('touchend', onTouchEnd);\n                }\n            };\n            /**\n\t\t * Event handler for \"touchmove\"\n\t\t *\n\t\t * @param e (event)\n\t\t *  - DOM event object\n\t\t */\n            var onTouchMove = function (e) {\n                var orig = e.originalEvent;\n                // if scrolling on y axis, do not prevent default\n                var xMovement = Math.abs(orig.changedTouches[0].pageX - slider.touch.start.x);\n                var yMovement = Math.abs(orig.changedTouches[0].pageY - slider.touch.start.y);\n                // x axis swipe\n                if (xMovement * 3 > yMovement && slider.settings.preventDefaultSwipeX) {\n                    e.preventDefault();    // y axis swipe\n                } else if (yMovement * 3 > xMovement && slider.settings.preventDefaultSwipeY) {\n                    e.preventDefault();\n                }\n                if (slider.settings.mode != 'fade' && slider.settings.oneToOneTouch) {\n                    var value = 0;\n                    // if horizontal, drag along x axis\n                    if (slider.settings.mode == 'horizontal') {\n                        var change = orig.changedTouches[0].pageX - slider.touch.start.x;\n                        value = slider.touch.originalPos.left + change;    // if vertical, drag along y axis\n                    } else {\n                        var change = orig.changedTouches[0].pageY - slider.touch.start.y;\n                        value = slider.touch.originalPos.top + change;\n                    }\n                    setPositionProperty(value, 'reset', 0);\n                }\n            };\n            /**\n\t\t * Event handler for \"touchend\"\n\t\t *\n\t\t * @param e (event)\n\t\t *  - DOM event object\n\t\t */\n            var onTouchEnd = function (e) {\n                slider.viewport.unbind('touchmove', onTouchMove);\n                var orig = e.originalEvent;\n                var value = 0;\n                // record end x, y positions\n                slider.touch.end.x = orig.changedTouches[0].pageX;\n                slider.touch.end.y = orig.changedTouches[0].pageY;\n                // if fade mode, check if absolute x distance clears the threshold\n                if (slider.settings.mode == 'fade') {\n                    var distance = Math.abs(slider.touch.start.x - slider.touch.end.x);\n                    if (distance >= slider.settings.swipeThreshold) {\n                        slider.touch.start.x > slider.touch.end.x ? el.goToNextSlide() : el.goToPrevSlide();\n                        el.stopAuto();\n                    }    // not fade mode\n                } else {\n                    var distance = 0;\n                    // calculate distance and el's animate property\n                    if (slider.settings.mode == 'horizontal') {\n                        distance = slider.touch.end.x - slider.touch.start.x;\n                        value = slider.touch.originalPos.left;\n                    } else {\n                        distance = slider.touch.end.y - slider.touch.start.y;\n                        value = slider.touch.originalPos.top;\n                    }\n                    // if not infinite loop and first / last slide, do not attempt a slide transition\n                    if (!slider.settings.infiniteLoop && (slider.active.index == 0 && distance > 0 || slider.active.last && distance < 0)) {\n                        setPositionProperty(value, 'reset', 200);\n                    } else {\n                        // check if distance clears threshold\n                        if (Math.abs(distance) >= slider.settings.swipeThreshold) {\n                            distance < 0 ? el.goToNextSlide() : el.goToPrevSlide();\n                            el.stopAuto();\n                        } else {\n                            // el.animate(property, 200);\n                            setPositionProperty(value, 'reset', 200);\n                        }\n                    }\n                }\n                slider.viewport.unbind('touchend', onTouchEnd);\n            };\n            /**\n\t\t * Window resize event callback\n\t\t */\n            var resizeWindow = function (e) {\n                // don't do anything if slider isn't initialized.\n                if (!slider.initialized)\n                    return;\n                // get the new window dimens (again, thank you IE)\n                var windowWidthNew = $(window).width();\n                var windowHeightNew = $(window).height();\n                // make sure that it is a true window resize\n                // *we must check this because our dinosaur friend IE fires a window resize event when certain DOM elements\n                // are resized. Can you just die already?*\n                if (windowWidth != windowWidthNew || windowHeight != windowHeightNew) {\n                    // set the new window dimens\n                    windowWidth = windowWidthNew;\n                    windowHeight = windowHeightNew;\n                    // update all dynamic elements\n                    el.redrawSlider();\n                    // Call user resize handler\n                    slider.settings.onSliderResize.call(el, slider.active.index);\n                }\n            };\n            /**\n\t\t * ===================================================================================\n\t\t * = PUBLIC FUNCTIONS\n\t\t * ===================================================================================\n\t\t */\n            /**\n\t\t * Performs slide transition to the specified slide\n\t\t *\n\t\t * @param slideIndex (int)\n\t\t *  - the destination slide's index (zero-based)\n\t\t *\n\t\t * @param direction (string)\n\t\t *  - INTERNAL USE ONLY - the direction of travel (\"prev\" / \"next\")\n\t\t */\n            el.goToSlide = function (slideIndex, direction) {\n                // if plugin is currently in motion, ignore request\n                if (slider.working || slider.active.index == slideIndex)\n                    return;\n                // declare that plugin is in motion\n                slider.working = true;\n                // store the old index\n                slider.oldIndex = slider.active.index;\n                // if slideIndex is less than zero, set active index to last child (this happens during infinite loop)\n                if (slideIndex < 0) {\n                    slider.active.index = getPagerQty() - 1;    // if slideIndex is greater than children length, set active index to 0 (this happens during infinite loop)\n                } else if (slideIndex >= getPagerQty()) {\n                    slider.active.index = 0;    // set active index to requested slide\n                } else {\n                    slider.active.index = slideIndex;\n                }\n                // onSlideBefore, onSlideNext, onSlidePrev callbacks\n                slider.settings.onSlideBefore(slider.children.eq(slider.active.index), slider.oldIndex, slider.active.index);\n                if (direction == 'next') {\n                    slider.settings.onSlideNext(slider.children.eq(slider.active.index), slider.oldIndex, slider.active.index);\n                } else if (direction == 'prev') {\n                    slider.settings.onSlidePrev(slider.children.eq(slider.active.index), slider.oldIndex, slider.active.index);\n                }\n                // check if last slide\n                slider.active.last = slider.active.index >= getPagerQty() - 1;\n                // update the pager with active class\n                if (slider.settings.pager)\n                    updatePagerActive(slider.active.index);\n                // // check for direction control update\n                if (slider.settings.controls)\n                    updateDirectionControls();\n                // if slider is set to mode: \"fade\"\n                if (slider.settings.mode == 'fade') {\n                    // if adaptiveHeight is true and next height is different from current height, animate to the new height\n                    if (slider.settings.adaptiveHeight && slider.viewport.height() != getViewportHeight()) {\n                        slider.viewport.animate({ height: getViewportHeight() }, slider.settings.adaptiveHeightSpeed);\n                    }\n                    // fade out the visible child and reset its z-index value\n                    slider.children.filter(':visible').fadeOut(slider.settings.speed).css({ zIndex: 0 });\n                    // fade in the newly requested slide\n                    slider.children.eq(slider.active.index).css('zIndex', slider.settings.slideZIndex + 1).fadeIn(slider.settings.speed, function () {\n                        $(this).css('zIndex', slider.settings.slideZIndex);\n                        updateAfterSlideTransition();\n                    });    // slider mode is not \"fade\"\n                } else {\n                    // if adaptiveHeight is true and next height is different from current height, animate to the new height\n                    if (slider.settings.adaptiveHeight && slider.viewport.height() != getViewportHeight()) {\n                        slider.viewport.animate({ height: getViewportHeight() }, slider.settings.adaptiveHeightSpeed);\n                    }\n                    var moveBy = 0;\n                    var position = {\n                        left: 0,\n                        top: 0\n                    };\n                    // if carousel and not infinite loop\n                    if (!slider.settings.infiniteLoop && slider.carousel && slider.active.last) {\n                        if (slider.settings.mode == 'horizontal') {\n                            // get the last child position\n                            var lastChild = slider.children.eq(slider.children.length - 1);\n                            position = lastChild.position();\n                            // calculate the position of the last slide\n                            moveBy = slider.viewport.width() - lastChild.outerWidth();\n                        } else {\n                            // get last showing index position\n                            var lastShowingIndex = slider.children.length - slider.settings.minSlides;\n                            position = slider.children.eq(lastShowingIndex).position();\n                        }    // horizontal carousel, going previous while on first slide (infiniteLoop mode)\n                    } else if (slider.carousel && slider.active.last && direction == 'prev') {\n                        // get the last child position\n                        var eq = slider.settings.moveSlides == 1 ? slider.settings.maxSlides - getMoveBy() : (getPagerQty() - 1) * getMoveBy() - (slider.children.length - slider.settings.maxSlides);\n                        var lastChild = el.children('.bx-clone').eq(eq);\n                        position = lastChild.position();    // if infinite loop and \"Next\" is clicked on the last slide\n                    } else if (direction == 'next' && slider.active.index == 0) {\n                        // get the last clone position\n                        position = el.find('> .bx-clone').eq(slider.settings.maxSlides).position();\n                        slider.active.last = false;    // normal non-zero requests\n                    } else if (slideIndex >= 0) {\n                        var requestEl = slideIndex * getMoveBy();\n                        position = slider.children.eq(requestEl).position();\n                    }\n                    /* If the position doesn't exist\n\t\t\t\t * (e.g. if you destroy the slider on a next click),\n\t\t\t\t * it doesn't throw an error.\n\t\t\t\t */\n                    if ('undefined' !== typeof position) {\n                        var value = slider.settings.mode == 'horizontal' ? -(position.left - moveBy) : -position.top;\n                        // plugin values to be animated\n                        setPositionProperty(value, 'slide', slider.settings.speed);\n                    }\n                }\n            };\n            /**\n\t\t * Transitions to the next slide in the show\n\t\t */\n            el.goToNextSlide = function () {\n                // if infiniteLoop is false and last page is showing, disregard call\n                if (!slider.settings.infiniteLoop && slider.active.last)\n                    return;\n                var pagerIndex = parseInt(slider.active.index) + 1;\n                el.goToSlide(pagerIndex, 'next');\n            };\n            /**\n\t\t * Transitions to the prev slide in the show\n\t\t */\n            el.goToPrevSlide = function () {\n                // if infiniteLoop is false and last page is showing, disregard call\n                if (!slider.settings.infiniteLoop && slider.active.index == 0)\n                    return;\n                var pagerIndex = parseInt(slider.active.index) - 1;\n                el.goToSlide(pagerIndex, 'prev');\n            };\n            /**\n\t\t * Starts the auto show\n\t\t *\n\t\t * @param preventControlUpdate (boolean)\n\t\t *  - if true, auto controls state will not be updated\n\t\t */\n            el.startAuto = function (preventControlUpdate) {\n                // if an interval already exists, disregard call\n                if (slider.interval)\n                    return;\n                // create an interval\n                slider.interval = setInterval(function () {\n                    slider.settings.autoDirection == 'next' ? el.goToNextSlide() : el.goToPrevSlide();\n                }, slider.settings.pause);\n                // if auto controls are displayed and preventControlUpdate is not true\n                if (slider.settings.autoControls && preventControlUpdate != true)\n                    updateAutoControls('stop');\n            };\n            /**\n\t\t * Stops the auto show\n\t\t *\n\t\t * @param preventControlUpdate (boolean)\n\t\t *  - if true, auto controls state will not be updated\n\t\t */\n            el.stopAuto = function (preventControlUpdate) {\n                // if no interval exists, disregard call\n                if (!slider.interval)\n                    return;\n                // clear the interval\n                clearInterval(slider.interval);\n                slider.interval = null;\n                // if auto controls are displayed and preventControlUpdate is not true\n                if (slider.settings.autoControls && preventControlUpdate != true)\n                    updateAutoControls('start');\n            };\n            /**\n\t\t * Returns current slide index (zero-based)\n\t\t */\n            el.getCurrentSlide = function () {\n                return slider.active.index;\n            };\n            /**\n\t\t * Returns current slide element\n\t\t */\n            el.getCurrentSlideElement = function () {\n                return slider.children.eq(slider.active.index);\n            };\n            /**\n\t\t * Returns number of slides in show\n\t\t */\n            el.getSlideCount = function () {\n                return slider.children.length;\n            };\n            /**\n\t\t * Update all dynamic slider elements\n\t\t */\n            el.redrawSlider = function () {\n                // resize all children in ratio to new screen size\n                slider.children.add(el.find('.bx-clone')).width(getSlideWidth());\n                // adjust the height\n                slider.viewport.css('height', getViewportHeight());\n                // update the slide position\n                if (!slider.settings.ticker)\n                    setSlidePosition();\n                // if active.last was true before the screen resize, we want\n                // to keep it last no matter what screen size we end on\n                if (slider.active.last)\n                    slider.active.index = getPagerQty() - 1;\n                // if the active index (page) no longer exists due to the resize, simply set the index as last\n                if (slider.active.index >= getPagerQty())\n                    slider.active.last = true;\n                // if a pager is being displayed and a custom pager is not being used, update it\n                if (slider.settings.pager && !slider.settings.pagerCustom) {\n                    populatePager();\n                    updatePagerActive(slider.active.index);\n                }\n            };\n            /**\n\t\t * Destroy the current instance of the slider (revert everything back to original state)\n\t\t */\n            el.destroySlider = function () {\n                // don't do anything if slider has already been destroyed\n                if (!slider.initialized)\n                    return;\n                slider.initialized = false;\n                $('.bx-clone', this).remove();\n                slider.children.each(function () {\n                    $(this).data('origStyle') != undefined ? $(this).attr('style', $(this).data('origStyle')) : $(this).removeAttr('style');\n                });\n                $(this).data('origStyle') != undefined ? this.attr('style', $(this).data('origStyle')) : $(this).removeAttr('style');\n                $(this).unwrap().unwrap();\n                if (slider.controls.el)\n                    slider.controls.el.remove();\n                if (slider.controls.next)\n                    slider.controls.next.remove();\n                if (slider.controls.prev)\n                    slider.controls.prev.remove();\n                if (slider.pagerEl && slider.settings.controls)\n                    slider.pagerEl.remove();\n                $('.bx-caption', this).remove();\n                if (slider.controls.autoEl)\n                    slider.controls.autoEl.remove();\n                clearInterval(slider.interval);\n                if (slider.settings.responsive)\n                    $(window).unbind('resize', resizeWindow);\n            };\n            /**\n\t\t * Reload the slider (revert all DOM changes, and re-initialize)\n\t\t */\n            el.reloadSlider = function (settings) {\n                if (settings != undefined)\n                    options = settings;\n                el.destroySlider();\n                init();\n            };\n            init();\n            // returns the current jQuery object\n            return this;\n        };\n    }(jQuery));\n    return;\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module ProductDetails\ndefine('ProductDetails.ImageGallery.View', [\n    'Backbone.CompositeView',\n    'Utilities.ResizeImage',\n    'SocialSharing.Flyout.Hover.View',\n    'product_details_image_gallery.tpl',\n    'Backbone',\n    'underscore',\n    'Utils',\n    'jquery.zoom',\n    'jQuery.bxSlider'\n], function (BackboneCompositeView, resizeImage, SocialSharingFlyoutHoverView, product_details_image_gallery_tpl, Backbone, _, Utils) {\n    'use strict';\n    // @class ProductDetails.ImageGallery.View @extends Backbone.View\n    return Backbone.View.extend({\n        template: product_details_image_gallery_tpl,\n        initialize: function initialize() {\n            Backbone.View.prototype.initialize.apply(this, arguments);\n            BackboneCompositeView.add(this);\n            var self = this;\n            this.images = this.model.getImages();\n            this.model.on('change', function () {\n                var model_images = this.model.getImages();\n                if (!_.isEqual(this.images, model_images)) {\n                    this.images = model_images;\n                    this.render();\n                }\n            }, this);\n            this.on('afterViewRender', function () {\n                self.initSlider();\n                self.initZoom();\n            });\n        }    // @method destroy\n             // @returns {Void}\n,\n        destroy: function destroy() {\n            this.model.off('change', this.render, this);\n            this.off('afterViewRender');\n            this._destroy();\n        }    // @method initSlider Initialize the bxSlider\n             // @return {Void}\n,\n        initSlider: function initSlider() {\n            var self = this;\n            if (self.images.length > 1) {\n                self.$slider = Utils.initBxSlider(self.$('[data-slider]'), {\n                    buildPager: _.bind(self.buildSliderPager, self),\n                    startSlide: 0,\n                    adaptiveHeight: true,\n                    touchEnabled: true,\n                    nextText: '<a class=\"product-details-image-gallery-next-icon\" data-action=\"next-image\"></a>',\n                    prevText: '<a class=\"product-details-image-gallery-prev-icon\" data-action=\"prev-image\"></a>',\n                    controls: true\n                });\n                self.$('[data-action=\"next-image\"]').off();\n                self.$('[data-action=\"prev-image\"]').off();\n                self.$('[data-action=\"next-image\"]').click(_.bind(self.nextImageEventHandler, self));\n                self.$('[data-action=\"prev-image\"]').click(_.bind(self.previousImageEventHandler, self));\n            }\n        }    //@method previousImageEventHandler Handle the clicking over the previous button to show the previous main image. It does it by triggering a cancelable event.\n             //@return {Void}\n,\n        previousImageEventHandler: function previousImageEventHandler() {\n            var self = this, current_index = self.$slider.getCurrentSlide(), next_index = current_index === 0 ? self.$slider.getSlideCount() - 1 : current_index - 1;\n            //IMPORTANT This event is used to notify the ProductDetails.Component that the images have changed\n            //@event {ProductDetails.ImageGallery.ChangeEvent} 'afterChangeImage\n            self.model.cancelableTrigger('beforeChangeImage', {\n                currentIndex: current_index,\n                nextIndex: next_index\n            }).then(function () {\n                self.$slider.goToPrevSlide();\n                self.model.cancelableTrigger('afterChangeImage', next_index);\n            });\n        }    //@method nextImageEventHandler Handle the clicking over the next button to show the next main image. It does it by triggering a cancelable event\n             //@return {Void}\n,\n        nextImageEventHandler: function nextImageEventHandler() {\n            var self = this, current_index = self.$slider.getCurrentSlide(), next_index = current_index === self.$slider.getSlideCount() - 1 ? 0 : current_index + 1;\n            //IMPORTANT This event is used to notify the ProductDetails.Component that the images have changed\n            //@event {ProductDetails.ImageGallery.ChangeEvent} beforeChangeImage\n            self.model.cancelableTrigger('beforeChangeImage'    //@class ProductDetails.ImageGallery.ChangeEvent Image change event information container\n, {\n                //@property {Number} currentIndex\n                currentIndex: current_index    //@property {Number} nextIndex\n,\n                nextIndex: next_index\n            }    // @class ProductDetails.ImageGallery.View\n).then(function () {\n                self.$slider.goToNextSlide();\n                self.model.cancelableTrigger('afterChangeImage', next_index);\n            });\n        }    //@property {ChildViews} childViews\n,\n        childViews: {\n            'SocialSharing.Flyout.Hover': function () {\n                return new SocialSharingFlyoutHoverView({});\n            }\n        }    // @method initZoom\n             // @return {Void}\n,\n        initZoom: function () {\n            if (!SC.ENVIRONMENT.isTouchEnabled) {\n                var images = this.images, self = this;\n                this.$('[data-zoom]').each(function (slide_index) {\n                    self.$(this).zoom({\n                        url: resizeImage(images[slide_index].url, 'zoom'),\n                        callback: function () {\n                            var $this = self.$(this);\n                            if ($this.width() <= $this.closest('[data-view=\"Product.ImageGallery\"]').width()) {\n                                $this.remove();\n                            }\n                            return this;\n                        }\n                    });\n                });\n            }\n        }    // @method buildSliderPager\n             // @param {Number} slide_index\n             // @return {String}\n,\n        buildSliderPager: function (slide_index) {\n            var image = this.images[slide_index];\n            if (image) {\n                return '<img src=\"' + resizeImage(image.url, 'tinythumb') + '\" alt=\"' + image.altimagetext + '\">';\n            }\n        }    //@method getContext\n             //@returns {ProductDetails.ImageGallery.View.Context}\n,\n        getContext: function () {\n            // @class ProductDetails.ImageGallery.View.Context\n            return {\n                // @property {String} imageResizeId\n                imageResizeId: Utils.getViewportWidth() < 768 ? 'thumbnail' : 'main'    //@property {Array<ImageContainer>} images\n,\n                images: this.images || []    //@property {ImageContainer} firstImage\n,\n                firstImage: this.images[0] || {}    // @property {Boolean} showImages\n,\n                showImages: this.images.length > 0    // @property {Boolean} showImageSlider\n,\n                showImageSlider: this.images.length > 1\n            };    // @class ProductDetails.ImageGallery.View\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module ProductDetails\ndefine('ProductDetails.AddToProductList.View', [\n    'ProductList.Control.View',\n    'ProductList.ControlSingle.View',\n    'Profile.Model',\n    'product_details_add_to_product_list.tpl',\n    'Backbone',\n    'Backbone.CompositeView',\n    'underscore'\n], function (ProductListControlView, ProductListControlSingleView, ProfileModel, product_details_add_to_product_list_tpl, Backbone, BackboneCompositeView, _) {\n    'use strict';\n    return Backbone.View.extend({\n        template: product_details_add_to_product_list_tpl,\n        initialize: function () {\n            Backbone.View.prototype.initialize.apply(this, arguments);\n            this.application = this.options.application;\n            this.utils = this.application.ProductListModule && this.application.ProductListModule.Utils;\n            this.countedClicks = {};\n            BackboneCompositeView.add(this);\n            var self = this;\n            this.first_time_render = true;\n            ProfileModel.getPromise().done(function () {\n                self.loaded_site_settings = true;\n                self.render();\n            });\n        },\n        childViews: {\n            'ProductListControl': function () {\n                if (this.utils.isSingleList()) {\n                    return new ProductListControlSingleView({\n                        collection: this.utils.getProductLists(),\n                        product: this.model,\n                        application: this.application\n                    });\n                } else {\n                    return new ProductListControlView({\n                        collection: this.utils.getProductLists(),\n                        product: this.model,\n                        application: this.application,\n                        countedClicks: this.countedClicks\n                    });\n                }\n            }\n        },\n        render: function () {\n            if (this.loaded_site_settings && this.utils && this.utils.isProductListEnabled()) {\n                if (this.first_time_render) {\n                    this.utils.getProductListsPromise().done(_.bind(this.render, this));\n                    this.first_time_render = false;\n                    return this.$el.empty();\n                }\n            } else {\n                return this.$el.empty();\n            }\n            this._render();\n        }    //@method getContext\n             //@return {ProductDetails.AddToProductList.View.Context}\n,\n        getContext: function () {\n            //@class ProductDetails.AddToProductList.View.Context\n            return {\n                //@property {Boolean} isLoading\n                isLoading: this.utils.getProductListsPromise().state() === 'pending'\n            };    //@class ProductDetails.AddToProductList.View\n        }\n    }, {\n        attributesToValidate: [\n            'options',\n            'quantity'\n        ]\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module RecentlyViewedItems\ndefine('RecentlyViewedItems.Collection', [\n    'Singleton',\n    'SC.Configuration',\n    'Item.Collection',\n    'jQuery',\n    'underscore',\n    'Utils'\n], function (Singleton, Configuration, ItemCollection, jQuery, _) {\n    'use strict';\n    // @class RecentlyViewedItems.Collection @extends Item.Collection\n    return ItemCollection.extend({\n        //@method initialize\n        initialize: function () {\n            this.useCookie = Configuration.recentlyViewedItems && Configuration.recentlyViewedItems.useCookie;\n            this.searchApiMasterOptions = Configuration.searchApiMasterOptions.Facets;\n            if (this.useCookie) {\n                this.promise = this.loadItemsFromCookie();\n            } else {\n                this.promise = jQuery.Deferred().resolveWith(this);\n            }\n        }    //@method addHistoryItem\n,\n        addHistoryItem: function (item) {\n            if (this.useCookie) {\n                var self = this;\n                this.promise.done(function () {\n                    // If the item is already in the recently viewed, we remove it\n                    self.remove(item);\n                    // we add the item at the beginning of a collection\n                    self.unshift(item);\n                    if (self.useCookie) {\n                        var current_items = jQuery.cookie('recentlyViewedIds'), news_items = _.union(self.pluck('internalid'), current_items);\n                        jQuery.cookie('recentlyViewedIds', news_items, { path: '/' });\n                    }\n                });\n            }\n        }    //@method loadItemsFromCookie\n,\n        loadItemsFromCookie: function () {\n            // create an array of ID items to get only the elements that are present in the cookie but are not present in memory\n            var cookie_ids = jQuery.cookie('recentlyViewedIds') || [];\n            if (typeof cookie_ids === 'string') {\n                cookie_ids = [cookie_ids.replace(/[\\[\\]]+/g, '')];\n            } else if (!_.isArray(cookie_ids)) {\n                cookie_ids = [cookie_ids];\n            }\n            var items_ids = _.difference(cookie_ids, this.pluck('internalid')).join(',');\n            if (items_ids) {\n                return this.fetch({ data: { id: items_ids } }, { silent: true });\n            } else {\n                return jQuery.Deferred().resolveWith(this);\n            }\n        }\n    }, Singleton);\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module ProductDetails\ndefine('ProductDetails.Base.View', [\n    'Backbone.FormView',\n    'GlobalViews.Message.View',\n    'Cart.AddToCart.Button.View',\n    'ProductLine.Stock.View',\n    'ProductViews.Price.View',\n    'ProductLine.Sku.View',\n    'ProductDetails.Options.Selector.View',\n    'ProductDetails.Information.View',\n    'ProductDetails.Quantity.View',\n    'ProductDetails.ImageGallery.View',\n    'ProductDetails.AddToProductList.View',\n    'ProductLine.StockDescription.View',\n    'Profile.Model',\n    'Tracker',\n    'SC.Configuration',\n    'Backbone.CompositeView',\n    'Backbone.Validation.callbacks',\n    'RecentlyViewedItems.Collection',\n    'Utils',\n    'Backbone',\n    'jQuery',\n    'underscore',\n    'UrlHelper',\n    'jQuery.scPush'\n], function (BackboneFormView, GlobalViewsMessageView, CartAddToCartButtonView, ProductLineStockView, ProductViewsPriceView, ProductLineSkuView, ProductDetailsOptionsSelectorView, ProductDetailsInformationView, ProductDetailsQuantityView, ProductDetailsImageGalleryView, ProductDetailsAddToProductListView, ProductLineStockDescriptionView, ProfileModel, Tracker, Configuration, BackboneCompositeView, BackboneValidationCallbacks, RecentlyViewedItemsCollection, Utils, Backbone, jQuery, _) {\n    'use strict';\n    //@class ProductDetails.Base.View Handles the PDP and quick view @extend Backbone.View\n    var ProductDetailsBaseView = Backbone.View.extend({\n        //@property {String} title\n        title: ''    //@property {String} page_header\n,\n        page_header: ''    //@property {String} modalClass\n,\n        modalClass: 'global-views-modal-large'    //@property {Boolean} showModalPageHeader\n,\n        showModalPageHeader: false    //@property {Object} baseEvents\n,\n        baseEvents: { 'submit [data-action=\"submit-form\"]': 'mainActionHandler' },\n        bindings: {\n            //set quantity\n            '[name=\"quantity\"]': {\n                observe: 'quantity',\n                setOptions: {\n                    validate: true,\n                    silent: false\n                },\n                onSet: function (quantity_str) {\n                    return parseInt(quantity_str, 10);\n                },\n                events: [\n                    'blur',\n                    'change'\n                ]\n            }    //enable/disable minus mobile quantity button\n,\n            '[data-type=\"product-details-quantity-remove\"]': {\n                observe: 'quantity',\n                update: function ($el, value) {\n                    return $el.attr('disabled', value <= 1);\n                }\n            }\n        }    //@method initialize\n             //@param {ProductDetails.Base.View.Initialize.Options} options\n             //@return {Void}\n,\n        initialize: function initialize(options) {\n            this.events = _.extend(this.events || {}, this.baseEvents);\n            Backbone.View.prototype.initialize.apply(this, arguments);\n            this.application = options.application;\n            this.generateViewBindings();\n            BackboneCompositeView.add(this);\n            BackboneFormView.add(this, { noCloneModel: true });\n            var self = this;\n            //Here we wrap the areAttributesValid method of the transaction line so when child views or injected views validate the model using this method\n            //this view is notified and can show the error messages.\n            //This is thanks to the poor \"API\" Backbone.validation offer.\n            this.model.areAttributesValid = _.wrap(this.model.areAttributesValid, function (fn, attributes, validators) {\n                var are_attr_valid = fn.apply(self.model, [\n                        attributes,\n                        validators\n                    ]), current_validation = _.extend({}, self.model.validation), attribute_validation_result;\n                _.extend(self.model.validation, validators);\n                //In order to properly show the validation on message in the UI we need to validate against the temporal properties on the model\n                //that are those binded to the template! (See method generateViewBindings)\n                if (~_.indexOf(attributes, 'options')) {\n                    self.model.get('options').map(function (option) {\n                        attributes.push(option.get('cartOptionId'));\n                    });\n                }\n                _.each(attributes, function (attribute) {\n                    attribute_validation_result = self.model.preValidate(attribute, self.model.get(attribute));\n                    if (attribute_validation_result) {\n                        //Here we assume that the default selector 'name' is being used\n                        BackboneValidationCallbacks.invalid(self, attribute, attribute_validation_result, 'name');\n                    } else {\n                        BackboneValidationCallbacks.valid(self, attribute, 'name');\n                    }\n                });\n                self.model.validation = current_validation;\n                return are_attr_valid;\n            });\n            if (ProductDetailsBaseView.mainActionView) {\n                this.mainActionViewInstance = new ProductDetailsBaseView.mainActionView({\n                    application: this.options.application,\n                    model: this.model\n                });\n            }\n        }    //@method mainActionHandler Handle the submit action\n             //@param {jQuery.Event} e\n             //@return {Boolean}\n,\n        mainActionHandler: function mainActionHandler(e) {\n            if (ProductDetailsBaseView.mainActionView) {\n                return this.mainActionViewInstance.submitHandler(e);\n            } else {\n                e.preventDefault();\n                e.stopPropagation();\n                return false;\n            }\n        }    //@method showContent Override default method to track current product, add product to viewed ones and start the pusher\n             //@return {jQuery.Deferred}\n,\n        showContent: function showContent() {\n            var self = this;\n            return Backbone.View.prototype.showContent.apply(this, arguments).done(function () {\n                Tracker.getInstance().trackProductView(self.model);\n                RecentlyViewedItemsCollection.getInstance().addHistoryItem(self.model.get('item'));\n                self.$('[data-action=\"pushable\"]').scPush();\n            });\n        }    //@method generateViewBindings Extend the bindings properties by adding all the bindings to all the temporal option properties\n             //@return {Void}\n,\n        generateViewBindings: function generateViewBindings() {\n            var self = this, option_bindings = self.model.get('options').reduce(function (bindings, option) {\n                    var cart_option_id = option.get('cartOptionId');\n                    //Bind to set options\n                    bindings['[name=\"' + cart_option_id + '\"]'] = {\n                        observe: option.get('cartOptionId')    // << TEMP PROPERTY TO MAKE EASY VALIDATION (READ HERE)\n,\n                        setOptions: {\n                            validate: true,\n                            silent: true\n                        },\n                        onSet: function (value, options) {\n                            var view = options.view, product_model = view.model, option = product_model.get('options').findWhere({ cartOptionId: options.observe }), current_value = option.get('value') && option.get('value').internalid;\n                            if (!option.get('isMandatory') && current_value === value && view.$(options.selector).attr('type') === 'radio') {\n                                // unset value.\n                                value = null;\n                            }\n                            product_model.setOption(options.observe, value);\n                            return value;\n                        },\n                        events: [self.getBindingEventForOption(option)]\n                    };\n                    //Binding for the label (selected value)\n                    bindings['[data-value=\"' + cart_option_id + '\"]'] = {\n                        observe: option.get('cartOptionId'),\n                        onGet: function () {\n                            return option.get('value') ? option.get('value').label : '';\n                        }\n                    };\n                    _.each(option.get('values'), function (value) {\n                        if (value.internalid)\n                            // Exclude the \" - Select -\" option\n                            {\n                                //Bind for mute and active options\n                                bindings['[data-label=\"label-' + cart_option_id + '\"][value=\"' + value.internalid + '\"]'] = {\n                                    attributes: [{\n                                            name: 'class',\n                                            observe: option.get('cartOptionId'),\n                                            onGet: function () {\n                                                if (!_.findWhere(option.get('values'), { internalid: value.internalid }).isAvailable) {\n                                                    return 'muted';\n                                                } else if (value.internalid === (option.get('value') && option.get('value').internalid)) {\n                                                    return 'active';\n                                                } else {\n                                                    return '';\n                                                }\n                                            }\n                                        }]\n                                };\n                            }\n                    });\n                    return bindings;\n                }, {});\n            _.extend(this.bindings, option_bindings);\n        }    //@method getBindingEventForOption Auxiliary method used to allows different bindings depending on the option type\n             //@param {Transaction.Line.Option.Model} option\n             //@return {String} Event name used to make the binding with stickIt\n,\n        getBindingEventForOption: function getBindingEventForOption(option) {\n            return ProductDetailsBaseView.optionBindEventByType[option.get('type').toLowerCase()] || 'blur';\n        }    //@method updateURL Updates the current URL based on the selected attributes of the current line\n             //@return {Void} This method does not return nothing as it only update the URL without navigating\n,\n        updateURL: function updateURL() {\n            Backbone.history.navigate(this.model.generateURL(), { replace: true });\n            Tracker.getInstance().trackProductView(this.model);\n        }    // @method getBreadcrumbPages Returns the breadcrumb for the current page based on the current item\n             // @return {Array<BreadcrumbPage>} breadcrumb pages\n,\n        getBreadcrumbPages: function getBreadcrumbPages() {\n            return this.model.get('item').get('_breadcrumb');\n        }    //@method render Override default render method to initialize plugins and set page title and page_header\n             //@return {Void}\n,\n        render: function render() {\n            this.title = this.model.get('item').get('_pageTitle');\n            this.page_header = this.model.get('item').get('_pageHeader');\n            this._render();\n        }    // @method getMetaKeywords\n             // @return {String}\n,\n        getMetaKeywords: function getMetaKeywords() {\n            // searchkeywords is for alternative search keywords that customers might use to find this item using your Web store's internal search\n            // they are not for the meta keywords\n            // return this.model.get('_keywords');\n            return this.getMetaTags().filter('[name=\"keywords\"]').attr('content') || '';\n        }    // @method getMetaTags\n             // @return {Array<HTMLElement>}\n,\n        getMetaTags: function getMetaTags() {\n            return jQuery('<head/>').html(jQuery.trim(this.model.get('item').get('_metaTags'))).children('meta');\n        }    // @method getMetaDescription\n             // @return {String}\n,\n        getMetaDescription: function getMetaDescription() {\n            return this.getMetaTags().filter('[name=\"description\"]').attr('content') || '';\n        },\n        showOptionsPusher: function showOptionsPusher() {\n            return false;\n        },\n        contextData: {\n            'product': function () {\n                return Utils.deepCopy(this.model);\n            },\n            'item': function () {\n                return Utils.deepCopy(this.model.get('item'));\n            }\n        }    //@property {ChildViews} childViews\n,\n        childViews: {\n            'Product.Options': function () {\n                return new ProductDetailsOptionsSelectorView({\n                    model: this.model,\n                    application: this.application,\n                    show_pusher: this.showOptionsPusher(),\n                    show_required_label: this.model.get('item').get('itemtype') === 'GiftCert'\n                });\n            },\n            'Product.Price': function () {\n                return new ProductViewsPriceView({\n                    model: this.model,\n                    origin: this.inModal ? 'PDPQUICK' : 'PDPFULL'\n                });\n            },\n            'MainActionView': function () {\n                return this.mainActionViewInstance && this.mainActionViewInstance;\n            },\n            'Product.Stock.Info': function () {\n                return new ProductLineStockView({ model: this.model });\n            },\n            'Product.Sku': function () {\n                return new ProductLineSkuView({ model: this.model });\n            },\n            'Quantity': function () {\n                return new ProductDetailsQuantityView({ model: this.model });\n            },\n            'Product.ImageGallery': function () {\n                return new ProductDetailsImageGalleryView({ model: this.model });\n            },\n            'GlobalViewsMessageView.WronglyConfigureItem': function () {\n                return new GlobalViewsMessageView({\n                    message: _.translate('<b>Warning</b>: This item is not properly configured, please contact your administrator.'),\n                    type: 'warning'\n                });\n            },\n            'AddToProductList': function () {\n                return new ProductDetailsAddToProductListView({\n                    model: this.model,\n                    application: this.options.application\n                });\n            },\n            'StockDescription': function () {\n                return new ProductLineStockDescriptionView({ model: this.model });\n            }\n        }    //@method getContext\n             //@return {ProductDetails.Base.View.Context}\n,\n        getContext: function () {\n            var item_model = this.model.get('item');\n            //@class ProductDetails.Base.View.Context\n            return {\n                //@property {Transaction.Line.Model} model\n                model: this.model,\n                pageHeader: this.page_header,\n                itemUrl: item_model.get('_url') + this.model.getQuery()    //@property {Boolean} isItemProperlyConfigured\n,\n                isItemProperlyConfigured: item_model.isProperlyConfigured()    //@property {Boolean} isPriceEnabled\n,\n                isPriceEnabled: !ProfileModel.getInstance().hidePrices()\n            };    //@class ProductDetails.Base.View\n        }\n    }    //Static properties\n, {\n        //@property {ProductDetails.Base.View.OptionBinding} optionBindEventByType\n        //@static\n        optionBindEventByType: {\n            //@class ProductDetails.Base.View.OptionBinding This class associated an option type with the event used to set the option's value\n            // @extend Dictionary<String, String>\n            'select': 'change',\n            'text': 'blur',\n            'date': 'change'\n        }    //@class ProductDetails.Base.View\n             //@method addMainActionView Allows to add a BackboneView constructor as the view that will perform the main action.\n             //@param {Backbone.View} main_action_view\n             //@return {Void}\n             //@static\n,\n        addMainActionView: function (main_action_view) {\n            ProductDetailsBaseView.mainActionView = main_action_view;\n        }    //@method getMainActionView Allows to retrieve the current set BackboneView constructor used as the view that will perform the main action.\n             //@return {Backbone.View?}\n             //@static\n,\n        getMainActionView: function () {\n            return ProductDetailsBaseView.mainActionView;\n        }\n    });\n    ProductDetailsBaseView.addMainActionView(CartAddToCartButtonView);\n    return ProductDetailsBaseView;\n});    //@class ProductDetails.Base.View.Initialize.Options\n       //@property {Product} model\n       //@property {String} baseUrl\n       //@property {ApplicationSkeleton} application\n","define('ProductDetails.Details.View', [\n    'SC.Configuration',\n    'product_details_details.tpl',\n    'Backbone',\n    'Utils',\n    'underscore'\n], function (Configuration, product_details_details_tpl, Backbone, Utils, _) {\n    'use strict';\n    return Backbone.View.extend({\n        template: product_details_details_tpl,\n        initialize: function initialize() {\n            Backbone.View.prototype.initialize.apply(this, arguments);\n            this.details = this.options.details;\n        },\n        render: function () {\n            this.details = this.details || this.computeDetailsArea();\n            this._render();\n        },\n        computeDetailsArea: function () {\n            var self = this, details = [];\n            var desc = self.model.get('item').get('custitem431');\n            var test = self.model.get('item').get('custitem_customfield_itemaccessories');\n            _.each(Configuration.get('productDetailsInformation', []), function (item_information) {\n                // var itemURL = self.model.getFullLink();\n                details.push({ desc: desc });\n            });\n            return details;\n        },\n        getContext: function () {\n            return { details: this.details };\n        }\n    });\n});","define('ProductDetails.Specification.View', [\n    'SC.Configuration',\n    'product_details_specification.tpl',\n    'Backbone',\n    'Utils',\n    'underscore'\n], function (Configuration, product_details_specification_tpl, Backbone, Utils, _) {\n    'use strict';\n    return Backbone.View.extend({\n        template: product_details_specification_tpl,\n        // events: {\n        //     'click [data-action=\"show-more\"]': 'showMore',\n        //     'click [data-action=\"selected-tab\"]': 'debouncedCheckContentHeight'\n        // }\n        // ,\n        initialize: function initialize() {\n            Backbone.View.prototype.initialize.apply(this, arguments);\n            this.details = this.options.details;\n        },\n        render: function () {\n            this.details = this.details || this.computeDetailsArea();\n            this._render();    // if (!SC.isPageGenerator()) {\n                               //     this.debouncedCheckContentHeight();\n                               // }\n        },\n        computeDetailsArea: function () {\n            var self = this, details = [];\n            _.each(Configuration.get('productDetailsInformation', []), function (item_information) {\n                var CardCompatibility = self.model.get('item').get('custitem244');\n                var CardOptions = self.model.get('item').get('custitem245');\n                var CardSize = self.model.get('item').get('custitem246');\n                var CardType = self.model.get('item').get('custitem247');\n                var Cards = self.model.get('item').get('custitem248');\n                var CredentialType = self.model.get('item').get('custitem249');\n                var Doors = self.model.get('item').get('custitem250');\n                var Encryption = self.model.get('item').get('custitem251');\n                var History = self.model.get('item').get('custitem252');\n                var Holidays = self.model.get('item').get('custitem253');\n                var ReadRange = self.model.get('item').get('custitem254');\n                var ReaderType = self.model.get('item').get('custitem255');\n                var Readers = self.model.get('item').get('custitem256');\n                var Schedules = self.model.get('item').get('custitem257');\n                var SlotPunch = self.model.get('item').get('custitem258');\n                var Audio = self.model.get('item').get('custitem259');\n                var AudioCompression = self.model.get('item').get('custitem260');\n                var AudioStreaming = self.model.get('item').get('custitem261');\n                var BuiltinMic = self.model.get('item').get('custitem262');\n                var dB = self.model.get('item').get('custitem263');\n                var AlarmOutputs = self.model.get('item').get('custitem264');\n                var AudioIn = self.model.get('item').get('custitem265');\n                var AudioOut = self.model.get('item').get('custitem266');\n                var DigitalInputs = self.model.get('item').get('custitem267');\n                var DigitalOutputs = self.model.get('item').get('custitem268');\n                var RelayOutput = self.model.get('item').get('custitem269');\n                var RS232 = self.model.get('item').get('custitem270');\n                var RS422 = self.model.get('item').get('custitem271');\n                var RS485 = self.model.get('item').get('custitem272');\n                var SensorInputs = self.model.get('item').get('custitem273');\n                var USBPorts = self.model.get('item').get('custitem274');\n                var VideoIn = self.model.get('item').get('custitem275');\n                var VideoOut = self.model.get('item').get('custitem276');\n                var AspectRatio = self.model.get('item').get('custitem277');\n                var Brightness = self.model.get('item').get('custitem278');\n                var GraphicSearchDisplay = self.model.get('item').get('custitem279');\n                var LCD = self.model.get('item').get('custitem280');\n                var LED = self.model.get('item').get('custitem281');\n                var Channels = self.model.get('item').get('custitem282');\n                var Condition = self.model.get('item').get('custitem283');\n                var Connection = self.model.get('item').get('custitem284');\n                var DVRIncluded = self.model.get('item').get('custitem285');\n                var FormFactor = self.model.get('item').get('custitem286');\n                var Frequency = self.model.get('item').get('custitem287');\n                var FullFrameIR = self.model.get('item').get('custitem288');\n                var Image = self.model.get('item').get('custitem289');\n                var IRRange = self.model.get('item').get('custitem290');\n                var LensType = self.model.get('item').get('custitem291');\n                var MegapixelLens = self.model.get('item').get('custitem292');\n                var NumberofCameras = self.model.get('item').get('custitem293');\n                var OutdoorUse = self.model.get('item').get('custitem294');\n                var Ports = self.model.get('item').get('custitem295');\n                var PowerSource = self.model.get('item').get('custitem296');\n                var SignalOutput = self.model.get('item').get('custitem297');\n                var StorageCapacity = self.model.get('item').get('custitem298');\n                var Vandalproof = self.model.get('item').get('custitem299');\n                var Infeed = self.model.get('item').get('custitem300');\n                var Status = self.model.get('item').get('custitem301');\n                var Visibility = self.model.get('item').get('custitem302');\n                var AGCControl = self.model.get('item').get('custitem304');\n                var Resolution = self.model.get('item').get('custitem303');\n                var Day_NightFunction = self.model.get('item').get('custitem305');\n                var DigitalImageStabilization = self.model.get('item').get('custitem306');\n                var DigitalNoiseReduction = self.model.get('item').get('custitem307');\n                var DigitalPTZ = self.model.get('item').get('custitem308');\n                var DigitalZoom = self.model.get('item').get('custitem309');\n                var DynamicRange = self.model.get('item').get('custitem310');\n                var Flip = self.model.get('item').get('custitem311');\n                var ImagerManufacturer = self.model.get('item').get('custitem312');\n                var ImagerType = self.model.get('item').get('custitem313');\n                var IRSensitive = self.model.get('item').get('custitem314');\n                var IRWavelength = self.model.get('item').get('custitem315');\n                var Lines = self.model.get('item').get('custitem316');\n                var Megapixel = self.model.get('item').get('custitem317');\n                var OSD = self.model.get('item').get('custitem318');\n                var Sense_up = self.model.get('item').get('custitem319');\n                var StillImageCapture = self.model.get('item').get('custitem320');\n                var WideDynamic = self.model.get('item').get('custitem321');\n                var Focus = self.model.get('item').get('custitem322');\n                var IRCorrective = self.model.get('item').get('custitem323');\n                var LensIncluded = self.model.get('item').get('custitem324');\n                var LensIris = self.model.get('item').get('custitem325');\n                var LensMount = self.model.get('item').get('custitem326');\n                var filfocaltype = self.model.get('item').get('custitem333');\n                var OpticalZoom = self.model.get('item').get('custitem327');\n                var Zoom = self.model.get('item').get('custitem328');\n                var EthernetInterface = self.model.get('item').get('custitem329');\n                var EthernetPorts = self.model.get('item').get('custitem330');\n                var Processor = self.model.get('item').get('custitem331');\n                var RemoteConfiguration = self.model.get('item').get('custitem332');\n                var RemoteViewable = self.model.get('item').get('custitem334');\n                var SwitchingCapacity = self.model.get('item').get('custitem335');\n                var fxbrand11 = self.model.get('item').get('custitem500');\n                var Warranty = self.model.get('item').get('custitem336');\n                var AcceptsinMountingBrackets = self.model.get('item').get('custitem337');\n                var Blower = self.model.get('item').get('custitem338');\n                var Chassis = self.model.get('item').get('custitem339');\n                var Construction = self.model.get('item').get('custitem340');\n                var DVDBurner = self.model.get('item').get('custitem341');\n                var HardDriveIncluded = self.model.get('item').get('custitem342');\n                var HardDriveType = self.model.get('item').get('custitem343');\n                var Heater = self.model.get('item').get('custitem344');\n                var IngressProtection = self.model.get('item').get('custitem345');\n                var Length = self.model.get('item').get('custitem346');\n                var Mount = self.model.get('item').get('custitem347');\n                var MountingBracketIncluded = self.model.get('item').get('custitem348');\n                var MTBF = self.model.get('item').get('custitem349');\n                var NumberofDriveBays = self.model.get('item').get('custitem350');\n                var Outdoor = self.model.get('item').get('custitem351');\n                var PowerAWG = self.model.get('item').get('custitem352');\n                var ProductColor = self.model.get('item').get('custitem353');\n                var RemoteControl = self.model.get('item').get('custitem354');\n                var Speakers = self.model.get('item').get('custitem355');\n                var BatteryPowered = self.model.get('item').get('custitem356');\n                var DualVoltage = self.model.get('item').get('custitem357');\n                var OutputPowerPerPort = self.model.get('item').get('custitem358');\n                var PoE = self.model.get('item').get('custitem359');\n                var PowerSupplyIncluded = self.model.get('item').get('custitem360');\n                var GoogleCheckout = self.model.get('item').get('custitem361');\n                var ActivityLog = self.model.get('item').get('custitem362');\n                var AnalogChannels = self.model.get('item').get('custitem363');\n                var AnalyticsReady = self.model.get('item').get('custitem364');\n                var CompressionType = self.model.get('item').get('custitem365');\n                var EmailNotification = self.model.get('item').get('custitem366');\n                var EventLog = self.model.get('item').get('custitem367');\n                var EventNotification = self.model.get('item').get('custitem368');\n                var EventSearch = self.model.get('item').get('custitem369');\n                var HardwareCompression = self.model.get('item').get('custitem370');\n                var IPChannels = self.model.get('item').get('custitem371');\n                var MaxStorageCapacitygb = self.model.get('item').get('custitem372');\n                var MaxStorageCapacityTB = self.model.get('item').get('custitem373');\n                var MotionDetection = self.model.get('item').get('custitem374');\n                var Pre_PostAlarmRecording = self.model.get('item').get('custitem375');\n                var PrivacyVideoBlock = self.model.get('item').get('custitem376');\n                var RecordingMode = self.model.get('item').get('custitem377');\n                var SelectableFrameRate = self.model.get('item').get('custitem378');\n                var SmartSearch = self.model.get('item').get('custitem379');\n                var StorageCapacityGB = self.model.get('item').get('custitem380');\n                var StorageCapacityMB = self.model.get('item').get('custitem381');\n                var StorageCapacityTB = self.model.get('item').get('custitem382');\n                var VideoAnalyticsCapable = self.model.get('item').get('custitem383');\n                var VideoOffload = self.model.get('item').get('custitem384');\n                var VideoStreaming = self.model.get('item').get('custitem385');\n                var BrowserSupport = self.model.get('item').get('custitem386');\n                var MobileApp = self.model.get('item').get('custitem387');\n                var OS_Client = self.model.get('item').get('custitem388');\n                var OS_Server = self.model.get('item').get('custitem389');\n                var _802_11 = self.model.get('item').get('custitem390');\n                var Antenna = self.model.get('item').get('custitem391');\n                var BaudrateCommunication = self.model.get('item').get('custitem392');\n                var FCC = self.model.get('item').get('custitem393');\n                var Frequency_GHz = self.model.get('item').get('custitem394');\n                var Frequency_MHz = self.model.get('item').get('custitem395');\n                var GPS = self.model.get('item').get('custitem396');\n                var TransmitsAudio = self.model.get('item').get('custitem397');\n                var Wireless = self.model.get('item').get('custitem398');\n                var WirelessRange = self.model.get('item').get('custitem399');\n                var Connectors = self.model.get('item').get('custitem400');\n                var Inputs = self.model.get('item').get('custitem401');\n                var Outputs = self.model.get('item').get('custitem402');\n                var Termination = self.model.get('item').get('custitem403');\n                var DisplayColor = self.model.get('item').get('custitem404');\n                var HorizontalViewingAngle = self.model.get('item').get('custitem405');\n                var InputSignal = self.model.get('item').get('custitem406');\n                var MaxContrast = self.model.get('item').get('custitem407');\n                var MonitorResolution = self.model.get('item').get('custitem408');\n                var ResponseTime = self.model.get('item').get('custitem409');\n                var VerticalViewingAngle = self.model.get('item').get('custitem410');\n                var MonitorSize = self.model.get('item').get('custitem411');\n                var DealerSKU = self.model.get('item').get('custitem412');\n                var Description = self.model.get('item').get('custitem413');\n                var GTIN = self.model.get('item').get('custitem414');\n                var KeyFeatures = self.model.get('item').get('custitem415');\n                var SetProductNewfromDate = self.model.get('item').get('custitem416');\n                var SetProductNewtoDate = self.model.get('item').get('custitem417');\n                var URLKey = self.model.get('item').get('custitem418');\n                var Weight = self.model.get('item').get('custitem419');\n                var CameraResolution = self.model.get('item').get('custitem420');\n                var EffectivePixels = self.model.get('item').get('custitem421');\n                var ElectronicShutter = self.model.get('item').get('custitem422');\n                var ImagerSize = self.model.get('item').get('custitem423');\n                var IRArrayRange = self.model.get('item').get('custitem424');\n                var Lux_B_W = self.model.get('item').get('custitem425');\n                var Lux_Color = self.model.get('item').get('custitem426');\n                var FocalLength = self.model.get('item').get('custitem427');\n                var FOV = self.model.get('item').get('custitem428');\n                var RelativeAperture = self.model.get('item').get('custitem429');\n                var AvailabilityMessage = self.model.get('item').get('custitem430');\n                var MetaDescription = self.model.get('item').get('custitem431');\n                var MetaKeywords = self.model.get('item').get('custitem432');\n                var Protocols = self.model.get('item').get('custitem433');\n                var CardReaderType = self.model.get('item').get('custitem434');\n                var Certification = self.model.get('item').get('custitem435');\n                var Dimensions = self.model.get('item').get('custitem436');\n                var OperatingHumidity = self.model.get('item').get('custitem437');\n                var OperatingTemperature = self.model.get('item').get('custitem438');\n                var TiltAngle = self.model.get('item').get('custitem439');\n                var Weight_lb = self.model.get('item').get('custitem440');\n                var Weight_oz = self.model.get('item').get('custitem441');\n                var WeightCapacity_lb = self.model.get('item').get('custitem442');\n                var AmpsAC = self.model.get('item').get('custitem443');\n                var BatteryType = self.model.get('item').get('custitem444');\n                var EstimatedBatteryLife = self.model.get('item').get('custitem445');\n                var PowerRequirements = self.model.get('item').get('custitem446');\n                var VoltsACInput = self.model.get('item').get('custitem447');\n                var VoltsACOut = self.model.get('item').get('custitem448');\n                var VoltsDCInput = self.model.get('item').get('custitem449');\n                var VoltsDCOut = self.model.get('item').get('custitem450');\n                var res_01 = self.model.get('item').get('custitem451');\n                var res_02 = self.model.get('item').get('custitem452');\n                var res_03 = self.model.get('item').get('custitem453');\n                var res_04 = self.model.get('item').get('custitem454');\n                var res_05 = self.model.get('item').get('custitem455');\n                var res_06 = self.model.get('item').get('custitem456');\n                var res_07 = self.model.get('item').get('custitem457');\n                var res_08 = self.model.get('item').get('custitem458');\n                var res_09 = self.model.get('item').get('custitem459');\n                var res_10 = self.model.get('item').get('custitem460');\n                var res_11 = self.model.get('item').get('custitem461');\n                var res_12 = self.model.get('item').get('custitem462');\n                var res_13 = self.model.get('item').get('custitem463');\n                var res_14 = self.model.get('item').get('custitem464');\n                var res_15 = self.model.get('item').get('custitem465');\n                var res_16 = self.model.get('item').get('custitem466');\n                var res_17 = self.model.get('item').get('custitem467');\n                var res_18 = self.model.get('item').get('custitem468');\n                var res_19 = self.model.get('item').get('custitem469');\n                var res_20 = self.model.get('item').get('custitem470');\n                var res_21 = self.model.get('item').get('custitem471');\n                var res_22 = self.model.get('item').get('custitem472');\n                var res_23 = self.model.get('item').get('custitem473');\n                var res_24 = self.model.get('item').get('custitem474');\n                var res_25 = self.model.get('item').get('custitem475');\n                var CompareCovertCameras = self.model.get('item').get('custitem476');\n                var CompareIR_LowLightTech = self.model.get('item').get('custitem477');\n                var CompareLensFOVs = self.model.get('item').get('custitem478');\n                var CompareVideoFrameRates = self.model.get('item').get('custitem479');\n                var DVRStorageCalculator = self.model.get('item').get('custitem480');\n                var LensFOVCalculator = self.model.get('item').get('custitem481');\n                var NetworkCameraBandwidthCalculator = self.model.get('item').get('custitem482');\n                var NVRStorageCalculator = self.model.get('item').get('custitem483');\n                var SystemROICalculator = self.model.get('item').get('custitem484');\n                var VoltageDropCalculator = self.model.get('item').get('custitem485');\n                var V_Watts_AConverter = self.model.get('item').get('custitem486');\n                var Pattern = self.model.get('item').get('custitem487');\n                var Preset = self.model.get('item').get('custitem488');\n                var PTZControl = self.model.get('item').get('custitem489');\n                var Scan = self.model.get('item').get('custitem490');\n                var Tour = self.model.get('item').get('custitem491');\n                var BitRate = self.model.get('item').get('custitem492');\n                var FrameRate = self.model.get('item').get('custitem493');\n                var RecordingResolution = self.model.get('item').get('custitem494');\n                var SearchMode = self.model.get('item').get('custitem495');\n                var system_components = self.model.get('item').get('custitem496');\n                var RangeLineofSight = self.model.get('item').get('custitem497');\n                var PanAngle = self.model.get('item').get('custitem498');\n                var SDCardIncluded = self.model.get('item').get('custitem499');\n                details.push({\n                    CardCompatibility: CardCompatibility,\n                    CardOptions: CardOptions,\n                    CardSize: CardSize,\n                    CardType: CardType,\n                    Cards: Cards,\n                    CredentialType: CredentialType,\n                    Doors: Doors,\n                    Encryption: Encryption,\n                    History: History,\n                    Holidays: Holidays,\n                    ReadRange: ReadRange,\n                    ReaderType: ReaderType,\n                    Readers: Readers,\n                    Schedules: Schedules,\n                    SlotPunch: SlotPunch,\n                    Audio: Audio,\n                    AudioCompression: AudioCompression,\n                    AudioStreaming: AudioStreaming,\n                    BuiltinMic: BuiltinMic,\n                    dB: dB,\n                    AlarmOutputs: AlarmOutputs,\n                    AudioIn: AudioIn,\n                    AudioOut: AudioOut,\n                    DigitalInputs: DigitalInputs,\n                    DigitalOutputs: DigitalOutputs,\n                    RelayOutput: RelayOutput,\n                    RS232: RS232,\n                    RS422: RS422,\n                    RS485: RS485,\n                    SensorInputs: SensorInputs,\n                    USBPorts: USBPorts,\n                    VideoIn: VideoIn,\n                    VideoOut: VideoOut,\n                    AspectRatio: AspectRatio,\n                    Brightness: Brightness,\n                    GraphicSearchDisplay: GraphicSearchDisplay,\n                    LCD: LCD,\n                    LED: LED,\n                    Channels: Channels,\n                    Condition: Condition,\n                    Connection: Connection,\n                    DVRIncluded: DVRIncluded,\n                    FormFactor: FormFactor,\n                    Frequency: Frequency,\n                    FullFrameIR: FullFrameIR,\n                    Image: Image,\n                    IRRange: IRRange,\n                    LensType: LensType,\n                    MegapixelLens: MegapixelLens,\n                    NumberofCameras: NumberofCameras,\n                    OutdoorUse: OutdoorUse,\n                    Ports: Ports,\n                    PowerSource: PowerSource,\n                    SignalOutput: SignalOutput,\n                    StorageCapacity: StorageCapacity,\n                    Vandalproof: Vandalproof,\n                    Infeed: Infeed,\n                    Status: Status,\n                    Visibility: Visibility,\n                    AGCControl: AGCControl,\n                    Resolution: Resolution,\n                    Day_NightFunction: Day_NightFunction,\n                    DigitalImageStabilization: DigitalImageStabilization,\n                    DigitalNoiseReduction: DigitalNoiseReduction,\n                    DigitalPTZ: DigitalPTZ,\n                    DigitalZoom: DigitalZoom,\n                    DynamicRange: DynamicRange,\n                    Flip: Flip,\n                    ImagerManufacturer: ImagerManufacturer,\n                    ImagerType: ImagerType,\n                    IRSensitive: IRSensitive,\n                    IRWavelength: IRWavelength,\n                    Lines: Lines,\n                    Megapixel: Megapixel,\n                    OSD: OSD,\n                    Sense_up: Sense_up,\n                    StillImageCapture: StillImageCapture,\n                    WideDynamic: WideDynamic,\n                    Focus: Focus,\n                    IRCorrective: IRCorrective,\n                    LensIncluded: LensIncluded,\n                    LensIris: LensIris,\n                    LensMount: LensMount,\n                    filfocaltype: filfocaltype,\n                    OpticalZoom: OpticalZoom,\n                    Zoom: Zoom,\n                    EthernetInterface: EthernetInterface,\n                    EthernetPorts: EthernetPorts,\n                    Processor: Processor,\n                    RemoteConfiguration: RemoteConfiguration,\n                    RemoteViewable: RemoteViewable,\n                    SwitchingCapacity: SwitchingCapacity,\n                    fxbrand11: fxbrand11,\n                    Warranty: Warranty,\n                    AcceptsinMountingBrackets: AcceptsinMountingBrackets,\n                    Blower: Blower,\n                    Chassis: Chassis,\n                    Construction: Construction,\n                    DVDBurner: DVDBurner,\n                    HardDriveIncluded: HardDriveIncluded,\n                    HardDriveType: HardDriveType,\n                    Heater: Heater,\n                    IngressProtection: IngressProtection,\n                    Length: Length,\n                    Mount: Mount,\n                    MountingBracketIncluded: MountingBracketIncluded,\n                    MTBF: MTBF,\n                    NumberofDriveBays: NumberofDriveBays,\n                    Outdoor: Outdoor,\n                    PowerAWG: PowerAWG,\n                    ProductColor: ProductColor,\n                    RemoteControl: RemoteControl,\n                    Speakers: Speakers,\n                    BatteryPowered: BatteryPowered,\n                    DualVoltage: DualVoltage,\n                    OutputPowerPerPort: OutputPowerPerPort,\n                    PoE: PoE,\n                    PowerSupplyIncluded: PowerSupplyIncluded,\n                    GoogleCheckout: GoogleCheckout,\n                    ActivityLog: ActivityLog,\n                    AnalogChannels: AnalogChannels,\n                    AnalyticsReady: AnalyticsReady,\n                    CompressionType: CompressionType,\n                    EmailNotification: EmailNotification,\n                    EventLog: EventLog,\n                    EventNotification: EventNotification,\n                    EventSearch: EventSearch,\n                    HardwareCompression: HardwareCompression,\n                    IPChannels: IPChannels,\n                    MaxStorageCapacitygb: MaxStorageCapacitygb,\n                    MaxStorageCapacityTB: MaxStorageCapacityTB,\n                    MotionDetection: MotionDetection,\n                    Pre_PostAlarmRecording: Pre_PostAlarmRecording,\n                    PrivacyVideoBlock: PrivacyVideoBlock,\n                    RecordingMode: RecordingMode,\n                    SelectableFrameRate: SelectableFrameRate,\n                    SmartSearch: SmartSearch,\n                    StorageCapacityGB: StorageCapacityGB,\n                    StorageCapacityMB: StorageCapacityMB,\n                    StorageCapacityTB: StorageCapacityTB,\n                    VideoAnalyticsCapable: VideoAnalyticsCapable,\n                    VideoOffload: VideoOffload,\n                    VideoStreaming: VideoStreaming,\n                    BrowserSupport: BrowserSupport,\n                    MobileApp: MobileApp,\n                    OS_Client: OS_Client,\n                    OS_Server: OS_Server,\n                    _802_11: _802_11,\n                    Antenna: Antenna,\n                    BaudrateCommunication: BaudrateCommunication,\n                    FCC: FCC,\n                    Frequency_GHz: Frequency_GHz,\n                    Frequency_MHz: Frequency_MHz,\n                    GPS: GPS,\n                    TransmitsAudio: TransmitsAudio,\n                    Wireless: Wireless,\n                    WirelessRange: WirelessRange,\n                    Connectors: Connectors,\n                    Inputs: Inputs,\n                    Outputs: Outputs,\n                    Termination: Termination,\n                    DisplayColor: DisplayColor,\n                    HorizontalViewingAngle: HorizontalViewingAngle,\n                    InputSignal: InputSignal,\n                    MaxContrast: MaxContrast,\n                    MonitorResolution: MonitorResolution,\n                    ResponseTime: ResponseTime,\n                    VerticalViewingAngle: VerticalViewingAngle,\n                    MonitorSize: MonitorSize,\n                    DealerSKU: DealerSKU,\n                    Description: Description,\n                    GTIN: GTIN,\n                    KeyFeatures: KeyFeatures,\n                    SetProductNewfromDate: SetProductNewfromDate,\n                    SetProductNewtoDate: SetProductNewtoDate,\n                    URLKey: URLKey,\n                    Weight: Weight,\n                    CameraResolution: CameraResolution,\n                    EffectivePixels: EffectivePixels,\n                    ElectronicShutter: ElectronicShutter,\n                    ImagerSize: ImagerSize,\n                    IRArrayRange: IRArrayRange,\n                    Lux_B_W: Lux_B_W,\n                    Lux_Color: Lux_Color,\n                    FocalLength: FocalLength,\n                    FOV: FOV,\n                    RelativeAperture: RelativeAperture,\n                    AvailabilityMessage: AvailabilityMessage,\n                    MetaDescription: MetaDescription,\n                    MetaKeywords: MetaKeywords,\n                    Protocols: Protocols,\n                    CardReaderType: CardReaderType,\n                    Certification: Certification,\n                    Dimensions: Dimensions,\n                    OperatingHumidity: OperatingHumidity,\n                    OperatingTemperature: OperatingTemperature,\n                    TiltAngle: TiltAngle,\n                    Weight_lb: Weight_lb,\n                    Weight_oz: Weight_oz,\n                    WeightCapacity_lb: WeightCapacity_lb,\n                    AmpsAC: AmpsAC,\n                    BatteryType: BatteryType,\n                    EstimatedBatteryLife: EstimatedBatteryLife,\n                    PowerRequirements: PowerRequirements,\n                    VoltsACInput: VoltsACInput,\n                    VoltsACOut: VoltsACOut,\n                    VoltsDCInput: VoltsDCInput,\n                    VoltsDCOut: VoltsDCOut,\n                    res_01: res_01,\n                    res_02: res_02,\n                    res_03: res_03,\n                    res_04: res_04,\n                    res_05: res_05,\n                    res_06: res_06,\n                    res_07: res_07,\n                    res_08: res_08,\n                    res_09: res_09,\n                    res_10: res_10,\n                    res_11: res_11,\n                    res_12: res_12,\n                    res_13: res_13,\n                    res_14: res_14,\n                    res_15: res_15,\n                    res_16: res_16,\n                    res_17: res_17,\n                    res_18: res_18,\n                    res_19: res_19,\n                    res_20: res_20,\n                    res_21: res_21,\n                    res_22: res_22,\n                    res_23: res_23,\n                    res_24: res_24,\n                    res_25: res_25,\n                    CompareCovertCameras: CompareCovertCameras,\n                    CompareIR_LowLightTech: CompareIR_LowLightTech,\n                    CompareLensFOVs: CompareLensFOVs,\n                    CompareVideoFrameRates: CompareVideoFrameRates,\n                    DVRStorageCalculator: DVRStorageCalculator,\n                    LensFOVCalculator: LensFOVCalculator,\n                    NetworkCameraBandwidthCalculator: NetworkCameraBandwidthCalculator,\n                    NVRStorageCalculator: NVRStorageCalculator,\n                    SystemROICalculator: SystemROICalculator,\n                    VoltageDropCalculator: VoltageDropCalculator,\n                    V_Watts_AConverter: V_Watts_AConverter,\n                    Pattern: Pattern,\n                    Preset: Preset,\n                    PTZControl: PTZControl,\n                    Scan: Scan,\n                    Tour: Tour,\n                    BitRate: BitRate,\n                    FrameRate: FrameRate,\n                    RecordingResolution: RecordingResolution,\n                    SearchMode: SearchMode,\n                    system_components: system_components,\n                    RangeLineofSight: RangeLineofSight,\n                    PanAngle: PanAngle,\n                    SDCardIncluded: SDCardIncluded\n                });\n            });\n            return details;\n        }    //     ,\n             // debouncedCheckContentHeight: function() {\n             //         return _.defer(_.bind(this.checkContentHeight, this));\n             //     }\n             //     ,\n             // checkContentHeight: function() {\n             //         var content_height = this.$('.active [data-type=\"information-content-text\"]').height();\n             //         if (content_height <= 370) {\n             //             this.$('[data-type=\"information-content-text-actions\"]').hide();\n             //         } else {\n             //             this.$('[data-type=\"information-content-text-actions\"]').show();\n             //         }\n             //     }\n             //     ,\n             // showMore: function() {\n             //         this.$('[data-type=\"information-content\"]').toggleClass('show');\n             //     }\n,\n        getContext: function () {\n            return { details: this.details };\n        }\n    });\n});","define('Accessories.Model', [\n    'underscore',\n    'Backbone.CachedModel',\n    'Utils'\n], function (_, CachedModel, Utils) {\n    'use strict';\n    return CachedModel.extend({ urlRoot: Utils.getAbsoluteUrl('services/Accessories.Service.ss') });\n});","define('Accessories.View', [\n    'accessories_details.tpl',\n    'Accessories.Model',\n    'ProductViews.Price.View',\n    'Backbone.CompositeView',\n    'Utils',\n    'Backbone',\n    'underscore'\n], function (accessories_details_tpl, AccessoriesModel, ProductViewsPriceView, BackboneCompositeView, Utils, Backbone, _) {\n    'use strict';\n    // @class Case.Details.View @extends Backbone.View\n    return Backbone.View.extend({\n        template: accessories_details_tpl,\n        initialize: function (options) {\n            var self = this;\n            self.model = new AccessoriesModel();\n            self.model.fetch({ data: { internalid: options.items.get('internalid') } }).done(function () {\n                self.render();\n            });\n        },\n        getContext: function () {\n            return {\n                model: this.model,\n                item: this.options.item\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module ItemViews\ndefine('ItemRelations.RelatedItem.View', [\n    'ProductViews.Price.View',\n    'GlobalViews.StarRating.View',\n    'Backbone.CompositeView',\n    'Utils',\n    'item_relations_related_item.tpl',\n    'Backbone'\n], function (ProductViewsPriceView, GlobalViewsStarRatingView, BackboneCompositeView, Utils, item_relations_related_item_tpl, Backbone) {\n    'use strict';\n    // @class ItemViews.RelatedItem.View Responsible for rendering an item details. The idea is that the item rendered is related to another one in the same page\n    // @extend Backbone.View\n    return Backbone.View.extend({\n        //@property {Function} template\n        template: item_relations_related_item_tpl    //@method initialize Override default method to make this view composite\n                                           //@param {ItemViews.RelatedItem.View.Initialize.Options} options\n                                           //@return {Void}\n,\n        initialize: function () {\n            Backbone.View.prototype.initialize.apply(this, arguments);\n            BackboneCompositeView.add(this);\n        },\n        contextData: {\n            'item': function () {\n                return Utils.deepCopy(this.model);\n            }\n        },\n        childViews: {\n            'Item.Price': function () {\n                return new ProductViewsPriceView({\n                    model: this.model,\n                    origin: 'RELATEDITEM'\n                });\n            },\n            'Global.StarRating': function () {\n                return new GlobalViewsStarRatingView({\n                    model: this.model,\n                    showRatingCount: false\n                });\n            }\n        }    //@method getContext\n             //@returns {ItemViews.RelatedItem.View.Context}\n,\n        getContext: function () {\n            //@class ItemViews.RelatedItem.View.Context\n            return {\n                //@property {String} itemURL\n                itemURL: this.model.getFullLink()    //@property {String} itemName\n,\n                itemName: this.model.get('_name') || this.model.Name,\n                thumbnail: this.model.getThumbnail()    //@property {String} sku\n,\n                sku: this.model.get('_sku')    // @property {String} itemId\n,\n                itemId: this.model.get('_id')    // @property {Item.Model} model\n,\n                model: this.model,\n                showRating: SC.ENVIRONMENT.REVIEWS_CONFIG && SC.ENVIRONMENT.REVIEWS_CONFIG.enabled,\n                track_productlist_list: this.model.get('track_productlist_list')    //@property {String} track_productlist_position\n,\n                track_productlist_position: this.model.get('track_productlist_position')    //@property {String} track_productlist_category\n,\n                track_productlist_category: this.model.get('track_productlist_category')\n            };    //@class ItemViews.RelatedItem.View\n        }\n    });\n});    //@class ItemViews.RelatedItem.View.Initialize.Options\n       //@property {Item.Model} model\n","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module ItemRelations\ndefine('ItemRelations.Related.Collection', [\n    'SC.Configuration',\n    'Item.Collection',\n    'underscore',\n    'Utils'\n], function (Configuration, ItemCollection, _) {\n    'use strict';\n    //@class ItemRelations.Related.Collection @extends Item.Collection\n    return ItemCollection.extend({\n        initialize: function (options) {\n            this.searchApiMasterOptions = Configuration.searchApiMasterOptions.relatedItems;\n            this.itemsIds = _.isArray(options.itemsIds) ? _.sortBy(options.itemsIds, function (id) {\n                return id;\n            }) : [options.itemsIds];\n        }    //@method fetchItems @return {jQuery.Deferred}\n,\n        fetchItems: function () {\n            return this.fetch({ data: { id: this.itemsIds.join(',') } });\n        },\n        parse: function (response) {\n            var original_items = _.compact(response.items);\n            if (original_items.length === 0) {\n                return [];    // No items. Return an empty array, nothing else to do here.\n            }\n            if (original_items.length === 1) {\n                return original_items[0].relateditems_detail;    // Same order is preserved.\n            }\n            // This is to avoid repeated related items among different items. (Cart page)\n            var self = this, items = {};\n            _.each(_.pluck(original_items, 'relateditems_detail'), function (related_items) {\n                _.each(related_items, function (related_item) {\n                    if (!_.contains(self.itemsIds, related_item.internalid) && !items[related_item.internalid]) {\n                        items[related_item.internalid] = related_item;\n                    }\n                });\n            });\n            return _.toArray(items);\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module ItemRelations\ndefine('ItemRelations.Related.View', [\n    'Backbone.CollectionView',\n    'ItemRelations.RelatedItem.View',\n    'ItemRelations.Related.Collection',\n    'SC.Configuration',\n    'Tracker',\n    'item_relations_related.tpl',\n    'item_relations_row.tpl',\n    'item_relations_cell.tpl',\n    'jQuery',\n    'Backbone',\n    'underscore',\n    'Utils'\n], function (BackboneCollectionView, ItemRelationsRelatedItemView, ItemRelationsRelatedCollection, Configuration, Tracker, item_relations_related_tpl, item_relations_row_tpl, item_relations_cell_tpl, jQuery, Backbone, _) {\n    'use strict';\n    // @class ItemRelations.Related.View @extends Backbone.CollectionView\n    return BackboneCollectionView.extend({\n        initialize: function () {\n            var is_sca_advance = this.options.application.getConfig('siteSettings.sitetype') === 'ADVANCED', collection = is_sca_advance ? new ItemRelationsRelatedCollection({ itemsIds: this.options.itemsIds }) : new Backbone.Collection(), layout = this.options.application.getLayout(), self = this;\n            BackboneCollectionView.prototype.initialize.call(this, {\n                collection: collection,\n                viewsPerRow: Infinity,\n                cellTemplate: item_relations_cell_tpl,\n                rowTemplate: item_relations_row_tpl,\n                childView: ItemRelationsRelatedItemView,\n                template: item_relations_related_tpl\n            });\n            if (is_sca_advance) {\n                layout.once('afterAppendView', self.loadRelatedItem, self);\n                layout.currentView && layout.currentView.once('afterCompositeViewRender', self.loadRelatedItem, self);\n            }\n        },\n        loadRelatedItem: function loadRelatedItem() {\n            var self = this;\n            self.collection.fetchItems().done(function () {\n                if (self.collection.length) {\n                    Tracker.getInstance().trackProductList(self.collection, 'Related Items');\n                }\n                self.render();\n                var carousel = self.$el.find('[data-type=\"carousel-items\"]');\n                if (_.isPhoneDevice() === false && self.options.application.getConfig('siteSettings.imagesizes', false)) {\n                    var img_min_height = _.where(self.options.application.getConfig('siteSettings.imagesizes', []), { name: self.options.application.getConfig('imageSizeMapping.thumbnail', '') })[0].maxheight;\n                    carousel.find('.item-relations-related-item-thumbnail').css('minHeight', img_min_height);\n                }\n                _.initBxSlider(carousel, Configuration.get('bxSliderDefaults', {}));\n            });\n        },\n        destroy: function destroy() {\n            this._destroy();\n            var layout = this.options.application.getLayout();\n            layout.off('afterAppendView', this.loadRelatedItems, this);\n            layout.currentView && layout.currentView.off('afterCompositeViewRender', this.loadRelatedItems, this);\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module ItemRelations\ndefine('ItemRelations.Correlated.Collection', [\n    'SC.Configuration',\n    'Item.Collection',\n    'underscore',\n    'Utils'\n], function (Configuration, ItemCollection, _) {\n    'use strict';\n    //@class ItemRelations.Correlated.Collection @extends Item.Collection\n    return ItemCollection.extend({\n        initialize: function (options) {\n            this.searchApiMasterOptions = Configuration.searchApiMasterOptions.correlatedItems;\n            this.itemsIds = _.isArray(options.itemsIds) ? _.sortBy(options.itemsIds, function (id) {\n                return id;\n            }) : [options.itemsIds];\n        }    //@method fetchItems @return {jQuery.Deferred}\n,\n        fetchItems: function () {\n            return this.fetch({ data: { id: this.itemsIds.join(',') } });\n        }    // http://backbonejs.org/#Model-parse\n,\n        parse: function (response) {\n            var original_items = _.compact(response.items) || [], self = this, items = {};\n            _.each(_.pluck(original_items, 'correlateditems_detail'), function (correlated_items) {\n                _.each(correlated_items, function (correlated_item) {\n                    if (!_.contains(self.itemsIds, correlated_item.internalid) && !items[correlated_item.internalid]) {\n                        items[correlated_item.internalid] = correlated_item;\n                    }\n                });\n            });\n            return _.toArray(items);\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module ItemRelations\ndefine('ItemRelations.Correlated.View', [\n    'Backbone.CollectionView',\n    'ItemRelations.RelatedItem.View',\n    'ItemRelations.Correlated.Collection',\n    'Tracker',\n    'item_relations_correlated.tpl',\n    'item_relations_row.tpl',\n    'item_relations_cell.tpl',\n    'SC.Configuration',\n    'Backbone',\n    'underscore',\n    'Utils'\n], function (BackboneCollectionView, ItemRelationsRelatedItemView, ItemRelationsCorrelatedCollection, Tracker, item_relations_correlated_tpl, item_relations_row_tpl, item_relations_cell_tpl, Configuration, Backbone, _) {\n    'use strict';\n    // @class ItemRelations.Correlated.View @extends Backbone.CollectionView\n    return BackboneCollectionView.extend({\n        initialize: function () {\n            var is_sca_advanced = Configuration.get('siteSettings.sitetype') === 'ADVANCED', collection = is_sca_advanced ? new ItemRelationsCorrelatedCollection({ itemsIds: this.options.itemsIds }) : new Backbone.Collection(), layout = this.options.application.getLayout(), self = this;\n            BackboneCollectionView.prototype.initialize.call(this, {\n                collection: collection,\n                viewsPerRow: Infinity,\n                cellTemplate: item_relations_cell_tpl,\n                rowTemplate: item_relations_row_tpl,\n                childView: ItemRelationsRelatedItemView,\n                template: item_relations_correlated_tpl\n            });\n            if (is_sca_advanced) {\n                layout.once('afterAppendView', self.loadRelatedItems, self);\n                layout.currentView && layout.currentView.once('afterCompositeViewRender', self.loadRelatedItems, self);\n            }\n        },\n        loadRelatedItems: function loadRelatedItems() {\n            var self = this;\n            self.collection.fetchItems().done(function () {\n                if (self.collection.length) {\n                    Tracker.getInstance().trackProductList(self.collection, 'Correlated Items');\n                }\n                self.render();\n                var carousel = self.$el.find('[data-type=\"carousel-items\"]');\n                if (_.isPhoneDevice() === false && self.options.application.getConfig('siteSettings.imagesizes')) {\n                    var img_min_height = _.where(self.options.application.getConfig('siteSettings.imagesizes'), { name: self.options.application.getConfig('imageSizeMapping.thumbnail') })[0].maxheight;\n                    carousel.find('.item-relations-related-item-thumbnail').css('minHeight', img_min_height);\n                }\n                _.initBxSlider(carousel, Configuration.bxSliderDefaults);\n            });\n        },\n        destroy: function destroy() {\n            this._destroy();\n            var layout = this.options.application.getLayout();\n            layout.off('afterAppendView', this.loadRelatedItems, this);\n            layout.currentView && layout.currentView.off('afterCompositeViewRender', this.loadRelatedItems, this);\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module SocialSharing\ndefine('SocialSharing.Flyout.View', [\n    'social_sharing_flyout.tpl',\n    'Backbone'\n], function (social_sharing_flyout_tpl, Backbone) {\n    'use strict';\n    // @class SocialSharing.Flyout.View @extends Backbone.View\n    return Backbone.View.extend({\n        template: social_sharing_flyout_tpl    // @method getContext @returns {SocialSharing.Flyout.View.Context}\n,\n        getContext: function () {\n            // @class SocialSharing.Flyout.View.Context\n            return {};\n        }\n    });\n});","/*\n    © 2017 NetSuite Inc.\n    User may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n    provided, however, if you are an authorized user with a NetSuite account or log-in, you\n    may use this code subject to the terms that govern your access and use.\n*/\n//@module ProductDetails\ndefine('ProductDetails.Full.View', [\n    'ProductDetails.Base.View',\n    'SC.Configuration',\n    'ProductDetails.Details.View',\n    'ProductDetails.Specification.View',\n    'Accessories.View',\n    'ItemRelations.Related.View',\n    'ItemRelations.Correlated.View',\n    'ProductDetails.Information.View',\n    'SocialSharing.Flyout.View',\n    'product_details_full.tpl',\n    'underscore'\n], function (ProductDetailsBaseView, Configuration, ProductDetailsDetailsView, ProductDetailsSpecificationView, AccessoriesView, ItemRelationsRelatedView, ItemRelationsCorrelatedView, ProductDetailsInformationView, SocialSharingFlyoutView, product_details_full_tpl, _) {\n    'use strict';\n    //@class ProductDetails.Full.View Handles the PDP and quick view @extend Backbone.View\n    return ProductDetailsBaseView.extend({\n        //@property {Function} template\n        template: product_details_full_tpl    //@property {Object} attributes List of HTML attributes applied by Backbone into the $el\n,\n        attributes: {\n            'id': 'ProductDetails.Full.View',\n            'class': 'view product-detail',\n            'data-root-component-id': 'ProductDetails.Full.View'\n        },\n        bindings: _.extend({}, ProductDetailsBaseView.prototype.bindings, {})    //@method initialize Override default method to update the url on changes in the current product\n                                                                       //@param {ProductDetails.Full.View.Initialize.Options} options\n                                                                       //@return {Void}\n,\n        initialize: function initialize() {\n            ProductDetailsBaseView.prototype.initialize.apply(this, arguments);\n            this.model.on('change', this.updateURL, this);\n        },\n        childViews: _.extend({}, ProductDetailsBaseView.prototype.childViews, {\n            'Correlated.Items': function () {\n                return new ItemRelationsCorrelatedView({\n                    itemsIds: this.model.get('item').get('internalid'),\n                    application: this.application\n                });\n            },\n            'Related.Items': function () {\n                return new ItemRelationsRelatedView({\n                    itemsIds: this.model.get('item').get('internalid'),\n                    application: this.application\n                });\n            },\n            'Product.Information': function () {\n                return new ProductDetailsInformationView({ model: this.model });\n            },\n            'Product.Details': function () {\n                return new ProductDetailsDetailsView({ model: this.model });\n            },\n            'Product.Specification': function () {\n                return new ProductDetailsSpecificationView({ model: this.model });\n            },\n            'Show.Accessories': function () {\n                return new AccessoriesView({\n                    items: this.model.get('item'),\n                    application: this.application\n                });\n            },\n            'SocialSharing.Flyout': function () {\n                return new SocialSharingFlyoutView({});\n            }\n        })    //@method destroy Override default method to detach from change event of the current product\n              //@return {Void}\n,\n        destroy: function destroy() {\n            this.model.off('change');\n            return this._destroy();\n        }    //@method showOptionsPusher Override parent method to allow hide/show the option's pusher on mobile depending on the configuration value: ItemOptions.maximumOptionValuesQuantityWithoutPusher\n             //@return {Booelan}\n,\n        showOptionsPusher: function showOptionsPusher() {\n            var options_values_length = _.reduce(this.model.get('options').map(function (option) {\n                if (_.isArray(option.get('values'))) {\n                    var invalid_values = _.filter(option.get('values'), function (value) {\n                        return !value.internalid;\n                    });\n                    return option.get('values').length - invalid_values.length;\n                }\n                return 0;\n            }), function (memo, num) {\n                return memo + num;\n            }, 0);\n            return options_values_length > Configuration.get('ItemOptions.maximumOptionValuesQuantityWithoutPusher', 1);\n        }    //@method getContext\n             //@return {ProductDetails.Full.View.Context}\n,\n        getContext: function getContext() {\n            //@class ProductDetails.Full.View.Context @extend ProductDetails.Base.View.Context\n            return _.extend(ProductDetailsBaseView.prototype.getContext.apply(this, arguments), {});    //@class ProductDetails.Full.View\n        }\n    });\n});    //@class ProductDetails.Full.View.Initialize.Options @extend ProductDetails.Base.View.Initialize.Options\n","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module Cart\ndefine('Cart.QuickAddToCart.View', [\n    'SC.Configuration',\n    'LiveOrder.Model',\n    'Backbone.CompositeView',\n    'Cart.AddToCart.Button.View',\n    'ProductViews.Price.View',\n    'cart_quickaddtocart.tpl',\n    'Backbone',\n    'underscore'\n], function (Configuration, LiveOrderModel, BackboneCompositeView, CartAddToCartButtonView, ProductViewsPriceView, cart_quickaddtocart_tpl, Backbone, _) {\n    'use strict';\n    //@class Cart.QuickAddToCart.View @extend Backbone.View\n    return Backbone.View.extend({\n        //@property {Function} template\n        template: cart_quickaddtocart_tpl,\n        events: { 'blur [data-action=\"setquantity\"]': 'updateQuantity' }    //@method initialize Override default method to define state properties and attach to model's change event\n                                                                    //@param {Cart.QuickAddToCart.View.Initialize.Options} options\n                                                                    //@return {Void}\n,\n        initialize: function initialize() {\n            BackboneCompositeView.add(this);\n            this.cart = LiveOrderModel.getInstance();\n            //@property {Boolean} showQuickAddToCartButton Indicate if the current model is valid to be added form the facet list and if the configuration to show this button is enabled\n            this.showQuickAddToCartButton = !!(Configuration.get('addToCartFromFacetsView', false) && this.model.getItem().get('_isPurchasable') && this.model.areAttributesValid(['options']));\n        }    //@method getMinimumQuantity Returns the minimum quantity taking into account how many item are in the cart\n             //@return {Number}\n,\n        getMinimumQuantity: function getMinimumQuantity() {\n            return !this.cart.findLine(this.model) ? this.model.getItem().get('_minimumQuantity') : 1;\n        }    //@method getMaximumQuantity Returns the maximum quantity, if set, taking into account how many item are in the cart\n             //@return {Number}\n,\n        getMaximumQuantity: function getMaximumQuantity() {\n            var maximum_quantity = this.model.getItem().get('_maximumQuantity');\n            if (!!maximum_quantity) {\n                var line_in_cart = this.cart.findLine(this.model);\n                maximum_quantity = !line_in_cart ? maximum_quantity : maximum_quantity - line_in_cart.quantity;\n                return maximum_quantity;\n            }\n        }    //@method updateQuantity Set the quantity into the current line\n             //@param {jQuery.Event} e\n             //@return {Void}\n,\n        updateQuantity: function updateQuantity(e) {\n            var new_quantity = parseInt(this.$(e.target).val(), 10), minimum_quantity = this.getMinimumQuantity(), maximum_quantity = this.getMaximumQuantity();\n            if (_.isNaN(new_quantity) || !_.isNumber(new_quantity) || new_quantity < minimum_quantity) {\n                new_quantity = minimum_quantity;\n            } else if (!!maximum_quantity && new_quantity > maximum_quantity) {\n                new_quantity = maximum_quantity;\n            }\n            this.model.set('quantity', new_quantity);\n            this.render();\n        },\n        childViews: {\n            'AddToCart': function () {\n                return new CartAddToCartButtonView({\n                    model: this.model,\n                    application: this.options.application\n                });\n            },\n            'ProductViewsPrice.Price': function () {\n                return new ProductViewsPriceView({\n                    model: this.model,\n                    origin: 'ITEMCELL'\n                });\n            }\n        }    //@method getContext\n             //@return {Cart.QuickAddToCart.View.Context}\n,\n        getContext: function getContext() {\n            var item_model = this.model.get('item');\n            //@class Cart.QuickAddToCart.View.Context\n            return {\n                // @property {String} itemId\n                itemId: item_model.get('_id')    // @property {Boolean} showQuickAddToCartButton\n,\n                showQuickAddToCartButton: this.showQuickAddToCartButton,\n                minimumQuantity: this.getMinimumQuantity()    // @property {Boolean} maximumQuantity\n,\n                isMaximumQuantity: !!this.getMaximumQuantity()    // @property {Number} isMaximumQuantity\n,\n                maximumQuantity: this.getMaximumQuantity()    // @property {Number} quantity\n,\n                quantity: this.model.get('quantity')\n            };    //@class Cart.QuickAddToCart.View\n        }\n    });\n});    //@class Cart.QuickAddToCart.View.Initialize.Options\n       //@property {Product.Model} model\n","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module Facets\ndefine('Facets.ItemCell.View', [\n    'ProductLine.Stock.View',\n    'Product.Model',\n    'GlobalViews.StarRating.View',\n    'Cart.QuickAddToCart.View',\n    'ProductViews.Option.View',\n    'ProductLine.StockDescription.View',\n    'SC.Configuration',\n    'Utils',\n    'Backbone',\n    'Backbone.CompositeView',\n    'Backbone.CollectionView',\n    'underscore'\n], function (ProductLineStockView, ProductModel, GlobalViewsStarRating, CartQuickAddToCartView, ProductViewsOptionView, ProductLineStockDescriptionView, Configuration, Utils, Backbone, BackboneCompositeView, BackboneCollectionView, _) {\n    'use strict';\n    // @class Facets.ItemCell.View @extends Backbone.View\n    return Backbone.View.extend({\n        //@method initialize Override default method to convert this View into Composite\n        //@param {Facets.ItemCell.View.Initialize.Options} options\n        //@return {Void}\n        initialize: function () {\n            BackboneCompositeView.add(this);\n        },\n        contextData: {\n            'item': function () {\n                return Utils.deepCopy(this.model);\n            }\n        },\n        childViews: {\n            'ItemViews.Stock': function () {\n                return new ProductLineStockView({ model: this.model });\n            },\n            'GlobalViews.StarRating': function () {\n                var view = new GlobalViewsStarRating({\n                    model: this.model,\n                    showRatingCount: false,\n                    queryOptions: Utils.parseUrlOptions(location.href)\n                });\n                return this.options.showStarRating === false ? null : view;\n            },\n            'ItemDetails.Options': function () {\n                var options_configuration = Configuration.get('ItemOptions.optionsConfiguration', []);\n                return new BackboneCollectionView({\n                    collection: _.filter(this.model.get('options').sortBy('index'), function (option) {\n                        var option_configuration = _.findWhere(options_configuration, { cartOptionId: option.get('cartOptionId') });\n                        return option_configuration && option_configuration.showSelectorInList;\n                    }),\n                    childView: ProductViewsOptionView,\n                    viewsPerRow: 1,\n                    childViewOptions: {\n                        item: this.model,\n                        templateName: 'facetCell',\n                        showLink: true,\n                        hideLabel: true,\n                        showSmall: true\n                    }\n                });\n            },\n            'Cart.QuickAddToCart': function () {\n                var product = new ProductModel({\n                    item: this.model,\n                    quantity: this.model.get('_minimumQuantity', true)\n                });\n                return new CartQuickAddToCartView({\n                    model: product,\n                    application: this.options.application\n                });\n            },\n            'StockDescription': function () {\n                return new ProductLineStockDescriptionView({ model: this.model });\n            }\n        }    // @method getContext @returns {Facets.ItemCell.View.Context}\n,\n        getContext: function () {\n            //@class Facets.ItemCell.View.Context\n            return {\n                // @property {String} itemId\n                itemId: this.model.get('_id')    // @property {String} name\n,\n                name: this.model.get('_name')    // @property {String} url\n,\n                url: this.model.get('_url')    //@property {String} sku\n,\n                sku: this.model.getSku()    // @property {Boolean} isEnvironmentBrowser\n,\n                isEnvironmentBrowser: SC.ENVIRONMENT.jsEnvironment === 'browser' && !SC.ENVIRONMENT.isTouchEnabled,\n                thumbnail: this.model.getThumbnail()    // @property {Boolean} itemIsNavigable\n,\n                itemIsNavigable: !_.isUndefined(this.options.itemIsNavigable) ? !!this.options.itemIsNavigable : true    //@property {Boolean} showRating\n,\n                showRating: SC.ENVIRONMENT.REVIEWS_CONFIG && SC.ENVIRONMENT.REVIEWS_CONFIG.enabled,\n                rating: this.model.get('_rating')    //@property {String} track_productlist_list\n,\n                track_productlist_list: this.model.get('track_productlist_list')    //@property {String} track_productlist_position\n,\n                track_productlist_position: this.model.get('track_productlist_position')    //@property {String} track_productlist_category\n,\n                track_productlist_category: this.model.get('track_productlist_category')\n            };    //@class Facets.ItemCell.View\n        }\n    });\n});    //@class Facets.ItemCell.View.Initialize.Options\n       //@property {Item.Model} model\n       //@property {ApplicationSkeleton} application\n       //@property {Boolean?} itemIsNavigable\n","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module StoreLocator\ndefine('StoreLocator.Search.View', [\n    'store_locator_search.tpl',\n    'AjaxRequestsKiller',\n    'underscore',\n    'SC.Configuration',\n    'Backbone',\n    'Backbone.FormView',\n    'jQuery',\n    'Utils'\n], function (store_locator_search_tpl, AjaxRequestsKiller, _, Configuration, Backbone, BackboneFormView, jQuery) {\n    'use strict';\n    return Backbone.View.extend({\n        template: store_locator_search_tpl,\n        events: {\n            'click [data-action=\"use-geolocation\"]': 'useGeolocation',\n            'submit form': 'saveFormCustom',\n            'keypress [name=\"city\"]': 'saveFormCustom'\n        }    // @method saveFormCustom Saves the form but preventing collision with google maps by using a timeout\n             // @param {jQuery.Event} e jQuery event\n,\n        saveFormCustom: function saveFormCustom(e) {\n            if (e.type === 'keypress' && e.keyCode === 13 || e.type === 'submit') {\n                e.preventDefault();\n                e.stopPropagation();\n                var self = this, args = arguments;\n                setTimeout(function () {\n                    self.saveForm.apply(self, args);\n                }, 500);\n            }\n        }    //@method initialize\n             //@param {Object} options\n,\n        initialize: function initialize(options) {\n            this.model = new Backbone.Model();\n            var view = this;\n            this.model.validation = {\n                city: {\n                    fn: function (value) {\n                        var position = view.reference_map.getPosition();\n                        if (!value) {\n                            return _('Please select an address.').translate();\n                        } else if (value && !position) {\n                            return _('Address not found.').translate();\n                        } else if (position.address !== value) {\n                            return _('Please select a valid address.').translate();\n                        }\n                    }\n                }\n            };\n            this.model.sync = _.bind(this.findStores, this);\n            BackboneFormView.add(this, { noCloneModel: true });\n            this.application = options.application;\n            this.reference_map = options.reference_map;\n            this.collection = options.collection;\n            this.profileModel = options.profileModel;\n            var self = this, position_promise = jQuery.Deferred(), store_locator_last_search = this.profileModel.get('storeLocator_last_search'), position = this.reference_map.getPosition();\n            if (!position.refineSearch) {\n                if (store_locator_last_search) {\n                    this.reference_map.setPosition({\n                        latitude: store_locator_last_search.latitude,\n                        longitude: store_locator_last_search.longitude,\n                        address: store_locator_last_search.address\n                    });\n                    position_promise.resolve();\n                } else if (this.options.useGeolocation) {\n                    this.getCurrentPositionGeolocation().done(function () {\n                        position_promise.resolve();\n                    });\n                }\n            }\n            position_promise.done(function () {\n                self.findStores();\n            });\n            this.collection.on('sync, reset', this.render, this);\n            this.reference_map.on('change:position', function () {\n                self.setInputValue();\n            });\n        }    //@method render\n,\n        render: function render() {\n            if (!this.options.alwaysVisible && this.collection.length) {\n                this.$el.empty();\n                return this;\n            }\n            this._render();\n            var self = this;\n            this.$input = this.$('[data-type=\"autocomplete-input\"]');\n            this.reference_map.load().done(function () {\n                self.reference_map.showAutoCompleteInput(self.$input.get(0));\n                self.setInputValue();\n            });\n            return this;\n        }    //@method setInputValue\n             //@return {void}\n,\n        setInputValue: function setInputValue() {\n            var position = this.reference_map.getPosition();\n            if (position) {\n                this.$input && this.$input.val(position.address);\n            }\n        },\n        getCurrentPositionGeolocation: function getCurrentPositionGeolocation() {\n            var promise = jQuery.Deferred(), self = this;\n            this.reference_map.getCurrentPositionGeolocation().done(function () {\n                self.reference_map.load().done(function () {\n                    self.reference_map.getCityGeoCode().done(function () {\n                        promise.resolveWith(self, self.reference_map.getPosition());\n                    });\n                });\n            }).fail(function (error) {\n                promise.rejectWith(self, arguments);\n                self.blockPosition(error);\n            });\n            return promise;\n        }    //@method useGeolocation\n,\n        useGeolocation: function useGeolocation() {\n            this.reference_map.clearPointList();\n            var self = this;\n            this.$('[data-action=\"message-warning\"]').hide();\n            this.getCurrentPositionGeolocation().done(function () {\n                self.findStores();\n            });\n        }    //@method blockPosition\n             //@param {PositionError} error\n,\n        blockPosition: function blockPosition(error) {\n            switch (error.code) {\n            case error.PERMISSION_DENIED:\n                this.$('[data-action=\"message-warning\"]').html(_('To use this functionality enable geolocation.').translate()).show();\n                break;\n            case error.POSITION_UNAVAILABLE:\n                this.$('[data-action=\"message-warning\"]').html(_('Location information is unavailable.').translate()).show();\n                break;\n            case error.TIMEOUT:\n                this.$('[data-action=\"message-warning\"]').html(_('The request to get user location timed out.').translate()).show();\n                break;\n            case error.UNKNOWN_ERROR:\n                this.$('[data-action=\"message-warning\"]').html(_('An unknown error occurred.').translate()).show();\n                break;\n            }\n        }    // @method findStores Find stores according to location\n             // @param {String} method The http method used\n             // @param {model} The model used in the form\n             // @param {jQuery.Deferred} callbacks\n,\n        findStores: function findStores(method, model, callbacks) {\n            this.collection.reset();\n            var position = this.reference_map.getPosition();\n            if (position && position.address) {\n                this.profileModel.set('storeLocator_last_search', position);\n                return this.collection.update({\n                    latitude: position.latitude,\n                    longitude: position.longitude,\n                    radius: this.reference_map.configuration.getRadius(),\n                    sort: 'distance',\n                    page: 'all',\n                    killerId: AjaxRequestsKiller.getKillerId(),\n                    reset: true,\n                    locationtype: Configuration.get('storeLocator.defaultTypeLocations')\n                }, callbacks);\n            }\n        }    //@method getContext\n             //@return StoreLocator.Location.View.Context\n,\n        getContext: function getContext() {\n            return {\n                showUseCurrentLocationButton: this.options.useGeolocation,\n                showResults: !!this.collection.length\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module StoreLocator\ndefine('StoreLocator.Model', [\n    'Location.Model',\n    'Utils'\n], function (LocationModel, Utils) {\n    'use strict';\n    return LocationModel.extend({\n        //@property {String} urlRoot\n        urlRoot: Utils.getAbsoluteUrl('services/StoreLocator.Service.ss')\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module StoreLocator\ndefine('StoreLocator.Collection', [\n    'Location.Collection',\n    'StoreLocator.Model',\n    'underscore',\n    'Utils'\n], function (LocationCollection, StoreLocatorModel, _, Utils) {\n    'use strict';\n    //@class StoreLocator.Collection @extend Backbone.Collection\n    return LocationCollection.extend({\n        //@property {StoreLocator.Model} model\n        model: StoreLocatorModel    //@property {String} url\n,\n        url: Utils.getAbsoluteUrl('services/StoreLocator.Service.ss')\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module Locator\ndefine('Location.VenueDetails.View', [\n    'locator_venue_details.tpl',\n    'underscore',\n    'Backbone.CompositeView',\n    'Backbone'\n], function (locator_venue_details_tpl, _, BackboneCompositeView, Backbone) {\n    'use strict';\n    return Backbone.View.extend({\n        template: locator_venue_details_tpl    //@method initialize\n                                     //@params {Object} options\n,\n        initialize: function initialize(options) {\n            this.model = options.model;\n            this.application = options.application;\n            this.show_address = options.showAddress;\n            this.hide_cutoff_time = options.hideCutoffTime;\n            BackboneCompositeView.add(this);\n        }    //@method setOpeningHours\n,\n        setOpeningHours: function setOpeningHours() {\n            var opening_hours = this.model.get('servicehours'), opening_hours_str_list = [];\n            _.each(opening_hours, function (row) {\n                var hours = row.starttime + _.translate(' to ') + row.endtime, days_list = [\n                        row.monday === 'T',\n                        row.tuesday === 'T',\n                        row.wednesday === 'T',\n                        row.thursday === 'T',\n                        row.friday === 'T',\n                        row.saturday === 'T',\n                        row.sunday === 'T'\n                    ], days_name = [\n                        _.translate('Monday'),\n                        _.translate('Tuesday'),\n                        _.translate('Wednesday'),\n                        _.translate('Thursday'),\n                        _.translate('Friday'),\n                        _.translate('Saturday'),\n                        _.translate('Sunday')\n                    ], days = '', sequence_days = [], discontinuous_days = [], sequence_active = false, sequence_finish = false;\n                _.each(days_list, function (day, key) {\n                    if (day) {\n                        if (sequence_days.length === 0) {\n                            sequence_active = true;\n                        }\n                        if (sequence_active && !sequence_finish) {\n                            sequence_days.push(days_name[key]);\n                        } else {\n                            discontinuous_days.push(days_name[key]);\n                        }\n                    } else if (sequence_active) {\n                        if (sequence_days.length < 3) {\n                            sequence_active = false;\n                            discontinuous_days = discontinuous_days.concat(sequence_days);\n                            sequence_days = [];\n                        } else {\n                            sequence_finish = true;\n                        }\n                    }\n                });\n                if (sequence_days.length < 3) {\n                    sequence_active = false;\n                    discontinuous_days = discontinuous_days.concat(sequence_days);\n                }\n                if (sequence_active) {\n                    days = sequence_days[0] + _.translate(' to ') + sequence_days[sequence_days.length - 1];\n                }\n                _.each(discontinuous_days, function (discontinuous_day, key) {\n                    if (key === 0 && !sequence_active) {\n                        days = days + discontinuous_day;\n                    } else if (key === discontinuous_days.length - 1) {\n                        days = days + _.translate(' and ') + discontinuous_day;\n                    } else {\n                        days = days + ', ' + discontinuous_day;\n                    }\n                });\n                var open_hours_row = { row: days + ' - ' + hours };\n                opening_hours_str_list.push(open_hours_row);\n            });\n            return opening_hours_str_list;\n        }    //@method getContext\n,\n        getContext: function getContext() {\n            var model = this.model;\n            return {\n                //@property {StoreLocator.Model} model\n                location: model    //@property {Boolean} showAddress \n,\n                showAddress: this.show_address,\n                showStoreAddress: !!model.get('address1')    //@property {Boolean} showCity\n,\n                showCity: !!model.get('city')    //@property {Boolean} showZipCode\n,\n                showZipCode: !!model.get('zip')    //@property {Boolean} showStoreState\n,\n                showStoreState: !!model.get('state')    //@property {Boolean} showPhone\n,\n                showPhone: !!model.get('phone')    //@property {Boolean} showServiceHours\n,\n                showServiceHours: !!(model.get('servicehours') && model.get('servicehours').length)    //@property {Array} serviceHours\n,\n                serviceHours: this.setOpeningHours()    //@property {Boolean} showCutoffTime\n,\n                showCutoffTime: !this.hide_cutoff_time && !!model.get('nextpickupday')    //@property {Boolean} showCutoffTime\n,\n                nextPickupDayIsToday: this.model.get('nextpickupday') === 'today'    //@property {Boolean} nextPickupDayIsToday\n,\n                nextPickupDayIsTomorrow: this.model.get('nextpickupday') === 'tomorrow'    //@property {Boolean} nextPickupDayIsTomorrow\n,\n                nextPickupDayIsSunday: this.model.get('nextpickupday') === 'sunday'    //@property {Boolean} nextPickupDayIsSunday\n,\n                nextPickupDayIsMonday: this.model.get('nextpickupday') === 'monday'    //@property {Boolean} nextPickupDayIsMonday\n,\n                nextPickupDayIsTuesday: this.model.get('nextpickupday') === 'tuesday'    //@property {Boolean} nextPickupDayIsTuesday\n,\n                nextPickupDayIsWednesday: this.model.get('nextpickupday') === 'wednesday'    //@property {Boolean} nextPickupDayIsWednesday\n,\n                nextPickupDayIsThursday: this.model.get('nextpickupday') === 'thursday'    //@property {Boolean} nextPickupDayIsThursday\n,\n                nextPickupDayIsFriday: this.model.get('nextpickupday') === 'friday'    //@property {Boolean} nextPickupDayIsFriday\n,\n                nextPickupDayIsSaturday: this.model.get('nextpickupday') === 'saturday'\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module PickupInStore\ndefine('PickupInStore.StoreSelector.List.Row.View', [\n    'pickup_in_store_store_selector_list_row.tpl',\n    'Location.VenueDetails.View',\n    'LiveOrder.Model',\n    'Backbone.CollectionView',\n    'Backbone.CompositeView',\n    'Backbone',\n    'jQuery',\n    'jquery.cookie'\n], function (pickup_in_store_store_selector_list_row_tpl, LocationVenueDetailsView, LiveOrderModel, BackboneCollectionView, BackboneCompositeView, Backbone, jQuery) {\n    'use strict';\n    // @class PickupInStore.StoreSelector.List.Row.View @extends Backbone.View\n    return Backbone.View.extend({\n        // @property {Function} template\n        template: pickup_in_store_store_selector_list_row_tpl    //@property {Object} events\n,\n        events: {\n            'click [data-store-id]': 'selectStore',\n            'show.bs.dropdown': 'setFlyoutPosition'\n        }    // @method initialize\n,\n        initialize: function initialize(options) {\n            this.model = options.model;\n            this.product = options.product;\n            this.application = options.application;\n            this.source = options.source;\n            BackboneCompositeView.add(this);\n        }    // @property {ChildViews} childViews\n,\n        childViews: {\n            'PickupInStore.StoreLocationInfo': function () {\n                var self = this;\n                return new LocationVenueDetailsView({\n                    model: self.model,\n                    application: self.application,\n                    showAddress: false\n                });\n            }\n        }    // @method selectStore Sets up the store according to the user's selection\n,\n        selectStore: function selectStore(e) {\n            e.preventDefault();\n            this.product.set('location', this.model);\n            this.product.set('fulfillmentChoice', 'pickup');\n            jQuery.cookie('myStore', this.model.get('internalid'));\n            if (this.source && this.source === 'cart') {\n                var self = this, cart_promise = LiveOrderModel.getInstance().updateLine(this.product);\n                cart_promise.done(function () {\n                    self.options.application.getLayout().closeModal();\n                });\n            }\n        }    // @method setFlyoutPosition Sets flyout position regarding if it should be shown up or down\n,\n        setFlyoutPosition: function setFlyoutPosition(e) {\n            var element_link = jQuery(e.relatedTarget), element_dropdown = element_link.siblings('[data-type=\"opening-hours-flyout\"]'), element_parent_list = element_link.closest('[data-type=\"store-row\"]'), bottom_distance = element_parent_list.offset().top + element_parent_list.height() - (element_link.offset().top + element_link.height());\n            if (bottom_distance < element_dropdown.height()) {\n                element_dropdown.addClass('pickup-in-store-store-selector-list-row-opening-hours-flyout-content-up');\n            } else {\n                element_dropdown.removeClass('pickup-in-store-store-selector-list-row-opening-hours-flyout-content-up');\n            }\n        }    // @method getContext @return {PickupInStore.StoreSelector.List.Row.View.Context}\n,\n        getContext: function getContext() {\n            var is_store_selected = parseInt(this.product.get('location').get('internalid'), 10) === parseInt(this.model.get('internalid'), 10);\n            return {\n                //@property {Object} location\n                location: this.model,\n                showStoreAddress: !!this.model.get('address1')    //@property {Boolean} areSetCityAndAddress\n,\n                areSetCityAndAddress: !!this.model.get('address1') && !!this.model.get('city')    //@property {Boolean} showCity\n,\n                showCity: !!this.model.get('city')    //@property {Boolean} showStoresState\n,\n                showStoreState: !!this.model.get('state')    //@property {Boolean} showZipCode\n,\n                showZipCode: !!this.model.get('zip')    //@property {Boolean} showServiceHours\n,\n                showServiceHours: !!this.model.get('servicehours') && !!this.model.get('servicehours').length && !!this.model.get('servicehours')[0].starttime,\n                showPhone: !!this.model.get('phone')    //@property {Boolean} storeHasStock\n,\n                storeHasStock: this.model.get('qtyavailableforstorepickup') > 0    //@property {Boolean} isStoreSelected\n,\n                isStoreSelected: is_store_selected\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module PickupInStore\ndefine('PickupInStore.StoreSelector.ItemDetail.View', [\n    'Transaction.Line.Views.Options.Selected.View',\n    'Transaction.Line.Views.Price.View',\n    'ProductLine.Sku.View',\n    'Backbone.CollectionView',\n    'Backbone.CompositeView',\n    'pickup_in_store_store_selector_item_detail.tpl',\n    'Backbone'\n], function (TransactionLineViewsOptionsSelectedView, TransactionLineViewsPriceView, ProductLineSkuView, BackboneCollectionView, BackboneCompositeView, transaction_line_views_cell_navigable_tpl, Backbone) {\n    'use strict';\n    //@class PickupInStore.StoreSelector.ItemDetail.View @extend Backbone.View\n    return Backbone.View.extend({\n        // @property {Function} template\n        template: transaction_line_views_cell_navigable_tpl    // @method initialize\n                                                     // @param {PickupInStore.StoreSelector.ItemDetail.View.InitializeParameters} options\n,\n        initialize: function (options) {\n            this.options = options;\n            this.application = options.application;\n            this.model = options.model;\n            BackboneCompositeView.add(this);\n        }    // @property {ChildViews} childViews\n,\n        childViews: {\n            'Item.Price': function () {\n                return new TransactionLineViewsPriceView({ model: this.model });\n            },\n            'Item.Sku': function () {\n                return new ProductLineSkuView({ model: this.model });\n            }\n        }    //@method getContext\n             //@return {PickupInStore.StoreSelector.ItemDetail.View.Context}\n,\n        getContext: function () {\n            var item = this.model.get('item');\n            //@class PickupInStore.StoreSelector.ItemDetail.View.Context\n            return {\n                //@property {String} itemName\n                itemName: item.get('_name')    // @property {ImageContainer} thumbnail\n,\n                thumbnail: this.model.getThumbnail()\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module PickupInStore\ndefine('PickupInStore.StoreSelector.List.View', [\n    'pickup_in_store_store_selector_list.tpl',\n    'StoreLocator.Search.View',\n    'StoreLocator.Collection',\n    'PickupInStore.StoreSelector.List.Row.View',\n    'PickupInStore.StoreSelector.ItemDetail.View',\n    'Backbone.CompositeView',\n    'Backbone.CollectionView',\n    'Profile.Model',\n    'Backbone',\n    'GlobalViews.Message.View',\n    'underscore'\n], function (pickup_in_store_store_selector_list_tpl, StoreLocatorSearchView, StoreLocatorCollection, PickupInStoreStoreSelectorListRowView, PickupInStoreStoreSelectorItemDetailView, BackboneCompositeView, BackboneCollectionView, ProfileModel, Backbone, GlobalViewsMessageView, _) {\n    'use strict';\n    // @class PickupInStore.StoreSelector.List.View @extends Backbone.View\n    return Backbone.View.extend({\n        // @property {Function} template\n        template: pickup_in_store_store_selector_list_tpl    // @property {Object} events\n,\n        events: { 'click [data-action=\"refine-search\"]': 'refineSearch' }    // @method initialize\n                                                                     // @param {PickupInStore.StoreSelector.List.View.InitializeParameters} options\n,\n        initialize: function initialize(options) {\n            this.store_collection = options.store_collection;\n            this.model = options.model;\n            this.application = options.application;\n            this.source = options.source;\n            this.reference_map = options.reference_map;\n            BackboneCompositeView.add(this);\n            this.store_collection.on('reset', this.render, this);\n        }    // @property {ChildViews} childViews\n,\n        childViews: {\n            'StoresList.Rows': function () {\n                return new BackboneCollectionView({\n                    collection: this.stores,\n                    viewsPerRow: 1,\n                    childView: PickupInStoreStoreSelectorListRowView,\n                    childViewOptions: {\n                        product: this.model,\n                        application: this.application,\n                        source: this.source\n                    }\n                });\n            },\n            'GlobalMessageStoresStockUnavailable': function () {\n                return new GlobalViewsMessageView({\n                    message: _.translate('We\\'re sorry, it looks like the stores nearby that offer pickup are out of stock today.'),\n                    type: 'warning',\n                    closable: false\n                });\n            },\n            'GlobalMessageStoresUnavailable': function () {\n                return new GlobalViewsMessageView({\n                    message: _.translate('We\\'re sorry, it looks like there are no stores nearby that offer pickup.'),\n                    type: 'warning',\n                    closable: false\n                });\n            },\n            'Line.Item.Information': function () {\n                if (this.source && this.source === 'cart') {\n                    return new PickupInStoreStoreSelectorItemDetailView({\n                        model: this.model,\n                        application: this.application\n                    });\n                }\n            }\n        }    // @method refineSearch\n,\n        refineSearch: function refineSearch(e) {\n            e.preventDefault();\n            this.reference_map.myposition = null;\n            this.store_collection.reset();\n        }    // @method render\n,\n        render: function render() {\n            var self = this;\n            this.item = this.model.getItem();\n            this.stock_information_per_location = this.item.get('_quantityavailableforstorepickup_detail');\n            this.stores = _.compact(_.map(this.stock_information_per_location, function (location) {\n                var store_information = self.store_collection.get(location.internalid);\n                return store_information && store_information.set(location);\n            }));\n            // sort stores by stock and distance\n            this.stores.sort(function (store, other_store) {\n                if (store.get('qtyavailableforstorepickup') === 0 && other_store.get('qtyavailableforstorepickup') > 0) {\n                    return 1;\n                } else if (store.get('qtyavailableforstorepickup') > 0 && other_store.get('qtyavailableforstorepickup') === 0) {\n                    return -1;\n                }\n                return store.get('distance') - other_store.get('distance');\n            });\n            this.stock_pickup = false;\n            _.each(this.stores, function (stores) {\n                if (stores.get('qtyavailableforstorepickup') > 0) {\n                    self.stock_pickup = true;\n                    return;\n                }\n            });\n            if (this.stores.length || this.store_collection.length) {\n                this._render();\n            } else {\n                this.$el.empty();\n            }\n        }    // @method getContext @return {PickupInStore.StoreSelector.List.View.Context}\n,\n        getContext: function getContext() {\n            return {\n                //@property {Object} stores\n                stores: this.stores,\n                storesLength: this.stores.length,\n                isOneStore: this.stores.length === 1    //@property {Boolean} isEmptyStores\n,\n                isEmptyStores: this.stores.length === 0    //@property {Object} stockPickup\n,\n                stockPickup: this.stock_pickup,\n                model: this.model,\n                maxHeight: window.innerHeight / 2 - 60    //@property {Object} myPosition\n,\n                myPosition: this.reference_map.myposition && this.reference_map.myposition.address ? this.reference_map.myposition.address : ''\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module PickupInStore\ndefine('PickupInStore.StoreSelector.View', [\n    'pickup_in_store_store_selector.tpl',\n    'StoreLocator.Search.View',\n    'PickupInStore.StoreSelector.List.View',\n    'StoreLocator.Collection',\n    'Backbone',\n    'Backbone.CompositeView',\n    'Profile.Model',\n    'Utils'\n], function (pickup_in_store_store_selector_tpl, StoreLocatorSearchView, PickupInStoreStoreSelectorListView, StoreLocatorCollection, Backbone, BackboneCompositeView, ProfileModel, Utils) {\n    'use strict';\n    // @class PickupInStore.StoreSelector.View @extends Backbone.View\n    return Backbone.View.extend({\n        // @property {Function} template\n        template: pickup_in_store_store_selector_tpl    //@property {String} title\n,\n        title: Utils.translate('Select Store')    // @method initialize\n                                           // @param {PickupInStore.StoreSelector.View.InitializeParameters} options\n,\n        initialize: function initialize(options) {\n            Backbone.View.prototype.initialize.apply(this, arguments);\n            BackboneCompositeView.add(this);\n            this.model = options.model;\n            this.application = options.application;\n            this.item = this.model.getItem();\n            this.item_pickup_in_store_locations = this.item.get('_quantityavailableforstorepickup_detail');\n            this.source = options.source;\n            this.reference_map = this.options.reference_map;\n            this.store_collection = new StoreLocatorCollection();\n        }    // @property {method} focusFirstInput\n,\n        focusFirstInput: function focusFirstInput() {\n            return !this.store_collection.length;\n        }    // @property {ChildViews} childViews\n,\n        childViews: {\n            'StoreSearch': function () {\n                return new StoreLocatorSearchView({\n                    collection: this.store_collection,\n                    application: this.application,\n                    reference_map: this.reference_map,\n                    profileModel: ProfileModel.getInstance(),\n                    alwaysVisible: !Utils.isPhoneDevice(),\n                    useGeolocation: window.location.protocol === 'https:'\n                });\n            },\n            'StoreList': function () {\n                return new PickupInStoreStoreSelectorListView({\n                    store_collection: this.store_collection,\n                    application: this.application,\n                    reference_map: this.reference_map,\n                    profileModel: ProfileModel.getInstance(),\n                    model: this.model,\n                    source: this.source\n                });\n            }\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module StoreLocatorReferenceMapsImplementation\ndefine('ReferenceMap.Configuration', [], function () {\n    'use strict';\n    var configuration = {\n        //@method mapOptions\n        //@returns {Object} with default center location, zoom, mapType and mapTypeControl\n        mapOptions: function () {\n        }    //@method mapOptions\n             //@returns {Object} with Store icon, position icon and autocomplete input\n,\n        iconOptions: function () {\n        }    //@method zoomInDetails\n             //@return {Number} zoom to be applied in Store.Locator.Details.View\n,\n        zoomInDetails: function () {\n        }    //@method title\n             //@retrun {String} to be applied in Main and Header\n,\n        title: function () {\n        }    //@method isEnabled\n             //@return {Boolean} define if application is enabled or disabled\n,\n        isEnabled: function () {\n        }    //@method getUrl\n             //@return {String} url to be loaded\n,\n        getUrl: function () {\n        }    //@method getApiKey\n             //@return {String} map provider api key\n,\n        getApiKey: function () {\n        }    //@method getExtraData\n             //@return {Array} with {Object} _internalid, name, servicehours\n,\n        getExtraData: function () {\n        }    //@method getRadius\n             //@return {Number} radius used in search\n,\n        getRadius: function () {\n        }    //@method openPopupOnMouseOver define if popup appears when scroll on the list\n             //@return {Boolean}\n,\n        openPopupOnMouseOver: function () {\n        }    //@method showLocalizationMap\n             //@return {Boolean} map appears when search in mobile\n,\n        showLocalizationMap: function () {\n        }    //@method showAllStoresRecordsPerPage\n             //@return {Number} total of records per page in StoreLocator.List.View.All\n,\n        showAllStoresRecordsPerPage: function () {\n        }\n    };\n    return configuration;\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module StoreLocatorReferenceMapsImplementation\n// @class ReferenceMap \n// This class implemented a facade that is used to separate application and map engine and provide an easy way to implement any maps engine. \n// For changing current maps engine re-implement the operations below.\ndefine('ReferenceMap', [\n    'ReferenceMap.Configuration',\n    'underscore',\n    'Backbone',\n    'jQuery',\n    'Utils'\n], function (ReferenceMapConfiguration, _, Backbone, jQuery) {\n    'use strict';\n    var ReferenceMap = function ReferenceMap() {\n        this.configuration = ReferenceMapConfiguration;\n        //Stores instance of the map created in showMap method\n        this.map = null;\n        //Handles markers created in showPoint() method\n        this.points = [];\n        //{Object} containing latitude, longitude and address\n        this.myposition = {};\n    };\n    //@method load\n    //@return Promise object which observes maps library loading\n    ReferenceMap.prototype.load = function load() {\n    };\n    //@method isInitialized\n    //@return {Boolean} If true, library has been initialized. Otherwise false.\n    ReferenceMap.prototype.isInitialize = function isInitialized() {\n    };\n    //@method showMap has the responsability of showing the map in a container and set an instance of map in this.map\n    //@param {Object} element. HTML element that will be used for rendering the map\n    //@return {Void}\n    ReferenceMap.prototype.showMap = function showMap() {\n    };\n    //@method centerMapToDefault\n    ReferenceMap.prototype.centerMapToDefault = function centerMapToDefault() {\n    };\n    //@method showPoint creates a point for showing in the map\n    //@return {Object} point\n    ReferenceMap.prototype.showPoint = function showPoint() {\n    };\n    //@method removePoint removed a point from the map\n    //@param {Object} point to remove\n    //@return {Void}\n    ReferenceMap.prototype.removePoint = function removePoint() {\n    };\n    //@method showAutoCompleteInput shows an initialize the automcomplete feature\n    //@param {Object} input html input\n    //@return {Object} autocomplete object\n    ReferenceMap.prototype.showAutoCompleteInput = function showAutoCompleteInput() {\n    };\n    //@method autoCompleteChange executed when the autoComplete input value changes and sets {Object} this.myposition with latitude, longitude and address\n    ReferenceMap.prototype.autoCompleteChange = function autoCompleteChange() {\n    };\n    //@method showMyPosition show current position in the map\n    //@param {Object} position\n    ReferenceMap.prototype.showPosition = function showPosition() {\n    };\n    //@method showPointList iterates on a list of Store.Locator.Model objects and shows the points in the map.\n    ReferenceMap.prototype.showPointList = function showPointList(list, map) {\n        var self = this;\n        list.each(function (point) {\n            self.points.push(self.showPoint(point, map));\n        });\n    };\n    //@method showPointWithoutInfoWindow shows the point the map without rendering the Location details tooltip\n    //@param {StoreLocator.Model}\n    ReferenceMap.prototype.showPointWithoutInfoWindow = function showPointWithoutInfoWindow() {\n    };\n    //@method getInfoWindow current instance of the view which shows the Location details tooltip\n    //@return {Object}\n    ReferenceMap.prototype.getInfoWindow = function getInfoWindow() {\n    };\n    //@method getTooltip returns an instance of StoreLocator.Tooltip.View\n    //@param {StoreLocator.Model} model\n    //@param {Integer} index\n    //@return {StoreLocator.Tooltip.View}\n    ReferenceMap.prototype.getTooltip = function getTooltip() {\n    };\n    //@method showInfoWindow renders StoreLocator.Tooltip.View into getInfoWindow for showing the information in the map\n    //@param {Object} marker\n    //@param {StoreLocator.Model} model\n    //@param {Integer} index\n    ReferenceMap.prototype.showInfoWindow = function showInfoWindow() {\n    };\n    //@method showInfoWindowOnClick obtain the point of a collection and passing parameters to showInfoWindow\n    //@param {Object} point\n    ReferenceMap.prototype.showInfoWindowOnClick = function showInfoWindowOnClick() {\n    };\n    //@method clearPointList remove all points from map and this.points\n    ReferenceMap.prototype.clearPointList = function clearPointList() {\n        var self = this;\n        _.each(this.points, function (point) {\n            self.removePoint(point);\n        });\n        this.points = [];\n    };\n    //@method fitBounds centers and zooms the map for making all the points fit.\n    ReferenceMap.prototype.fitBounds = function fitBounds() {\n    };\n    //@method getCityGeoCode retrieves an address from latitude and longitude and saves the result in this.myposition.address\n    ReferenceMap.prototype.getCityGeoCode = function getCityGeoCode() {\n    };\n    //@method zoomToPoint centers the map in one specific point\n    //@param {Object} point\n    ReferenceMap.prototype.zoomToPoint = function zoomToPoint() {\n    };\n    //@method getDirectionsUrl \n    //@param {Object} source\n    //@param {Object} destination\n    //@returns {String}\n    ReferenceMap.prototype.getDirectionsUrl = function getDirectionsUrl(source, destination) {\n        source;\n        destination;\n    };\n    //@method getCurrentPositionGeolocation @return {jQuery.Deferred}\n    ReferenceMap.prototype.getCurrentPositionGeolocation = function getCurrentPositionGeolocation() {\n        var promise = jQuery.Deferred(), self = this;\n        navigator.geolocation.getCurrentPosition(function (position) {\n            self.setPosition({\n                latitude: position.coords.latitude,\n                longitude: position.coords.longitude,\n                address: ''\n            });\n            promise.resolveWith(self, [self.myposition]);\n        }, function () {\n            promise.rejectWith(self, arguments);\n        });\n        return promise;\n    };\n    ReferenceMap.prototype.setPosition = function (position) {\n        this.myposition = position ? position : { refineSearch: true };\n        this.trigger('change:position', this.myposition);\n    };\n    ReferenceMap.prototype.getPosition = function () {\n        return this.myposition || {};\n    };\n    _.extend(ReferenceMap.prototype, Backbone.Events);\n    return ReferenceMap;\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module PickupInStore\ndefine('PickupInStore.View', [\n    'pickup_in_store.tpl',\n    'PickupInStore.StoreSelector.View',\n    'Location.VenueDetails.View',\n    'LiveOrder.Model',\n    'Profile.Model',\n    'ReferenceMap',\n    'Location',\n    'Backbone.CompositeView',\n    'Backbone',\n    'underscore',\n    'jQuery'\n], function (pickup_in_store_tpl, PickupInStoreStoreSelectorView, LocationVenueDetailsView, LiveOrderModel, ProfileModel, ReferenceMap, Location, BackboneCompositeView, Backbone, _, jQuery) {\n    'use strict';\n    // @class PickupInStore.View @extends Backbone.View\n    return Backbone.View.extend({\n        // @property {Function} template\n        template: pickup_in_store_tpl    // @property {Object} events\n,\n        events: {\n            'change [data-action=\"selectShip\"]': 'selectShip',\n            'change [data-action=\"selectPickup\"]': 'selectPickup',\n            'click [data-action=\"selectPickupLink\"]': 'selectPickup',\n            'click [data-action=\"changeStore\"]': 'changeStore'\n        }    // @method initialize\n,\n        initialize: function initialize(options) {\n            BackboneCompositeView.add(this);\n            this.model = options.model;\n            this.application = options.application;\n            this.source = options.source;\n            this.profile_model = ProfileModel.getInstance();\n            this.reference_map = new ReferenceMap();\n            this.model.on('change:location', this.render, this);\n            this.model.on('change:location', this.dismissSelectStore, this);\n            this.model.on('change:fulfillmentChoice', this.render, this);\n            this.model.get('location').on('change', this.render, this);\n            this.model.get('options').on('change', this.render, this);\n            var location_id = this.model.get('location').get('internalid') || jQuery.cookie('myStore');\n            if (location_id) {\n                Location.fetchLocations(location_id).done(function () {\n                    options.model.set('location', Location.get(location_id));\n                });\n            }\n        }    // @method render Override default. We'll render only when the item is fulfillable\n             // (meaning it is not downloadable, gift certificate or service)\n             // @return {function} _render | {Backbone.View} this Returning either the usual render function or this view.\n,\n        render: function render() {\n            if (this.model.getItem().get('_isfulfillable')) {\n                return this._render();\n            }\n            return this;\n        }    // @property {ChildViews} childViews\n,\n        childViews: {\n            'PickupInStore.StoreLocationInfo': function () {\n                var self = this;\n                if (this.model.get('location')) {\n                    return new LocationVenueDetailsView({\n                        model: this.model.get('location'),\n                        application: self.application,\n                        showAddress: true\n                    });\n                }\n            }\n        }    // @method selectShip Set up the choosen fulfillment choice to 'ship'\n,\n        selectShip: function selectShip(e) {\n            e.preventDefault();\n            this.model.set('fulfillmentChoice', 'ship');\n            // if the source is the Cart, then the Live Order must be updated\n            if (this.source && this.source === 'cart') {\n                LiveOrderModel.getInstance().updateLine(this.model);\n            }\n        }    // @method selectShip Set up the choosen fulfillment choice to 'pickup'\n,\n        selectPickup: function selectPickup(e) {\n            e.preventDefault();\n            if (this.getLocationStock() > 0) {\n                this.model.set('fulfillmentChoice', 'pickup');\n                // if the source is the Cart, then the Live Order must be updated\n                if (this.source && this.source === 'cart') {\n                    LiveOrderModel.getInstance().updateLine(this.model);\n                }\n            } else {\n                this.changeStore(e);\n            }\n        }    // @method changeStore\n,\n        changeStore: function changeStore(e) {\n            e.preventDefault();\n            var self = this, view = new PickupInStoreStoreSelectorView({\n                    model: this.model,\n                    application: this.application,\n                    reference_map: this.reference_map,\n                    source: this.source\n                });\n            if (_.isPhoneDevice()) {\n                this.application.getLayout().showInPush(view);\n            } else {\n                view.showInModal({ className: 'pickup-in-store-select-store-modal' });\n                view.on('modal-close', function () {\n                    if (!self.model.get('location').get('internalid')) {\n                        self.render();\n                    }\n                });\n            }\n        }    // @method dismissSelectStore\n,\n        dismissSelectStore: function dismissSelectStore() {\n            if (_.isPhoneDevice()) {\n                this.application.getLayout().closePush();\n            } else {\n                this.application.getLayout().closeModal();\n            }\n        }    // @method getLocationStock\n,\n        getLocationStock: function getLocationStock() {\n            var location = this.model.get('location'), stock_information = this.model.getStockInfo(), location_stock = location ? _.findWhere(stock_information.stockPerLocation, { internalid: parseInt(location.get('internalid'), 10) }) : null;\n            return location_stock ? location_stock.qtyavailableforstorepickup : 0;\n        }    // @method getContext\n,\n        getContext: function getContext() {\n            var location = this.model.get('location'), item = this.model.getItem(), stock_information = this.model.getStockInfo(), location_stock = this.getLocationStock(), is_available_for_ship = item.get('_isBackorderable') || item.get('_isInStock'), internal_id = this.source && this.source === 'cart' ? this.model.get('internalid') : item.get('internalid');\n            return {\n                //@property {Boolean} isAvailableForShip\n                isAvailableForShip: is_available_for_ship    //@property {Boolean} isAvailableForPickup\n,\n                isAvailableForPickup: stock_information.isAvailableForPickup,\n                getDirectionsUrl: location && !location.isNew() ? this.reference_map.getDirectionsUrl(this.profile_model.get('storeLocator_last_search'), location.get('location')) : ''    //@property {Boolean} showDividerLines\n,\n                showDividerLines: this.options.source !== 'cart'    //@property {Boolean} isShipSelected\n,\n                isShipSelected: this.model.get('fulfillmentChoice') !== 'pickup'    //@property {Boolean} isPickupSelected\n,\n                isPickupSelected: this.model.get('fulfillmentChoice') === 'pickup'    //@property {Object} stockInfo\n,\n                stockInfo: stock_information    //@property {Boolean} showQuantityAvailable\n,\n                showQuantityAvailable: stock_information.showQuantityAvailable && !_.isUndefined(stock_information.stock)    //@property {Boolean} isAvailableForPickupOnly\n,\n                isAvailableForPickupOnly: stock_information.isAvailableForPickup && !is_available_for_ship    //@property {Boolean} isAvailableForShipOnly\n,\n                isAvailableForShipOnly: !stock_information.isAvailableForPickup && is_available_for_ship    //@property {Boolean} isAvailable\n,\n                isAvailable: stock_information.isAvailableForPickup || is_available_for_ship    //@property {Boolean} isLocationSelected\n,\n                isLocationSelected: location && !location.isNew()    //@property {Boolean} locationHasStock\n,\n                locationHasStock: location_stock > 0    //@property {Object} locationStock\n,\n                locationStock: location_stock    //@property {Boolean} locationShowNextPickupDay\n,\n                locationShowNextPickupDay: location && !!location.get('nextpickupcutofftime')    //@property {Object} location\n,\n                location: location    //@property {LiveOrder.Model} model\n,\n                model: this.model,\n                showCutoffTime: !!location.get('nextpickupday')    //@property {Boolean} nextPickupDayIsToday\n,\n                nextPickupDayIsToday: location.get('nextpickupday') === 'today'    //@property {Boolean} nextPickupDayIsTomorrow\n,\n                nextPickupDayIsTomorrow: location.get('nextpickupday') === 'tomorrow'    //@property {Boolean} nextPickupDayIsSunday\n,\n                nextPickupDayIsSunday: location.get('nextpickupday') === 'sunday'    //@property {Boolean} nextPickupDayIsMonday\n,\n                nextPickupDayIsMonday: location.get('nextpickupday') === 'monday'    //@property {Boolean} nextPickupDayIsTuesday\n,\n                nextPickupDayIsTuesday: location.get('nextpickupday') === 'tuesday'    //@property {Boolean} nextPickupDayIsWednesday\n,\n                nextPickupDayIsWednesday: location.get('nextpickupday') === 'wednesday'    //@property {Boolean} nextPickupDayIsThursday\n,\n                nextPickupDayIsThursday: location.get('nextpickupday') === 'thursday'    //@property {Boolean} nextPickupDayIsFriday\n,\n                nextPickupDayIsFriday: location.get('nextpickupday') === 'friday'    //@property {Boolean} nextPickupDayIsSaturday\n,\n                nextPickupDayIsSaturday: location.get('nextpickupday') === 'saturday'    //@property {String} itemInternalId\n,\n                itemInternalId: internal_id\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module PickupInStore\ndefine('PickupInStore.FulfillmentOptions.View', [\n    'pickup_in_store_fulfillment_options.tpl',\n    'Backbone.CompositeView',\n    'Backbone'\n], function (pickup_in_store_fulfillment_options_tpl, BackboneCompositeView, Backbone) {\n    'use strict';\n    //@class PickupInStore.FulfillmentOptions.View @extend Backbone.View\n    return Backbone.View.extend({\n        // @property {Function} template\n        template: pickup_in_store_fulfillment_options_tpl    // @method initialize\n,\n        initialize: function initialize(options) {\n            BackboneCompositeView.add(this);\n            this.model = options.model;\n        }    // @method getContext\n,\n        getContext: function getContext() {\n            this.item = this.model;\n            var stock_information = this.model.getStockInfo(), is_available_for_ship = this.item.get('_isBackorderable') || this.item.get('_isInStock');\n            return {\n                //@property {Boolean} isAvailableForShip\n                isAvailableForShip: is_available_for_ship    //@property {Boolean} isAvailableForPickup\n,\n                isAvailableForPickup: stock_information.isAvailableForPickup\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module PickupInStore\ndefine('PickupInStore.AddToCart.Button', [\n    'Cart.AddToCart.Button.View',\n    'SC.Configuration'\n], function (CartAddToCartButtonView, Configuration) {\n    'use strict';\n    if (Configuration.get('siteSettings.isPickupInStoreEnabled')) {\n        var original_add_to_cart_fn = CartAddToCartButtonView.prototype.addToCart;\n        CartAddToCartButtonView.prototype.addToCart = function () {\n            if (!this.model.getItem().get('_isstorepickupallowed') && this.model.get('fulfillmentChoice') === 'pickup') {\n                this.model.set('fulfillmentChoice', 'ship');\n            }\n            return original_add_to_cart_fn.apply(this, arguments);\n        };\n    }\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module PickupInStore\ndefine('PickupInStore', [\n    'Location',\n    'ProductDetails.Full.View',\n    'Cart.Lines.View',\n    'Cart.Lines.Free.View',\n    'Facets.ItemCell.View',\n    'PickupInStore.View',\n    'PickupInStore.FulfillmentOptions.View',\n    'ProductLine.Common.Url',\n    'ProductLine.Stock.View',\n    'SC.Configuration',\n    'underscore',\n    'jQuery',\n    'jquery.cookie',\n    'PickupInStore.AddToCart.Button'\n], function (Location, ProductDetailsFullView, CartLinesView, CartLinesFreeView, FacetsItemCellView, PickupInStoreView, PickupInStoreFulfillmentOptionsView, ProductLineCommonUrl, ProductLineStockView, Configuration, _, jQuery) {\n    'use strict';\n    //@class ProductDetailToQuote @extend ApplicationModule\n    return {\n        //@method mountToApp\n        //@param {ApplicationSkeleton} application\n        //@return {Void}\n        mountToApp: function mountToApp(application) {\n            if (!Configuration.get('siteSettings.isPickupInStoreEnabled')) {\n                return;\n            }\n            ProductLineCommonUrl.attributesReflectedInURL.push('location');\n            ProductLineCommonUrl.attributesReflectedInURL.push('fulfillmentChoice');\n            // Set the extra children of the ProductDetailsFullView\n            // We show the pickup in store view only if the item is purchasable.\n            // If it is not, we show the Out of Stock message.\n            ProductDetailsFullView.addChildViews({\n                'Product.Stock.Info': function wrapperFunction(options) {\n                    return function () {\n                        if (options.model.getItem().get('ispurchasable')) {\n                            return new PickupInStoreView({\n                                model: options.model,\n                                application: application\n                            });\n                        } else {\n                            return new ProductLineStockView({ model: options.model });\n                        }\n                    };\n                }\n            });\n            //Set the extra children of the CartLinesView\n            CartLinesView.addChildViews({\n                'Product.Stock.Info': function wrapperFunction(options) {\n                    return function () {\n                        return new PickupInStoreView({\n                            model: options.model,\n                            application: application,\n                            source: 'cart'\n                        });\n                    };\n                }\n            });\n            //Set the extra children of the CartLinesView\n            CartLinesFreeView.addChildViews({\n                'Product.Stock.Info': function wrapperFunction(options) {\n                    return function () {\n                        return new PickupInStoreView({\n                            model: options.model,\n                            application: application,\n                            source: 'cart'\n                        });\n                    };\n                }\n            });\n            //Set the extra children of the FacetsItemCellView\n            FacetsItemCellView.addChildViews({\n                'ItemViews.Stock': function wrapperFunction(options) {\n                    return function () {\n                        if (options.model.get('ispurchasable') && options.model.get('_isfulfillable')) {\n                            return new PickupInStoreFulfillmentOptionsView({\n                                model: options.model,\n                                application: application\n                            });\n                        } else {\n                            return new ProductLineStockView({ model: options.model });\n                        }\n                    };\n                }\n            });\n            application.getLayout().on('beforeAppendView', function (view) {\n                if (view instanceof ProductDetailsFullView) {\n                    var location_id = view.model.get('location').get('internalid') || jQuery.cookie('myStore');\n                    if (location_id) {\n                        Location.fetchLocations(location_id).done(function () {\n                            view.model.set('location', Location.get(location_id));\n                        });\n                    }\n                }\n            });\n        }\n    };\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n/*\n@module jQueryExtras\n\n#jQuery.html\n\nONLY FOR PAGE GENERATOR. \n\nReDefines jQuery html and appends functions to control how and what new content \nis added into the DOM. If in page generator we also override jQuery.html() and jQuery.append() so html \noutput is minified. Also remove scripts - so content scripts don't appear in SEO output.\n\n*/\ndefine('jQuery.html', [\n    'jQuery',\n    'Utils'\n], function (jQuery, utils) {\n    'use strict';\n    return {\n        mountToApp: function () {\n            if (utils.isPageGenerator()) {\n                var jQuery_originalHtml = jQuery.fn.html;\n                jQuery.fn.html = function (html) {\n                    if (typeof html === 'string') {\n                        html = utils.minifyMarkup(html);\n                        html = utils.removeScripts(html);\n                    }\n                    return jQuery_originalHtml.apply(this, [html]);\n                };\n                var jQuery_originalAppend = jQuery.fn.append;\n                jQuery.fn.append = function (html) {\n                    if (typeof html === 'string') {\n                        html = utils.minifyMarkup(html);\n                        html = utils.removeScripts(html);\n                    }\n                    return jQuery_originalAppend.apply(this, [html]);\n                };\n            }\n        }\n    };\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module Profile\ndefine('Profile.UpdatePassword.View', [\n    'GlobalViews.Message.View',\n    'Backbone.FormView',\n    'SC.Configuration',\n    'profile_update_password.tpl',\n    'Backbone',\n    'underscore',\n    'Utils'\n], function (GlobalViewsMessageView, BackboneFormView, Configuration, profile_update_password_tpl, Backbone, _) {\n    'use strict';\n    // @class Profile.UpdatePassword.View @extends Backbone.View\n    return Backbone.View.extend({\n        template: profile_update_password_tpl,\n        page_header: _('Update Your Password').translate(),\n        title: _('Update Your Password').translate(),\n        attributes: { 'class': 'ProfileUpdateYourPasswordView' },\n        events: {\n            'submit form': 'saveForm',\n            'change form:has([data-action=\"reset\"])': 'toggleReset',\n            'keyup form:has([data-action=\"reset\"])': 'toggleReset',\n            'click [data-action=\"reset\"]': 'resetForm'\n        },\n        bindings: {\n            '[name=\"current_password\"]': 'current_password',\n            '[name=\"password\"]': 'password',\n            '[name=\"confirm_password\"]': 'confirm_password'\n        },\n        initialize: function () {\n            this.model.on('saveCompleted', _.bind(this.resetForm, this));\n            BackboneFormView.add(this);\n        },\n        resetForm: function (event) {\n            this.clonedModel.unset('current_password');\n            this.clonedModel.unset('password');\n            this.clonedModel.unset('confirm_password');\n            event && event.preventDefault();\n        },\n        showSuccess: function () {\n            if (this.$savingForm) {\n                var global_view_message = new GlobalViewsMessageView({\n                    message: _('Password successfully updated!').translate(),\n                    type: 'success',\n                    closable: true\n                });\n                this.showContent();\n                this.$('[data-type=\"alert-placeholder\"]').html(global_view_message.render().$el.html());\n            }\n        }    //@method getSelectedMenu\n,\n        getSelectedMenu: function () {\n            return 'updateyourpassword';\n        }    //@method getBreadcrumbPages\n,\n        getBreadcrumbPages: function () {\n            return {\n                text: this.title,\n                href: '/updateyourpassword'\n            };\n        }    // @method getContext @return Profile.UpdatePassword.View.Context\n,\n        getContext: function () {\n            // @class Profile.UpdatePassword.View.Context\n            return {\n                // @property {String} pageHeader \n                pageHeader: this.page_header,\n                showBackToAccount: Configuration.get('siteSettings.sitetype') === 'STANDARD'\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// Profile.ChangeEmailAddress.Model.js\n// -----------------------\n// View Model for changing user's email\n// @module Profile\ndefine('Profile.ChangeEmailAddress.Model', [\n    'Backbone',\n    'underscore',\n    'Utils'\n], function (Backbone, _) {\n    'use strict';\n    // @class Profile.ChangeEmailAddress.Model @extends Backbone.Model\n    return Backbone.Model.extend({\n        urlRoot: 'services/Profile.Service.ss',\n        validation: {\n            current_password: {\n                required: true,\n                msg: _('Current password is required').translate()\n            },\n            confirm_email: [\n                {\n                    required: true,\n                    msg: _('Confirm Email is required').translate()\n                },\n                {\n                    equalTo: 'new_email',\n                    msg: _('New Email and Confirm New Email do not match').translate()\n                }\n            ],\n            new_email: {\n                required: true,\n                msg: _('New Email is required').translate()\n            }\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module Profile\ndefine('Profile.ChangeEmailAddress.View', [\n    'GlobalViews.Message.View',\n    'Backbone.FormView',\n    'SC.Configuration',\n    'profile_change_email.tpl',\n    'Backbone',\n    'underscore',\n    'Utils'\n], function (GlobalViewsMessageView, BackboneFormView, Configuration, profile_change_email_tpl, Backbone, _) {\n    'use strict';\n    // @class Profile.ChangeEmailAddress.View @extends Backbone.View\n    return Backbone.View.extend({\n        template: profile_change_email_tpl,\n        page_header: _('Change Email').translate(),\n        title: _('Change Email').translate(),\n        events: { 'submit form': 'saveFormCustom' },\n        bindings: {\n            '[name=\"current_password\"]': 'current_password',\n            '[name=\"new_email\"]': 'new_email',\n            '[name=\"confirm_email\"]': 'confirm_email'\n        },\n        initialize: function () {\n            Backbone.View.prototype.initialize.apply(this, arguments);\n            BackboneFormView.add(this);\n        },\n        saveFormCustom: function () {\n            this.new_email = this.$('[name=\"new_email\"]').val();\n            // Do not change the email preferences from this screen\n            this.model.unset('campaignsubscriptions');\n            this.model.unset('emailsubscribe');\n            BackboneFormView.saveForm.apply(this, arguments);\n        },\n        showSuccess: function (placeholder) {\n            var global_view_message = new GlobalViewsMessageView({\n                message: _('A confirmation email has been sent to <strong>').translate() + this.new_email + '</strong>',\n                type: 'success',\n                closable: true\n            });\n            placeholder.html(global_view_message.render().$el.html());\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module Profile\ndefine('Profile.Information.View', [\n    'SC.Configuration',\n    'GlobalViews.Message.View',\n    'Backbone.FormView',\n    'Profile.ChangeEmailAddress.Model',\n    'Profile.ChangeEmailAddress.View',\n    'profile_information.tpl',\n    'Backbone',\n    'underscore',\n    'jQuery',\n    'Utils'\n], function (Configuration, GlobalViewsMessageView, BackboneFormView, ProfileChangeEmailModel, ProfileChangeEmailView, profile_information_tpl, Backbone, _, jQuery) {\n    'use strict';\n    // @class Profile.Information.View @extends Backbone.View\n    return Backbone.View.extend({\n        template: profile_information_tpl,\n        page_header: _('Profile Information').translate(),\n        title: _('Profile Information').translate(),\n        attributes: { 'class': 'ProfileInformationView' },\n        events: {\n            'submit form': 'save',\n            'change input[data-type=\"phone\"]': 'formatPhone',\n            'click [data-action=\"change-email\"]': 'changeEmail'\n        },\n        bindings: {\n            '[name=\"firstname\"]': 'firstname',\n            '[name=\"lastname\"]': 'lastname',\n            '[name=\"companyname\"]': 'companyname',\n            '[name=\"phone\"]': 'phone'\n        },\n        save: function (e) {\n            // Do not change the email preferences from this screen\n            this.model.unset('campaignsubscriptions');\n            this.model.unset('emailsubscribe');\n            return this.saveForm(e, this.model);\n        },\n        initialize: function (options) {\n            BackboneFormView.add(this);\n            this.application = options.application;\n        },\n        formatPhone: function (e) {\n            var $target = jQuery(e.target);\n            $target.val(_($target.val()).formatPhone());\n        },\n        changeEmail: function () {\n            var model = new ProfileChangeEmailModel(this.model.attributes);\n            var view = new ProfileChangeEmailView({\n                application: this.application,\n                model: model\n            });\n            var self = this;\n            model.on('save', function () {\n                view.showSuccess(self.$('[data-type=\"alert-placeholder\"]'));\n            });\n            view.useLayoutError = true;\n            this.application.getLayout().showInModal(view);\n        },\n        showSuccess: function () {\n            if (this.$savingForm) {\n                var global_view_message = new GlobalViewsMessageView({\n                    message: _('Profile successfully updated!').translate(),\n                    type: 'success',\n                    closable: true\n                });\n                this.showContent();\n                this.$('[data-type=\"alert-placeholder\"]').append(global_view_message.render().$el.html());\n            }\n        }    //@method getSelectedMenu\n,\n        getSelectedMenu: function () {\n            return 'profileinformation';\n        }    //@method getBreadcrumbPages\n,\n        getBreadcrumbPages: function () {\n            return {\n                text: this.title,\n                href: '/profileinformation'\n            };\n        }    // @method getContext @return Profile.Information.View.Context\n,\n        getContext: function () {\n            // @class Profile.Information.View.Context\n            return {\n                // @property {String} pageHeader\n                pageHeader: this.page_header,\n                isNotCompany: this.model.get('type') !== 'COMPANY'    // @property {String} phoneFormat\n,\n                phoneFormat: Configuration.get('siteSettings.phoneformat')    // @property {Boolean} isCompanyAndShowCompanyField\n,\n                isCompanyAndShowCompanyField: this.model.get('type') === 'COMPANY' || Configuration.get('siteSettings.registration.showcompanyfield') === 'T'    // @property {Boolean} isCompanyFieldRequired\n,\n                isCompanyFieldRequired: _.getPathFromObject(this, 'model.validation.companyname.required', false)    // @property {Boolean} isPhoneFieldRequired\n,\n                isPhoneFieldRequired: _.getPathFromObject(this, 'model.validation.phone.required', false)    // @property {String} firstName\n,\n                firstName: this.model.get('firstname') || ''    // @property {String} lastName\n,\n                lastName: this.model.get('lastname') || ''    // @property {String} companyName\n,\n                companyName: this.model.get('companyname') || ''    // @property {String} email\n,\n                email: this.model.get('email') || ''    // @property {String} phone\n,\n                phone: this.model.get('phone') || ''    //@property {Boolean} showBackToAccount\n,\n                showBackToAccount: Configuration.get('siteSettings.sitetype') === 'STANDARD'\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module Profile\ndefine('Profile.EmailPreferences.View', [\n    'SC.Configuration',\n    'GlobalViews.Message.View',\n    'Backbone.FormView',\n    'profile_emailpreferences.tpl',\n    'Backbone',\n    'underscore',\n    'jQuery',\n    'Utils'\n], function (Configuration, GlobalViewsMessageView, BackboneFormView, profile_emailpreferences_tpl, Backbone, _, jQuery) {\n    'use strict';\n    // @class Profile.EmailPreferences.View @extends Backbone.View\n    return Backbone.View.extend({\n        template: profile_emailpreferences_tpl,\n        title: _('Email Preferences').translate(),\n        page_header: _('Email Preferences').translate(),\n        attributes: { 'class': 'ProfileEmailPreferencesView' },\n        events: {\n            'submit form': 'save',\n            'change form:has([data-action=\"reset\"])': 'toggleReset',\n            'click [data-action=\"reset\"]': 'resetForm',\n            'keyup form:has([data-action=\"reset\"])': 'toggleReset',\n            'change [data-type=\"emailsubscribe-checkbox\"]': 'emailSubscribeChange'\n        },\n        initialize: function () {\n            BackboneFormView.add(this);\n        }    //@method getSelectedMenu\n,\n        getSelectedMenu: function () {\n            return 'emailpreferences';\n        }    //@method getBreadcrumbPages\n,\n        getBreadcrumbPages: function () {\n            return {\n                text: this.title,\n                href: 'emailpreferences'\n            };\n        },\n        showSuccess: function () {\n            if (this.$savingForm) {\n                this.showContent();\n                var global_view_message = new GlobalViewsMessageView({\n                    message: _('Email Preferences successfully saved!').translate(),\n                    type: 'success',\n                    closable: true\n                });\n                this.$('[data-type=\"alert-placeholder\"]').append(global_view_message.render().$el.html());\n            }\n        },\n        save: function (e) {\n            e.preventDefault();\n            var $target = jQuery(e.target), props = $target.serializeObject(), subscriptions_by_id = {}, campaignsubscriptions = this.model.get('campaignsubscriptions');\n            // generate an object with the subscriptions and it's corresponding value\n            _.each(props, function (val, key) {\n                if (~key.indexOf('subscription-')) {\n                    subscriptions_by_id[key.replace('subscription-', '')] = val === 'T';\n                }\n            });\n            _.each(campaignsubscriptions, function (subscription) {\n                subscription.subscribed = subscriptions_by_id[subscription.internalid];\n            });\n            var fixed_props = {\n                campaignsubscriptions: campaignsubscriptions,\n                emailsubscribe: props.emailsubscribe === 'T'\n            };\n            this.saveForm(e, this.model, fixed_props);\n        },\n        resetForm: function (e) {\n            e.preventDefault();\n            this.showContent();\n        }    // if the user doesn't want email notifications we disable all the campaign's checkboxes\n,\n        emailSubscribeChange: function (e) {\n            var disabled = jQuery(e.target).prop('checked');\n            this.$('[data-type=\"subscription-checkbox\"]').prop('disabled', !disabled);\n        }    // @method getContext @return Profile.EmailPreferences.View.Context\n,\n        getContext: function () {\n            var campaign_subscriptions = this.model.get('campaignsubscriptions') || [];\n            // @class Profile.EmailPreferences.View.Context\n            return {\n                // @property {String} pageHeader\n                pageHeader: this.page_header,\n                subscriptions: campaign_subscriptions    // @property {Boolean} isEmailSuscribe\n,\n                isEmailSuscribe: this.model.get('emailsubscribe') === 'T'    // @property {Boolean} campaignSubscriptions\n,\n                campaignSubscriptions: !!(Configuration.get('siteSettings.campaignsubscriptions') && campaign_subscriptions.length)    //@property {Boolean} showBackToAccount\n,\n                showBackToAccount: Configuration.get('siteSettings.sitetype') === 'STANDARD'\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module ReturnAuthorization\ndefine('ReturnAuthorization.Model', [\n    'Transaction.Collection',\n    'Transaction.Model'\n], function (TransactionCollection, TransactionModel) {\n    'use strict';\n    //@class ReturnAuthorization.Model @extend Backbone.Model\n    return TransactionModel.extend({\n        //@property {String} urlRoot\n        urlRoot: 'services/ReturnAuthorization.Service.ss'    //@property {Boolean} cacheSupport enable or disable the support for cache (Backbone.CachedModel)\n,\n        cacheSupport: true    //@method initialize\n                //@param {Object} attributes\n,\n        initialize: function (attributes) {\n            // call the initialize of the parent object, equivalent to super()\n            TransactionModel.prototype.initialize.apply(this, arguments);\n            this.on('change:applies', function (model, applies) {\n                model.set('applies', new TransactionCollection(applies), { silent: true });\n            });\n            this.trigger('change:applies', this, attributes && attributes.lines || []);\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module ReturnAuthorization\ndefine('ReturnAuthorization.Collection', [\n    'ReturnAuthorization.Model',\n    'underscore',\n    'Transaction.Collection',\n    'Utils'\n], function (Model, _, TransactionCollection) {\n    'use strict';\n    //@class ReturnAuthorization.Collection @extend Transaction.Collection\n    return TransactionCollection.extend({\n        model: Model    //@property {Boolean} cacheSupport enable or disable the support for cache (Backbone.CachedModel)\n,\n        cacheSupport: true,\n        url: 'services/ReturnAuthorization.Service.ss'\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module Transaction\ndefine('OrderHistory.Line.Model', [\n    'Transaction.Line.Model',\n    'underscore',\n    'Utils'\n], function (TransactionLineModel) {\n    'use strict';\n    return TransactionLineModel.extend();\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module Transaction\ndefine('OrderHistory.Line.Collection', [\n    'Transaction.Line.Collection',\n    'OrderHistory.Line.Model',\n    'underscore',\n    'Utils'\n], function (TransactionLineCollection, OrderHistoryLineModel) {\n    'use strict';\n    return TransactionLineCollection.extend({ model: OrderHistoryLineModel });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module OrderHistory\ndefine('OrderHistory.Model', [\n    'Transaction.Model',\n    'ReturnAuthorization.Collection',\n    'Transaction.Collection',\n    'OrderHistory.Line.Collection'\n], function (TransactionModel, ReturnAuthorizationCollection, TransactionCollection, OrderHistoryLineCollection) {\n    'use strict';\n    //@class OrderHistory.Model Model for showing information about past orders @extend Transaction.Model\n    return TransactionModel.extend({\n        //@property {String} urlRoot\n        urlRoot: 'services/OrderHistory.Service.ss',\n        linesCollection: OrderHistoryLineCollection    //@property {Object} defaults\n,\n        defaults: {\n            //@property {String} internalid This value is present when retrieving a list of this model\n            //@property {String} date This value is present when retrieving a list of this model\n            'date': ''    //@property {String} order_numberThis value is present when retrieving a list of this model\n,\n            'order_number': ''    //@property {String} status This value is present when retrieving a list of this model\n,\n            'status': ''    //@property {OrderHistory.Model.Summary} summary This value is present when retrieving a list of this model\n,\n            'summary': {}    //@class OrderHistory.Model.Summary\n                  //@property {Number} subtotal\n                  //@property {String} subtotal_formatted\n                  //@property {Number} taxtotal\n                  //@property {String} taxtotal_formatted\n                  //@property {Number} tax2total\n                  //@property {String} tax2total_formatted\n                  //@property {Number} shippingcost\n                  //@property {String} shippingcost_formatted\n                  //@property {Number} handlingcost\n                  //@property {String} handlingcost_formatted\n                  //@property {Number} estimatedshipping\n                  //@property {String} estimatedshipping_formatted\n                  //@property {Number} taxonshipping\n                  //@property {String} taxonshipping_formatted\n                  //@property {Number} discounttotal\n                  //@property {String} discounttotal_formatted\n                  //@property {Number} taxondiscount\n                  //@property {String} taxondiscount_formatted\n                  //@property {Number} discountrate\n                  //@property {String} discountrate_formatted\n                  //@property {Number} discountedsubtotal\n                  //@property {String} discountedsubtotal_formatted\n                  //@property {Number} giftcertapplied\n                  //@property {String} giftcertapplied_formatted\n                  //@property {Number} total This value is present when retrieving a list of this model\n                  //@property {String} total_formatted This value is present when retrieving a list of this model\n                  //@class OrderHistory.Model\n                  //@property {CurrencyProperty} currency This value is present when retrieving a list of this model\n,\n            'currency': null    //@class CurrencyProperty\n                    //@property {String} internalid\n                    //@property {String} name\n                    //@class OrderHistory.Model\n                    //@property {Array<String>} trackingnumbers Each string is a number stringified. This value is present when retrieving a list of this model\n,\n            'trackingnumbers': null    //@property {String} type This value is present when retrieving a list of this model\n,\n            'type': ''    //@property {String} trantype\n,\n            'trantype': ''    //@property {String} purchasenumber\n,\n            'purchasenumber': ''    //@property {String?} dueDate\n,\n            'dueDate': null    //@property {Number} amountDue\n,\n            'amountDue': null    //@property {String} amountDue_formatted\n,\n            'amountDue_formatted': ''    //@property {String} memo\n,\n            'memo': ''    //@property {String} isReturnable\n,\n            'isReturnable': ''\n        }    //@property {Boolean} cacheSupport enable or disable the support for cache (Backbone.CachedModel)\n,\n        cacheSupport: true    //@method initialize\n,\n        initialize: function (attributes) {\n            // call the initialize of the parent object, equivalent to super()\n            TransactionModel.prototype.initialize.apply(this, arguments);\n            this.on('change:receipts', function (model, receipts) {\n                model.set('receipts', new TransactionCollection(receipts), { silent: true });\n            });\n            this.trigger('change:receipts', this, attributes && attributes.receipts || []);\n            this.on('change:payments', function (model, payments) {\n                model.set('payments', new TransactionCollection(payments), { silent: true });\n            });\n            this.trigger('change:payments', this, attributes && attributes.payments || []);\n            this.on('change:returnauthorizations', function (model, returnauthorizations) {\n                model.set('returnauthorizations', new ReturnAuthorizationCollection(returnauthorizations), { silent: true });\n            });\n            this.trigger('change:returnauthorizations', this, attributes && attributes.returnauthorizations || []);\n            this.on('change:fulfillments', function (model, fulfillments) {\n                model.set('fulfillments', new TransactionCollection(fulfillments), { silent: true });\n            });\n            this.trigger('change:fulfillments', this, attributes && attributes.fulfillments || []);\n            //metadata of the attribute options(custom fields)\n            if (SC.ENVIRONMENT.customFieldsMetadata && SC.ENVIRONMENT.customFieldsMetadata.salesorder) {\n                this.__customFieldsMetadata = SC.ENVIRONMENT.customFieldsMetadata.salesorder;\n            }\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module OrderHistory\ndefine('OrderHistory.Collection', [\n    'OrderHistory.Model',\n    'Transaction.Collection'\n], function (OrderHistoryModel, TransactionCollection) {\n    'use strict';\n    //@class OrderHistory.Collection @extend Transaction.Collection\n    return TransactionCollection.extend({\n        //@property {OrderHistory.Model} model\n        model: OrderHistoryModel    //@property {Boolean} cacheSupport enable or disable the support for cache (Backbone.CachedModel)\n,\n        cacheSupport: true    //@property {String} url\n,\n        url: 'services/OrderHistory.Service.ss',\n        initialize: function (models, options) {\n            TransactionCollection.prototype.initialize.apply(this, arguments);\n            this.customFilters = options && options.filters;\n        }    //@method parse Handle the response from the back-end to properly manage total records found value\n             //@param {Object} response JSON Response from the back-end service\n             //@return {Array<Object>} List of returned records from the back-end\n,\n        parse: function (response) {\n            this.totalRecordsFound = response.totalRecordsFound;\n            this.recordsPerPage = response.recordsPerPage;\n            return response.records;\n        }    //@method update Method called by ListHeader.View when applying new filters and constrains\n             //@param {Collection.Filter} options\n             //@return {Void}\n,\n        update: function (options) {\n            var range = options.range || {}, data = {\n                    filter: this.customFilters || options.filter && options.filter.value,\n                    sort: options.sort.value,\n                    order: options.order,\n                    from: range.from,\n                    to: range.to,\n                    page: options.page\n                };\n            this.fetch({\n                data: data,\n                reset: true,\n                killerId: options.killerId\n            });\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// Profile.UpdatePassword.Model.js\n// -----------------------\n// View Model for changing user's password\n// @module Profile\ndefine('Profile.UpdatePassword.Model', [\n    'Backbone',\n    'underscore',\n    'Utils'\n], function (Backbone, _) {\n    'use strict';\n    // @class Profile.UpdatePassword.Model @extends Backbone.Model\n    return Backbone.Model.extend({\n        urlRoot: 'services/Profile.Service.ss',\n        validation: {\n            current_password: {\n                required: true,\n                msg: _('Current password is required').translate()\n            },\n            confirm_password: [\n                {\n                    required: true,\n                    msg: _('Confirm password is required').translate()\n                },\n                {\n                    equalTo: 'password',\n                    msg: _('New Password and Confirm Password do not match').translate()\n                }\n            ],\n            password: {\n                required: true,\n                msg: _('New password is required').translate()\n            }\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// Profile.Router.js\n// -----------------------\n// Router for handling profile view/update\n// @module Profile\ndefine('Profile.Router', [\n    'Profile.UpdatePassword.View',\n    'Profile.Information.View',\n    'Profile.EmailPreferences.View',\n    'OrderHistory.Collection',\n    'Profile.UpdatePassword.Model',\n    'Profile.Model',\n    'Backbone'\n], function (ProfileUpdatePasswordView, ProfileInformationView, ProfileEmailPreferencesView, OrderHistoryCollection, UpdatePasswordModel, ProfileModel, Backbone) {\n    'use strict';\n    // @class Profile.Router @extends Backbone.Router\n    return Backbone.Router.extend({\n        routes: {\n            'profileinformation': 'profileInformation',\n            'emailpreferences': 'emailPreferences',\n            'updateyourpassword': 'updateYourPassword'\n        },\n        initialize: function (application) {\n            this.application = application;\n        }    // view/update profile information\n,\n        profileInformation: function () {\n            var view = new ProfileInformationView({\n                application: this.application,\n                model: ProfileModel.getInstance()\n            });\n            view.useLayoutError = true;\n            view.model.on('save', view.showSuccess, view);\n            view.showContent();\n        }    // view/edit user's email preferences\n,\n        emailPreferences: function () {\n            var view = new ProfileEmailPreferencesView({\n                application: this.application,\n                model: ProfileModel.getInstance()\n            });\n            view.useLayoutError = true;\n            view.model.on('save', view.showSuccess, view);\n            view.showContent();\n        }    // update your password\n,\n        updateYourPassword: function () {\n            var model = new UpdatePasswordModel({});\n            // merge the profile model into the UpdatePasswordModel\n            model.set(ProfileModel.getInstance().attributes);\n            var view = new ProfileUpdatePasswordView({\n                application: this.application,\n                model: model\n            });\n            view.useLayoutError = true;\n            view.model.on('save', view.showSuccess, view);\n            view.showContent();\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// Profile.js\n// -----------------\n// Defines the Profile module (Collection, Views, Router)\n// As the profile is instanciated in the application (without definining a model)\n// the validation is configured here in the mountToApp\ndefine('MyAccount.Profile', [\n    'Profile.Router',\n    'Profile.Model',\n    'underscore',\n    'jQuery',\n    'Utils'\n], function (Router, ProfileModel, _, jQuery) {\n    'use strict';\n    return {\n        Router: Router,\n        MenuItems: [{\n                id: 'settings',\n                name: _('Settings').translate(),\n                index: 4,\n                children: [\n                    {\n                        id: 'profileinformation',\n                        name: _('Profile Information').translate(),\n                        url: 'profileinformation',\n                        index: 1\n                    },\n                    {\n                        id: 'emailpreferences',\n                        name: _('Email Preferences').translate(),\n                        url: 'emailpreferences',\n                        index: 2\n                    },\n                    {\n                        id: 'updateyourpassword',\n                        name: _('Update Your Password').translate(),\n                        url: 'updateyourpassword',\n                        index: 5\n                    }\n                ]\n            }],\n        mountToApp: function (application) {\n            var profile_model_instance = ProfileModel.getInstance();\n            if (SC.ENVIRONMENT.PROFILE) {\n                profile_model_instance.set(SC.ENVIRONMENT.PROFILE);\n                if (profile_model_instance.get('isperson') && application.getConfig('siteSettings.registration.companyfieldmandatory') !== 'T') {\n                    delete profile_model_instance.validation.companyname;\n                }\n                if (!profile_model_instance.get('isperson')) {\n                    delete profile_model_instance.validation.firstname;\n                }\n                if (!profile_model_instance.get('lastname') || !profile_model_instance.get('isperson')) {\n                    delete profile_model_instance.validation.lastname;\n                }\n                if (!profile_model_instance.get('phone') && profile_model_instance.validation.phone) {\n                    profile_model_instance.validation.phone.required = false;\n                }\n                if (SC.ENVIRONMENT.LIVEPAYMENT) {\n                    if (SC.ENVIRONMENT.LIVEPAYMENT.balance) {\n                        profile_model_instance.set('balance', SC.ENVIRONMENT.LIVEPAYMENT.balance);\n                    }\n                    if (SC.ENVIRONMENT.LIVEPAYMENT.balance_formatted) {\n                        profile_model_instance.set('balance_formatted', SC.ENVIRONMENT.LIVEPAYMENT.balance_formatted);\n                    }\n                }\n            }\n            if (SC.ENVIRONMENT.ADDRESS) {\n                profile_model_instance.get('addresses').reset(SC.ENVIRONMENT.ADDRESS);\n                delete SC.ENVIRONMENT.ADDRESS;\n            } else {\n                profile_model_instance.get('addresses').reset([]);\n            }\n            if (SC.ENVIRONMENT.CREDITCARD) {\n                profile_model_instance.get('creditcards').reset(SC.ENVIRONMENT.CREDITCARD);\n                delete SC.ENVIRONMENT.CREDITCARD;\n            } else {\n                profile_model_instance.get('creditcards').reset([]);\n            }\n            var Layout = application.getLayout();\n            profile_model_instance.on('change:firstname change:lastname change:companyname', function () {\n                Layout.updateHeader();\n            });\n            application.getUser = function () {\n                var profile_promise = jQuery.Deferred();\n                ProfileModel.getPromise().done(function () {\n                    profile_promise.resolve(ProfileModel.getInstance());\n                }).fail(function () {\n                    profile_promise.reject.apply(this, arguments);\n                });\n                return profile_promise;\n            };\n            return new Router(application);\n        }\n    };\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// Overview.Banner.View.js\n// -----------------------\ndefine('Overview.Banner.View', [\n    'SC.Configuration',\n    'overview_banner.tpl',\n    'Backbone',\n    'Backbone.CompositeView',\n    'underscore',\n    'Utils'\n], function (Configuration, overview_banner_tpl, Backbone, BackboneCompositeView, _) {\n    'use strict';\n    // home page view\n    return Backbone.View.extend({\n        template: overview_banner_tpl,\n        initialize: function () {\n            BackboneCompositeView.add(this);\n        }    //@method getContext @returns {Overview.Banner.View.Context}\n,\n        getContext: function () {\n            var bannersConfig = Configuration.get('overview.homeBanners'), banners = _.isArray(bannersConfig) ? bannersConfig : [bannersConfig], random_banner = banners[Math.floor(Math.random() * banners.length)];\n            //@class Overview.Banner.View.Context\n            return {\n                //@property {Boolean} hasBanner\n                hasBanner: !!random_banner    //@property {Boolean} hasLink\n,\n                hasLink: !!(random_banner && random_banner.linkUrl)    //@property {String} linkUrl\n,\n                linkUrl: random_banner && random_banner.linkUrl,\n                linkTarget: random_banner && random_banner.linkTarget,\n                imageSource: random_banner && random_banner.imageSource\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// Overview.Profile.View.js\n// -----------------------\ndefine('Overview.Profile.View', [\n    'SC.Configuration',\n    'overview_profile.tpl',\n    'Backbone',\n    'Backbone.CompositeView',\n    'underscore',\n    'jQuery',\n    'Utils'\n], function (Configuration, overview_profile_tpl, Backbone, BackboneCompositeView, _, jQuery, Utils) {\n    'use strict';\n    // home page view\n    return Backbone.View.extend({\n        template: overview_profile_tpl,\n        initialize: function () {\n            BackboneCompositeView.add(this);\n        }    //@method getContext @returns {Overview.Banner.View.Context}\n,\n        getContext: function () {\n            var first_name = this.model.get('firstname') || '', middle_name = this.model.get('middlename') || '', last_name = this.model.get('lastname') || '', company_name = this.model.get('companyname');\n            //@class Overview.Banner.View.Context\n            return {\n                //@property {String} name\n                name: first_name + ' ' + middle_name + ' ' + last_name    //@property {Boolean} isCompany\n,\n                isCompany: !!company_name    //@property {Boolean} isNameTitle\n,\n                isNameTitle: !company_name    //@property {String} companyName\n,\n                companyName: company_name || ''    //@property {String} email\n,\n                email: this.model.get('email')    //@property {String} phone\n,\n                phone: Utils.formatPhone(this.model.get('phone') || '', Configuration.get('siteSettings.phoneformat'))\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// Overview.Payment.View.js\n// -----------------------\ndefine('Overview.Payment.View', [\n    'SC.Configuration',\n    'CreditCard.View',\n    'overview_payment.tpl',\n    'Backbone',\n    'Backbone.CompositeView',\n    'Utils'\n], function (Configuration, CreditCardView, overview_payment_tpl, Backbone, BackboneCompositeView) {\n    'use strict';\n    // home page view\n    return Backbone.View.extend({\n        template: overview_payment_tpl,\n        initialize: function () {\n            BackboneCompositeView.add(this);\n        },\n        childViews: {\n            'CreditCard.View': function () {\n                return new CreditCardView({ model: this.model });\n            }\n        }    //@method getContext @returns {Overview.Payment.View.Context}\n,\n        getContext: function () {\n            //@class Overview.Payment.View.Context\n            return {\n                //@property {Boolean} hasDefaultCreditCard\n                hasDefaultCreditCard: !!this.model,\n                creditCardInternalid: this.model && this.model.get('internalid')\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// Overview.Shipping.View.js\n// -----------------------\ndefine('Overview.Shipping.View', [\n    'SC.Configuration',\n    'Address.Details.View',\n    'overview_shipping.tpl',\n    'Backbone',\n    'Backbone.CompositeView',\n    'Utils'\n], function (Configuration, AddressDetailsView, overview_shipping_tpl, Backbone, BackboneCompositeView) {\n    'use strict';\n    // home page view\n    return Backbone.View.extend({\n        template: overview_shipping_tpl,\n        initialize: function () {\n            BackboneCompositeView.add(this);\n        },\n        childViews: {\n            'Address.Details': function () {\n                return new AddressDetailsView({\n                    hideDefaults: true,\n                    hideActions: true,\n                    model: this.model\n                });\n            }\n        }    //@method getContext @returns {Overview.Shipping.View.Context}\n,\n        getContext: function () {\n            //@class Overview.Shipping.View.Context\n            return {\n                //@property {Boolean} hasDefaultShippingAddress\n                hasDefaultShippingAddress: !!this.model,\n                shippingAddressInternalid: this.model && this.model.get('internalid')\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module TrackingServices Implements the feature present in myaccount to physically track an order's items. \n// It support UPS, USPS and FedEx outof the box but others can be added in the services object. It uses google search page as the 'default service'.\ndefine('TrackingServices', ['underscore'], function (_) {\n    'use strict';\n    // sums up all elements in the array\n    var sum = function (numbers) {\n            return _.reduce(numbers, function (memo, num) {\n                return memo + num;\n            }, 0);\n        }, parse = function (string) {\n            if (!string) {\n                return '';\n            }\n            return _.isString(string) ? string.replace(' ', '').replace('\\t', '').replace('-', '').toUpperCase() : string + '';\n        };\n    // @class TrackingServices\n    return {\n        // @property {Object<String,TrackingService>} services\n        // [Tracking URLs](http://verysimple.com/2011/07/06/ups-tracking-url/)\n        // [Carriers Algorithms](http://answers.google.com/answers/threadview/id/207899.html)\n        services: {\n            UPS: {\n                name: 'UPS',\n                url: 'http://wwwapps.ups.com/WebTracking/track?track=yes&trackNums=',\n                validate: function (numbers) {\n                    numbers = parse(numbers);\n                    if (numbers.substring(0, 2) !== '1Z' || numbers.length !== 18) {\n                        return false;\n                    }\n                    var check_digit = parseInt(_.last(numbers), 10), ups_chart = {\n                            'A': 2,\n                            'B': 3,\n                            'C': 4,\n                            'D': 5,\n                            'E': 6,\n                            'F': 7,\n                            'G': 8,\n                            'H': 9,\n                            'I': 0,\n                            'J': 1,\n                            'K': 2,\n                            'L': 3,\n                            'M': 4,\n                            'N': 5,\n                            'O': 6,\n                            'P': 7,\n                            'Q': 8,\n                            'R': 9,\n                            'S': 0,\n                            'T': 1,\n                            'U': 2,\n                            'V': 3,\n                            'W': 4,\n                            'X': 5,\n                            'Y': 6,\n                            'Z': 7\n                        };\n                    return check_digit === sum(_.map(numbers.substring(2, numbers.length), function (character, index) {\n                        return (ups_chart[character] || parseInt(character, 10)) * (index % 2 ? 2 : 1);\n                    })) % 10;\n                }\n            },\n            USPS: {\n                name: 'USPS',\n                url: 'https://tools.usps.com/go/TrackConfirmAction_input?qtc_tLabels1=',\n                validate: function (numbers) {\n                    numbers = parse(numbers);\n                    var length = numbers.length;\n                    if (length !== 13 && length !== 20 && length !== 22) {\n                        return false;\n                    }\n                    if (_.last(numbers, 2).join('') === 'US') {\n                        numbers = numbers.substring(2, 11);\n                    }\n                    var check_digit = parseInt(_.last(numbers), 10), validation_1 = sum(_.map(numbers, function (num, index) {\n                            return parseInt(num, 10) * (index % 2 ? 1 : 3);\n                        })) % 10;\n                    // Usps\n                    if (check_digit === 10 - validation_1 || validation_1 === 0) {\n                        return true;\n                    }\n                    var usps_chart = [\n                            8,\n                            6,\n                            4,\n                            2,\n                            3,\n                            5,\n                            9,\n                            7\n                        ], validation_map = {\n                            0: 5,\n                            1: 0\n                        }, validation_2 = sum(_.map(_.initial(numbers), function (num, index) {\n                            return num * usps_chart[index];\n                        })) % 11;\n                    validation_2 = validation_map[validation_2] || 11 - validation_2;\n                    // Usps Exp\n                    return check_digit === validation_2;\n                }\n            },\n            FedEx: {\n                name: 'FedEx',\n                url: 'http://www.fedex.com/Tracking?action=track&tracknumbers=',\n                validate: function (numbers) {\n                    numbers = parse(numbers);\n                    var length = numbers.length;\n                    if (length !== 12 && length !== 15 && length !== 22) {\n                        return false;\n                    }\n                    if (length === 22) {\n                        if (parseInt(numbers.substring(0, 2), 10) === 96) {\n                            numbers = numbers.substring(0, 7);\n                        } else {\n                            return false;\n                        }\n                    }\n                    // Fedex Ground\n                    var check_digit = parseInt(_.last(numbers), 10)    // All the numbers but the check_digit in reverse order\n, initial_numbers = _.initial(numbers).reverse()    // math for the check digit\n, validation_1 = 10 - sum(_.map(initial_numbers, function (number, index) {\n                            return number * (index % 2 ? 1 : 3);\n                        })) % 10;\n                    // Fedex Ground\n                    if (check_digit === validation_1) {\n                        return true;\n                    }\n                    var counter = 0, digits = [\n                            1,\n                            3,\n                            7\n                        ], getDigit = function () {\n                            var to_be_returned = counter;\n                            counter = counter + 1 < digits.length ? counter + 1 : 0;\n                            return to_be_returned;\n                        }, validation_2 = sum(_.map(initial_numbers, function (number) {\n                            return number * digits[getDigit()];\n                        })) % 11 % 10;\n                    // Fedex Express\n                    return check_digit === validation_2;\n                }\n            }\n        }    // @property {String} defaultUrl the default url to resolve unknown service names\n,\n        defaultUrl: 'http://www.google.com/search?q='    // @method getServiceUrl @param {String} tracking_number @return {String}\n,\n        getServiceUrl: function (tracking_number) {\n            var service = _.find(this.services, function (service) {\n                return service.validate(parse(tracking_number));\n            });\n            return (service ? service.url : this.defaultUrl) + tracking_number;\n        }    // @property {String} defaultName\n,\n        defaultName: null    // @method getServiceName @param {String} tracking_number @return {String}\n,\n        getServiceName: function (tracking_number) {\n            var service = _.find(this.services, function (service) {\n                return service.validate(parse(tracking_number));\n            });\n            return service ? service.name : this.defaultName;\n        }\n    };\n});    // @class TrackingService @property {String} name @property {String} url \n       // @method validate @param {String} numbers @return {Boolean}\n","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module OrderHistory\ndefine('OrderHistory.List.Tracking.Number.View', [\n    'TrackingServices',\n    'order_history_list_tracking_number.tpl',\n    'Backbone',\n    'underscore'\n], function (TrackingServices, order_history_list_tracking_number_tpl, Backbone, _) {\n    'use strict';\n    //@class OrderHistory.List.Tracking.Number.View @extend Backbone.View\n    return Backbone.View.extend({\n        //@property {Function} template\n        template: order_history_list_tracking_number_tpl    //@property {Object} events\n,\n        events: { 'click [data-action=\"tracking-number\"]': 'trackingNumber' }    //@method trackingNumber\n,\n        trackingNumber: function (e) {\n            e.stopPropagation();\n        }    //@method getTrackingServiceUrl\n,\n        getTrackingServiceUrl: function (number) {\n            return TrackingServices.getServiceUrl(number);\n        }    //@method getTrackingServiceName\n,\n        getTrackingServiceName: function (number) {\n            return TrackingServices.getServiceName(number);\n        }    //@method getContext @return OrderHistory.List.Tracking.Number.View.Context\n,\n        getContext: function () {\n            var self = this, tracking_numbers = _.map(this.model.get('trackingNumbers'), function (tracking_number) {\n                    return {\n                        serviceName: self.getTrackingServiceName(tracking_number),\n                        serviceURL: self.getTrackingServiceUrl(tracking_number) || '#',\n                        trackingNumber: tracking_number\n                    };\n                });\n            //@class OrderHistory.List.Tracking.Number.View.Context\n            return {\n                //@property {Boolean} isTrackingNumberCollectionEmpty\n                isTrackingNumberCollectionEmpty: !tracking_numbers.length,\n                isTrackingNumberCollectionLengthEqual1: tracking_numbers.length === 1    //@property {Boolean} showContentOnEmpty\n,\n                showContentOnEmpty: !!this.options.showContentOnEmpty,\n                contentClass: this.options.contentClass || ''    //@property {String} firstTrackingNumberName\n,\n                firstTrackingNumberName: tracking_numbers[0] && tracking_numbers[0].serviceName,\n                firstTrackingNumberURL: tracking_numbers[0] && tracking_numbers[0].serviceURL,\n                firstTrackingNumberText: tracking_numbers[0] && tracking_numbers[0].trackingNumber,\n                trackingNumbersLength: tracking_numbers.length,\n                collapseElements: !!this.options.collapseElements,\n                trackingNumbers: tracking_numbers    //@property {Boolean} showTrackPackagesLabel\n,\n                showTrackPackagesLabel: !_.isUndefined(this.options.showTrackPackagesLabel) ? this.options.showTrackPackagesLabel : false\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// Overview.Home.View.js\n// --------------------\ndefine('Overview.Home.View', [\n    'SC.Configuration',\n    'GlobalViews.Message.View',\n    'Overview.Banner.View',\n    'Overview.Profile.View',\n    'Overview.Payment.View',\n    'Overview.Shipping.View',\n    'Backbone.CollectionView',\n    'OrderHistory.List.Tracking.Number.View',\n    'RecordViews.View',\n    'Session',\n    'Handlebars',\n    'overview_home.tpl',\n    'notifications.tpl',\n    'Backbone',\n    'Backbone.CompositeView',\n    'underscore',\n    'Utils'\n], function (Configuration, GlobalViewsMessageView, OverviewBannerView, OverviewProfileView, OverviewPaymentView, OverviewShippingView, BackboneCollectionView, OrderHistoryListTrackingNumberView, RecordViewsView, Session, Handlebars, overview_home_tpl, notifications_tpl, Backbone, BackboneCompositeView, _) {\n    'use strict';\n    // home page view\n    return Backbone.View.extend({\n        template: overview_home_tpl,\n        title: _('Welcome!').translate(),\n        attributes: { 'class': 'ProfileHomeView' },\n        events: {},\n        initialize: function (options) {\n            BackboneCompositeView.add(this);\n            this.isSCISIntegrationEnabled = Configuration.get('siteSettings.isSCISIntegrationEnabled', false);\n            this.model = options.model;\n            this.application = options.application;\n            this.customerSupportURL = Configuration.get('overview.customerSupportURL');\n            this.model.on('change', this.showContent, this);\n            this.addresses = this.model.get('addresses');\n            this.creditcards = this.model.get('creditcards');\n            this.addresses.on('reset destroy change add', this.showContent, this);\n            this.creditcards.on('reset destroy change add', this.showContent, this);\n            if (!notifications_tpl) {\n                if (Session.get('email_change_verification', false)) {\n                    this.email_change_verification = SC.SESSION.email_change_verification;\n                    delete SC.SESSION.email_change_verification;\n                }\n            }\n        }    //@method getContext @return Overview.Home.View.Context\n,\n        getContext: function () {\n            var isSCISIntegrationEnabled = Configuration.get('siteSettings.isSCISIntegrationEnabled', false);\n            //@class Overview.Home.View.Context\n            return {\n                //@property {Boolean} collectionLengthGreaterThan0\n                collectionLengthGreaterThan0: this.collection.length > 0    //@property {Boolean} hasCustomerSupportURL\n,\n                hasCustomerSupportURL: !!this.customerSupportURL,\n                customerSupportURL: this.customerSupportURL,\n                firstName: this.model.get('firstname') || this.model.get('name') || ''    //@property {Boolean} isSCISIntegrationEnabled\n,\n                isSCISIntegrationEnabled: this.isSCISIntegrationEnabled,\n                purchasesPermissions: isSCISIntegrationEnabled ? 'transactions.tranFind.1,transactions.tranPurchases.1' : 'transactions.tranFind.1,transactions.tranSalesOrd.1'\n            };\n        },\n        childViews: {\n            'Overview.Banner': function () {\n                return new OverviewBannerView();\n            },\n            'Overview.Profile': function () {\n                return new OverviewProfileView({ model: this.model });\n            },\n            'Overview.Payment': function () {\n                return new OverviewPaymentView({ model: this.defaultCreditCard });\n            },\n            'Overview.Shipping': function () {\n                return new OverviewShippingView({ model: this.defaultShippingAddress });\n            },\n            'Overview.Messages': function () {\n                if (this.email_change_verification) {\n                    return new GlobalViewsMessageView({\n                        message: this.email_change_verification === 'true' ? _('Your email has been changed successfully to <strong>').translate() + this.model.get('email') + '</strong>' : this.email_change_verification,\n                        type: this.email_change_verification === 'true' ? 'success' : 'error',\n                        closable: true\n                    });\n                }\n            },\n            'Order.History.Results': function () {\n                var self = this, records_collection = new Backbone.Collection(this.collection.map(function (order) {\n                        var dynamic_column;\n                        if (self.isSCISIntegrationEnabled) {\n                            dynamic_column = {\n                                label: _('Origin:').translate(),\n                                type: 'origin',\n                                name: 'origin',\n                                value: _.findWhere(Configuration.get('transactionRecordOriginMapping'), { origin: order.get('origin') }).name\n                            };\n                        } else {\n                            dynamic_column = {\n                                label: _('Status:').translate(),\n                                type: 'status',\n                                name: 'status',\n                                value: order.get('status').name\n                            };\n                        }\n                        var columns = [\n                            {\n                                label: _('Date:').translate(),\n                                type: 'date',\n                                name: 'date',\n                                value: order.get('trandate')\n                            },\n                            {\n                                label: _('Amount:').translate(),\n                                type: 'currency',\n                                name: 'amount',\n                                value: order.get('amount_formatted')\n                            },\n                            {\n                                type: 'tracking-number',\n                                name: 'trackingNumber',\n                                compositeKey: 'OrderHistoryListTrackingNumberView',\n                                composite: new OrderHistoryListTrackingNumberView({\n                                    model: new Backbone.Model({ trackingNumbers: order.get('trackingnumbers') }),\n                                    showContentOnEmpty: true,\n                                    contentClass: '',\n                                    collapseElements: true\n                                })\n                            }\n                        ];\n                        columns.splice(2, 0, dynamic_column);\n                        var model = new Backbone.Model({\n                            title: new Handlebars.SafeString(_('<span class=\"tranid\">$(0)</span>').translate(order.get('tranid'))),\n                            touchpoint: 'customercenter',\n                            detailsURL: '/purchases/view/' + order.get('recordtype') + '/' + order.get('internalid'),\n                            recordType: order.get('recordtype'),\n                            id: order.get('internalid'),\n                            internalid: order.get('internalid'),\n                            trackingNumbers: order.get('trackingnumbers'),\n                            columns: columns\n                        });\n                        return model;\n                    }));\n                return new BackboneCollectionView({\n                    childView: RecordViewsView,\n                    collection: records_collection,\n                    viewsPerRow: 1\n                });\n            }\n        },\n        destroy: function () {\n            this.addresses.off(null, null, this);\n            this.creditcards.off(null, null, this);\n            this.offEventsOfDefaults();\n            this._destroy();\n        },\n        offEventsOfDefaults: function () {\n            this.defaultCreditCard && this.defaultCreditCard.off(null, null, this);\n            this.defaultShippingAddress && this.defaultShippingAddress.off(null, null, this);\n        },\n        getSelectedMenu: function () {\n            return 'home';\n        },\n        getBreadcrumbPages: function () {\n            return [];\n        },\n        showContent: function () {\n            // off events of defaults\n            this.offEventsOfDefaults();\n            // set the defaults\n            this.defaultShippingAddress = this.addresses.findWhere({ defaultshipping: 'T' });\n            this.defaultCreditCard = this.creditcards.findWhere({ ccdefault: 'T' });\n            // on events of defaults\n            this.defaultShippingAddress && this.defaultShippingAddress.on('change', this.showContent, this);\n            this.defaultCreditCard && this.defaultCreditCard.on('change', this.showContent, this);\n            this.title = this.model.get('firstname') ? _('Welcome $(0)!').translate(this.model.get('firstname')) : this.title;\n            this.application.getLayout().showContent(this);\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// Overview.Router.js\n// -----------------------\n// Router for handling Overview view/update\ndefine('Overview.Router', [\n    'SC.Configuration',\n    'Overview.Home.View',\n    'OrderHistory.Collection',\n    'Profile.Model',\n    'Backbone'\n], function (Configuration, OverviewHomeView, OrderHistoryCollection, ProfileModel, Backbone) {\n    'use strict';\n    return Backbone.Router.extend({\n        routes: {\n            '': 'home',\n            'overview': 'home'\n        },\n        initialize: function (application) {\n            this.application = application;\n        }    // load the home page\n,\n        home: function () {\n            var orderCollection = new OrderHistoryCollection(), view = new OverviewHomeView({\n                    application: this.application,\n                    model: ProfileModel.getInstance(),\n                    collection: orderCollection\n                });\n            // get latest orders\n            orderCollection.fetch({\n                data: {\n                    page: 1,\n                    order: 1,\n                    sort: 'trandate,internalid',\n                    results_per_page: Configuration.get('overview.homeRecentOrdersQuantity', 3)\n                },\n                error: function (model, jqXhr) {\n                    // this will stop the ErrorManagment module to process this error\n                    // as we are taking care of it\n                    jqXhr.preventDefault = true;\n                }\n            }).always(function () {\n                view.showContent();\n            });\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module Overview\n// Defines the Overview module (Router)\ndefine('Overview', [\n    'Overview.Router',\n    'underscore',\n    'Utils'\n], function (Router, _) {\n    'use strict';\n    // @class Overview @extends ApplicationModule\n    var OverviewModule = {\n        MenuItems: [function (application) {\n                if (!_.isPhoneDevice() && application.getConfig('siteSettings.sitetype') === 'STANDARD' || application.getConfig('siteSettings.sitetype') !== 'STANDARD') {\n                    return {\n                        id: 'home',\n                        name: _('Overview').translate(),\n                        url: 'overview',\n                        index: 0\n                    };\n                }\n            }],\n        mountToApp: function (application) {\n            // default behavior for mount to app\n            return new Router(application);\n        }\n    };\n    return OverviewModule;\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module Item\ndefine('Item', [\n    'SC.Configuration',\n    'underscore'\n], function (Configuration, _) {\n    'use strict';\n    //@class Item @extends ApplicationModule\n    return {\n        //@method mountToApp Initialize the item options configuration related with option colors\n        //@return {Void}\n        mountToApp: function (application) {\n            //Make of itemOptions color property a object with the color name as\n            //the property and the color value as the value of the property.\n            var item_options_with_color = _.filter(Configuration.get('ItemOptions.optionsConfiguration', []), function (item_option_config) {\n                    return !!item_option_config.colors;\n                }), clean_setting = function (item_option, setting_key) {\n                    if (item_option && item_option[setting_key] === '') {\n                        delete item_option[setting_key];\n                        return true;\n                    }\n                    return false;\n                };\n            _.each(item_options_with_color || [], function (item_option) {\n                item_option.colors = application.getLayout().getColorPalette(item_option.colors);\n            });\n            //Clean empty settings. These values are optional, when you in the NetSuite interface do not specify nothing\n            //they come empty, so for those cases we deleted them so when the Item.Model getPossibleOptions method is executed\n            //the default values are NOT overwritten with empty.\n            _.each(Configuration.get('ItemOptions.optionsConfiguration', []), function (item_option_configuration) {\n                clean_setting(item_option_configuration, 'colors');\n                clean_setting(item_option_configuration, 'label');\n                clean_setting(item_option_configuration, 'urlParameterName');\n                clean_setting(item_option_configuration, 'index');\n            });\n        }\n    };\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module ProductViews\ndefine('ProductViews', [\n    'SC.Configuration',\n    'product_views_option_color.tpl',\n    'product_views_option_dropdown.tpl',\n    'product_views_option_radio.tpl',\n    'product_views_option_text.tpl',\n    'product_views_option_textarea.tpl',\n    'product_views_option_email.tpl',\n    'product_views_option_phone.tpl',\n    'product_views_option_url.tpl',\n    'product_views_option_float.tpl',\n    'product_views_option_integer.tpl',\n    'product_views_option_percent.tpl',\n    'product_views_option_currency.tpl',\n    'product_views_option_password.tpl',\n    'product_views_option_timeofday.tpl',\n    'product_views_option_datetimetz.tpl',\n    'product_views_option_tile.tpl',\n    'product_views_option_checkbox.tpl',\n    'product_views_option_date.tpl',\n    'product_views_option_facets_color.tpl',\n    'product_views_option_facets_tile.tpl',\n    'underscore',\n    'Utils'\n], function (Configuration, product_views_option_color_tpl, product_views_option_dropdown_tpl, product_views_option_radio_tpl, product_views_option_text_tpl, product_views_option_textarea_tpl, product_views_option_email_tpl, product_views_option_phone_tpl, product_views_option_url_tpl, product_views_option_float_tpl, product_views_option_integer_tpl, product_views_option_percent_tpl, product_views_option_currency_tpl, product_views_option_password_tpl, product_views_option_timeofday_tpl, product_views_option_datetimetz_tpl, product_views_option_tile_tpl, product_views_option_checkbox_tpl, product_views_option_date_tpl, product_views_option_facets_color_tpl, product_views_option_facets_tile_tpl, _, Utils) {\n    'use strict';\n    //@class ProductViews @extends ApplicationModule\n    return {\n        //@method mountToApp Initialize the item options configuration related with product view templates\n        //@return {Void}\n        mountToApp: function mountToApp() {\n            var product_view_options_selector = {\n                    'product_views_option_color.tpl': product_views_option_color_tpl,\n                    'product_views_option_dropdown.tpl': product_views_option_dropdown_tpl,\n                    'product_views_option_radio.tpl': product_views_option_radio_tpl,\n                    'product_views_option_text.tpl': product_views_option_text_tpl,\n                    'product_views_option_textarea.tpl': product_views_option_textarea_tpl,\n                    'product_views_option_email.tpl': product_views_option_email_tpl,\n                    'product_views_option_phone.tpl': product_views_option_phone_tpl,\n                    'product_views_option_url.tpl': product_views_option_url_tpl,\n                    'product_views_option_float.tpl': product_views_option_float_tpl,\n                    'product_views_option_integer.tpl': product_views_option_integer_tpl,\n                    'product_views_option_percent.tpl': product_views_option_percent_tpl,\n                    'product_views_option_currency.tpl': product_views_option_currency_tpl,\n                    'product_views_option_password.tpl': product_views_option_password_tpl,\n                    'product_views_option_timeofday.tpl': product_views_option_timeofday_tpl,\n                    'product_views_option_datetimetz.tpl': product_views_option_datetimetz_tpl,\n                    'product_views_option_tile.tpl': product_views_option_tile_tpl,\n                    'product_views_option_checkbox.tpl': product_views_option_checkbox_tpl,\n                    'product_views_option_date.tpl': product_views_option_date_tpl\n                }, product_view_option_facet = {\n                    'product_views_option_facets_color.tpl': product_views_option_facets_color_tpl,\n                    'product_views_option_facets_tile.tpl': product_views_option_facets_tile_tpl\n                }, item_options = Configuration.get('ItemOptions.optionsConfiguration', []), configuration_default_selector_templates = Configuration.get('ItemOptions.defaultTemplates.selectorByType', []), default_selector_templates = {}, default_template_selector = false, configuration_default_facet_templates = Configuration.get('ItemOptions.defaultTemplates.facetCellByType', []), default_facet_templates = {}, default_template_facet = false;\n            _.each(item_options, function (item_option) {\n                if (item_option.templateFacetCell && product_view_option_facet[item_option.templateFacetCell]) {\n                    item_option.templates = item_option.templates || {};\n                    item_option.templates.facetCell = product_view_option_facet[item_option.templateFacetCell];\n                }\n                if (item_option.templateSelector && product_view_options_selector[item_option.templateSelector]) {\n                    item_option.templates = item_option.templates || {};\n                    item_option.templates.selector = product_view_options_selector[item_option.templateSelector];\n                }\n            });\n            _.each(configuration_default_selector_templates, function (default_selector_template) {\n                if (product_view_options_selector[default_selector_template.template]) {\n                    default_selector_templates[default_selector_template.type] = product_view_options_selector[default_selector_template.template];\n                    default_template_selector = true;\n                }\n            });\n            if (default_template_selector) {\n                Utils.setPathFromObject(Configuration, 'ItemOptions.defaultTemplates.selectorByType', default_selector_templates);\n            }\n            _.each(configuration_default_facet_templates, function (default_facet_template) {\n                if (product_view_option_facet[default_facet_template.template]) {\n                    default_facet_templates[default_facet_template.type] = product_view_option_facet[default_facet_template.template];\n                    default_template_facet = true;\n                }\n            });\n            if (default_template_facet) {\n                Utils.setPathFromObject(Configuration, 'ItemOptions.defaultTemplates.facetCellByType', default_facet_templates);\n            }\n        }\n    };\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module Transaction.Line.Views\ndefine('Transaction.Line.Views', [\n    'SC.Configuration',\n    'transaction_line_views_selected_option.tpl',\n    'transaction_line_views_selected_option_color.tpl',\n    'underscore',\n    'Utils'\n], function (Configuration, transaction_line_views_selected_option_tpl, transaction_line_views_selected_option_color_tpl, _, Utils) {\n    'use strict';\n    //@class Transaction.Line.Views @extends ApplicationModule\n    return {\n        //@method mountToApp Initialize the item options configuration related with transaction lines\n        //@return {Void}\n        mountToApp: function () {\n            var transaction_line_view_options_selected = {\n                    'transaction_line_views_selected_option.tpl': transaction_line_views_selected_option_tpl,\n                    'transaction_line_views_selected_option_color.tpl': transaction_line_views_selected_option_color_tpl\n                }, item_options = Configuration.get('ItemOptions.optionsConfiguration', []), configuration_default_selected_templates = Configuration.get('ItemOptions.defaultTemplates.selectedByType', []), default_selected_templates = {}, default_template_selected = false;\n            _.each(item_options, function (item_option) {\n                if (item_option.templateSelected && transaction_line_view_options_selected[item_option.templateSelected]) {\n                    item_option.templates = item_option.templates || {};\n                    item_option.templates.selected = transaction_line_view_options_selected[item_option.templateSelected];\n                }\n            });\n            _.each(configuration_default_selected_templates, function (default_selected_template) {\n                if (transaction_line_view_options_selected[default_selected_template.template]) {\n                    default_selected_templates[default_selected_template.type] = transaction_line_view_options_selected[default_selected_template.template];\n                    default_template_selected = true;\n                }\n            });\n            if (default_template_selected) {\n                Utils.setPathFromObject(Configuration, 'ItemOptions.defaultTemplates.selectedByType', default_selected_templates);\n            }\n        }\n    };\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module Cart\ndefine('Cart.Router', [\n    'Cart.Detailed.View',\n    'LiveOrder.Model',\n    'Utils',\n    'jQuery',\n    'Backbone'\n], function (CartDetailedView, LiveOrderModel, Utils, jQuery, Backbone) {\n    'use strict';\n    // @class Cart.Router responsible to know render the cart when the user navigates to the cart url @extends Backbone.Router\n    return Backbone.Router.extend({\n        routes: {\n            'cart': 'showCart',\n            'cart?*options': 'showCart'\n        },\n        initialize: function (application) {\n            this.application = application;\n        }    // @method showCart handles the /cart path by showing the cart view.\n,\n        showCart: function (options) {\n            var self = this, cart = LiveOrderModel.getInstance(), cart_promise = LiveOrderModel.loadCart(), view = new CartDetailedView({\n                    model: cart,\n                    application: self.application,\n                    urlOptions: Utils.parseUrlOptions(options || '')\n                });\n            cart_promise.done(function () {\n                view.showContent();\n            });\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module Cart\ndefine('ICart.Component', [\n    'SC.VisualComponent',\n    'Application',\n    'underscore'\n], function (SCVisualComponent, Application, _) {\n    'use strict';\n    var ERROR_IDENTIFIERS = SCVisualComponent.ERROR_IDENTIFIERS, format = function format(entity, commonAttrs) {\n            var formatted = { extras: {} };\n            _.keys(entity).forEach(function (attr) {\n                if (_.contains(commonAttrs, attr)) {\n                    formatted[attr] = entity[attr];\n                } else {\n                    formatted.extras[attr] = entity[attr];\n                }\n            });\n            return formatted;\n        }    // @class ICart.Component An abstract base class for front-end Cart component. Provides methods for manipulating cart's lines,\n             // summary, estimates, promotions, submit. It also expose cancellable events that will be triggered before and after lines,\n             // estimates, promotions, etc change.\n             // @extends SC.BaseComponent\n             // @public @extlayer\n, icart_component = _.extend({}, SCVisualComponent, {\n            componentName: 'Cart'    // @method addLine Adds a new line into the cart\n                      // @public @extlayer\n                      // @param {Line} data\n                      // @return {Deferred<String>} Return a Deferred that is resolved into the added line id, String, in the case the operation was done successfully.\n                      // or the promise is rejected with an error message.\n,\n            addLine: function addLine(data) {\n                //jshint unused:false\n                throw ERROR_IDENTIFIERS.notImplemented;\n            }    // @method addLines Adds new lines into the cart\n                 // @public @extlayer\n                 // @param {Array<Line>} data\n                 // @return {Deferred<Array<String>>} Return a Deferred that is resolved into the added lines ids, String, in the case the operation was done successfully.\n                 // or the promise is rejected with an error message.\n,\n            addLines: function addLines(data) {\n                //jshint unused:false\n                throw ERROR_IDENTIFIERS.notImplemented;\n            }    // @method getLines returns the lines of the cart\n                 // @public @extlayer\n                 // @return {Deferred<Array<Line>>} Return a Deferred that is resolved in the case the operation was done successfully.\n                 // or the promise is rejected with an error message.\n,\n            getLines: function getLines() {\n                throw ERROR_IDENTIFIERS.notImplemented;\n            }    //@method removeLine Removes a line from the cart\n                 //@public @extlayer\n                 //@param {String} line_id\n                 //@return {Deferred} Return a Deferred that is resolved in the case the operation was done successfully.\n                 // or the promise is rejected with an error message.\n,\n            removeLine: function removeLine(data) {\n                //jshint unused:false\n                throw ERROR_IDENTIFIERS.notImplemented;\n            }    // @method updateLine Updates a line into the cart\n                 // @public @extlayer\n                 // @param {Line} data\n                 // @return {Deferred} Return a Deferred that is resolved in the case the operation was done successfully.\n                 // or the promise is rejected with an error message.\n,\n            updateLine: function updateLine(data) {\n                //jshint unused:false\n                throw ERROR_IDENTIFIERS.notImplemented;\n            }    // @method getSummary Returns the summary of the cart\n                 // @public @extlayer\n                 // @return {Deferred<Summary>} Return a Deferred that is resolved in the case the operation was done successfully.\n                 // or the promise is rejected with an error message.\n,\n            getSummary: function getSummary() {\n                throw ERROR_IDENTIFIERS.notImplemented;\n            }    // @method submit Submits the order\n                 // @public @extlayer\n                 // @return {Deferred<ConfirmationSubmit>} Return a Deferred that is resolved in the case the operation was done successfully.\n                 // or the promise is rejected with an error message.\n,\n            submit: function submit() {\n                throw ERROR_IDENTIFIERS.notImplemented;\n            }    // @method addPayment Adds a payment method\n                 // @public @extlayer\n                 // @param {PaymentMethod} data\n                 // @return {Deferred} Return a Deferred that is resolved in the case the operation was done successfully.\n                 // or the promise is rejected with an error message.\n,\n            addPayment: function addPayment(data) {\n                //jshint unused:false\n                throw ERROR_IDENTIFIERS.notImplemented;\n            }    // @method getPaymentMethods returns the payment methods added to the order\n                 // @public @extlayer\n                 // @return {Deferred<Array<PaymentMethod>>} Return a Deferred that is resolved in the case the operation was done successfully.\n                 // or the promise is rejected with an error message.\n,\n            getPaymentMethods: function getPaymentMethods() {\n                throw ERROR_IDENTIFIERS.notImplemented;\n            }    // @method addPromotion Adds a promotion\n                 // @public @extlayer\n                 // @param {Promotion} data\n                 // @return {Deferred} Return a Deferred that is resolved in the case the operation was done successfully.\n                 // or the promise is rejected with an error message.\n,\n            addPromotion: function addPromotion(data) {\n                //jshint unused:false\n                throw ERROR_IDENTIFIERS.notImplemented;\n            }    // @method removePromotion Removes a promotion\n                 // @public @extlayer\n                 // @return {Deferred} Return a Deferred that is resolved in the case the operation was done successfully.\n                 // or the promise is rejected with an error message.\n,\n            removePromotion: function removePromotion(data) {\n                //jshint unused:false\n                throw ERROR_IDENTIFIERS.notImplemented;\n            }    // @method getPromotions returns the promotions' codes added to the cart\n                 // @public @extlayer\n                 // @return {Deferred<Array<Promotion>>} Return a Deferred that is resolved in the case the operation was done successfully.\n                 // or the promise is rejected with an error message.\n,\n            getPromotions: function getPromotions() {\n                throw ERROR_IDENTIFIERS.notImplemented;\n            }    // @method estimateShipping Returns the estimated shipping costs\n                 // @param {Address} data\n                 // @public @extlayer\n                 // @return {Deferred} Return a Deferred that is resolved in the case the operation was done successfully.\n                 // or the promise is rejected with an error message.\n,\n            estimateShipping: function estimateShipping(data) {\n                //jshint unused:false\n                throw ERROR_IDENTIFIERS.notImplemented;\n            }    // @method removeShipping Removes the shipping method\n                 // @public @extlayer\n                 // @return {Deferred} Return a Deferred that is resolved in the case the operation was done successfully.\n                 // or the promise is rejected with an error message.\n,\n            removeShipping: function removeShipping() {\n                throw ERROR_IDENTIFIERS.notImplemented;\n            }    // @method getShipAddress Returns the ship address of the order\n                 // @public @extlayer\n                 // @return {Deferred<Address>} Return a Deferred that is resolved in the case the operation was done successfully.\n                 // or the promise is rejected with an error message.\n,\n            getShipAddress: function getShipAddress() {\n                throw ERROR_IDENTIFIERS.notImplemented;\n            }    // @method getBillAddress Returns the bill address of the order\n                 // @public @extlayer\n                 // @return {Deferred<Address>} Return a Deferred that is resolved in the case the operation was done successfully.\n                 // or the promise is rejected with an error message.\n,\n            getBillAddress: function getBillAddress() {\n                throw ERROR_IDENTIFIERS.notImplemented;\n            }    // @method setShipAddress Sets the ship address\n                 // @param {String} address_id\n                 // @public @extlayer\n                 // @return {Deferred} Return a Deferred that is resolved in the case the operation was done successfully.\n                 // or the promise is rejected with an error message.\n,\n            setShipAddress: function setShipAddress(data) {\n                //jshint unused:false\n                throw ERROR_IDENTIFIERS.notImplemented;\n            }    // @method setBillAddress Sets the bill address\n                 // @param {String} address_id\n                 // @public @extlayer\n                 // @return {Deferred} Return a Deferred that is resolved in the case the operation was done successfully.\n                 // or the promise is rejected with an error message.\n,\n            setBillAddress: function setBillAddress(data) {\n                //jshint unused:false\n                throw ERROR_IDENTIFIERS.notImplemented;\n            }    // @method getShipMethods Returns the ship methods of the order\n                 // @public @extlayer\n                 // @return {Deferred<Array<ShipMethod>>} Return a Deferred that is resolved in the case the operation was done successfully.\n                 // or the promise is rejected with an error message.\n,\n            getShipMethods: function getShipMethods() {\n                throw ERROR_IDENTIFIERS.notImplemented;\n            }    // @method getShipMethod Returns the ship method of the order\n                 // @public @extlayer\n                 // @return {Deferred<ShipMethod>} Return a Deferred that is resolved in the case the operation was done successfully.\n                 // or the promise is rejected with an error message.\n,\n            getShipMethod: function getShipMethod() {\n                throw ERROR_IDENTIFIERS.notImplemented;\n            }    // @method voidLine Voids a line. Implemented only for SCIS\n                 // @public @extlayer\n,\n            voidLine: function voidLine() {\n                throw ERROR_IDENTIFIERS.notImplemented;\n            }    // @method unvoidLine Unvoids a line. Implemented only for SCIS\n                 // @public @extlayer\n,\n            unvoidLine: function unvoidLine() {\n                throw ERROR_IDENTIFIERS.notImplemented;\n            }    // @method updateCustomer Updates a customer data. Implemented only for SCIS\n                 // @public @extlayer\n,\n            updateCustomer: function updateCustomer() {\n                throw ERROR_IDENTIFIERS.notImplemented;\n            }    // @method clearEstimateShipping\n,\n            clearEstimateShipping: function clearEstimateShipping() {\n                throw ERROR_IDENTIFIERS.notImplemented;\n            }    // updating tell us if the line is going to be used for updateLine\n,\n            _validateLine: function _validateLine(data, updating) {\n                //jshint unused:false\n                if (!data || !_.isObject(data.line)) {\n                    return this._reportError('INVALID_PARAM', 'Invalid parameter. It must be a valid object and must contain a line object');\n                }    //TODO call _reportError (code, description) when an invalid line is passed\n            },\n            _validateLines: function _validateLines(data) {\n                if (!data || !_.isArray(data.lines)) {\n                    return this._reportError('INVALID_PARAM', 'Invalid parameter. It must be a valid object and must contain a lines array');\n                }\n                var self = this;\n                _.map(data.lines, function (line) {\n                    self._validateLine({ line: line });\n                });\n            },\n            _validateLineId: function _validateLineId(data) {\n                if (!data || !_.isString(data.line_id)) {\n                    return this._reportError('INVALID_PARAM', 'Invalid parameter. It must be a valid object and must contain a line_id string');\n                }\n            }    // @method _normalizeLines formats each line grouping both commons attributes (SCIS and SCA) and non-commons.\n                 // The last into a extras named object.\n                 // @private\n                 // @param {Array<Line>} lines\n,\n            _normalizeLines: function _normalizeLines(src_lines) {\n                var lines = _.deepCopy(src_lines);\n                return _.map(lines, this._normalizeLine);\n            }    // @method _normalizeLine formats the line grouping both commons attributes (SCIS and SCA) and non-commons.\n                 // The last into a extras named object.\n                 // @private\n                 // @param {Line} line\n,\n            _normalizeLine: function _normalizeLine(src_line) {\n                var line = _.deepCopy(src_line), commonLineAttrs = [\n                        'internalid',\n                        'item',\n                        'quantity',\n                        'amount',\n                        'rate',\n                        'tax_amount',\n                        'tax_code',\n                        'itemtype',\n                        'options'\n                    ], commonItemAttrs = [\n                        'internalid',\n                        'itemid',\n                        'displayname',\n                        'isinactive',\n                        'itemtype',\n                        'minimumquantity'\n                    ];\n                var formatted_line = format(line, commonLineAttrs);\n                line.item.itemtype = line.item.itemtype || line.item.type;\n                formatted_line.item = format(line.item, commonItemAttrs);\n                return formatted_line;\n            },\n            _normalizeAddLineBefore: function _normalizeAddLineBefore(line) {\n                return { line: this._normalizeLine(line) };\n            },\n            _normalizeAddLineAfter: function _normalizeAddLineAfter(new_line, line) {\n                return {\n                    result: new_line,\n                    line: this._normalizeLine(line)\n                };\n            },\n            _normalizeUpdateLineBefore: function _normalizeUpdateLineBefore(line) {\n                return { line: this._normalizeLine(line) };\n            },\n            _normalizeUpdateLineAfter: function _normalizeUpdateLineAfter(line) {\n                return { line: this._normalizeLine(line) };\n            },\n            _normalizeRemoveLineBefore: function _normalizeUpdateLineBefore(line) {\n                return { line_id: this._normalizeLine(line).internalid };\n            },\n            _normalizeRemoveLineAfter: function _normalizeUpdateLineBefore(line) {\n                return { line_id: this._normalizeLine(line).internalid };\n            },\n            _normalizeSummary: function _normalizeSummary(inner_summary) {\n                var summary = _.deepCopy(inner_summary), commonSummaryAttrs = [\n                        'total',\n                        'taxtotal',\n                        'tax2total',\n                        'discounttotal',\n                        'subtotal',\n                        'shippingcost',\n                        'handlingcost',\n                        'giftcertapplied',\n                        'estimatedshipping'\n                    ];\n                return format(summary, commonSummaryAttrs);\n            },\n            _normalizeAddress: function _normalizeAddress(inner_address) {\n                var address = _.deepCopy(inner_address), commonAddressAttrs = [\n                        'internalid',\n                        'zip',\n                        'country',\n                        'addr1',\n                        'addr2',\n                        'addr3',\n                        'city',\n                        'company',\n                        'defaultbilling',\n                        'defaultshipping',\n                        'fullname',\n                        'isresidential',\n                        'isvalid',\n                        'phone',\n                        'state'\n                    ];\n                return format(address, commonAddressAttrs);\n            },\n            _normalizeEstimateBefore: function _normalizeEstimateBefore(address) {\n                return { address: this._normalizeAddress(address) };\n            },\n            _normalizeEstimateAfter: function _normalizeEstimateAfter(order) {\n                var address = _.find(order.addresses, function (address) {\n                    return address && address.internalid && address.internalid === order.shipaddress;\n                });\n                return {\n                    result: this._normalizeSummary(order.summary),\n                    address: this._normalizeAddress(address)\n                };\n            },\n            _normalizeClearEstimateShippingBefore: function _normalizeClearEstimateShippingBefore() {\n                return {};\n            },\n            _normalizeClearEstimateShippingAfter: function _normalizeClearEstimateShippingAfter(order) {\n                return this._normalizeEstimateAfter(order);\n            },\n            _normalizePromocode: function _normalizePromocode(promocode) {\n                var promotion = _.deepCopy(promocode), commonPromotionAttrs = [\n                        'internalid',\n                        'type',\n                        'name',\n                        'rate',\n                        'code',\n                        'errormsg',\n                        'isvalid'\n                    ];\n                return format(promotion, commonPromotionAttrs);\n            },\n            _normalizeShipMethod: function _normalizeShipMethod(inner_ship_method) {\n                var ship_method = _.deepCopy(inner_ship_method), commonShipMethodAttrs = [\n                        'internalid',\n                        'name',\n                        'rate',\n                        'rate_formatted',\n                        'shipcarrier'\n                    ];\n                return format(ship_method, commonShipMethodAttrs);\n            },\n            _normalizeConfirmation: function _normalizeConfirmation(inner_confirmation) {\n                var confirmation = _.deepCopy(inner_confirmation), commonConfirmationAttrs = [\n                        'internalid',\n                        'confirmationnumber',\n                        'lines',\n                        'paymentmethods',\n                        'promocodes',\n                        'reasoncode',\n                        'statuscode',\n                        'summary',\n                        'tranid'\n                    ];\n                confirmation.lines = this._normalizeLines(confirmation.lines || []);\n                confirmation.paymentmethods = _.map(confirmation.paymentmethods || [], this._normalizePaymentMethod);\n                confirmation.promocodes = _.map(confirmation.promocodes || [], this._normalizePromocode);\n                confirmation.summary = this._normalizeSummary(confirmation.summary);\n                return { confirmation: format(confirmation, commonConfirmationAttrs) };\n            },\n            _normalizePaymentMethod: function _normalizePaymentMethod(inner_payment_method) {\n                if (_.isUndefined(inner_payment_method)) {\n                    return {};\n                }\n                var payment_method = _.deepCopy(inner_payment_method);\n                var commonPaymentMethodAttrs = [\n                        'internalid',\n                        'type',\n                        'creditcard',\n                        'key',\n                        'thankyouurl',\n                        'errorurl',\n                        'giftcertificate'\n                    ], commonCreditCardAttrs = [\n                        'ccnumber',\n                        'ccname',\n                        'ccexpiredate',\n                        'expmonth',\n                        'expyear',\n                        'ccsecuritycode',\n                        'paymentmethod'\n                    ], commonCreditCardPaymentAttrs = [\n                        'internalid',\n                        'name',\n                        'creditcard',\n                        'ispaypal',\n                        'key'\n                    ], commonGiftCertificateAttrs = [\n                        'internalid',\n                        'name',\n                        'creditcard',\n                        'ispaypal',\n                        'key'\n                    ];\n                var formatted_payment_method = format(payment_method, commonPaymentMethodAttrs);\n                if (payment_method.creditcard) {\n                    formatted_payment_method.creditcard = format(payment_method.creditcard, commonCreditCardAttrs);\n                    if (payment_method.creditcard.paymentmethod) {\n                        formatted_payment_method.creditcard.paymentmethod = format(payment_method.creditcard.paymentmethod, commonCreditCardPaymentAttrs);\n                    }\n                }\n                if (payment_method.giftcertificate) {\n                    formatted_payment_method.giftcertificate = format(payment_method.giftcertificate, commonGiftCertificateAttrs);\n                }\n                return { payment_method: formatted_payment_method };\n            }\n        });\n    return icart_component;\n});    // jsdoc description for data:\n       // @class ConfirmationSubmit\n       // @property {String} internalid\n       // @property {String} confirmationnumber\n       // @property {Array<Line>} lines\n       // @property {Array<PaymentMethod>} paymentmethods\n       // @property {Array<Promotion>} promocodes\n       // @property {String} reasoncode\n       // @property {String} statuscode\n       // @property {Summary} summary\n       // @property {String} tranid\n       // @class ShipMethod\n       // @property {String} internalid\n       // @property {String} name\n       // @property {Number} rate\n       // @property {String} rate_formatted\n       // @property {String} shipcarrier\n       // @class Address\n       // @property {String} internalid\n       // @property {String} zip\n       // @property {String} country\n       // @property {String} addr1\n       // @property {String} addr2\n       // @property {String} addr3\n       // @property {String} city\n       // @property {String} company\n       // @property {Boolean} defaultbilling\n       // @property {Boolean} defaultshipping\n       // @property {String} fullname\n       // @property {Boolean} isresidential\n       // @property {Boolean} isvalid\n       // @property {String} phone\n       // @property {String} state\n       // @class PaymentMethod\n       // @property {String} internalid\n       // @property {String} type [creditcard, invoice, paypal, giftcertificate, external_checkout]\n       // @property {CreditCard} creditcard Required only if it is a creditcard\n       // @property {String} key\n       // @property {String} thankyouurl\n       // @property {String} errorurl\n       // @property {GiftCertificate} giftcertificate Required only if it is a giftcertificate\n       // @class CreditCard\n       // @property {String} ccnumber\n       // @property {String} ccname\n       // @property {String} ccexpiredate\n       // @property {String} expmonth\n       // @property {String} expyear\n       // @property {String} ccsecuritycode\n       // @property {InnerPaymentMethod} paymentmethod\n       // @class InnerPaymentMethod\n       // @property {String} internalid\n       // @property {String} name\n       // @property {Boolean} creditcard\n       // @property {Boolean} ispaypal\n       // @property {String} key\n       // @class GiftCertificate\n       // @property {String} code\n       // @class Promotion\n       // @property {String} internalid\n       // @property {String} type\n       // @property {String} name\n       // @property {String} rate\n       // @property {String} code\n       // @property {String} errormsg\n       // @property {Boolean} isvalid\n       // @class Line\n       // @property {String} internalid\n       // @property {Number} quantity\n       // @property {Number} amount\n       // @property {Number} rate\n       // @property {Number} tax_amount\n       // @property {String} tax_code\n       // @property {String} itemtype\n       // @property {Line.Extras} extras\n       // @property {Line.Item} item\n       // @property {Array<Line.Option>} options\n       // @class Line.Extras\n       // @property {String} shipaddress SCA specific\n       // @property {String} shipmethod SCA specific\n       // @property {Number} tax_rate SCA specific\n       // @property {String} rate_formatted SCA specific\n       // @property {Number} discount SCA specific\n       // @property {number} total SCA specific\n       // @property {String} amount_formatted SCA specific\n       // @property {String} tax_amount_formatted SCA specific\n       // @property {String} discount_formatted SCA specific\n       // @property {String} total_formatted SCA specific\n       // @property {String} description SCIS specific\n       // @property {String} giftcertfrom SCIS specific\n       // @property {String} giftcertmessage SCIS specific\n       // @property {Number} giftcertnumber SCIS specific\n       // @property {String} giftcertrecipientemail SCIS specific\n       // @property {String} giftcertrecipientname SCIS specific\n       // @property {String} taxrate1 SCIS specific\n       // @property {String} taxrate2 SCIS specific\n       // @property {String} grossamt SCIS specific\n       // @property {String} tax1amt SCIS specific\n       // @property {String} custreferralcode SCIS specific\n       // @property {Boolean} excludefromraterequest SCIS specific\n       // @property {String} custcol_ns_pos_voidqty SCIS specific\n       // @property {Number} voidPercentage SCIS specific\n       // @property {Number} returnedQuantity SCIS specific\n       // @property {Boolean} isUnvalidatedReturn SCIS specific\n       // @property {Boolean} order SCIS specific\n       // @property {String} note SCIS specific\n       // @class Line.Option\n       // @property {String} cartOptionId\n       // @property {internalid:String} value\n       // @class Line.Item\n       // @property {Number} internalid\n       // @property {String} itemid\n       // @property {String} displayname\n       // @property {Boolean} isinactive\n       // @property {String} itemtype\n       // @property {Number} minimumquantity\n       // @property {Line.Item.Extras} extras\n       // @class Line.Item.Extras\n       // @property {Boolean} isinstock SCA specific\n       // @property {Boolean} isonline SCA specific\n       // @property {Object} matrixchilditems_detail SCA specific\n       // @property {Boolean} ispurchasable SCA specific\n       // @property {String} stockdescription SCA specific\n       // @property {Boolean} isfulfillable SCA specific\n       // @property {Boolean} isbackorderable SCA specific\n       // @property {Boolean} showoutofstockmessage SCA specific\n       // @property {String} outofstockmessage SCA specific\n       // @property {String} storedisplayname2 SCA specific\n       // @property {Number} pricelevel1 SCA specific\n       // @property {String} pricelevel1_formatted SCA specific\n       // @property {String} urlcomponent SCA specific\n       // @property {Object} itemimages_detail SCA specific\n       // @property {Object} onlinecustomerprice_detail SCA specific\n       // @property {Object} itemoptions_detail SCA specific\n       // @property {String} type SCIS specific\n       // @property {String} baseprice SCIS specific\n       // @property {String} matrix_parent SCIS specific\n       // @property {String} upccode SCIS specific\n       // @property {String} additional_upcs SCIS specific\n       // @property {Boolean} isdonationitem SCIS specific\n       // @property {Boolean} custitem_ns_pos_physical_item SCIS specific\n       // @class Summary\n       // @property {Number} total\n       // @property {Number} taxtotal\n       // @property {Number} tax2total\n       // @property {Number} discounttotal\n       // @property {Number} subtotal\n       // @property {Number} shippingcost\n       // @property {Number} handlingcost\n       // @property {Number} giftcertapplied\n       // @property {Number} estimatedshipping SCA specific\n       // @property {Summary.Extras} extras\n       // @class Summary.Extras\n       // @property {String} discounttotal_formatted SCA specific\n       // @property {String} taxonshipping_formatted SCA specific\n       // @property {String} taxondiscount_formatted SCA specific\n       // @property {Number} itemcount SCA specific\n       // @property {String} taxonhandling_formatted SCA specific\n       // @property {Number} discountedsubtotal SCA specific\n       // @property {String} discountedsubtotal_formatted SCA specific\n       // @property {Number} taxondiscount SCA specific\n       // @property {String} handlingcost_formatted SCA specific\n       // @property {Number} taxonshipping SCA specific\n       // @property {String} taxtotal_formatted SCA specific\n       // @property {String} totalcombinedtaxes_formatted SCA specific\n       // @property {Number} totalcombinedtaxes SCA specific\n       // @property {String} giftcertapplied_formatted SCA specific\n       // @property {String} shippingcost_formatted SCA specific\n       // @property {Number} discountrate SCA specific\n       // @property {Number} taxonhandling SCA specific\n       // @property {String} tax2total_formatted SCA specific\n       // @property {String} discountrate_formatted SCA specific\n       // @property {String} estimatedshipping_formatted SCA specific\n       // @property {String} total_formatted SCA specific\n       // @property {String} subtotal_formatted SCA specific\n       // @property {String} shippingtax1rate SCIS specific\n       // @property {Boolean} shippingcostoverridden SCIS specific\n       // @property {Number} amountdue SCIS specific\n       // @property {String} tranid SCIS specific\n       // @property {Date} createddate SCIS specific\n       // @property {String} couponcode SCIS specific\n       // @property {Date} createdfrom SCIS specific\n       // @property {Number} changedue SCIS specific\n","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module Cart\ndefine('Cart.Component', [\n    'ICart.Component',\n    'LiveOrder.Model',\n    'LiveOrder.Line.Model',\n    'Transaction.Paymentmethod.Model',\n    'Utils',\n    'Backbone',\n    'jQuery',\n    'underscore'\n], function (ICartComponent, LiveOrderModel, LiveOrderLineModel, TransactionPaymentmethodModel, Utils, Backbone, jQuery, _) {\n    'use strict';\n    var live_order_model = LiveOrderModel.getInstance();\n    return function CartComponentGenerator(application) {\n        // @class Cart.Component This is the concrete front-end Cart implementation of SuiteCommerce Advanced / SuiteCommerce Standard.\n        // See @?class ICart.Component\n        // @extends ICart.Component\n        // @public @extlayer\n        var api_methods = {\n            application: application    // @method _isViewFromComponent Indicate if the passed-in the View is a PDP of the current component\n                           // @private\n                           // @param {Backbone.View} view Any view of the system\n                           // @return {Boolean} True in case the passed in View is a PDP of the current Component, false otherwise\n,\n            _isViewFromComponent: function _isViewFromComponent(view) {\n                var view_identifier = this._getViewIdentifier(view), view_prototype_id = view && this._getViewIdentifier(view.prototype);\n                return view && (view_identifier === this.CART_VIEW || view_identifier === this.CART_MINI_VIEW || view_prototype_id === this.CART_VIEW || view_prototype_id === this.CART_MINI_VIEW);\n            }    // @method _getViewIdentifier Given a view that belongs to the current component, returns the \"type\"/\"kind\" of view.\n                 // This is used to determine what view among all the view of the current component is being shown\n                 // @private\n                 // @param {Backbone.View} view\n                 // @return {String}\n,\n            _getViewIdentifier: function _getViewIdentifier(view) {\n                return view && view.attributes && view.attributes.id;\n            },\n            DEFAULT_VIEW: 'Cart.Detailed.View',\n            CART_VIEW: 'Cart.Detailed.View',\n            CART_MINI_VIEW: 'Header.MiniCart.View',\n            estimateShipping: function estimateShipping(data) {\n                try {\n                    if (!data || !data.address || !_.isObject(data.address)) {\n                        return this._reportError('INVALID_PARAM', 'Invalid parameter \"address\". It must be a valid string');\n                    }\n                    var self = this;\n                    return live_order_model.cancelableTrigger('before:LiveOrder.estimateShipping', data.address).then(function () {\n                        var address = data.address, address_internalid = address.zip + '-' + address.country + '-null';\n                        live_order_model.get('addresses').push({\n                            internalid: address_internalid,\n                            zip: address.zip,\n                            country: address.country\n                        });\n                        live_order_model.set('shipaddress', address_internalid);\n                        return live_order_model.save().pipe(function (result) {\n                            live_order_model.cancelableTrigger('after:LiveOrder.estimateShipping', result);\n                            return self._normalizeEstimateAfter(result);\n                        }).fail(function (error) {\n                            return error;\n                        });\n                    });\n                } catch (error) {\n                    return jQuery.Deferred().reject(error);\n                }\n            },\n            clearEstimateShipping: function clearEstimateShipping() {\n                try {\n                    var self = this;\n                    return live_order_model.cancelableTrigger('before:LiveOrder.clearEstimateShipping').then(function () {\n                        return live_order_model.save({\n                            shipmethod: null,\n                            shipaddress: null\n                        }).pipe(function (result) {\n                            live_order_model.cancelableTrigger('after:LiveOrder.clearEstimateShipping', result);\n                            return self._normalizeEstimateAfter(result);\n                        }).fail(function (error) {\n                            return error;\n                        });\n                    });\n                } catch (error) {\n                    return jQuery.Deferred().reject(error);\n                }\n            },\n            getShipMethods: function getShipMethods() {\n                try {\n                    var shipmethods = live_order_model.get('shipmethods').toJSON();\n                    return jQuery.Deferred().resolve(_.map(shipmethods, this._normalizeShipMethod));\n                } catch (error) {\n                    return jQuery.Deferred().reject(error);\n                }\n            },\n            getShipMethod: function getShipMethod() {\n                try {\n                    var shipmethod_id = live_order_model.get('shipmethod'), shipmethods = live_order_model.get('shipmethods').toJSON();\n                    var shipmethod = _.find(shipmethods, function (shipmethod) {\n                        return shipmethod && shipmethod.internalid && shipmethod.internalid === shipmethod_id;\n                    });\n                    return jQuery.Deferred().resolve(this._normalizeShipMethod(shipmethod));\n                } catch (error) {\n                    return jQuery.Deferred().reject(error);\n                }\n            },\n            _setAddress: function _setAddress(data) {\n                var self = this, deferred = jQuery.Deferred();\n                this.serialize = this.serialize || jQuery.Deferred().resolve();\n                this.serialize = this.serialize.pipe(function () {\n                    var my_promise = jQuery.Deferred();\n                    try {\n                        if (!Utils.isCheckoutDomain()) {\n                            self._reportError('UNSECURE_SESSION', 'Unsecure session: Must be under a secure domain or logged in');\n                        }\n                        if (!_.isObject(data) || !_.isString(data.address_type)) {\n                            self._reportError('INVALID_PARAM', 'Invalid parameter \"address_type\". It must be a valid string');\n                        }\n                        if (data.address_id && !_.isString(data.address_id)) {\n                            self._reportError('INVALID_PARAM', 'Invalid parameter \"address_id\". It must be either a valid string or null');\n                        }\n                        live_order_model.setAddress(data.address_type, data.address_id, null, true).done(deferred.resolve).fail(deferred.reject).always(my_promise.resolve);\n                    } catch (error) {\n                        deferred.reject(error);\n                        my_promise.resolve();\n                    }\n                    return my_promise;\n                });\n                return deferred;\n            },\n            setShipAddress: function setShipAddress(data) {\n                data.address_type = 'shipaddress';\n                return this._setAddress(data);\n            },\n            setBillAddress: function setBillAddress(data) {\n                data.address_type = 'billaddress';\n                return this._setAddress(data);\n            },\n            getShipAddress: function getShipAddress() {\n                try {\n                    var shipaddress = live_order_model.get('shipaddress'), addresses = live_order_model.get('addresses').toJSON();\n                    var address = _.find(addresses, function (address) {\n                        return address && address.internalid && address.internalid === shipaddress;\n                    });\n                    return jQuery.Deferred().resolve(this._normalizeAddress(address));\n                } catch (error) {\n                    return jQuery.Deferred().reject(error);\n                }\n            },\n            getBillAddress: function getBillAddress() {\n                try {\n                    var billaddress = live_order_model.get('billaddress'), addresses = live_order_model.get('addresses').toJSON();\n                    var address = _.find(addresses, function (address) {\n                        return address && address.internalid && address.internalid === billaddress;\n                    });\n                    return jQuery.Deferred().resolve(this._normalizeAddress(address));\n                } catch (error) {\n                    return jQuery.Deferred().reject(error);\n                }\n            },\n            addLine: function addLine(data) {\n                try {\n                    this._validateLine(data);\n                    var self = this, deferred = jQuery.Deferred();\n                    this.serialize = this.serialize || jQuery.Deferred().resolve();\n                    this.serialize = this.serialize.pipe(function () {\n                        var my_promise = jQuery.Deferred();\n                        try {\n                            var line = self._createInnerLine(data.line);\n                            live_order_model.addLine(line).done(function (result) {\n                                deferred.resolve(result.latest_addition);\n                            }).fail(function (error) {\n                                deferred.reject(error);\n                            }).always(my_promise.resolve);\n                        } catch (error) {\n                            deferred.reject(error);\n                            my_promise.resolve();\n                        }\n                        return my_promise;\n                    });\n                    return deferred;\n                } catch (error) {\n                    return jQuery.Deferred().reject(error);\n                }\n            },\n            addLines: function addLines(data) {\n                try {\n                    this._validateLines(data);\n                    var self = this, deferred = jQuery.Deferred();\n                    this.serialize = this.serialize || jQuery.Deferred().resolve();\n                    this.serialize = this.serialize.pipe(function () {\n                        var my_promise = jQuery.Deferred();\n                        try {\n                            var lines = _.map(data.lines, self._createInnerLine), old_lines_ids = _.pluck(live_order_model.get('lines').toJSON(), 'internalid');\n                            live_order_model.addLines(lines).done(function (result) {\n                                var current_lines_ids = _.pluck(result.lines, 'internalid');\n                                result = _.difference(current_lines_ids, old_lines_ids);\n                                result = _.isEmpty(result) ? current_lines_ids : result;\n                                deferred.resolve(result);\n                            }).fail(function (error) {\n                                deferred.reject(error);\n                            }).always(my_promise.resolve);\n                        } catch (error) {\n                            deferred.reject(error);\n                            my_promise.resolve();\n                        }\n                        return my_promise;\n                    });\n                    return deferred;\n                } catch (error) {\n                    return jQuery.Deferred().reject(error);\n                }\n            },\n            getLines: function getLines() {\n                var deferred = jQuery.Deferred();\n                try {\n                    var lines = this._normalizeLines(live_order_model.get('lines') || []);\n                    return deferred.resolve(lines);\n                } catch (error) {\n                    return deferred.reject(error);\n                }\n            },\n            removeLine: function removeLine(data) {\n                try {\n                    this._validateLineId(data);\n                    var self = this, deferred = jQuery.Deferred();\n                    this.serialize = this.serialize || jQuery.Deferred().resolve();\n                    this.serialize = this.serialize.pipe(function () {\n                        var my_promise = jQuery.Deferred();\n                        try {\n                            var line = self._findLine(data.line_id);\n                            live_order_model.removeLine(line).done(function () {\n                                deferred.resolve();\n                            }).fail(function (error) {\n                                deferred.reject(error);\n                            }).always(my_promise.resolve);\n                        } catch (error) {\n                            deferred.reject(error);\n                            my_promise.resolve();\n                        }\n                        return my_promise;\n                    });\n                    return deferred;\n                } catch (error) {\n                    return jQuery.Deferred().reject(error);\n                }\n            },\n            updateLine: function updateLine(data) {\n                try {\n                    this._validateLine(data, true);\n                    var self = this, deferred = jQuery.Deferred();\n                    this.serialize = this.serialize || jQuery.Deferred().resolve();\n                    this.serialize = this.serialize.pipe(function () {\n                        var my_promise = jQuery.Deferred();\n                        try {\n                            var line = self._findLine(data.line.internalid);\n                            //Merge line with data.line\n                            self._mergeLine(line, data.line);\n                            live_order_model.updateLine(line).done(function () {\n                                deferred.resolve();\n                            }).fail(function (error) {\n                                deferred.reject(error);\n                            }).always(my_promise.resolve);\n                        } catch (error) {\n                            deferred.reject(error);\n                            my_promise.resolve();\n                        }\n                        return my_promise;\n                    });\n                    return deferred;\n                } catch (error) {\n                    return jQuery.Deferred().reject(error);\n                }\n            },\n            getSummary: function getSummary() {\n                try {\n                    var summary = live_order_model.get('summary');\n                    summary = this._normalizeSummary(summary);\n                    return jQuery.Deferred().resolve(summary);\n                } catch (error) {\n                    return jQuery.Deferred().reject(error);\n                }\n            },\n            submit: function submit() {\n                var self = this, deferred = jQuery.Deferred();\n                this.serialize = this.serialize || jQuery.Deferred().resolve();\n                this.serialize = this.serialize.pipe(function () {\n                    var my_promise = jQuery.Deferred();\n                    try {\n                        if (!Utils.isCheckoutDomain()) {\n                            self._reportError('UNSECURE_SESSION', 'Unsecure session: Must be under a secure domain or logged in');\n                        }\n                        live_order_model.submit().done(function (order) {\n                            deferred.resolve(self._normalizeConfirmation(order.confirmation));\n                        }).fail(deferred.reject).always(my_promise.resolve);\n                    } catch (error) {\n                        deferred.reject(error);\n                        my_promise.resolve();\n                    }\n                    return my_promise;\n                });\n                return deferred;\n            },\n            addPayment: function addPayment(data) {\n                var self = this, deferred = jQuery.Deferred();\n                this.serialize = this.serialize || jQuery.Deferred().resolve();\n                this.serialize = this.serialize.pipe(function () {\n                    var my_promise = jQuery.Deferred();\n                    try {\n                        if (!Utils.isCheckoutDomain()) {\n                            self._reportError('UNSECURE_SESSION', 'Unsecure session: Must be under a secure domain or logged in');\n                        }\n                        if (!data || !_.isObject(data.payment_method)) {\n                            self._reportError('INVALID_PARAM', 'Invalid parameter \"payment_method\". It must be a valid object');\n                        }\n                        var payment_method = self._createInnerPayment(data.payment_method);\n                        live_order_model.addPayment(payment_method, true).done(function (result) {\n                            deferred.resolve(result);\n                        }).fail(deferred.reject).always(my_promise.resolve);\n                    } catch (error) {\n                        deferred.reject(error);\n                        my_promise.resolve();\n                    }\n                    return my_promise;\n                });\n                return deferred;\n            },\n            getPaymentMethods: function getPaymentMethods() {\n                try {\n                    var self = this, payment_methods = live_order_model.get('paymentmethods').toJSON();\n                    return jQuery.Deferred().resolve(_.map(payment_methods, function (payment) {\n                        return self._normalizePaymentMethod(payment).payment_method;\n                    }));\n                } catch (error) {\n                    return jQuery.Deferred().reject(error);\n                }\n            },\n            addPromotion: function addPromotion(data) {\n                try {\n                    if (!data || !_.isString(data.promocode)) {\n                        this._reportError('INVALID_PARAM', 'Invalid parameter \"promocode\". It must be a valid string');\n                    }\n                    var self = this;\n                    return live_order_model.addPromotion(data.promocode).pipe(function (promocode) {\n                        return { promotion: self._normalizePromocode(promocode) };\n                    });\n                } catch (error) {\n                    return jQuery.Deferred().reject(error);\n                }\n            },\n            removePromotion: function removePromotion(data) {\n                try {\n                    if (!data || !_.isString(data.promocode_internalid)) {\n                        this._reportError('INVALID_PARAM', 'Invalid parameter \"promocode_internalid\". It must be a valid string');\n                    }\n                    return live_order_model.removePromotion(data.promocode_internalid);\n                } catch (error) {\n                    return jQuery.Deferred().reject(error);\n                }\n            },\n            getPromotions: function getPromotions() {\n                try {\n                    var promocodes = live_order_model.get('promocodes');\n                    promocodes = _.map(promocodes, this._normalizePromocode);\n                    return jQuery.Deferred().resolve(promocodes);\n                } catch (error) {\n                    return jQuery.Deferred().reject(error);\n                }\n            },\n            _createInnerPayment: function _createInnerPayment(payment_method) {\n                var inner_payment = new TransactionPaymentmethodModel(payment_method);\n                return inner_payment;\n            },\n            _findLine: function _findLine(internal_id) {\n                var line = live_order_model.get('lines').find(function (cart_line) {\n                    return cart_line.get('internalid') === internal_id;\n                });\n                !line && this._reportError('INVALID ID', 'Line ' + internal_id + ' not found');\n                return line;\n            },\n            _mergeLine: function _mergeLine(inner_line, line) {\n                var self = this;\n                _.each(line, function (value, index) {\n                    if (index === 'extras') {\n                        self._mergeLine(inner_line, value);\n                    } else if (_.contains(inner_line.keys(), index)) {\n                        if (inner_line.get(index) instanceof Backbone.Model) {\n                            self._mergeLine(inner_line.get(index), value);\n                        } else if (inner_line.get(index) instanceof Backbone.Collection) {\n                            inner_line.set(index, new Backbone.Collection(value));\n                        } else {\n                            inner_line.set(index, value);\n                        }\n                    }\n                });\n            },\n            _createInnerLine: function _createInnerLine(line) {\n                return LiveOrderLineModel.createFromOuterLine(line);\n            }\n        };\n        //Wrap public methods to load the cart before its execution\n        _.each(api_methods, function (api_method, name) {\n            if (name.indexOf('_') !== 0 && _.isFunction(api_method)) {\n                api_methods[name] = _.wrap(api_method, function (fn) {\n                    var self = this, args = _.toArray(arguments).slice(1);\n                    return LiveOrderModel.loadCart().pipe(function () {\n                        try {\n                            return fn.apply(self, args);\n                        } catch (error) {\n                            return jQuery.Deferred().reject(error);\n                        }\n                    });\n                });\n            }\n        });\n        //@class Cart.Component @extend ICart.Component\n        var cart_component = ICartComponent.extend(api_methods);\n        var innerToOuterMap = [\n            // @class ICart.Component\n            // @event beforeUpdateLine Cancelable event triggered before a cart's line is updated @public @extlayer\n            {\n                inner: 'before:LiveOrder.updateLine',\n                outer: 'beforeUpdateLine',\n                normalize: cart_component._normalizeUpdateLineBefore\n            }    // @event afterUpdateLine Triggered after a cart's line is updated @public @extlayer\n,\n            {\n                inner: 'after:LiveOrder.updateLine',\n                outer: 'afterUpdateLine',\n                normalize: cart_component._normalizeUpdateLineAfter\n            }    // @event beforeRemoveLine Cancelable event triggered before a cart's line is removed @public @extlayer\n,\n            {\n                inner: 'before:LiveOrder.removeLine',\n                outer: 'beforeRemoveLine',\n                normalize: cart_component._normalizeRemoveLineBefore\n            }    // @event afterRemoveLine Triggered after a cart's line is removed @public @extlayer\n,\n            {\n                inner: 'after:LiveOrder.removeLine',\n                outer: 'afterRemoveLine',\n                normalize: cart_component._normalizeRemoveLineAfter\n            }    // @event beforeEstimateShipping Cancelable event triggered before doing an estimate shipping in the cart @public @extlayer\n,\n            {\n                inner: 'before:LiveOrder.estimateShipping',\n                outer: 'beforeEstimateShipping',\n                normalize: cart_component._normalizeEstimateBefore\n            }    // @event afterEstimateShipping Triggered after an estimate shipping is done in the cart @public @extlayer\n,\n            {\n                inner: 'after:LiveOrder.estimateShipping',\n                outer: 'afterEstimateShipping',\n                normalize: cart_component._normalizeEstimateAfter\n            }    // @event beforeClearEstimateShipping Cancelable event triggered before clearing an estimate shipping in the cart @public @extlayer\n,\n            {\n                inner: 'before:LiveOrder.clearEstimateShipping',\n                outer: 'beforeClearEstimateShipping',\n                normalize: cart_component._normalizeClearEstimateShippingBefore\n            }    // @event afterClearEstimateShipping Triggered after an estimate shipping is cleared in the cart @public @extlayer\n,\n            {\n                inner: 'after:LiveOrder.clearEstimateShipping',\n                outer: 'afterClearEstimateShipping',\n                normalize: cart_component._normalizeClearEstimateShippingAfter\n            }    // @event beforeAddPromotion Triggered before a promotion is added to the cart @public @extlayer\n,\n            {\n                inner: 'before:LiveOrder.addPromotion',\n                outer: 'beforeAddPromotion',\n                normalize: cart_component._normalizePromocode\n            }    // @event afterAddPromotion Triggered after a promotion is added to the cart @public @extlayer\n,\n            {\n                inner: 'after:LiveOrder.addPromotion',\n                outer: 'afterAddPromotion',\n                normalize: cart_component._normalizePromocode\n            }    // @event beforeRemovePromotion Triggered before a promocode is removed from the cart @public @extlayer\n,\n            {\n                inner: 'before:LiveOrder.removePromotion',\n                outer: 'beforeRemovePromotion',\n                normalize: cart_component._normalizePromocode\n            }    // @event afterRemovePromotion Triggered after a promocode is removed from the cart @public @extlayer\n,\n            {\n                inner: 'after:LiveOrder.removePromotion',\n                outer: 'afterRemovePromotion',\n                normalize: cart_component._normalizePromocode\n            }    // @event beforeAddPayment Triggered before a payment method is added to the order @public @extlayer\n,\n            {\n                inner: 'before:LiveOrder.addPayment',\n                outer: 'beforeAddPayment',\n                normalize: cart_component._normalizePaymentMethod\n            }    // @event afterAddPayment Triggered after a payment method is added to the order @public @extlayer\n,\n            {\n                inner: 'after:LiveOrder.addPayment',\n                outer: 'afterAddPayment',\n                normalize: cart_component._normalizePaymentMethod\n            }    // @event beforeSubmit Triggered before the order is submited @public @extlayer\n,\n            {\n                inner: 'before:LiveOrder.submit',\n                outer: 'beforeSubmit',\n                normalize: null\n            }    // @event afterSubmit Triggered after the order is submited @public @extlayer\n,\n            {\n                inner: 'after:LiveOrder.submit',\n                outer: 'afterSubmit',\n                normalize: cart_component._normalizeConfirmation\n            }\n        ];\n        cart_component._suscribeToInnerEvents(innerToOuterMap, live_order_model);\n        live_order_model.cancelableOn('before:LiveOrder.setAddress', function (address) {\n            var outer_events = {\n                    shipaddress: 'beforeSetShipAddress',\n                    billaddress: 'beforeSetBillAddress'\n                }, outer_event = outer_events[address.type];\n            return cart_component.cancelableTrigger(outer_event, address.id);\n        });\n        live_order_model.cancelableOn('after:LiveOrder.setAddress', function (address) {\n            var outer_events = {\n                    shipaddress: 'afterSetShipAddress',\n                    billaddress: 'afterSetBillAddress'\n                }, outer_event = outer_events[address.type];\n            return cart_component.cancelableTrigger(outer_event, address.id);\n        });\n        live_order_model.cancelableOn('before:LiveOrder.addLines', function (lines) {\n            var lines_deferred = _.map(lines, function (line) {\n                var args = cart_component._normalizeAddLineBefore(line);\n                // @event beforeAddLine Cancelable event triggered before adding a new cart's line @public @extlayer\n                return cart_component.cancelableTrigger('beforeAddLine', args);\n            });\n            return jQuery.when.apply(jQuery, lines_deferred);\n        });\n        live_order_model.cancelableOn('after:LiveOrder.addLines', function (old_lines, current_lines) {\n            var old_lines_ids = cart_component._normalizeLines(old_lines), current_lines_ids = cart_component._normalizeLines(current_lines), new_lines = _.difference(current_lines_ids, old_lines_ids);\n            new_lines = _.isEmpty(new_lines) ? current_lines_ids : new_lines;\n            var lines_deferred = _.map(new_lines, function (line) {\n                var args = cart_component._normalizeAddLineAfter(line.internalid, line);\n                // @event afterAddLine Triggered after a new line is added in the cart @public @extlayer\n                return cart_component.cancelableTrigger('afterAddLine', args);\n            });\n            return jQuery.when.apply(jQuery, lines_deferred);\n        });\n        // @class Cart.Component\n        return cart_component;\n    };\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module Cart\ndefine('Cart', [\n    'LiveOrder.Model',\n    'Cart.Router',\n    'SC.Configuration',\n    'Cart.Confirmation.Helpers',\n    'Cart.Component',\n    'jQuery'\n], function (LiveOrderModel, CartRouter, Configuration, CartConfirmationHelpers, CartComponent, jQuery) {\n    'use strict';\n    /*\n\t\t@class Cart\n\n\t\tDefines the Cart module\n\n\t\tmountToApp() handles some environment issues\n\n\t\t@extends ApplicationModule\n\t*/\n    return {\n        mountToApp: function mountToApp(application) {\n            this.cart_model = LiveOrderModel.getInstance();\n            // Check if cart was bootstrapped\n            if (!SC.ENVIRONMENT.CART_BOOTSTRAPED) {\n                // Load the cart information\n                LiveOrderModel.loadCart();\n            } else if (SC.ENVIRONMENT.CART) {\n                this.cart_model.set(SC.ENVIRONMENT.CART);\n                this.cart_model.cartLoad = this.cart_model.cartLoad || jQuery.Deferred();\n                this.cart_model.isLoading = false;\n                this.cart_model.cartLoad.resolveWith(SC.ENVIRONMENT.CART);\n            }\n            var self = this;\n            //IMPORTANT: This api/method is preserve ONLY for Bronto Integration. IT IS NOT A PUBLIC API!\n            application.getCart = function getCart() {\n                console.warn('Using application.getCart is deprecated!');\n                var cart_promise = jQuery.Deferred();\n                LiveOrderModel.loadCart().done(function () {\n                    cart_promise.resolve(self.cart_model);\n                }).fail(function () {\n                    cart_promise.reject.apply(this, arguments);\n                });\n                return cart_promise;\n            };\n            application.getLayout().goToCart = function () {\n                return CartConfirmationHelpers._goToCart(this.application.getCart());\n            };\n            application.getLayout().showMiniCart = function () {\n                return CartConfirmationHelpers._showMiniCart(this.application.getCart(), null, this.application);\n            };\n            application.getLayout().showCartConfirmationModal = function () {\n                return CartConfirmationHelpers._showCartConfirmationModal(this.application.getCart(), null, this.application);\n            };\n            // Initializes the router\n            if (Configuration.get('modulesConfig.Cart.startRouter', true)) {\n                new CartRouter(application);\n            }\n            return CartComponent(application);\n        }\n    };\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module Address\ndefine('Address.List.View', [\n    'Backbone.CompositeView',\n    'Backbone.CollectionView',\n    'SC.Configuration',\n    'Address.Details.View',\n    'GlobalViews.Confirmation.View',\n    'address_list.tpl',\n    'backbone_collection_view_cell.tpl',\n    'backbone_collection_view_row.tpl',\n    'Backbone',\n    'underscore',\n    'jQuery',\n    'Utils'\n], function (BackboneCompositeView, BackboneCollectionView, Configuration, AddressDetailsView, GlobalViewsConfirmationView, address_list_tpl, backbone_collection_view_cell_tpl, backbone_collection_view_row_tpl, Backbone, _, jQuery) {\n    'use strict';\n    //@class Address.List.View List profile's addresses @extend Backbone.View\n    return Backbone.View.extend({\n        template: address_list_tpl,\n        page_header: _('Address Book').translate(),\n        title: _('Address Book').translate(),\n        attributes: { 'class': 'AddressListView' },\n        events: { 'click [data-action=\"remove\"]': 'removeAddress' },\n        initialize: function () {\n            BackboneCompositeView.add(this);\n            var self = this;\n            this.collection.on('reset sync add remove change destroy', function () {\n                self.collection.sort();\n                self.render();\n            });\n        },\n        childViews: {\n            'Addresses.Collection': function () {\n                return new BackboneCollectionView({\n                    childView: AddressDetailsView,\n                    collection: this.collection,\n                    viewsPerRow: Configuration.get('itemsPerRow', 2),\n                    cellTemplate: backbone_collection_view_cell_tpl,\n                    rowTemplate: backbone_collection_view_row_tpl\n                });\n            }\n        }    //@method getSelectedMenu\n,\n        getSelectedMenu: function () {\n            return 'addressbook';\n        }    //@method getBreadcrumbPages\n,\n        getBreadcrumbPages: function () {\n            return {\n                text: this.title,\n                href: '/addressbook'\n            };\n        }    // remove address\n,\n        removeAddress: function (e) {\n            e.preventDefault();\n            var deleteConfirmationView = new GlobalViewsConfirmationView({\n                callBack: this.removeAddressModel,\n                callBackParameters: {\n                    context: this,\n                    addressId: jQuery(e.target).data('id')\n                },\n                title: _('Remove Address').translate(),\n                body: _('Are you sure you want to delete this address?').translate(),\n                autohide: true\n            });\n            this.options.application.getLayout().showInModal(deleteConfirmationView);\n        },\n        removeAddressModel: function (options) {\n            options.context.collection.get(options.addressId).destroy({ wait: true });\n        }    //@method getContext @return {Address.List.View.Context}\n,\n        getContext: function () {\n            //@class Address.List.View.Context\n            return {\n                //@property {String} pageHeader\n                pageHeader: this.page_header,\n                isAddressCollectionLengthGreaterThan0: this.collection.length > 0    //@property {Boolean} showBackToAccount\n,\n                showBackToAccount: Configuration.get('siteSettings.sitetype') === 'STANDARD'\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module Address\ndefine('Address.Router', [\n    'Address.Edit.View',\n    'Address.List.View',\n    'Address.Model',\n    'Profile.Model',\n    'Backbone'\n], function (AddressEditView, AddressListView, Model, ProfileModel, Backbone) {\n    'use strict';\n    //@class Address.Router @extend Backbone.Router\n    return Backbone.Router.extend({\n        routes: {\n            'addressbook': 'addressBook',\n            'addressbook/new': 'newAddress',\n            'addressbook/:id': 'addressDetailed'\n        },\n        initialize: function (application) {\n            this.application = application;\n            this.profileModel = ProfileModel.getInstance();\n        }    // list profile's addresses\n,\n        addressBook: function () {\n            if (this.profileModel.get('isLoggedIn') !== 'T') {\n                return this.application.getLayout().notFound();\n            }\n            var collection = this.profileModel.get('addresses');\n            if (collection.length) {\n                var view = new AddressListView({\n                    application: this.application,\n                    collection: collection\n                });\n                collection.off(null, null, this);\n                collection.on('reset destroy change add', function () {\n                    var currentView = this.application.getLayout().currentView;\n                    if (currentView instanceof AddressListView || currentView instanceof AddressEditView) {\n                        this.addressBook();\n                    }\n                }, this);\n                view.showContent();\n            } else {\n                Backbone.history.navigate('#addressbook/new', { trigger: true });\n            }\n        }    // view address's details\n,\n        addressDetailed: function (id) {\n            if (this.profileModel.get('isLoggedIn') !== 'T') {\n                return this.application.getLayout().notFound();\n            }\n            var collection = this.profileModel.get('addresses'), model = collection.get(id), view = new AddressEditView({\n                    application: this.application,\n                    collection: collection,\n                    model: model\n                });\n            view.model.on('reset destroy add', function () {\n                if (view.inModal && view.$containerModal) {\n                    view.$containerModal.modal('hide');\n                    view.destroy();\n                } else {\n                    Backbone.history.navigate('#addressbook', { trigger: true });\n                }\n            }, view);\n            view.showContent();\n        }    // add new address\n,\n        newAddress: function () {\n            if (this.profileModel.get('isLoggedIn') !== 'T') {\n                return this.application.getLayout().notFound();\n            }\n            var collection = this.profileModel.get('addresses'), view = new AddressEditView({\n                    application: this.application,\n                    collection: collection,\n                    model: new Model()\n                });\n            collection.on('add', function () {\n                if (view.inModal && view.$containerModal) {\n                    view.$containerModal.modal('hide');\n                    view.destroy();\n                } else {\n                    Backbone.history.navigate('#addressbook', { trigger: true });\n                }\n            }, view);\n            view.model.on('change', function (model) {\n                collection.add(model);\n            }, this);\n            view.showContent();\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// Address.js\n// -----------------\n// Defines the Address  module (Model, Collection, Views, Router)\ndefine('Address', [\n    'Address.Router',\n    'underscore',\n    'Utils'\n], function (Router, _) {\n    'use strict';\n    return {\n        MenuItems: {\n            parent: 'settings',\n            id: 'addressbook',\n            name: _('Address Book').translate(),\n            url: 'addressbook',\n            index: 3\n        },\n        mountToApp: function (application) {\n            // Initializes the router\n            return new Router(application);\n        }\n    };\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module Content\ndefine('Content.DataModels', [\n    'Singleton',\n    'Backbone',\n    'underscore',\n    'jQuery',\n    'Utils',\n    'AjaxRequestsKiller',\n    'Backbone.CachedModel',\n    'Backbone.CachedCollection'\n], function (Singleton, Backbone, _, jQuery, Utils, AjaxRequestsKiller) {\n    'use strict';\n    var Pages = {};\n    // @class Pages.Model Represents the definition of a page. Interact with the Content Delivery Service\n    // BEWARE: If you change the URL Root of your \"Content Delivery Service\" SSP Application\n    // you need to update the urlRoot of this model @extends Backbone.CachedModel\n    Pages.Model = Backbone.CachedModel.extend({ urlRoot: Utils.getAbsoluteUrl('../cds/services/page.ss') });\n    // @class Pages.Collection Singleton containing a reference of all pages already loaded\n    // Interact with the Content Delivery Service. BEWARE: If you change the URL Root of your \"Content Delivery Service\" SSP Application\n    // you need to update the urlRoot of this model @extends Backbone.CachedCollection\n    Pages.Collection = Backbone.CachedCollection.extend({\n        url: Utils.getAbsoluteUrl('../cds/services/page.ss')    //@property {Class<Pages.Model>} model\n,\n        model: Pages.Model\n    }, Singleton);\n    var Urls = {};\n    // @class Urls.Model Represents a single url and the page definition they point to @extends Backbone.Model\n    Urls.Model = Backbone.Model.extend({ urlRoot: Utils.getAbsoluteUrl('../cds/services/url.ss') });\n    // @class Urls.Collection Implements the url matching logic @extends Backbone.Collection\n    Urls.Collection = Backbone.Collection.extend({\n        url: Utils.getAbsoluteUrl('../cds/services/url.ss')    //@property {Class<Urls.Model>} model\n,\n        model: Urls.Model,\n        initialize: function () {\n            this.regExpGraphRoot = new Urls.Model({ childs: [] });\n            this.regExpGraphHelper = [];\n            this.landingPages = [];\n            this.exactMatchHash = {};\n            this.on('reset', this.reseter);\n        }    // @method reseter\n             // Every-time this collection is reseted, this function generates a couple of helper structures:\n             // * URLs.Collection.landingPages: Array of all url pointing to a landing page\n             // * URLs.Collection.exactMatchHash: Hash table of all url that does not have in it\n             // * URLs.Collection.regExpGraphRoot: Graph were URLs are farther from the root when they are more specific.\n,\n        reseter: function () {\n            this.regExpGraphRoot = new Urls.Model({ childs: [] });\n            this.regExpGraphHelper = [];\n            this.landingPages = [];\n            this.exactMatchHash = {};\n            var self = this;\n            // Iterates all urls\n            this.each(function (model) {\n                // If the URL is * and its and its not a Landing page, it will be set as Urls.Collection.defaultModel\n                if (model.get('query') === '*' && model.get('type') !== '1') {\n                    if (!Urls.Collection.defaultModel) {\n                        Urls.Collection.defaultModel = model;\n                    }\n                }    // If the url contains * and its and its not a Landing page,\n                     // It gets translated to a regular expression and injected into the this.regExpGraphRoot\n                     // By comparing one another with other regular expressions (this.insertInGraph)\n                else if (~model.get('query').indexOf('*') && model.get('type') !== '1') {\n                    // Creates the Regular Expression to match urls against\n                    var regular_expresion = new RegExp('^' + _.map(model.get('query').split('*'), function (token) {\n                        return token.replace(/\\//gi, '\\\\/').replace(/\\?/gi, '\\\\?');\n                    }).join('(.*?)') + '$');\n                    // Sets the proper attributes\n                    model.set({\n                        regexp: regular_expresion,\n                        childs: []\n                    });\n                    // Now we insert it in the graph\n                    self.insertInGraph(model, self.regExpGraphRoot);\n                    /// We will just check if the new node is parent of a previously added node\n                    _.each(self.regExpGraphHelper, function (currentNode) {\n                        if (!_.contains(model.get('childs'), currentNode) && model.get('regexp').test(currentNode.get('query'))) {\n                            model.get('childs').push(currentNode);\n                        }\n                    });\n                    self.regExpGraphHelper.push(model);\n                }    // Other way its an exact match then we add it to this.exactMatchHash\n                else {\n                    self.exactMatchHash[model.get('query')] = model;\n                    // if it's a landing page we should add it to the collection of URL we will be adding to the router\n                    if (model.get('type') === '1') {\n                        self.landingPages.push(model);\n                    }\n                }\n            });\n        }    // @method insertInGraph Given a node it tries to injected into the graph\n             // @param {Urls.Model} node @param {Urls.Model} root\n,\n        insertInGraph: function (node, root) {\n            var isParent = true, self = this;\n            // walks all child nodes\n            _.each(root.get('childs'), function (branch) {\n                if (branch.get('query') !== node.get('query')) {\n                    // is it covered by a more broad expression?\n                    if (branch.get('regexp').test(node.get('query'))) {\n                        isParent = false;\n                        self.insertInGraph(node, branch);\n                    }    // Is it broader than then current branch\n                    else if (node.get('regexp').test(branch.get('query'))) {\n                        node.get('childs').push(branch);\n                        root.set('childs', _.without(root.get('childs'), branch));\n                    }\n                }\n            });\n            // the node is not a child nor a parent is a brother\n            if (isParent && !~_.indexOf(root.get('childs'), node)) {\n                root.get('childs').push(node);\n            }\n        }    // @method findUrl For the passed in URL looks for the most appropriate Erl model to return\n             // @param {String} URL @return {String|false}\n,\n        findUrl: function (url) {\n            // Here we do a table hash lookup (Super fast!)\n            var exact_match = this.exactMatchHash[url];\n            if (exact_match) {\n                return exact_match;\n            } else {\n                // lets do a lookup in our regexp graph\n                this.candidates = {};\n                // Here we will store URL_ID : Number of edges\n                this.walkRegExpGraph(url, this.regExpGraphRoot, 1);\n                var result = _.max(_.pairs(this.candidates), function (candidate) {\n                    return candidate[1];\n                });\n                return result && typeof result === 'object' ? this.get(result[0]) : false;\n            }\n        }    // @method walkRegExpGraph Recursive function used by the findUrl to traverse the url graph\n             // @param {String} url @param {Urls.Model} branch @param {Number} deep\n,\n        walkRegExpGraph: function (url, branch, deepth) {\n            var self = this;\n            // Walks all the childs of the current branch\n            _.each(branch.get('childs'), function (new_branch) {\n                if (new_branch.get('regexp').test(url)) {\n                    // if the current child (which is also a branch) passes the test it will go down the line\n                    // and it adds 1 edge to the candidates object\n                    self.candidates[new_branch.cid] = self.candidates[new_branch.cid] ? self.candidates[new_branch.cid] + deepth : deepth;\n                    self.walkRegExpGraph(url, new_branch, deepth + 1);\n                }\n            });\n        }\n    }, Singleton);\n    // This is a private variable that will holds all the requests we have made, tho it's public you should try to avoid using it, and call Content.load instead\n    var currentRequests = [];\n    // loadPage:\n    // This Function takes care of loading the content for the passed URL.\n    // if a done function is passed it will be called whenever we have content,\n    // if no content is provided for the current URL,\n    // the done function will be called right away with false as a parameter\n    function loadPage(url, donefn) {\n        /*jshint validthis:true*/\n        donefn = donefn || jQuery.noop;\n        if (url) {\n            // Looks in the array of registered urls\n            var foundUrl = Urls.Collection.getInstance().findUrl(url);\n            // The URL is registered in the collection\n            if (foundUrl) {\n                // Gets the page for the URL\n                var page_id = foundUrl.get('pageid'), page = Pages.Collection.getInstance().get(page_id);\n                if (page) {\n                    donefn(page);\n                }    // We don't have it need to be fetched\n                else {\n                    // Fetches the page\n                    new Pages.Model({\n                        internalid: page_id,\n                        id: page_id\n                    }).fetch({\n                        data: {\n                            cache: this.application.getConfig('cache.contentPageCdn'),\n                            ttl: this.application.getConfig('cache.contentPageTtl')\n                        },\n                        killerId: AjaxRequestsKiller.getKillerId(),\n                        reset: true\n                    }).done(function (loaded_page) {\n                        Pages.Collection.getInstance().add(loaded_page);\n                        page = Pages.Collection.getInstance().get(page_id);\n                        donefn(page);\n                    });\n                }\n            }    // No URL is found\n            else {\n                donefn(false);\n            }\n        }    // No URL is passed\n        else {\n            donefn(false);\n        }\n    }\n    return {\n        Urls: Urls,\n        Pages: Pages,\n        currentRequests: currentRequests,\n        loadPage: loadPage\n    };\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module Content\ndefine('Content.EnhancedViews', [\n    'Content.DataModels',\n    'underscore',\n    'jQuery',\n    'Backbone.View',\n    'Backbone.View.render',\n    'Backbone.View.Plugins'\n], function (DataModels, _, jQuery) {\n    'use strict';\n    // @class Content.EnhancedViews Provides functions that based in a view, sets the title,\n    // meta tags and inject html content in the dom\n    var EnhancedViews = { previousPlaceholders: [] };\n    _.extend(EnhancedViews, {\n        // @method overrideViewSettings Updates attributes of the view with the info coming in the page model passed in\n        // @param {Backbone.View} view @param {Pages.Model} page\n        overrideViewSettings: function (view, page) {\n            view.contentZones = view.contentZones || [];\n            if (page) {\n                // All info comming off the page has presedence to whats already defined in the view\n                view.title = page.get('title') || view.getTitle();\n                view.page_header = page.get('pageheader') || view.page_header;\n                view.description = page.get('description') || view.description;\n                view.metaDescription = page.get('metadescription') || view.getMetaDescription();\n                view.metaKeywords = page.get('metakeywords') || view.getMetaKeywords();\n                view.template = page.get('template') || view.template;\n                view.addToHead = page.get('metaextra') || view.getAddToHead() || '';\n                // Everything but the banners, who are merged with other that the view may have,\n                view.contentZones = _.union(view.contentZones, page.get('pagecontent'));\n            }\n            // If you have a default page (this is a page that is pointed by the * url)\n            // it will be always merged\n            var default_url = DataModels.Urls.Collection.defaultModel, default_page = default_url && DataModels.Pages.Collection.getInstance().get(default_url.get('pageid'));\n            if (default_page) {\n                view.contentZones = _.union(view.contentZones, default_page.get('pagecontent'));\n            }\n            return view;\n        },\n        initalizeHead: function () {\n            return jQuery('head').not(':has(title)').append('<title/>').end().not(':has(link[rel=\"canonical\"])').append('<link rel=\"canonical\"/>').end().not(':has(meta[name=\"keywords\"])').append('<meta name=\"keywords\"/>').end().not(':has(meta[name=\"description\"])').append('<meta name=\"description\"/>').end();\n        },\n        enhanceHead: function (view) {\n            var title = view.getTitle();\n            if (title) {\n                document.title = title;\n            }\n            // Sets the text of the title element if we are in the server\n            // we only do it on the server side due to an issue modifying\n            // the title tag on IE :(\n            if (SC.ENVIRONMENT.jsEnvironment === 'server') {\n                this.$head.find('title').text(title);\n            }\n            return this.enhanceMetaTags(view).enhanceCanonicalLinks(view);\n        }    // @method enhanceMetaTags Enhance the document's head by adding given view metadata.\n             // We enclose the added metatags between two special tags so we can delete them when the url changes. We do this like this because\n             // we cannot add any strange parameter to added metatags to reference them. @param {Backbone.View} view\n,\n        enhanceMetaTags: function (view) {\n            this.$head.find('meta[name=\"description\"]').attr('content', view.metaDescription || view.getMetaDescription() || '').end()    // and keywords meta tags\n.find('meta[name=\"keywords\"]').attr('content', view.metaKeywords || view.getMetaKeywords() || '').end()    // then we append the tags specific to this view\n                                                                                                           // excluding any extra descriptions and keywords meta tags\n.append(view.getMetaTags().not('[name=\"description\"]').not('[name=\"keywords\"]'));\n            // remove head's elements that are between enhanceMetaTagsStart and enhanceMetaTagsEnd\n            var remove_element = false;\n            //flag used to determine when remove elements.\n            jQuery('head').children().each(function () {\n                var $element = jQuery(this), element_id = $element.attr('id');\n                if (element_id === 'enhanceMetaTagsStart') {\n                    remove_element = true;\n                }\n                if (remove_element) {\n                    $element.remove();\n                }\n                if (remove_element && element_id === 'enhanceMetaTagsEnd') {\n                    remove_element = false;\n                }\n            });\n            var addToHead = view.getAddToHead();\n            //add meta extra elements between enhanceMetaTagsStart and enhanceMetaTagsEnd\n            if (addToHead) {\n                jQuery('<script id=\"enhanceMetaTagsStart\"></script>' + addToHead + '<script id=\"enhanceMetaTagsEnd\"></script>').appendTo(this.$head);\n            }\n            return this;\n        }    //@method enhanceCanonicalLinks @param {Backbone.View} view\n,\n        enhanceCanonicalLinks: function (view) {\n            this.$head.find('link[rel=\"canonical\"]').attr('href', view.getCanonical()).end()    // we remove any existing next/prev tags every time\n                                                                                                // a page is rendered in case the previous view was paginated\n.find('link[rel=\"next\"], link[rel=\"prev\"]').remove();\n            // if the current page is paginated\n            // set prev/next link rel\n            this.setLinkRel('prev', view.getRelPrev());\n            this.setLinkRel('next', view.getRelNext());\n            return this;\n        },\n        setLinkRel: function (rel, link) {\n            link && jQuery('<link />', {\n                rel: rel,\n                href: link\n            }).appendTo(this.$head);\n        }    // EnhancedViews.enhancePage:\n             // enhance the DOM based on the attributes of the view\n,\n        enhancePage: function (view, Layout) {\n            this.$head = this.$head || this.initalizeHead();\n            // changes the page head based on the view attributes\n            this.enhanceHead(view);\n            // empties the place holders DOMs element\n            EnhancedViews.clearPlaceholders();\n            // walks the content zones and injects them in the site\n            _.each(view.contentZones || [], function (content_zone) {\n                // its in the layout\n                if (view.$(content_zone.target).length === 0) {\n                    // it's empty\n                    if (jQuery(content_zone.target + ':empty').length === 0) {\n                        return;\n                    }\n                }\n                Layout.trigger('renderEnhancedPageContent', view, content_zone);\n            });\n        },\n        renderHTMLContent: function (view, content_zone) {\n            var target = content_zone.target, layout = view.options.application.getLayout();\n            // If the target is inside the view\n            if (view.$(target).length) {\n                view.$(target).html(content_zone.content);\n                EnhancedViews.previousPlaceholders.push(content_zone.target);\n                layout.trigger('afterAppendView', view);\n            } else {\n                // Otherwise, if the target is on the layout\n                // we have to make sure it's empty\n                layout.$(target).filter(':empty').each(function (index, element) {\n                    jQuery(element).html(content_zone.content);\n                    EnhancedViews.previousPlaceholders.push(content_zone.target);\n                });\n                layout.trigger('afterAppendView', layout);\n            }\n        }    // EnhancedViews.clearPlaceholders:\n             // This clears all content that was previously added to the Layout,\n             // this method is called by the EnhancedViews.enhancePage\n             // for every new page\n,\n        clearPlaceholders: function () {\n            _.each(EnhancedViews.previousPlaceholders, function (previous_placeholder) {\n                jQuery(previous_placeholder).empty();\n            });\n            EnhancedViews.previousPlaceholders = [];\n        }\n    });\n    return EnhancedViews;\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module Content\ndefine('Content.LandingPages.View', [\n    'Content.DataModels',\n    'Content.EnhancedViews',\n    'SC.Configuration',\n    'landing_page.tpl',\n    'landing_page_my_account.tpl',\n    'Backbone',\n    'underscore'\n], function (DataModels, EnhancedViews, Configuration, landing_page_tpl, landing_page_my_account_tpl, Backbone) {\n    'use strict';\n    // Categories is an optional dependency\n    var Categories = false;\n    try {\n        Categories = require('Categories');\n    } catch (e) {\n    }\n    // @class Content.LandingPages.View\n    // Uses the Content.DataModels to connect to the servers. Tho' most of the content is driven by the content service\n    // we need a view to extend upon @extend Backbone.View\n    return Backbone.View.extend({\n        template: Configuration.get('currentTouchpoint') === 'customercenter' ? landing_page_my_account_tpl : landing_page_tpl,\n        title: '',\n        page_header: '',\n        attributes: {\n            'id': 'landing-page',\n            'class': 'landing-page'\n        },\n        events: {},\n        initialize: function () {\n            this.url = Backbone.history && Backbone.history.fragment;\n        }    // @method showContent Override default showContent method to show page header\n,\n        showContent: function (page) {\n            this.page_header = page.get('pageheader');\n            this.page = page;\n            this.options.layout.showContent(this);\n        }    // @method getBreadcrumbPages It will try to figure the breadcrumb out of the url\n,\n        getBreadcrumbPages: function () {\n            var breadcrumb = [];\n            breadcrumb.push({\n                href: this.url,\n                text: this.page_header\n            });\n            return breadcrumb;\n        }    // @method getContext @returns {Content.LandingPages.View.Context}\n,\n        getContext: function () {\n            // @class Content.LandingPages.View.Context\n            return {\n                // @property {Boolean} pageHeaderAndNotInModal\n                pageHeaderAndNotInModal: this.page_header && !this.inModal,\n                pageHeader: this.page_header,\n                pageAndPageContent: this.page && this.page.get('content')    // @property {String} pageContent\n,\n                pageContent: this.page.get('content')\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module Content\ndefine('Content.LandingPages.Router', [\n    'Content.DataModels',\n    'Content.EnhancedViews',\n    'Content.LandingPages.View',\n    'Backbone'\n], function (DataModels, EnhancedViews, View, Backbone) {\n    'use strict';\n    // @class Content.LandingPages.Router\n    // The Landing pages Module uses the Content.DataModels to connect to the servers,\n    // That's why there is only a view and a router here @extends Backbone.Router\n    return Backbone.Router.extend({\n        // @property {Object} routes Are created dynamically based on the URLs in the content.mountToApp\n        routes: {},\n        initialize: function (application) {\n            this.application = application;\n        }    // @method displayLandingPage uses the DataModels.loadPage to load the data and create the model\n,\n        displayLandingPage: function (option) {\n            var self = this, page_url = option ? unescape(Backbone.history.fragment).replace('?' + option, '') : Backbone.history.fragment, view = new View({\n                    application: this.application,\n                    layout: this.application.getLayout()\n                });\n            DataModels.loadPage('/' + page_url, function (page) {\n                if (page) {\n                    EnhancedViews.overrideViewSettings(view, page);\n                    view.showContent(page);\n                } else {\n                    self.application.getLayout().notFound();\n                }\n            });\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module Content\n// Integration to the Content Delivery Service Bundle\ndefine('Content', [\n    'Content.DataModels',\n    'Content.EnhancedViews',\n    'Content.LandingPages.Router',\n    'Content.LandingPages.View',\n    'SC.Configuration',\n    'Tracker',\n    'underscore',\n    'jQuery',\n    'Backbone',\n    'Utils'\n], function (DataModels, EnhancedViews, LandingPagesRouter, LandingPagesView, Configuration, Tracker, _, jQuery, Backbone) {\n    'use strict';\n    // @class Content Overrides ```Layout:showContent``` and ```Layout:showInModal``` so it first fetch\n    // content if any and then show views enhanced with content if any. It also listen for any change in the url hash\n    // and fetch for content if any correspond to the new url. It also handles content of type 'merchandising'\n    // and instantiate the LandingPages router @extends ApplicationModule\n    return {\n        mountToApp: function (Application) {\n            if (!Configuration.get('cms.useCMS')) {\n                // Loads the URLs of the different pages in the content service,\n                // this needs to happened before the application starts, so some routes are registered\n                if (SC.ENVIRONMENT.CONTENT) {\n                    DataModels.Urls.Collection.getInstance().reset(SC.ENVIRONMENT.CONTENT);\n                    delete SC.ENVIRONMENT.CONTENT;\n                    if (SC.ENVIRONMENT.DEFAULT_PAGE) {\n                        DataModels.Pages.Collection.getInstance().reset(SC.ENVIRONMENT.DEFAULT_PAGE);\n                        delete SC.ENVIRONMENT.DEFAULT_PAGE;\n                    }\n                }\n                DataModels.Application = Application;\n                var Layout = Application.getLayout(), show_content_wrapper = function (fn, view) {\n                        var promise = jQuery.Deferred();\n                        var args = arguments;\n                        // Check the URL and loads the page definition if needed\n                        DataModels.loadPage('/' + Backbone.history.fragment, function (page) {\n                            // override the title and page header of the view with the page returned\n                            EnhancedViews.overrideViewSettings(view, page);\n                            view.enhancedPage = true;\n                            Tracker.getInstance().trackPageview('/' + Backbone.history.fragment);\n                            // Calls the original function with all the parameters (slice to exclude fn)\n                            fn.apply(Layout, Array.prototype.slice.call(args, 1)).done(function () {\n                                // once the original function is done this reads the attributes of the view and\n                                // sets title, metas and adds banners\n                                EnhancedViews.enhancePage(view, Layout);\n                                //only after enhancing the view we resolve the promise\n                                promise.resolveWith(this, arguments);\n                            });\n                        });\n                        return promise;\n                    };\n                // Wraps the layout.showContent and Layout.showInModal methods\n                // This make sure that every time you try to show content in the\n                // application the page will be enhanced by setting title, header, meta tags and banners\n                Layout.showContent = _.wrap(Layout.showContent, show_content_wrapper);\n                Layout.showInModal = _.wrap(Layout.showInModal, show_content_wrapper);\n                Layout.on('renderEnhancedPageContent', function (view, content_zone) {\n                    if (content_zone.contenttype === 'html') {\n                        EnhancedViews.renderHTMLContent(view, content_zone);\n                    } else if (content_zone.contenttype === 'merchandising') {\n                        EnhancedViews.previousPlaceholders.push(content_zone.target);\n                    }\n                });\n                Application.on('afterModulesLoaded', function () {\n                    var query = '';\n                    _.each(DataModels.Urls.Collection.getInstance().landingPages, function (landing_page) {\n                        query = landing_page.get('query')[0] === '/' ? landing_page.get('query').substring(1) : landing_page.get('query');\n                        LandingPagesRouter.prototype.routes[query + '?*options'] = 'displayLandingPage';\n                        LandingPagesRouter.prototype.routes[query] = 'displayLandingPage';\n                    });\n                    return new LandingPagesRouter(Application);\n                });\n                Application.on('afterStart', function () {\n                    // Every time the URL changes we call the DataModels.loadPage,\n                    // so if we need to load content from the server, the request starts as soon as possible,\n                    // Probably while other Ajax request are being made\n                    Backbone.history && Backbone.history.on('all', function () {\n                        DataModels.loadPage('/' + Backbone.history.fragment);\n                    });\n                    // After the application Starts we will do the same, since the URL have not changed yet\n                    Backbone.history && DataModels.loadPage('/' + Backbone.history.fragment);\n                });\n            }\n        }\n    };\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module CreditCard\ndefine('CreditCard.List.View', [\n    'creditcard_list.tpl',\n    'Backbone.CollectionView',\n    'Backbone.CompositeView',\n    'CreditCard.View',\n    'SC.Configuration',\n    'GlobalViews.Confirmation.View',\n    'Backbone',\n    'underscore',\n    'LiveOrder.Model',\n    'jQuery',\n    'Utils'\n], function (creditcard_list_tpl, BackboneCollectionView, BackboneCompositeView, CreditCardView, Configuration, GlobalViewsConfirmationView, Backbone, _, LiveOrderModel, jQuery) {\n    'use strict';\n    // @class CreditCard.List.View @extends Backbone.View\n    return Backbone.View.extend({\n        template: creditcard_list_tpl,\n        title: _('Credit Cards').translate(),\n        page_header: _('Credit Cards').translate(),\n        attributes: { 'class': 'CreditCardListView' },\n        events: { 'click [data-action=\"remove\"]': 'removeCreditCard' },\n        initialize: function () {\n            BackboneCompositeView.add(this);\n            var self = this;\n            this.collection.on('reset sync add remove change', function () {\n                self.collection.sort();\n            });\n        },\n        childViews: {\n            'CreditCards.Collection': function () {\n                return new BackboneCollectionView({\n                    collection: this.collection,\n                    childView: CreditCardView,\n                    childViewOptions: {\n                        showActions: true,\n                        showDefaults: Configuration.get('currentTouchpoint') === 'customercenter'\n                    },\n                    viewsPerRow: Configuration.get('itemsPerRow', 2)\n                });\n            }\n        }    //@method getSelectedMenu\n,\n        getSelectedMenu: function () {\n            return 'creditcards';\n        }    //@method getBreadcrumbPages\n,\n        getBreadcrumbPages: function () {\n            return {\n                text: _('Credit Cards').translate(),\n                href: '/creditcards'\n            };\n        }    //@method removeCreditCard dispatch the remove event\n,\n        removeCreditCard: function (e) {\n            e.preventDefault();\n            var deleteConfirmationView = new GlobalViewsConfirmationView({\n                callBack: this._removeCreditCardFromCollection,\n                callBackParameters: {\n                    context: this,\n                    creditcardId: jQuery(e.target).data('id')\n                },\n                title: _('Remove Credit Card').translate(),\n                body: _('Are you sure you want to remove this Credit Card?').translate(),\n                autohide: true\n            });\n            return this.options.application.getLayout().showInModal(deleteConfirmationView);\n        },\n        _removeCreditCardFromCollection: function (options) {\n            options.context.collection.get(options.creditcardId).destroy({ wait: true });\n        }    //@method getContext @return {CreditCard.List.View.Context}\n,\n        getContext: function () {\n            //@class CreditCard.List.View.Context\n            return {\n                //@property {String} pageHeader\n                pageHeader: this.page_header,\n                showBackToAccount: Configuration.get('siteSettings.sitetype') === 'STANDARD'\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module CreditCard\ndefine('CreditCard.Router', [\n    'CreditCard.Edit.View',\n    'CreditCard.List.View',\n    'CreditCard.Model',\n    'Profile.Model',\n    'Backbone'\n], function (CreditCardEditView, CreditCardListView, Model, ProfileModel, Backbone) {\n    'use strict';\n    // @class CreditCard.Router Router for handling credit cards (CRUD) @extends Backbone.Router\n    return Backbone.Router.extend({\n        routes: {\n            'creditcards': 'creditCards',\n            'creditcards/new': 'newCreditCard',\n            'creditcards/:id': 'creditCardDetailed'\n        },\n        initialize: function (application) {\n            this.application = application;\n            this.profileModel = ProfileModel.getInstance();\n        }    // @method creditCards dispatch the 'creditcards list' route\n,\n        creditCards: function () {\n            if (this.profileModel.get('isLoggedIn') !== 'T') {\n                return this.application.getLayout().notFound();\n            }\n            var collection = this.profileModel.get('creditcards');\n            if (collection.length) {\n                var view = new CreditCardListView({\n                    application: this.application,\n                    collection: collection\n                });\n                collection.once('reset destroy change add', function () {\n                    // Only render this view again if it is the 'creditcards', otherwise it will render it but it will not change the url hash\n                    if (Backbone.history.fragment === 'creditcards') {\n                        this.creditCards();\n                    }\n                }, this);\n                view.showContent();\n            } else {\n                Backbone.history.navigate('#creditcards/new', { trigger: true });\n            }\n        }    // @method creditCardDetailed Dispatch the 'view credit card details' route @param {String} id\n,\n        creditCardDetailed: function (id) {\n            if (this.profileModel.get('isLoggedIn') !== 'T') {\n                return this.application.getLayout().notFound();\n            }\n            var collection = this.profileModel.get('creditcards'), model = collection.get(id), view = new CreditCardEditView({\n                    application: this.application,\n                    isCreditCardCollectionEmpty: collection.length === 0,\n                    model: model\n                });\n            model.on('reset destroy change add', function () {\n                if (view.inModal && view.$containerModal) {\n                    view.$containerModal.modal('hide');\n                    view.destroy();\n                } else {\n                    Backbone.history.navigate('#creditcards', { trigger: true });\n                }\n            }, view);\n            view.showContent();\n        }    // @method newCreditCard Dispatch the 'add new credit card' route\n,\n        newCreditCard: function () {\n            if (this.profileModel.get('isLoggedIn') !== 'T') {\n                return this.application.getLayout().notFound();\n            }\n            var collection = this.profileModel.get('creditcards'), view = new CreditCardEditView({\n                    application: this.application,\n                    isCreditCardCollectionEmpty: collection.length === 0,\n                    model: new Model()\n                });\n            collection.on('add', function () {\n                if (view.inModal) {\n                    view.$containerModal && view.$containerModal.modal('hide');\n                    view.destroy();\n                } else {\n                    Backbone.history.navigate('#creditcards', { trigger: true });\n                }\n            }, view);\n            view.model.on('change', function (model) {\n                collection.add(model, { merge: true });\n            }, this);\n            view.showContent();\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module CreditCard\n// Defines the CreditCard  module\ndefine('CreditCard', [\n    'CreditCard.Router',\n    'underscore',\n    'Utils'\n], function (Router, _) {\n    'use strict';\n    // @class CreditCart @extends ApplicationModule\n    return {\n        MenuItems: {\n            parent: 'settings',\n            id: 'creditcards',\n            name: _('Credit Cards').translate(),\n            url: 'creditcards',\n            index: 4\n        },\n        mountToApp: function (application) {\n            return new Router(application);\n        }\n    };\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// Categories.Utils.js\n// -------------\n// Utility Class for Categories\ndefine('Categories.Utils', [\n    'SC.Configuration',\n    'underscore'\n], function (Configuration, _) {\n    'use strict';\n    return {\n        getAdditionalFields: function getAdditionalFields(source, config_path) {\n            var additionalFields = {}, fields = Configuration.get(config_path, []);\n            _.each(fields, function (field) {\n                additionalFields[field] = source[field];\n            });\n            return additionalFields;\n        }\n    };\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// Categories.js\n// -------------\n// Utility Class to handle the Categories tree\ndefine('Categories', [\n    'Categories.Utils',\n    'SC.Configuration',\n    'underscore'\n], function (CategoriesUtils, Configuration, _) {\n    'use strict';\n    return {\n        topLevelCategories: [],\n        makeNavigationTab: function (categories) {\n            var result = [], self = this;\n            _.each(categories, function (category) {\n                var href = category.fullurl, tab = {\n                        'href': href,\n                        'text': category.name,\n                        'data': {\n                            hashtag: '#' + href,\n                            touchpoint: 'home'\n                        },\n                        'class': 'header-menu-level' + category.level + '-anchor',\n                        'data-type': 'commercecategory'\n                    };\n                tab.additionalFields = CategoriesUtils.getAdditionalFields(category, 'categories.menu.fields');\n                if (category.categories) {\n                    tab.categories = self.makeNavigationTab(category.categories);\n                }\n                result.push(tab);\n            });\n            return result;\n        },\n        addToNavigationTabs: function (categories) {\n            if (Configuration.get('categories.addToNavigationTabs')) {\n                var self = this, navigationData = Configuration.get('navigationData'), index = -1;\n                // delete previews categories on the menu\n                var lastIndex = navigationData.length;\n                while (lastIndex--) {\n                    if (navigationData[lastIndex]['data-type'] === 'commercecategory') {\n                        navigationData.splice(lastIndex, 1);\n                    }\n                }\n                for (var i = 0; i < navigationData.length; i++) {\n                    if (navigationData[i].placeholder === 'Categories') {\n                        index = i;\n                        break;\n                    }\n                }\n                if (index !== -1) {\n                    var tabs = self.makeNavigationTab(categories);\n                    // navigationData.splice(index, 1);\n                    _.each(tabs, function (tab, position) {\n                        navigationData.splice(index + position, 0, tab);\n                    });\n                }\n                this.application.trigger('Configuration.navigationData');\n            }\n        },\n        getTopLevelCategoriesUrlComponent: function () {\n            return this.topLevelCategories;\n        },\n        mountToApp: function (application) {\n            if (Configuration.get('categories')) {\n                var self = this, categories = SC.CATEGORIES;\n                //delete SC.CATEGORIES.categories;\n                this.application = application;\n                _.each(categories, function (category) {\n                    self.topLevelCategories.push(category.fullurl);\n                });\n                this.addToNavigationTabs(categories);\n            }\n        }\n    };\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// ExternalPayment.js\n// -------------------\ndefine('ExternalPayment', [\n    'ErrorManagement.InternalError.View',\n    'underscore',\n    'Utils'\n], function (InternalErrorView, _) {\n    'use strict';\n    return {\n        //@method mountToApp\n        //@param {Object} application\n        mountToApp: function (application) {\n            if (SC.ENVIRONMENT.EXTERNALPAYMENT && SC.ENVIRONMENT.EXTERNALPAYMENT.parameters) {\n                var params = SC.ENVIRONMENT.EXTERNALPAYMENT && SC.ENVIRONMENT.EXTERNALPAYMENT.parameters, external_fragment;\n                if (!params.errorCode) {\n                    switch (params.externalPayment) {\n                    case 'DONE':\n                        external_fragment = '#' + SC.CONFIGURATION.externalPayment[params.recordType.toUpperCase()].doneFragment;\n                        break;\n                    case 'FAIL':\n                        external_fragment = '#' + SC.CONFIGURATION.externalPayment[params.recordType.toUpperCase()].failFragment;\n                        break;\n                    }\n                    if (external_fragment) {\n                        delete params.errorCode;\n                        external_fragment = _.addParamsToUrl(external_fragment, params);\n                        window.location.hash = external_fragment;\n                    }\n                } else if (params.errorCode) {\n                    var self = this;\n                    application.getLayout().once('afterAppendView', function () {\n                        var view = new InternalErrorView({\n                            application: application,\n                            message: self.getErrorMessage(params.errorCode),\n                            pageHeader: _('External Payment Error').translate(),\n                            title: _('External Payment Error').translate()\n                        });\n                        view.showContent();\n                    });\n                }\n            }\n        }    //@method getErrorMessage\n             //@param {String} error_code\n,\n        getErrorMessage: function (error_code) {\n            var message;\n            switch (error_code) {\n            case 'externalPaymentValidationStatusFail':\n                message = _('Invalid payment event.').translate();\n                break;\n            case 'externalPaymentRequestInvalidParameters':\n                message = _('Invalid parameters.').translate();\n                break;\n            case 'externalPaymentMissingImplementation':\n                message = _('Invalid external payment method implementation.').translate();\n                break;\n            case 'externalPaymentRecordValidationStatusFail':\n                message = _('Invalid record status.').translate();\n                break;\n            default:\n                message = _('Invalid error code.');\n            }\n            return message;\n        }\n    };\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module RecordViews\ndefine('RecordViews.Actionable.View', [\n    'Backbone.CompositeView',\n    'RecordViews.View',\n    'recordviews_actionable.tpl',\n    'Backbone',\n    'underscore'\n], function (BackboneCompositeView, RecordViewsView, recordviews_actionable_tpl, Backbone, _) {\n    'use strict';\n    //@class RecordViews.Actionable.View @extend RecordViews.View\n    return RecordViewsView.extend({\n        //@property {Function} template\n        template: recordviews_actionable_tpl    //@method initialize\n                                      //@param {RecordViews.Actionable.View.Initialize} options\n                                      //@return {Void}\n,\n        initialize: function () {\n            RecordViewsView.prototype.initialize.apply(this, arguments);\n        }    //@property {Object} childViews Override the base property by adding a default Action.View composite View\n,\n        childViews: {\n            'Action.View': function () {\n                var action_options = _.extend({ model: this.model }, this.options.actionOptions || {}), view = this.options.actionView;\n                return new view(action_options);\n            }\n        }    //@method getContext @return {RecordViews.Actionable.View.Context}\n,\n        getContext: function () {\n            //@class RecordViews.Actionable.View.Context\t\t\t\n            return {\n                //@property {RecordViews.Actionable.View.Initialize.Model} model\n                model: this.model,\n                id: this.model.id,\n                touchpoint: this.model.get('touchpoint') || 'customercenter'    //@property {Boolean} isNavigable\n,\n                isNavigable: _.isBoolean(this.model.get('isNavigable')) ? this.model.get('isNavigable') : true    //@property {String} detailsURL\n,\n                detailsURL: this.model.get('detailsURL')    //@property {String} title\n,\n                title: this.model.get('title')    //@property {String} actionTitle\n,\n                actionTitle: this.model.get('actionTitle')    //@property {Array<RecordViews.View.Column>} columns\n,\n                columns: this.normalizeColumns(),\n                recordType: this.model.get('recordType')\n            };\n        }\n    });\n});    //@class RecordViews.Actionable.View.Initialize\n       //@property {RecordViews.Actionable.View.Initialize.Model} model\n       //@class RecordViews.Actionable.View.Initialize.Model @extends Backbone.Model\n       //@property {String} id\n       //@property {String?} touchpoint The default value is 'customercenter'\n       //@property {Boolean?} isNavigable The default value is true\n       //@property {String} detailsURL\n       //@property {String} actionTitle\n       //@property {String} title\n       //@property {Array<RecordViews.View.Column>} columns\n","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module OrderHistory\ndefine('OrderHistory.List.View', [\n    'SC.Configuration',\n    'GlobalViews.Pagination.View',\n    'GlobalViews.ShowingCurrent.View',\n    'ListHeader.View',\n    'Backbone.CompositeView',\n    'Backbone.CollectionView',\n    'OrderHistory.List.Tracking.Number.View',\n    'RecordViews.Actionable.View',\n    'Handlebars',\n    'order_history_list.tpl',\n    'Backbone',\n    'underscore',\n    'jQuery'\n], function (Configuration, GlobalViewsPaginationView, GlobalViewsShowingCurrentView, ListHeaderView, BackboneCompositeView, BackboneCollectionView, OrderHistoryListTrackingNumberView, RecordViewsActionableView, Handlebars, order_history_list_tpl, Backbone, _, jQuery) {\n    'use strict';\n    //@class OrderHistory.List.View view list of orders @extend Backbone.View\n    return Backbone.View.extend({\n        //@property {Function} template\n        template: order_history_list_tpl    //@property {String} title\n,\n        title: _('Purchase History').translate()    //@property {String} className\n,\n        className: 'OrderListView'    //@property {String} page_header\n,\n        page_header: _('Purchase History').translate()    //@property {Object} attributes\n,\n        attributes: { 'class': 'OrderListView' }    //@property {Object} events\n,\n        events: { 'click [data-action=\"navigate\"]': 'navigateToOrder' }    //@method getSelectedMenu\n,\n        getSelectedMenu: function () {\n            return 'purchases';\n        }    //@method getBreadcrumbPages\n,\n        getBreadcrumbPages: function () {\n            return {\n                text: this.title,\n                href: '/purchases'\n            };\n        }    //@method initialize\n,\n        initialize: function (options) {\n            this.application = options.application;\n            this.collection = options.collection;\n            this.isSCISIntegrationEnabled = Configuration.get('siteSettings.isSCISIntegrationEnabled', false);\n            var isoDate = _.dateToString(new Date());\n            this.rangeFilterOptions = {\n                fromMin: '1800-01-02',\n                fromMax: isoDate,\n                toMin: '1800-01-02',\n                toMax: isoDate\n            };\n            this.listenCollection();\n            // Manages sorting and filtering of the collection\n            this.listHeader = new ListHeaderView({\n                view: this,\n                application: this.application,\n                collection: this.collection,\n                sorts: this.sortOptions,\n                rangeFilter: 'date',\n                rangeFilterLabel: _('From').translate(),\n                hidePagination: true,\n                allowEmptyBoundaries: true\n            });\n            BackboneCompositeView.add(this);\n        }    //@method navigateToOrder\n,\n        navigateToOrder: function (e) {\n            //ignore clicks on anchors and buttons\n            if (_.isTargetActionable(e)) {\n                return;\n            }\n            if (!jQuery(e.target).closest('[data-type=\"accordion\"]').length) {\n                var order_id = jQuery(e.target).closest('[data-id]').data('id'), recordtype = jQuery(e.target).closest('[data-record-type]').data('record-type');\n                Backbone.history.navigate('#purchases/view/' + recordtype + '/' + order_id, { trigger: true });\n            }\n        }    //@method listenCollection\n,\n        listenCollection: function () {\n            this.setLoading(true);\n            this.collection.on({\n                request: jQuery.proxy(this, 'setLoading', true),\n                reset: jQuery.proxy(this, 'setLoading', false)\n            });\n        }    //@method setLoading\n,\n        setLoading: function (value) {\n            this.isLoading = value;\n        }    //@property {Array} sortOptions\n             // Array of default sort options\n             // sorts only apply on the current collection\n             // which might be a filtered version of the original\n,\n        sortOptions: [\n            {\n                value: 'trandate,internalid',\n                name: _('Sort By Date').translate(),\n                selected: true\n            },\n            {\n                value: 'tranid',\n                name: _('Sort By Number').translate()\n            },\n            {\n                value: 'amount',\n                name: _('Sort By Amount').translate()\n            }\n        ]    //@property {Object} childViews\n,\n        childViews: {\n            'ListHeader': function () {\n                return this.listHeader;\n            },\n            'GlobalViews.Pagination': function () {\n                return new GlobalViewsPaginationView(_.extend({ totalPages: Math.ceil(this.collection.totalRecordsFound / this.collection.recordsPerPage) }, Configuration.defaultPaginationSettings));\n            },\n            'GlobalViews.ShowCurrentPage': function () {\n                return new GlobalViewsShowingCurrentView({\n                    items_per_page: this.collection.recordsPerPage,\n                    total_items: this.collection.totalRecordsFound,\n                    total_pages: Math.ceil(this.collection.totalRecordsFound / this.collection.recordsPerPage)\n                });\n            },\n            'Order.History.Results': function () {\n                var self = this, records_collection = new Backbone.Collection(this.collection.map(function (order) {\n                        var dynamic_column;\n                        if (self.isSCISIntegrationEnabled) {\n                            dynamic_column = {\n                                label: _('Origin:').translate(),\n                                type: 'origin',\n                                name: 'origin',\n                                value: _.findWhere(Configuration.get('transactionRecordOriginMapping'), { origin: order.get('origin') }).name\n                            };\n                        } else {\n                            dynamic_column = {\n                                label: _('Status:').translate(),\n                                type: 'status',\n                                name: 'status',\n                                value: order.get('status').name\n                            };\n                        }\n                        var columns = [\n                            {\n                                label: _('Date:').translate(),\n                                type: 'date',\n                                name: 'date',\n                                value: order.get('trandate')\n                            },\n                            {\n                                label: _('Amount:').translate(),\n                                type: 'currency',\n                                name: 'amount',\n                                value: order.get('amount_formatted')\n                            }\n                        ];\n                        if (!_.isUndefined(dynamic_column)) {\n                            columns.push(dynamic_column);\n                        }\n                        var model = new Backbone.Model({\n                            title: new Handlebars.SafeString(_('<span class=\"tranid\">$(0)</span>').translate(order.get('tranid'))),\n                            touchpoint: 'customercenter',\n                            detailsURL: '/purchases/view/' + order.get('recordtype') + '/' + order.get('internalid'),\n                            recordType: order.get('recordtype'),\n                            id: order.get('internalid'),\n                            internalid: order.get('internalid'),\n                            trackingNumbers: order.get('trackingnumbers'),\n                            columns: columns\n                        });\n                        return model;\n                    }));\n                return new BackboneCollectionView({\n                    childView: RecordViewsActionableView,\n                    collection: records_collection,\n                    viewsPerRow: 1,\n                    childViewOptions: {\n                        actionView: OrderHistoryListTrackingNumberView,\n                        actionOptions: {\n                            showContentOnEmpty: true,\n                            contentClass: '',\n                            collapseElements: true\n                        }\n                    }\n                });\n            }\n        }    //@method getContext @return OrderHistory.List.View.Context\n,\n        getContext: function () {\n            //@class OrderHistory.List.View.Context\n            return {\n                //@property {String} pageHeader\n                pageHeader: this.page_header,\n                collectionLengthGreaterThan0: this.collection.length > 0    //@property {Boolean} isLoading\n,\n                isLoading: this.isLoading,\n                showPagination: !!(this.collection.totalRecordsFound && this.collection.recordsPerPage)    // @property {Boolean} showCurrentPage\n,\n                showCurrentPage: this.options.showCurrentPage,\n                showBackToAccount: Configuration.get('siteSettings.sitetype') === 'STANDARD'    //@property {Boolean} isSCISIntegrationEnabled\n,\n                isSCISIntegrationEnabled: this.isSCISIntegrationEnabled,\n                allIsActive: this.options.activeTab === 'all'    //@property {Boolean} openIsActive\n,\n                openIsActive: this.options.activeTab === 'open'    //@property {Boolean} inStoreIsActive\n,\n                inStoreIsActive: this.options.activeTab === 'instore'\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module Transaction.Line.Views\ndefine('Transaction.Line.Views.Cell.Actionable.View', [\n    'Transaction.Line.Views.Price.View',\n    'Transaction.Line.Views.Options.Selected.View',\n    'ProductLine.Stock.View',\n    'ProductLine.Sku.View',\n    'ProductLine.StockDescription.View',\n    'Transaction.Line.Views.Tax',\n    'Backbone.CollectionView',\n    'Backbone.CompositeView',\n    'transaction_line_views_cell_actionable.tpl',\n    'Backbone',\n    'underscore'\n], function (TransactionLineViewsPriceView, TransactionLineViewsOptionsSelectedView, ProductLineStockView, ProductLineSkuView, ProductLineStockDescriptionView, TransactionLineViewsTax, BackboneCollectionView, BackboneCompositeView, transaction_line_views_cell_actionable_tpl, Backbone, _) {\n    'use strict';\n    //@class Transaction.Line.Views.Actionable.View @extend Backbone.View\n    return Backbone.View.extend({\n        template: transaction_line_views_cell_actionable_tpl    //@method initialize\n                                                      //@param {Transaction.Line.Views.Cell.Actionable.Initialize.Options} options\n                                                      //@return {Void}\n,\n        initialize: function () {\n            BackboneCompositeView.add(this);\n        },\n        childViews: {\n            'Item.Price': function () {\n                return new TransactionLineViewsPriceView({\n                    model: this.model,\n                    showComparePrice: this.options.showComparePrice\n                });\n            },\n            'Item.Sku': function () {\n                return new ProductLineSkuView({ model: this.model });\n            },\n            'Item.Tax.Info': function () {\n                if (this.options.showTaxDetails) {\n                    return new TransactionLineViewsTax({ model: this.model });\n                }\n            },\n            'Item.SelectedOptions': function () {\n                return new TransactionLineViewsOptionsSelectedView({ model: this.model });\n            },\n            'ItemViews.Stock.View': function () {\n                return new ProductLineStockView({ model: this.model });\n            },\n            'Item.Summary.View': function () {\n                return new this.options.SummaryView(_.extend({\n                    model: this.model,\n                    application: this.options.application\n                }, this.options.summaryOptions || {}));\n            },\n            'Item.Actions.View': function () {\n                return new this.options.ActionsView(_.extend({\n                    model: this.model,\n                    application: this.options.application\n                }, this.options.actionsOptions || {}));\n            },\n            'StockDescription': function () {\n                return new ProductLineStockDescriptionView({ model: this.model });\n            }\n        }    //@method getContext\n             //@return {Transaction.Line.Views.Actionable.View.Context}\n,\n        getContext: function () {\n            var item = this.model.get('item');\n            //@class Transaction.Line.Views.Actionable.View.Context\n            return {\n                //@property {OrderLine.Model|Transaction.Line.Model} line\n                line: this.model,\n                model: this.model,\n                lineId: this.model.get('internalid')    //@property {Item.Model} item\n,\n                item: item    //@property {String} itemId\n,\n                itemId: item.get('internalid')    //@property {String} linkAttributes\n,\n                linkAttributes: this.model.getFullLink({\n                    quantity: null,\n                    location: null,\n                    fulfillmentChoice: null\n                })    //@property {Boolean} isNavigable\n,\n                isNavigable: !!this.options.navigable && !!item.get('_isPurchasable')    //@property {Boolean} showCustomAlert\n,\n                showCustomAlert: !!item.get('_cartCustomAlert')    //@property {String} customAlertType\n,\n                customAlertType: item.get('_cartCustomAlertType') || 'info'    //@property {Boolean} showActionsView\n,\n                showActionsView: !!this.options.ActionsView,\n                showSummaryView: !!this.options.SummaryView,\n                showAlert: !_.isUndefined(this.options.showAlert) ? !!this.options.showAlert : true    //@property {Boolean} showGeneralClass\n,\n                showGeneralClass: !!this.options.generalClass,\n                generalClass: this.options.generalClass,\n                thumbnail: this.model.getThumbnail()    // @property {Boolean} isFreeGift\n,\n                isFreeGift: this.model.get('free_gift') === true\n            };    //@class Transaction.Line.Views.Actionable.View\n        }\n    });\n});    //@class Transaction.Line.Views.Cell.Actionable.Initialize.Options\n       //@property {Transaction.Line.Model} model\n       //@property {String} generalClass Class name used in the generated HTML\n       //@property {Backbone.View} SummaryView View to show details\n       //@property {Backbone.View} ActionsView View to show actions buttons\n       //@property {Object} actionsOptions Any object used to extend the options sent to the Action View\n       //@property {Object} summaryOptions Any object used to extend the options sent to the Summary View\n       //@property {Boolean} navigable\n       //@property {Boolean} showAlert Indicate if a place holder is added in the final HTML, used when the action can generate errors\n       //@property {ApplicationSkeleton} application\n       //@property {Boolean} hideComparePrice Property used to bypass to the TransactionLineViewsPriceView\n","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module OrderHistory\ndefine('OrderHistory.Item.Actions.View', [\n    'order_history_item_actions.tpl',\n    'Backbone',\n    'Utils'\n], function (order_history_item_actions_tpl, Backbone) {\n    'use strict';\n    //@class OrderHistory.Item.Actions.View @extend Backbone.View\n    return Backbone.View.extend({\n        //@property {Function} template\n        template: order_history_item_actions_tpl    //@method getContext @return OrderHistory.Item.Actions.View.Context\n,\n        getContext: function () {\n            var line = this.model, item = line.get('item');\n            //@class OrderHistory.Item.Actions.View.Context\n            return {\n                //@property {Model} line\n                line: line    //@property {String} lineId\n,\n                lineId: line.get('internalid') || line.get('id')    //@property {Boolean} showActions\n,\n                showActions: !!line.get('item').get('_isPurchasable') && item.get('itemtype') !== 'GiftCert' && line.get('free_gift') !== true    //@property {String} itemURL\n,\n                itemURL: item.get('_url')    //@property {String} itemSKU\n,\n                itemSKU: item.get('_sku')    //@property {String} itemParentId\n,\n                itemParentId: item.get('parent_internalid')    //@property {String} lineFormatOptions\n,\n                lineFormatOptions: line.format_options,\n                itemId: item.get('_id')    //@property {Boolean} isQuantityGreaterThan1\n,\n                isQuantityGreaterThan1: line.quantity > 1\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module ItemViews\ndefine('Transaction.Line.Views.QuantityAmount.View', [\n    'transaction_line_views_quantity_amount.tpl',\n    'Backbone'\n], function (transaction_line_views_quantity_amount_tpl, Backbone) {\n    'use strict';\n    //@class ItemViews.Item.QuantityAmount.View @extend Backbone.View\n    return Backbone.View.extend({\n        template: transaction_line_views_quantity_amount_tpl    //@method getContext @return {ItemViews.Item.QuantityAmount.View.Context}\n,\n        getContext: function () {\n            //@class ItemViews.Item.QuantityAmount.View.Context\n            return {\n                //@property {Model} line\n                line: this.model,\n                lineId: this.model.get('internalid')    //@property {Boolean} showQuantity\n,\n                showQuantity: this.model.get('item').get('_itemType') !== 'Discount'    //@property {Boolean} showDiscount\n,\n                showDiscount: !!this.model.get('discount')    //@property {Boolean} showAmount\n,\n                showAmount: !!this.model.get('amount')\n            };    //@class ItemViews.Item.QuantityAmount.View\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module OrderHistory\ndefine('OrderHistory.Payments.View', [\n    'SC.Configuration',\n    'GlobalViews.FormatPaymentMethod.View',\n    'Transaction.Model',\n    'Backbone.CollectionView',\n    'order_history_payments.tpl',\n    'Backbone.CompositeView',\n    'Backbone',\n    'underscore',\n    'Utils'\n], function (Configuration, GlobalViewsFormatPaymentMethodView, TransactionModel, BackboneCollectionView, order_history_payments, BackboneCompositeView, Backbone, _) {\n    'use strict';\n    //@class OrderHistory.Payments.View @extend Backbone.View\n    return Backbone.View.extend({\n        //@property {Function} template\n        template: order_history_payments,\n        initialize: function (options) {\n            this.application = options.application;\n            this.index = options.index;\n            this.is_basic = options.is_basic;\n            this.recordtype = options.recordtype;\n            BackboneCompositeView.add(this);\n        },\n        childViews: {\n            FormatPaymentMethod: function () {\n                if (this.model.get('paymentmethod')) {\n                    return new GlobalViewsFormatPaymentMethodView({ model: new Backbone.Model(this.model.get('paymentmethod')) });\n                }\n            }\n        }    //@method formatData @return TransactionModel\n,\n        formatData: function () {\n            var is_invoice = this.recordtype === 'CustInvc' || this.recordtype === 'invoice', hide_link = '', link = '', recordtype = this.model.get('recordtype');\n            switch (recordtype) {\n            case 'cashsale':\n                hide_link = this.is_basic && is_invoice;\n                link = is_invoice ? this.is_basic ? undefined : 'invoices/' + this.model.get('internalid') : link = this.is_basic ? undefined : '/receiptshistory/view/' + this.model.get('internalid');\n                this.model.set('dataType', is_invoice && !this.is_basic ? 'invoice' : 'receipt');\n                this.model.set('paymentLabel', is_invoice ? _('Invoice').translate() : _('Receipt').translate());\n                break;\n            case 'customerpayment':\n                hide_link = this.is_basic;\n                link = this.is_basic ? undefined : '/transactionhistory/' + recordtype + '/' + this.model.get('internalid');\n                this.model.set('paymentLabel', _('Payment').translate());\n                break;\n            }\n            this.model.get('appliedtoforeignamount_formatted') ? false : this.model.set('appliedtoforeignamount_formatted', this.model.get('amount_formatted'));\n            this.model.set('showLink', !hide_link);\n            this.model.set('link', link);\n            return this.model;\n        }    //@method getContext @return OrderHistory.Payments.View\n,\n        getContext: function () {\n            //@class OrderHistory.Payments.View.Context\n            return {\n                model: this.formatData(),\n                isPair: this.index === 0 || this.index % 2 === 0,\n                firstChild: this.index === 0\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module OrderHistory\ndefine('OrderHistory.Other.Payments.View', [\n    'order_history_other_payments.tpl',\n    'Transaction.Collection',\n    'Backbone',\n    'underscore'\n], function (order_history_other_payments_tpl, TransactionCollection, Backbone, _) {\n    'use strict';\n    //@class OrderHistory.Other.Payments.View @extend Backbone.View\n    return Backbone.View.extend({\n        //@property {Function} template\n        template: order_history_other_payments_tpl,\n        initialize: function (options) {\n            this.creditMemos = options.credit_memos;\n            this.depositApplications = options.deposit_applications;\n            this.show_links = options.show_links;\n        }    //@method getContext @return OrderHistory.Other.Payments.Context\n,\n        getContext: function () {\n            return {\n                creditMemos: this.creditMemos,\n                depositApplications: this.depositApplications,\n                showCreditMemos: this.creditMemos && this.creditMemos.length > 0,\n                showDepositApplications: this.depositApplications && this.depositApplications.length > 0,\n                showLinks: !this.show_links,\n                showPayments: _.some(this.creditMemos) || _.some(this.depositApplications)\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module OrderHistory\ndefine('OrderHistory.ReturnAutorization.View', [\n    'Backbone.CompositeView',\n    'Backbone.CollectionView',\n    'Transaction.Line.Views.Cell.Navigable.View',\n    'order_history_return_authorization.tpl',\n    'Backbone',\n    'underscore',\n    'Utils'\n], function (BackboneCompositeView, BackboneCollectionView, TransactionLineViewsCellNavigableView, order_history_return_authorization_tpl, Backbone, _) {\n    'use strict';\n    //@class OrderHistory.ReturnAutorization.View @extend Backbone.View\n    return Backbone.View.extend({\n        //@property {Function} template\n        template: order_history_return_authorization_tpl    //@method initialize\n,\n        initialize: function () {\n            BackboneCompositeView.add(this);\n        }    //@property {Object} childViews\n,\n        childViews: {\n            'Items.Collection': function () {\n                return new BackboneCollectionView({\n                    collection: this.model.get('lines'),\n                    childView: TransactionLineViewsCellNavigableView,\n                    viewsPerRow: 1,\n                    childViewOptions: {\n                        navigable: true,\n                        detail1Title: _('Qty:').translate(),\n                        detail1: 'quantity',\n                        detail3Title: _('Amount:').translate(),\n                        detail3: 'total_formatted'\n                    }\n                });\n            }\n        }    //@method getContext @return OrderHistory.ReturnAutorization.View.Context\n,\n        getContext: function () {\n            //@class OrderHistory.ReturnAutorization.View.Context\n            return {\n                //@property {Model} model\n                model: this.model,\n                showLink: !!this.model.get('tranid')\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module OrderHistory\ndefine('OrderHistory.Packages.View', [\n    'Backbone.CompositeView',\n    'Backbone.CollectionView',\n    'Address.Details.View',\n    'Transaction.Line.Views.Cell.Actionable.View',\n    'OrderHistory.List.Tracking.Number.View',\n    'Transaction.Line.Views.QuantityAmount.View',\n    'OrderHistory.Item.Actions.View',\n    'TrackingServices',\n    'Location.VenueDetails.View',\n    'SC.Configuration',\n    'Profile.Model',\n    'order_history_packages.tpl',\n    'Backbone',\n    'underscore',\n    'Utils'\n], function (BackboneCompositeView, BackboneCollectionView, AddressView, TransactionLineViewsCellActionableView, OrderHistoryListTrackingNumberView, TransactionLineViewsQuantityAmountView, OrderHistoryItemActionsView, TrackingServices, LocationVenueDetailsView, Configuration, ProfileModel, order_history_packages_tpl, Backbone, _, Utils) {\n    'use strict';\n    //@class OrderHistory.Packages.View @extend Backbone.View\n    return Backbone.View.extend({\n        //@property {Function} template\n        template: order_history_packages_tpl    //@method initialize\n,\n        initialize: function () {\n            this.isInStore = false;\n            if (this.model.get('packageGroup') === 'instore') {\n                this.location = this.model.get('location');\n                this.profile_model = ProfileModel.getInstance();\n                try {\n                    var ReferenceMap = Utils.requireModules('ReferenceMap');\n                    this.reference_map = new ReferenceMap();\n                } catch (e) {\n                    e;\n                }\n                this.isInStore = true;\n                BackboneCompositeView.add(this);\n                this.location.on('change', this.render, this);\n            } else {\n                this.address = this.model.get('shipaddress');\n                BackboneCompositeView.add(this);\n            }\n        }    //@property {Object} childViews\n,\n        childViews: {\n            'Address.StoreLocationInfo': function () {\n                return new LocationVenueDetailsView({\n                    model: this.location,\n                    application: this.options.application,\n                    showAddress: true,\n                    hideCutoffTime: true\n                });\n            },\n            'Shipping.Address.View': function () {\n                if (!this.isInStore) {\n                    return new AddressView({\n                        model: this.address,\n                        hideDefaults: true,\n                        hideActions: true\n                    });\n                }\n            },\n            'TrackingNumbers': function () {\n                return new OrderHistoryListTrackingNumberView({\n                    model: new Backbone.Model({ trackingNumbers: this.model.get('trackingnumbers') }),\n                    showTrackPackagesLabel: true\n                });\n            },\n            'Items.Collection': function () {\n                return new BackboneCollectionView({\n                    collection: this.model.get('lines'),\n                    childView: TransactionLineViewsCellActionableView,\n                    viewsPerRow: 1,\n                    childViewOptions: {\n                        navigable: true,\n                        application: this.options.application,\n                        SummaryView: TransactionLineViewsQuantityAmountView,\n                        ActionsView: OrderHistoryItemActionsView,\n                        showTaxDetails: Configuration.get('showTaxDetailsPerLine')\n                    }\n                });\n            }\n        }    //@method getContext @return OrderHistory.Packages.View.Context\n,\n        getContext: function () {\n            var directions_url = '';\n            if (this.reference_map && this.location && !this.location.isNew() && this.location.get('location')) {\n                directions_url = this.reference_map.getDirectionsUrl(this.profile_model.get('storeLocator_last_search'), this.location.get('location'));\n            }\n            //@class OrderHistory.Packages.View.Context\n            return {\n                //@property {Model} model\n                model: this.model,\n                showOrderAddress: !!(this.address && this.address.get('fullname'))    //@property {String} orderAddress\n,\n                orderAddress: this.address ? this.address.get('fullname') : ''    //@property {Boolean} showDeliveryMethod\n,\n                showDeliveryMethod: !!(this.model.get('shipmethod') && this.model.get('shipmethod').get('name'))    //@property {String} deliveryMethodName\n,\n                deliveryMethodName: this.model.get('shipmethod') ? this.model.get('shipmethod').get('name') : ''    //@property {Boolean} showDeliverySatatus\n,\n                showDeliveryStatus: !this.isInStore && !!(this.model.get('status') && this.model.get('status').internalid) && !this.model.get('date')    //@property {Boolean} showPackageStatus\n,\n                showPackageStatus: !!(this.model.get('status') && this.model.get('status').name) && !this.model.get('date')    //@property {String} packageStatus\n,\n                packageStatus: this.model.get('status') && this.model.get('status').name,\n                showDate: !!this.model.get('date')    //@property {Boolean} showTrackingNumbers\n,\n                showTrackingNumbers: !!this.model.get('trackingnumbers')    //@property {Boolean} isPackageInStore\n,\n                isPackageInStore: this.isInStore,\n                date: this.model.get('date') ? this.model.get('date') : ''    //@property {Number} linesItemsAmount\n,\n                linesItemsAmount: !!this.model.get('lines') && _.reduce(this.model.get('lines'), function (count, line) {\n                    return count + line.get('quantity');\n                }, 0)    //@property {Boolean} showOrderLocation\n,\n                showOrderLocation: !!this.location && !!this.location.get('name')    //@property {StoreLocator.Model} orderLocation\n,\n                orderLocation: this.location,\n                getDirectionsUrl: directions_url    //@property {String} showGetDirectionButton\n,\n                showGetDirectionButton: !!directions_url    //@property {String} initiallyCollapsed\n,\n                initiallyCollapsed: _.isPhoneDevice() ? '' : 'in'    //@property {String} initiallyCollapsedArrow\n,\n                initiallyCollapsedArrow: _.isPhoneDevice() ? 'collapsed' : ''    //@property {String} targetId\n,\n                targetId: this.model.get('internalid')\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@mdoule ReturnAuthorization\ndefine('ReturnAuthorization.GetReturnableLines', ['underscore'], function (_) {\n    'use strict';\n    //Returnable lines calculator.\n    //Constructor\n    //model: Invoice or order model\n    var RetrunableLinesCalculator = function (model, options) {\n        var default_options = { notConsiderFulfillments: false };\n        this.options = _.extend(default_options, options);\n        //We calculate the the group of returnable lines from invoices and placed orders\n        this.createdFrom = model;\n        //hash containing the ids of the lines that are returnable\n        //The control over returnable lines is made based on the quantity of each line after the fullfiles lines and already returned lines is substracted\n        this.line_ids = {};\n    };\n    //@class ReturnAuthorization.GetReturnableLines\n    _.extend(RetrunableLinesCalculator.prototype, {\n        //Initialize lines quantities to: 0 so the fullfilments are sumed or  to the quantity of each line\n        initialize: function () {\n            var lines = this.createdFrom.get('lines');\n            lines.each(function (line) {\n                this.line_ids[line.id] = this.options.notConsiderFulfillments ? line.get('quantity') : 0;\n            }, this);\n            return this;\n        }    //calculate from all fulfillments the quantity each line is fulfilled (SUM each quantity to the lines)\n,\n        _setFulfilledQuantities: function () {\n            var created_from = this.createdFrom, lines = created_from.get('lines'), self = this, fullfilments = created_from.get('fulfillments');\n            if (fullfilments) {\n                fullfilments.each(function (fulfillment) {\n                    fulfillment.get('lines').each(function (line) {\n                        var same_line = lines.get(line.get('internalid'));\n                        if (same_line) {\n                            self.line_ids[same_line.id] += parseFloat(line.get('quantity'));\n                        }\n                    });\n                });\n            }\n            return this;\n        }    //calculate for all returns already made the quantty per line that is already returned (SUBSTRACT each quantity to the line ids)\n,\n        _setReturnedQuantities: function () {\n            var created_from = this.createdFrom, self = this, lines = created_from.get('lines');\n            created_from.get('returnauthorizations').each(function (sibling) {\n                if (sibling.get('status').internalid !== 'cancelled') {\n                    sibling.get('lines').each(function (line) {\n                        var item_id = line.get('item').id, same_item_line = lines.find(function (line) {\n                                return line.get('item').id === item_id;\n                            });\n                        //IMPORTANT: Here we sum quatities because the return authirization quantity is negative!\n                        // ans we parse it as the quantity come as a string from the server\n                        if (same_item_line && same_item_line.id && self.line_ids[same_item_line.id]) {\n                            self.line_ids[same_item_line.id] -= parseFloat(line.get('quantity'));\n                        }\n                    });\n                }\n            });\n            return this;\n        }    //based on the current state of the line_ids (call this method last, after all above) removes lines that are not returnable\n             //Returns an object withj two properties; validLines: array of valid line models, and invalidLines: array of invalid line models\n,\n        _setInvalidLines: function () {\n            var valid_lines = [], valid_line_ids_quantities = {}, invalid_lines = [], created_from = this.createdFrom, self = this, lines = created_from.get('lines');\n            _.each(_.keys(this.line_ids), function (line_id) {\n                var original_line = lines.get(line_id);\n                //if the line quantity if greater than 0, it means that there are fulfillments made that are not returned (fulfillment quantity - returned quantity)\n                //item _isReturnable is controlled based on the item type in the itemkey mapping. To sum up:\n                //IF the line has quantity that can be retuned and the item's line is returnable THEN is a valid line to return\n                if (self.line_ids[line_id] && original_line.get('item').get('_isReturnable')) {\n                    valid_lines.push(original_line);\n                    valid_line_ids_quantities[line_id] = self.line_ids[line_id];\n                } else {\n                    invalid_lines.push(original_line);\n                }\n            });\n            return {\n                validLines: valid_lines,\n                invalidLines: invalid_lines,\n                validLineIdsQuantities: valid_line_ids_quantities\n            };\n        }    //based on the current model generates an object with two array of model, valid (returnable) and invalid (nopn-returnable) lines\n,\n        calculateLines: function () {\n            if (!this.options.notConsiderFulfillments) {\n                return this.initialize()._setFulfilledQuantities()._setReturnedQuantities()._setInvalidLines();\n            }\n            return this.initialize()._setReturnedQuantities()._setInvalidLines();\n        }\n    });\n    return RetrunableLinesCalculator;\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module ReturnAuthorization\ndefine('OrderHistory.Cancel.View', [\n    'order_history_cancel.tpl',\n    'Backbone'\n], function (order_history_cancel_tpl, Backbone) {\n    'use strict';\n    //@class ReturnAuthorization.Cancel.View @extend Backbone.Vie\n    return Backbone.View.extend({\n        template: order_history_cancel_tpl,\n        events: { 'click [data-action=\"delete\"]': 'confirm' },\n        initialize: function (options) {\n            this.application = options.application;\n        },\n        confirm: function () {\n            this.model.set('status', 'cancelled', { silent: true });\n            this.model.save();\n        }    //@method getContext @returns OrderHistory.Cancel.View.Context\n,\n        getContext: function () {\n            //@class OrderHistory.Cancel.View.Context\n            return {\n                //@property {OrderHistory.Model} model\n                model: this.model\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module OrderHistory\ndefine('OrderHistory.Summary.View', [\n    'SC.Configuration',\n    'ReturnAuthorization.GetReturnableLines',\n    'OrderHistory.Cancel.View',\n    'Cart.Promocode.List.View',\n    'order_history_summary.tpl',\n    'Backbone',\n    'Backbone.CompositeView',\n    'underscore',\n    'Utils'\n], function (Configuration, ReturnAuthorizationGetReturnableLines, CancelView, CartPromocodeListView, order_history_summary_tpl, Backbone, BackboneCompositeView, _, Utils) {\n    'use strict';\n    //@class OrderHistory.Summary.View @extend Backbone.View\n    return Backbone.View.extend({\n        //@property {Function} template\n        template: order_history_summary_tpl,\n        events: { 'click [data-action=\"cancel\"]': 'cancel' },\n        initialize: function (options) {\n            this.any_line_purchasable = this.isAnyLinePurchasable();\n            this.all_gift_certificates = this.isAllGiftCertificates();\n            this.show_request_return_button = options.show_request_return_button;\n            this.pdfUrl = options.pdfUrl;\n            this.isBasic = options.is_basic;\n            this.application = options.application;\n            BackboneCompositeView.add(this);\n        }    //@method cancel\n,\n        cancel: function () {\n            new CancelView({\n                application: this.application,\n                model: this.model\n            }).showInModal('order');\n        }    //@method isAnyLinePurchasable\n,\n        isAnyLinePurchasable: function () {\n            if (!this.any_line_purchasable) {\n                this.any_line_purchasable = this.model.get('lines').any(function (line) {\n                    return line.get('item').get('_isPurchasable');\n                });\n            }\n            return this.any_line_purchasable;\n        }    //@method getPaidByTerms\n,\n        getPaidByTerms: function () {\n            var terms_id = 0;\n            this.model.get('paymentmethods').each(function (model) {\n                terms_id = model.get('paymentterms') && model.get('paymentterms').internalid;\n            });\n            return terms_id;\n        }    //@method getDownloadPdfUrl @returns {String}\n,\n        getDownloadPdfUrl: function () {\n            var pdfUrl = '';\n            switch (this.model.get('recordtype')) {\n            case 'cashsale':\n                pdfUrl = Utils.getDownloadPdfUrl({\n                    asset: 'cash-sale-details',\n                    id: this.model.get('internalid')\n                });\n                break;\n            case 'salesorder':\n                pdfUrl = Utils.getDownloadPdfUrl({\n                    asset: 'order-details',\n                    id: this.model.get('internalid')\n                });\n                break;\n            case 'invoice':\n                pdfUrl = Utils.getDownloadPdfUrl({\n                    asset: 'invoice-details',\n                    id: this.model.get('internalid')\n                });\n                break;\n            }\n            return pdfUrl;\n        }    //@method isReturnable indicates if the order accepts returns or not\n,\n        isReturnable: function () {\n            if (_.isUndefined(this.isReturnable)) {\n                var not_consider_fulfillments = this.model.get('recordtype') !== 'salesorder', returnable_calculator = new ReturnAuthorizationGetReturnableLines(this.model, { notConsiderFulfillments: not_consider_fulfillments });\n                this.isReturnable = !!(this.model.get('isReturnable') && returnable_calculator.calculateLines().validLines.length);\n            }\n            return this.isReturnable;\n        }    //@method isAllGiftCertificates\n,\n        isAllGiftCertificates: function () {\n            if (!this.all_gift_certificates) {\n                this.all_gift_certificates = this.model.get('lines').all(function (line) {\n                    return line.get('item').get('itemtype') === 'GiftCert';\n                });\n            }\n            return this.all_gift_certificates;\n        },\n        childViews: {\n            'CartPromocodeListView': function () {\n                return new CartPromocodeListView({\n                    model: this.model,\n                    isReadOnly: true\n                });\n            }\n        }    //@method getContext @return OrderHistory.Summary.View.Context\n,\n        getContext: function () {\n            var invoice_model = this.model.get('receipts').findWhere({ recordtype: 'invoice' }), have_terms = this.getPaidByTerms();\n            //@class OrderHistory.Summary.View.Context\n            return {\n                //@property {OrderHistory.Model} model\n                model: this.model,\n                showReorderAllItemsButton: this.any_line_purchasable && !this.all_gift_certificates,\n                showSummaryDiscount: !!this.model.get('summary').discounttotal,\n                showSummaryShippingCost: !!this.model.get('summary').shippingcost,\n                showSummaryPickupCost: !!this.model.get('lines').where({ linegroup: 'instore' }).length,\n                showSummaryHandlingCost: !!this.model.get('summary').handlingcost,\n                showSummaryGiftCertificateTotal: !!this.model.get('summary').giftcertapplied,\n                showSummaryPromocode: !!(this.model.get('promocodes') && this.model.get('promocodes').length)    //@property {Boolean} showViewInvoiceButton\n,\n                showViewInvoiceButton: !!invoice_model && !this.isBasic && !!have_terms    //@property {Object} invoiceModel\n,\n                invoiceModel: invoice_model    //@property {String} pdfUrl\n,\n                pdfUrl: this.getDownloadPdfUrl()    //@property {Boolean} showRequestReturnButton\n,\n                showRequestReturnButton: this.isReturnable()    //@property {Boolean} showCancelButton\n,\n                showCancelButton: this.model.get('isCancelable')    // @property {String} taxLabel\n,\n                taxLabel: !!Configuration.get('summaryTaxLabel') ? Configuration.get('summaryTaxLabel') : 'Tax'\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module OrderHistory\ndefine('OrderHistory.Details.View', [\n    'GlobalViews.FormatPaymentMethod.View',\n    'Backbone.CollectionView',\n    'Address.Details.View',\n    'Transaction.Line.Views.Cell.Actionable.View',\n    'OrderHistory.Item.Actions.View',\n    'Transaction.Line.Views.QuantityAmount.View',\n    'OrderHistory.Payments.View',\n    'OrderHistory.Other.Payments.View',\n    'OrderHistory.ReturnAutorization.View',\n    'OrderHistory.Packages.View',\n    'OrderHistory.Summary.View',\n    'GlobalViews.Message.View',\n    'Backbone.CompositeView',\n    'SC.Configuration',\n    'Transaction.Collection',\n    'Transaction.Model',\n    'order_history_details.tpl',\n    'order_history_packages.tpl',\n    'Backbone',\n    'underscore',\n    'jQuery',\n    'Tracker',\n    'LiveOrder.Model',\n    'bignumber',\n    'Utils'\n], function (GlobalViewsFormatPaymentMethodView, BackboneCollectionView, AddressView, TransactionLineViewsCellActionableView, OrderHistoryItemActionsView, TransactionLineViewsQuantityAmountView, OrderHistoryPayments, OrderHistoryOtherPayments, OrderHistoryReturnAutorizationView, OrderHistoryPackagesView, OrderHistorySummary, GlobalViewsMessageView, BackboneCompositeView, Configuration, TransactionCollection, TransactionModel, order_history_details_tpl, order_history_packages_tpl, Backbone, _, jQuery, Tracker, LiveOrderModel, BigNumber, Utils) {\n    'use strict';\n    //@class OrderHistory.Details.View @extend Backbone.View\n    return Backbone.View.extend({\n        //@property {Function} template\n        template: order_history_details_tpl    //@property {String} title\n,\n        title: _('Purchase Details').translate()    //@property {String} page_header\n,\n        page_header: _('Purchase Details').translate()    //@property {Object} attributes\n,\n        attributes: { 'class': 'OrderDetailsView' }    //@property {Object} events\n,\n        events: {\n            'click [data-action=\"add-to-cart\"]': 'addToCart',\n            'click [data-action=\"go-to-returns\"] a': 'goToReturns'\n        }    //@method initialize\n,\n        initialize: function (options) {\n            this.application = options.application;\n            this.is_basic = !!this.application.getConfig('isBasic');\n            var self = this;\n            this.model.on('change:cancel_response', function (model, response_code) {\n                var message = '', type = '';\n                if (!!response_code) {\n                    if (response_code === 'ERR_ALREADY_APPROVED_STATUS') {\n                        message = _('You cannot cancel this order because it has already been approved.').translate();\n                        type = 'error';\n                    } else if (response_code === 'ERR_ALREADY_CANCELLED_STATUS') {\n                        message = _('This order has already been cancelled.').translate();\n                        type = 'warning';\n                    } else if (response_code === 'OK') {\n                        message = _('The order was successfully cancelled.').translate();\n                        type = 'success';\n                    }\n                    if (message && type) {\n                        self.once('afterViewRender', function () {\n                            self.showError(message, type, true);\n                        });\n                        self.render();\n                    }\n                }\n            });\n            BackboneCompositeView.add(this);\n        }    //@method getReturnAuthorizations\n,\n        getReturnAuthorizations: function () {\n            var return_authorizations = this.model.get('returnauthorizations'), total_lines = 0;\n            return_authorizations.each(function (return_authorization) {\n                total_lines += return_authorization.get('lines') ? return_authorization.get('lines').length : 0;\n            });\n            return_authorizations.totalLines = total_lines;\n            return return_authorizations;\n        }    //@method getRecipts\n,\n        getRecipts: function () {\n            if (!this.receipts) {\n                var receipts_lines = _.values(this.model.get('receipts').models);\n                this.receipts = new TransactionCollection();\n                if (receipts_lines.length) {\n                    this.receipts.add(receipts_lines);\n                }\n            }\n            return this.receipts;\n        }    //@method isAnyLinePurchasable\n,\n        getPayments: function () {\n            return _.where(this.model.get('adjustments'), { recordtype: 'customerpayment' });\n        },\n        getCreditMemos: function () {\n            return _.where(this.model.get('adjustments'), { recordtype: 'creditmemo' });\n        },\n        getDepositApplications: function () {\n            return _.where(this.model.get('adjustments'), { recordtype: 'depositapplication' });\n        }    //@method getSelectedMenu\n,\n        getSelectedMenu: function () {\n            return 'ordershistory';\n        }    //@method getBreadcrumbPages\n,\n        getBreadcrumbPages: function () {\n            return [\n                {\n                    text: _('Purchase History').translate(),\n                    href: '/purchases'\n                },\n                {\n                    text: '#' + this.model.get('tranid'),\n                    href: '/purchases/view/' + this.model.get('recordtype') + '/' + this.model.get('id')\n                }\n            ];\n        }    //@method render\n,\n        render: function () {\n            this.paymentmethod = this.model.get('paymentmethods') && this.model.get('paymentmethods').findWhere({ primary: true });\n            this.billaddress = this.model.get('addresses').get(this.model.get('billaddress'));\n            this.shipaddress = this.model.get('addresses').get(this.model.get('shipaddress'));\n            Backbone.View.prototype.render.apply(this, arguments);\n        }    //@method trackEventReorder\n,\n        trackEventReorder: function (line) {\n            line && Tracker.getInstance().trackEvent({\n                category: 'Reorder',\n                action: 'button',\n                label: line.generateURL(),\n                value: 1\n            });\n        }    //@method addToCart\n,\n        addToCart: function (e) {\n            e.preventDefault();\n            var self = this, line_id = this.$(e.target).data('line-id'), $form = this.$(e.target).closest('[data-type=\"order-item\"]'), $alert_placeholder = $form.find('[data-type=alert-placeholder]'), quantity = this.$(e.target).data('partial-quantity') || this.$(e.target).data('item-quantity'), selected_line = this.model.get('lines').get(line_id);\n            // The 'fulfillmentChoice' for reorders must be setted to 'ship'\n            if (selected_line.get('fulfillmentChoice')) {\n                selected_line.set('fulfillmentChoice', 'ship');\n            }\n            LiveOrderModel.getInstance().addLine(selected_line).done(function () {\n                self.trackEventReorder(selected_line);\n                //show warning if some options were not set\n                var availableOptions = selected_line.get('item').get('itemoptions_detail').fields;\n                var areMissingOptions = !_.every(selected_line.get('options').models, function (optionModel) {\n                    return _.find(availableOptions, function (availableOption) {\n                        return optionModel.get('cartOptionId') === availableOption.internalid;\n                    });\n                });\n                var message;\n                if (!areMissingOptions) {\n                    message = quantity > 1 ? _('$(0) Items successfully added to <a href=\"#\" data-touchpoint=\"viewcart\">your cart</a><br/>').translate(quantity) : _('Item successfully added to <a href=\"#\" data-touchpoint=\"viewcart\">your cart</a><br/>').translate();\n                } else {\n                    message = quantity > 1 ? _('$(0) Items were added to <a href=\"#\" data-touchpoint=\"viewcart\">your cart</a> with variants<br/>').translate(quantity) : _('Item was added to <a href=\"#\" data-touchpoint=\"viewcart\">your cart</a> with variants<br/>').translate();\n                }\n                var alert = new GlobalViewsMessageView({\n                    message: message,\n                    type: areMissingOptions ? 'warning' : 'success',\n                    closable: true\n                });\n                alert.show($alert_placeholder, 6000);\n            });\n        }    //@method goToReturns scroll the page up to the order's return\n,\n        goToReturns: function (e) {\n            e.preventDefault();\n            var $return_authorizations_header = this.$('[data-target=\"#returns-authorizations\"]').first();\n            this.$('#returns-authorizations').first().collapse('show');\n            jQuery('html, body').animate({ scrollTop: $return_authorizations_header.offset().top }, 500);\n        }    //@method getNonShippableItems\n             //@return {Array<Transaction.Line.Model>}\n,\n        getNonShippableLines: function () {\n            return this.model.get('lines').where({ linegroup: 'nonshippable' });\n        }    //@method getInStoreLines\n             //@return {Array<Transaction.Line.Model>}\n,\n        getInStoreLines: function () {\n            return this.model.get('lines').where({ linegroup: 'instore' });\n        }    //@method getShippableLines Gets all line that have a linegroup as shippable\n             //@return {Array<Transaction.Line.Model>}\n,\n        getShippableLines: function () {\n            return this.model.get('lines').where({ linegroup: 'shippable' });\n        },\n        getOrderPackages: function () {\n            var shippable_packages = this.getShippablePackages(), instore_packages = this.getInstorePackages();\n            return shippable_packages.concat(instore_packages);\n        },\n        getShippablePackages: function () {\n            var self = this, shippable_lines = this.getShippableLines(), is_multi_ship_to = this.model.get('ismultishipto'), ship_groups = {}, amount = 0;\n            _.each(shippable_lines || [], function (line) {\n                if (line.get('quantitybackordered') || line.get('quantitypicked') || line.get('quantitypacked')) {\n                    var shipaddress = is_multi_ship_to ? line.get('shipaddress') : self.model.get('shipaddress'), shipmethod = is_multi_ship_to ? line.get('shipmethod') : self.model.get('shipmethod');\n                    if (line.get('quantitybackordered')) {\n                        var pending_line;\n                        if (line.get('quantitypacked') === line.get('quantity')) {\n                            pending_line = line;\n                        } else {\n                            pending_line = line.clone();\n                            pending_line.set('item', line.get('item').attributes);\n                            pending_line.set('quantity', line.get('quantitybackordered'));\n                            amount = new BigNumber(line.get('rate')).times(pending_line.get('quantity')).toNumber();\n                            pending_line.set('amount', amount);\n                            pending_line.set('amount_formatted', Utils.formatCurrency(amount));\n                        }\n                        var key_pending = [\n                            shipaddress,\n                            shipmethod,\n                            'pending'\n                        ].join('-');\n                        ship_groups[key_pending] = ship_groups[key_pending] || {\n                            internalid: key_pending,\n                            shipaddress: self.model.get('addresses').findWhere({ internalid: shipaddress }),\n                            shipmethod: self.model.get('shipmethods').findWhere({ internalid: shipmethod }),\n                            packageGroup: 'ship',\n                            status: {\n                                internalid: 'pending',\n                                name: _('Pending shipment').translate()\n                            },\n                            lines: []\n                        };\n                        ship_groups[key_pending].lines.push(pending_line);\n                    }\n                    if (line.get('quantitypicked') || line.get('quantitypacked')) {\n                        var picked_packed_line;\n                        var quantity = 0;\n                        if (line.get('quantitypicked')) {\n                            quantity += line.get('quantitypicked');\n                        }\n                        if (line.get('quantitypacked')) {\n                            quantity += line.get('quantitypacked');\n                        }\n                        if (quantity === line.get('quantity')) {\n                            picked_packed_line = line;\n                        } else {\n                            picked_packed_line = line.clone();\n                            picked_packed_line.set('quantity', quantity);\n                            amount = new BigNumber(line.get('rate')).times(picked_packed_line.get('quantity')).toNumber();\n                            picked_packed_line.set('amount', amount);\n                            picked_packed_line.set('amount_formatted', Utils.formatCurrency(amount));\n                            picked_packed_line.set('item', line.get('item').attributes);\n                        }\n                        var key_processing = [\n                            shipaddress,\n                            shipmethod,\n                            'processing'\n                        ].join('-');\n                        ship_groups[key_processing] = ship_groups[key_processing] || {\n                            internalid: key_processing,\n                            shipaddress: self.model.get('addresses').findWhere({ internalid: shipaddress }),\n                            shipmethod: self.model.get('shipmethods').findWhere({ internalid: shipmethod }),\n                            packageGroup: 'ship',\n                            status: {\n                                internalid: 'picked_packed',\n                                name: _('Processing shipment').translate()\n                            },\n                            lines: []\n                        };\n                        ship_groups[key_processing].lines.push(picked_packed_line);\n                    }\n                }\n            });\n            this.model.get('fulfillments').each(function (fulfillment) {\n                var shipaddress = self.model.get('addresses').findWhere({ internalid: fulfillment.get('shipaddress') }), shipmethod = self.model.get('shipmethods').findWhere({ internalid: fulfillment.get('shipmethod') });\n                fulfillment.set('shipaddress', shipaddress);\n                fulfillment.set('shipmethod', shipmethod);\n                var lines = _.compact(fulfillment.get('lines').map(function (line) {\n                    var fulfilled_line, original_line = self.model.get('lines').get(line.get('internalid'));\n                    if (original_line && original_line.get('linegroup') === 'shippable')\n                        //ignore instore lines\n                        {\n                            if (original_line.get('quantity') === line.get('fulfilled')) {\n                                fulfilled_line = original_line;\n                            } else {\n                                fulfilled_line = original_line.clone();\n                                fulfilled_line.set('quantity', line.get('quantity'));\n                                amount = new BigNumber(original_line.get('rate')).times(fulfilled_line.get('quantity')).toNumber();\n                                fulfilled_line.set('amount', amount);\n                                fulfilled_line.set('amount_formatted', Utils.formatCurrency(amount));\n                                fulfilled_line.set('item', original_line.get('item'), { silent: true });\n                            }\n                            return fulfilled_line;\n                        }\n                }));\n                if (lines.length) {\n                    ship_groups[fulfillment.get('internalid')] = ship_groups[fulfillment.get('internalid')] || {\n                        internalid: fulfillment.get('internalid'),\n                        shipaddress: shipaddress,\n                        shipmethod: shipmethod,\n                        packageGroup: 'ship',\n                        status: {\n                            internalid: 'shipped',\n                            name: _('Shipped').translate()\n                        },\n                        date: fulfillment.get('date'),\n                        trackingnumbers: fulfillment.get('trackingnumbers'),\n                        lines: []\n                    };\n                    ship_groups[fulfillment.get('internalid')].lines = lines;\n                }\n            });\n            return _.values(ship_groups);\n        },\n        getInstorePackages: function () {\n            var instore_lines = this.getInStoreLines(), instore_groups = {}, amount = 0;\n            _.each(instore_lines || [], function (line) {\n                if (line.get('quantitybackordered') || line.get('quantitypicked') || line.get('quantityfulfilled')) {\n                    var location = line.get('location');\n                    if (line.get('quantitybackordered')) {\n                        var pending_line;\n                        if (line.get('quantitypacked') === line.get('quantity')) {\n                            pending_line = line;\n                        } else {\n                            pending_line = line.clone();\n                            pending_line.set('item', line.get('item').attributes);\n                            pending_line.set('quantity', line.get('quantitybackordered'));\n                            amount = new BigNumber(line.get('rate')).times(pending_line.get('quantity')).toNumber();\n                            pending_line.set('amount', amount);\n                            pending_line.set('amount_formatted', Utils.formatCurrency(amount));\n                        }\n                        var key_pending = [\n                            location.get('internalid'),\n                            'pending'\n                        ].join('-');\n                        instore_groups[key_pending] = instore_groups[key_pending] || {\n                            internalid: key_pending,\n                            location: location,\n                            packageGroup: 'instore',\n                            status: {\n                                internalid: 'pending',\n                                name: _('Preparing order').translate()\n                            },\n                            lines: []\n                        };\n                        instore_groups[key_pending].lines.push(pending_line);\n                    }\n                    if (line.get('quantitypicked')) {\n                        var picked_line;\n                        if (line.get('quantitypicked') === line.get('quantity')) {\n                            picked_line = line;\n                        } else {\n                            picked_line = line.clone();\n                            picked_line.set('quantity', line.get('quantitypicked'));\n                            amount = new BigNumber(line.get('rate')).times(picked_line.get('quantity')).toNumber();\n                            picked_line.set('amount', amount);\n                            picked_line.set('amount_formatted', Utils.formatCurrency(amount));\n                            picked_line.set('item', line.get('item').attributes);\n                        }\n                        var key_picked = [\n                            location.get('internalid'),\n                            'picked'\n                        ].join('-');\n                        instore_groups[key_picked] = instore_groups[key_picked] || {\n                            internalid: key_picked,\n                            location: location,\n                            packageGroup: 'instore',\n                            status: {\n                                internalid: 'picked',\n                                name: _('Ready to pick up').translate()\n                            },\n                            lines: []\n                        };\n                        instore_groups[key_picked].lines.push(picked_line);\n                    }\n                    if (line.get('quantityfulfilled')) {\n                        var pickedup_line;\n                        if (line.get('quantityfulfilled') === line.get('quantity')) {\n                            pickedup_line = line;\n                        } else {\n                            pickedup_line = line.clone();\n                            pickedup_line.set('quantity', line.get('quantityfulfilled'));\n                            amount = new BigNumber(line.get('rate')).times(pickedup_line.get('quantity')).toNumber();\n                            pickedup_line.set('amount', amount);\n                            pickedup_line.set('amount_formatted', Utils.formatCurrency(amount));\n                            pickedup_line.set('item', line.get('item').attributes);\n                        }\n                        var key_pickedup = [\n                            location.get('internalid'),\n                            'pickedup'\n                        ].join('-');\n                        instore_groups[key_pickedup] = instore_groups[key_pickedup] || {\n                            internalid: key_pickedup,\n                            location: location,\n                            packageGroup: 'instore',\n                            status: {\n                                internalid: 'pickedup',\n                                name: _('Picked up').translate()\n                            },\n                            lines: []\n                        };\n                        instore_groups[key_pickedup].lines.push(pickedup_line);\n                    }\n                }\n            });\n            return _.values(instore_groups);\n        }    //@property {Object} childViews\n,\n        childViews: {\n            'FormatPaymentMethod': function () {\n                return new GlobalViewsFormatPaymentMethodView({ model: this.paymentmethod });\n            },\n            'Billing.Address.View': function () {\n                return new AddressView({\n                    model: this.billaddress,\n                    hideDefaults: true,\n                    hideActions: true\n                });\n            },\n            'NonShippableLines': function () {\n                return new BackboneCollectionView({\n                    collection: this.non_shippable_lines || this.getNonShippableLines(),\n                    childView: TransactionLineViewsCellActionableView,\n                    viewsPerRow: 1,\n                    childViewOptions: {\n                        navigable: true,\n                        application: this.application,\n                        SummaryView: TransactionLineViewsQuantityAmountView,\n                        ActionsView: OrderHistoryItemActionsView\n                    }\n                });\n            },\n            'ReturnAutorization': function () {\n                return new BackboneCollectionView({\n                    collection: this.getReturnAuthorizations(),\n                    childView: OrderHistoryReturnAutorizationView,\n                    viewsPerRow: 1\n                });\n            },\n            'Payments': function () {\n                return new BackboneCollectionView({\n                    collection: this.getPayments(),\n                    childView: OrderHistoryPayments,\n                    childViewOptions: {\n                        application: this.application,\n                        is_basic: this.is_basic,\n                        recordtype: this.model.get('recordtype')\n                    }\n                });\n            },\n            'OtherPayments': function () {\n                return new OrderHistoryOtherPayments({\n                    credit_memos: this.getCreditMemos(),\n                    deposit_applications: this.getDepositApplications(),\n                    show_links: this.is_basic\n                });\n            },\n            'Summary': function () {\n                return new OrderHistorySummary({\n                    model: this.model,\n                    application: this.application,\n                    is_basic: this.is_basic\n                });\n            },\n            'OrderPackages': function () {\n                return new BackboneCollectionView({\n                    collection: this.getOrderPackages(),\n                    childView: OrderHistoryPackagesView,\n                    cellTemplate: order_history_packages_tpl,\n                    viewsPerRow: 1,\n                    childViewOptions: { application: this.application }\n                });\n            }\n        }    //@method getContext @returns OrderHistory.Details.View.Context\n,\n        getContext: function () {\n            this.isInStore = this.model.get('origin') === _.findWhere(Configuration.get('transactionRecordOriginMapping'), { id: 'inStore' }).origin;\n            this.accordionLimit = Configuration.accordionCollapseLimit;\n            this.non_shippable_lines = this.getNonShippableLines();\n            this.in_store_lines = this.getInStoreLines();\n            var return_authorizations = this.getReturnAuthorizations(), order_ship_method = this.model.get('shipmethod'), delivery_method_name = '', status = this.model.get('status'), created_from = this.model.get('createdfrom');\n            if (order_ship_method && this.model.get('shipmethods')._byId[order_ship_method]) {\n                delivery_method_name = this.model.get('shipmethods')._byId[order_ship_method].getFormattedShipmethod();\n            } else if (order_ship_method && order_ship_method.name) {\n                delivery_method_name = order_ship_method.name;\n            }\n            //@class OrderHistory.Details.View.Context\n            return {\n                //@property {OrderHistory.Model} model\n                model: this.model,\n                showNonShippableLines: !!this.non_shippable_lines.length,\n                showNonShippableLinesAccordion: this.non_shippable_lines.length > this.accordionLimit,\n                nonShippableLines: this.non_shippable_lines,\n                nonShippableLinesLengthGreaterThan1: this.non_shippable_lines.length > 1    //@property {Boolean} showNonShippableItems\n,\n                showInStoreLines: !!this.in_store_lines.length,\n                showInStoreLinesAccordion: this.in_store_lines.length > this.accordionLimit,\n                inStoreItems: this.in_store_lines,\n                inStoreLinesLengthGreaterThan1: this.in_store_lines.length > 1    //@property {Transaction.Line.Collection} lines\n,\n                lines: this.model.get('lines')    //@property {Boolean} collapseElements\n,\n                collapseElements: this.application.getConfig('sca.collapseElements')    //@property {Address.Model} billAddress\n,\n                showBillAddress: !!this.billaddress,\n                showOrderShipAddress: !!this.model.get('shipaddress')    //@property {Address.Model} orderShipaddress\n,\n                orderShipaddress: this.model.get('shipaddress') ? this.model.get('addresses').get(this.model.get('shipaddress')) : null    //@property {Boolean} showReturnAuthorizations\n,\n                showReturnAuthorizations: !!return_authorizations.length,\n                returnAuthorizations: return_authorizations    //@property {String} deliveryMethodName\n,\n                deliveryMethodName: delivery_method_name || ''    //@property {Boolean} showDeliveryMethod\n,\n                showDeliveryMethod: !!delivery_method_name    //@property {Boolean} isInStore\n,\n                isInStore: this.isInStore,\n                showPaymentMethod: !this.getPayments().length,\n                initiallyCollapsed: _.isPhoneDevice() ? '' : 'in'    //@property {Boolean} initiallyCollapsedArrow\n,\n                initiallyCollapsedArrow: _.isPhoneDevice() ? 'collapsed' : ''    //@property {String} originName\n,\n                originName: _.findWhere(Configuration.get('transactionRecordOriginMapping'), { origin: this.model.get('origin') }).name,\n                title: _.findWhere(Configuration.get('transactionRecordOriginMapping'), { origin: this.model.get('origin') }).detailedName,\n                showPaymentEventFail: this.model.get('paymentevent').holdreason === 'FORWARD_REQUESTED' && status.internalid !== 'cancelled' && status.internalid !== 'closed'    //@property {Boolean} showEstimateDetail\n,\n                showQuoteDetail: !!created_from && created_from.name,\n                quoteName: _('Quote #$(0)').translate(created_from.name)    //@property {String} estimateURL\n,\n                quoteURL: created_from && created_from.internalid ? 'quotes/' + created_from.internalid : ''    //@property {Boolean} showPurchaseOrderNumber\n,\n                showPurchaseOrderNumber: !!this.model.get('purchasenumber')\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module OrderHistory\ndefine('OrderHistory.Router', [\n    'OrderHistory.List.View',\n    'OrderHistory.Details.View',\n    'OrderHistory.Model',\n    'OrderHistory.Collection',\n    'AjaxRequestsKiller',\n    'SC.Configuration',\n    'Backbone',\n    'Utils'\n], function (OrderHistoryListView, OrderHistoryDetailsView, OrderHistoryModel, OrderHistoryCollection, AjaxRequestsKiller, Configuration, Backbone, Utils) {\n    'use strict';\n    //@class OrderHistory.Router Router for handling orders @extend Backbone.Router\n    return Backbone.Router.extend({\n        //@property {Object} routes\n        routes: {\n            'purchases': 'listAllPurchases',\n            'purchases?:options': 'listAllPurchases',\n            'purchases/view/:recordtype/:id': 'getPurchaseDetail',\n            'open-purchases': 'listOpenPurchases',\n            'open-purchases?:options': 'listOpenPurchases'\n        }    //@method initialize\n,\n        initialize: function (application) {\n            this.application = application;\n            this.isSCISIntegrationEnabled = Configuration.get('siteSettings.isSCISIntegrationEnabled', false);\n            if (this.isSCISIntegrationEnabled) {\n                this.route('instore-purchases', 'listInStorePurchases');\n                this.route('instore-purchases?:options', 'listInStorePurchases');\n            }\n        }    //@method listAllPurchases list orders @param {Object} options\n,\n        listAllPurchases: function (options) {\n            options = options ? Utils.parseUrlOptions(options) : { page: 1 };\n            options.page = options.page || 1;\n            var collection = new OrderHistoryCollection(), view = new OrderHistoryListView({\n                    application: this.application,\n                    page: options.page,\n                    collection: collection,\n                    activeTab: 'all'\n                });\n            collection.on('reset', view.showContent, view);\n            view.showContent();\n        }    //@method listOpenPurchases list orders @param {Object} options\n,\n        listOpenPurchases: function (options) {\n            options = options ? Utils.parseUrlOptions(options) : { page: 1 };\n            options.page = options.page || 1;\n            var collection = new OrderHistoryCollection([], { filters: 'status:open' }), view = new OrderHistoryListView({\n                    application: this.application,\n                    page: options.page,\n                    collection: collection,\n                    activeTab: 'open'\n                });\n            collection.on('reset', view.showContent, view);\n            view.showContent();\n        }    //@method listInStorePurchases list orders @param {Object} options\n,\n        listInStorePurchases: function (options) {\n            if (!this.isSCISIntegrationEnabled) {\n                return;\n            }\n            options = options ? Utils.parseUrlOptions(options) : { page: 1 };\n            options.page = options.page || 1;\n            var collection = new OrderHistoryCollection([], { filters: 'origin:instore' }), view = new OrderHistoryListView({\n                    application: this.application,\n                    page: options.page,\n                    collection: collection,\n                    activeTab: 'instore'\n                });\n            collection.on('reset', view.showContent, view);\n            view.showContent();\n        }    //@method orderDetails view order's detail\n             //@param {String} recordtype\n             //@param {String} id\n             //@return {Void}\n,\n        getPurchaseDetail: function (recordtype, id) {\n            var model = new OrderHistoryModel(), view = new OrderHistoryDetailsView({\n                    application: this.application,\n                    id: id,\n                    model: model\n                });\n            model.once('change', view.showContent, view).fetch({\n                data: {\n                    internalid: id,\n                    recordtype: recordtype\n                },\n                killerId: AjaxRequestsKiller.getKillerId()\n            });\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module OrderHistory\n// Implements the experience of seeing all the customer Orders experience, this is the 'Order History' experience in MyAccount. Includes the Order module (Model, Collection, Views, Router)\ndefine('OrderHistory', [\n    'OrderHistory.Router',\n    'SC.Configuration',\n    'underscore',\n    'Utils'\n], function (Router, Configuration, _) {\n    'use strict';\n    // @class OrderHistory @extends ApplicationModule\n    return {\n        // @property {MenuItem} MenuItems\n        MenuItems: function () {\n            var isSCISIntegrationEnabled = Configuration.get('siteSettings.isSCISIntegrationEnabled', false);\n            return {\n                id: 'orders',\n                name: _('Purchases').translate(),\n                index: 1,\n                permission: isSCISIntegrationEnabled ? 'transactions.tranPurchases.1,transactions.tranEstimate.1,transactions.tranPurchasesReturns.1' : 'transactions.tranSalesOrd.1,transactions.tranEstimate.1,transactions.tranRtnAuth.1',\n                permissionOperator: 'OR',\n                children: [{\n                        id: 'purchases',\n                        name: _('Purchase History').translate(),\n                        url: 'purchases',\n                        index: 1,\n                        permission: isSCISIntegrationEnabled ? 'transactions.tranFind.1,transactions.tranPurchases.1' : 'transactions.tranFind.1,transactions.tranSalesOrd.1'\n                    }]\n            };\n        }    // @method mountToApp\n,\n        mountToApp: function (application) {\n            return new Router(application);\n        }\n    };\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module ReturnAuthorization\ndefine('ReturnAuthorization.Cancel.View', [\n    'return_authorization_cancel.tpl',\n    'Backbone',\n    'underscore',\n    'jQuery',\n    'Utils'\n], function (return_authorization_cancel_tpl, Backbone, _, jQuery) {\n    'use strict';\n    //@class ReturnAuthorization.Cancel.View @extend Backbone.Vie\n    return Backbone.View.extend({\n        template: return_authorization_cancel_tpl,\n        title: _('Cancel Return Request').translate(),\n        page_header: _('Cancel Return Request').translate(),\n        events: { 'click [data-action=\"delete\"]': 'confirm' },\n        initialize: function (options) {\n            this.application = options.application;\n        },\n        confirm: function () {\n            this.model.save({ status: 'cancelled' }).then(jQuery.proxy(this, 'dismiss'));\n        },\n        dismiss: function () {\n            this.$containerModal.modal('hide');\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module ReturnAuthorization\ndefine('ReturnAuthorization.Detail.View', [\n    'ReturnAuthorization.Cancel.View',\n    'Backbone.CollectionView',\n    'Backbone.CompositeView',\n    'Transaction.Line.Views.Cell.Navigable.View',\n    'RecordViews.View',\n    'SC.Configuration',\n    'return_authorization_detail.tpl',\n    'Backbone',\n    'underscore',\n    'jQuery',\n    'Utils'\n], function (CancelView, BackboneCollectionView, BackboneCompositeView, TransactionLineViewsCellNavigableView, RecordViewsView, Configuration, return_authorization_detail_tpl, Backbone, _, jQuery, Utils) {\n    'use strict';\n    //@class ReturnAuthorization.Detail.View @extend Backbone.View\n    return Backbone.View.extend({\n        template: return_authorization_detail_tpl,\n        title: _('Return Details').translate(),\n        events: { 'click [data-action=\"cancel\"]': 'cancel' },\n        attributes: { 'class': 'ReturnAuthorizationDetail' },\n        initialize: function (options) {\n            this.application = options.application;\n            BackboneCompositeView.add(this);\n        }    //@method getSelectedMenu\n,\n        getSelectedMenu: function () {\n            return 'returns';\n        }    //@method getBreadcrumbPages\n,\n        getBreadcrumbPages: function () {\n            return [\n                {\n                    text: _('Returns').translate(),\n                    href: '/returns'\n                },\n                {\n                    text: _('Return #$(0)').translate(this.model.get('tranid')),\n                    href: '/returns'\n                }\n            ];\n        },\n        getRecordProperties: function () {\n            var created_from = this.model.get('createdfrom'), is_basic = this.application.getConfig('isBasic'), properties = {\n                    record_url: '',\n                    record_label: _('Invoice').translate()\n                };\n            //site builder basic does not support invoice link\n            if (!created_from || is_basic && created_from.type === 'CustInvc') {\n                return properties;\n            }\n            switch (created_from.type) {\n            case 'SalesOrd':\n                properties.record_url = '/ordershistory/view/' + created_from.internalid;\n                properties.record_label = _('Order').translate();\n                break;\n            case 'CashSale':\n                properties.record_url = '/receiptshistory/view/' + created_from.internalid;\n                properties.record_label = _('Receipt').translate();\n                break;\n            default:\n                properties.record_url = '/invoices/' + created_from.internalid;\n                properties.record_label = _('Invoice').translate();\n            }\n            return properties;\n        },\n        cancel: function () {\n            new CancelView({\n                application: this.application,\n                model: this.model\n            }).showInModal('returns');\n            this.model.once('sync', jQuery.proxy(this, 'redirect'));\n        },\n        redirect: function () {\n            Backbone.history.navigate('returns?cancel=' + this.model.get('internalid'), { trigger: true });\n        }    //@method getItemsNumber\n,\n        getItemsNumber: function () {\n            var items_quantity = 0;\n            this.model.get('lines').each(function (models) {\n                items_quantity += models.get('quantity');\n            });\n            return items_quantity;\n        },\n        childViews: {\n            'Items.Collection': function () {\n                return new BackboneCollectionView({\n                    collection: this.model.get('lines'),\n                    childView: TransactionLineViewsCellNavigableView,\n                    viewsPerRow: 1,\n                    childViewOptions: {\n                        navigable: true,\n                        detail1Title: _('Qty:').translate(),\n                        detail1: 'quantity',\n                        detail2Title: _('Reason:').translate(),\n                        detail2: 'reason',\n                        detail3Title: _('Amount:').translate(),\n                        detail3: 'total_formatted'\n                    }\n                });\n            },\n            'Invoices.Collection': function () {\n                var records_collection = this.model.get('applies').map(function (apply) {\n                    var is_invoice = apply.get('recordtype') === 'invoice', title;\n                    if (is_invoice) {\n                        title = _('Invoice #$(0)').translate(apply.get('tranid'));\n                    } else {\n                        title = apply.get('recordtype') + (apply.get('tranid') ? ' #' + apply.get('tranid') : '');\n                    }\n                    return {\n                        touchpoint: 'customercenter',\n                        title: title,\n                        detailsURL: is_invoice ? '/invoices/' + apply.get('internalid') : '',\n                        tranid: apply.get('tranid'),\n                        internalid: apply.get('internalid'),\n                        columns: [\n                            {\n                                label: _('Transaction Date').translate(),\n                                type: 'date',\n                                name: 'date',\n                                value: apply.get('applydate')\n                            },\n                            {\n                                label: _('Amount:').translate(),\n                                type: 'currency',\n                                name: 'amount',\n                                value: apply.get('amount_formatted')\n                            }\n                        ]\n                    };\n                });\n                return new BackboneCollectionView({\n                    childView: RecordViewsView,\n                    collection: records_collection,\n                    viewsPerRow: 1\n                });\n            }\n        }    //@method getDownloadPdfUrl @returns {String}\n,\n        getDownloadPdfUrl: function () {\n            var pdfUrl = '';\n            switch (this.model.get('recordtype')) {\n            case 'creditmemo':\n                pdfUrl = Utils.getDownloadPdfUrl({\n                    asset: 'credit-memo-details',\n                    id: this.model.get('internalid')\n                });\n                break;\n            case 'returnauthorization':\n                pdfUrl = Utils.getDownloadPdfUrl({\n                    asset: 'return-details',\n                    id: this.model.get('internalid')\n                });\n                break;\n            }\n            return pdfUrl;\n        }    //@method getContext @return ReturnAuthorization.Detail.View.Context\n,\n        getContext: function () {\n            var lines_length = this.model.get('lines').length, applies = this.model.get('applies'), items_quantity = this.getItemsNumber();\n            //@class ReturnAuthorization.Detail.View.Context\n            return {\n                //@property {ReturnAuthorization.Model} model\n                model: this.model,\n                downloadPDFURL: this.getDownloadPdfUrl()    //@property {Boolean} isCancelable\n,\n                isCancelable: !!this.model.get('isCancelable')    //@property {Boolean} showCreatedFrom\n,\n                showCreatedFrom: !!(this.model.get('createdfrom') && this.model.get('createdfrom').internalid)    //@property {Boolean} showCreatedFromLink\n,\n                showCreatedFromLink: !!this.model.get('createdfrom').tranid,\n                isElementCollapsed: !!Configuration.get('sca.collapseElements')    //@property {Number} linesLength\n,\n                linesLength: lines_length    //@property {Boolean} showComment\n,\n                showComments: !!this.model.get('memo')    //@property {Boolean} showOpenedAccordion\n,\n                showOpenedAccordion: _.isTabletDevice() || _.isDesktopDevice()    //@property {Boolean} initiallyCollapsed\n,\n                initiallyCollapsed: _.isPhoneDevice() ? '' : 'in'    //@property {Boolean} initiallyCollapsedArrow\n,\n                initiallyCollapsedArrow: _.isPhoneDevice() ? 'collapsed' : ''    //@property {Boolean} linesLengthGreaterThan1\n,\n                linesLengthGreaterThan1: lines_length > 1    //@property {Number} itemsQuantityNumber\n,\n                itemsQuantityNumber: items_quantity    //@property {Boolean} linesitemsNumberGreaterThan1\n,\n                linesitemsNumberGreaterThan1: items_quantity > 1    //@property {Boolean} isCreditMemo\n,\n                showAppliesSection: this.model.get('recordtype') === 'creditmemo'    //@property {Boolean} showDiscountTotal\n,\n                showDiscountTotal: !!this.model.get('summary').discounttotal,\n                showHandlingTotal: !!this.model.get('summary').handlingcost,\n                showShippingTotal: !!this.model.get('summary').shippingcost,\n                showInvoicesDetails: !!(applies && applies.length)\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module ReturnAuthorization\ndefine('ReturnAuthorization.List.View', [\n    'ListHeader.View',\n    'Backbone.CompositeView',\n    'Backbone.CollectionView',\n    'RecordViews.View',\n    'GlobalViews.Pagination.View',\n    'GlobalViews.ShowingCurrent.View',\n    'GlobalViews.Message.View',\n    'SC.Configuration',\n    'return_authorization_list.tpl',\n    'Backbone',\n    'underscore',\n    'jQuery'\n], function (ListHeader, BackboneCompositeView, BackboneCollectionView, RecordViewsView, GlobalViewsPaginationView, GlobalViewsShowingCurrentView, GlobalViewsMessageView, Configuration, return_authorization_list_tpl, Backbone, _, jQuery) {\n    'use strict';\n    //@class ReturnAuthorization.List.View @extend Backbone.View\n    return Backbone.View.extend({\n        template: return_authorization_list_tpl,\n        className: 'ReturnAuthorizationList',\n        title: _('Returns').translate(),\n        page_header: _('Returns').translate(),\n        attributes: { 'class': 'ReturnAuthorizationList' },\n        initialize: function (options) {\n            var application = options.application;\n            this.application = application;\n            this.listenCollection();\n            var isoDate = _.dateToString(new Date());\n            this.rangeFilterOptions = {\n                fromMin: '1800-01-02',\n                fromMax: isoDate,\n                toMin: '1800-01-02',\n                toMax: isoDate\n            };\n            // manages sorting and filtering of the collection\n            this.list_header = new ListHeader({\n                view: this,\n                application: application,\n                collection: this.collection,\n                sorts: this.sortOptions,\n                rangeFilter: 'date',\n                rangeFilterLabel: _('Requested from').translate(),\n                listHeaderId: 'returns',\n                hidePagination: true,\n                allowEmptyBoundaries: true\n            });\n            BackboneCompositeView.add(this);\n        }    //@method getSelectedMenu\n,\n        getSelectedMenu: function () {\n            return 'returns';\n        }    //@method getBreadcrumbPages\n,\n        getBreadcrumbPages: function () {\n            return {\n                text: _('Returns').translate(),\n                href: '/returns'\n            };\n        },\n        listenCollection: function () {\n            this.setLoading(true);\n            this.collection.on({\n                request: jQuery.proxy(this, 'setLoading', true),\n                reset: jQuery.proxy(this, 'setLoading', false)\n            });\n        },\n        setLoading: function (value) {\n            this.isLoading = value;\n        },\n        childViews: {\n            'ListHeader.View': function () {\n                return this.list_header;\n            },\n            'GlobalViews.Pagination': function () {\n                return new GlobalViewsPaginationView(_.extend({ totalPages: Math.ceil(this.collection.totalRecordsFound / this.collection.recordsPerPage) }, Configuration.defaultPaginationSettings));\n            },\n            'GlobalViews.ShowCurrentPage': function () {\n                return new GlobalViewsShowingCurrentView({\n                    items_per_page: this.collection.recordsPerPage,\n                    total_items: this.collection.totalRecordsFound,\n                    total_pages: Math.ceil(this.collection.totalRecordsFound / this.collection.recordsPerPage)\n                });\n            },\n            'Records.List': function () {\n                var records_collection = new Backbone.Collection(this.collection.map(function (return_authorization) {\n                    return new Backbone.Model({\n                        touchpoint: 'customercenter',\n                        title: return_authorization.get('tranid'),\n                        detailsURL: '#returns/' + return_authorization.get('recordtype') + '/' + return_authorization.get('internalid'),\n                        id: return_authorization.get('internalid'),\n                        internalid: return_authorization.get('internalid'),\n                        columns: [\n                            {\n                                label: _('Date:').translate(),\n                                type: 'date',\n                                name: 'request-date',\n                                value: return_authorization.get('trandate')\n                            },\n                            {\n                                label: _('Items:').translate(),\n                                type: 'items',\n                                name: 'items',\n                                value: return_authorization.get('quantity')\n                            },\n                            {\n                                label: _('Amount:').translate(),\n                                type: 'currency',\n                                name: 'amount',\n                                value: return_authorization.get('amount_formatted')\n                            },\n                            {\n                                label: _('Status:').translate(),\n                                type: 'status',\n                                name: 'status',\n                                value: return_authorization.get('status').name\n                            }\n                        ]\n                    });\n                }));\n                return new BackboneCollectionView({\n                    collection: records_collection,\n                    viewsPerRow: 1,\n                    childView: RecordViewsView\n                });\n            },\n            'Message': function () {\n                return new GlobalViewsMessageView({\n                    message: this.message,\n                    closable: true,\n                    type: 'success'\n                });\n            }\n        },\n        sortOptions: [\n            {\n                value: 'trandate,internalid',\n                name: _('Sort By Date').translate(),\n                selected: true\n            },\n            {\n                value: 'tranid',\n                name: _('Sort By Number').translate()\n            }\n        ]    //@method getContext @return ReturnAuthorization.List.View.Context\n,\n        getContext: function () {\n            //@class ReturnAuthorization.List.View.Context\n            return {\n                //@property {String} pageHeader\n                pageHeader: this.page_header,\n                showMessage: !!this.message,\n                isResultLengthGreaterThan0: !!this.collection.length,\n                isLoading: this.isLoading,\n                showBackToAccount: Configuration.get('siteSettings.sitetype') === 'STANDARD'    // @property {Boolean} showPagination\n,\n                showPagination: !!(this.collection.totalRecordsFound && this.collection.recordsPerPage)\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module Transaction.Line.Views\ndefine('Transaction.Line.Views.Cell.SelectableActionableNavigable.View', [\n    'Transaction.Line.Views.Price.View',\n    'Transaction.Line.Views.Options.Selected.View',\n    'ProductLine.Sku.View',\n    'Backbone.CollectionView',\n    'Backbone.CompositeView',\n    'transaction_line_views_cell_selectable_actionable_navigable.tpl',\n    'Backbone',\n    'underscore',\n    'Utils'\n], function (TransactionLineViewsPriceView, TransactionLineViewsOptionsSelectedView, ProductLineSkuView, BackboneCollectionView, BackboneCompositeView, transaction_line_views_cell_selectable_actionable_navigable_tpl, Backbone, _) {\n    'use strict';\n    //@class Transaction.Line.Views.SelectableActionable.View @extend Backbone.View\n    return Backbone.View.extend({\n        //@property {Function} template\n        template: transaction_line_views_cell_selectable_actionable_navigable_tpl    //@method initialize\n                                                                           //@param {Transaction.Line.Views.Cell.SelectableActionableNavigable.View.Initialize} options\n                                                                           //@return {Void}\n,\n        initialize: function (options) {\n            this.options = options;\n            this.application = options.application;\n            this.model = options.model;\n            BackboneCompositeView.add(this);\n        }    //@property {Object} childViews\n,\n        childViews: {\n            'Item.Price': function () {\n                return new TransactionLineViewsPriceView({ model: this.model });\n            },\n            'Item.SelectedOptions': function () {\n                return new TransactionLineViewsOptionsSelectedView({ model: this.model });\n            },\n            'Item.Summary.View': function () {\n                var child_options = _.extend(this.options.summaryOptions || {}, {\n                    model: this.model,\n                    application: this.application\n                });\n                return new this.options.SummaryView(child_options);\n            },\n            'Item.Actions.View': function () {\n                var child_options = _.extend(this.options.actionsOptions || {}, {\n                    model: this.model,\n                    application: this.application\n                });\n                return new this.options.ActionsView(child_options);\n            },\n            'Item.Sku': function () {\n                return new ProductLineSkuView({ model: this.model });\n            }\n        }    //@method getContext\n             //@return {Transaction.Line.Views.Cell.SelectableActionableNavigable.View.Context}\n,\n        getContext: function () {\n            var item = this.model.get('item');\n            //@class Transaction.Line.Views.Cell.SelectableActionableNavigable.View.Context\n            return {\n                //@property {Transaction.Line.Model} model\n                model: this.model,\n                lineId: this.model.get('internalid')    //@property {Item.Model} item\n,\n                item: this.model.get('item')    //@property {String} itemName\n,\n                itemName: item.get('_name')    //@property {String} itemId\n,\n                itemId: item.get('internalid')    //@property {String} linkAttributes\n,\n                linkAttributes: this.model.getFullLink({\n                    quantity: null,\n                    location: null,\n                    fulfillmentChoice: null\n                })    //@property {Boolean} isNavigable\n,\n                isNavigable: !!this.options.navigable,\n                showCustomAlert: !!item.get('_cartCustomAlert')    //@property {String} alertText\n,\n                alertText: item.get('_cartCustomAlert')    //@property {String} actionType\n,\n                actionType: this.options.actionType,\n                customAlertType: item.get('_cartCustomAlertType') || 'info'    //@property {Boolean} showActionsView\n,\n                showActionsView: !!this.options.ActionsView,\n                showSummaryView: !!this.options.SummaryView,\n                isLineChecked: this.model.get('checked')    //@property {Boolean} activeLinesLengthGreaterThan1\n,\n                activeLinesLengthGreaterThan1: this.options.activeLinesLength > 1    // @property {ImageContainer} thumbnail\n,\n                thumbnail: this.model.getThumbnail()\n            };    //@class Transaction.Line.Views.Cell.SelectableActionableNavigable.View\n        }\n    });\n});    //@class Transaction.Line.Views.Cell.SelectableActionableNavigable.View.Initialize\n       //@property {Application} application\n       //@property {Boolean} navigable\n       //@property {Function} ActionsView\n       //@property {Function} SummaryView\n","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module ReturnAuthorization\ndefine('ReturnAuthorization.Form.Item.Summary.View', [\n    'return_authorization_form_item_summary.tpl',\n    'Backbone'\n], function (return_authorization_form_item_summary_tpl, Backbone) {\n    'use strict';\n    //@class ReturnAuthorization.Form.Item.Summary.View @extend Backbone.View\n    return Backbone.View.extend({\n        template: return_authorization_form_item_summary_tpl    //@method getContext @return ReturnAuthorization.Form.Item.Summary.View.Context\n,\n        getContext: function () {\n            //@class ReturnAuthorization.Form.Item.Summary.View.Context\n            return {\n                //@property {Model} line\n                line: this.model,\n                isLineActive: this.model.get('checked')    //@property {Number} selectedQuantity\n,\n                selectedQuantity: this.model.get('returnQty') || this.model.get('quantity')    //@property {Number} selectedQuantity\n,\n                maxQuantity: this.model.get('quantity')    //@property {Boolean} isQuantityGreaterThan1\n,\n                isQuantityGreaterThan1: this.model.get('quantity') > 1\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module ReturnAuthorization\ndefine('ReturnAuthorization.Form.Item.Actions.View', [\n    'return_authorization_form_item_actions.tpl',\n    'SC.Configuration',\n    'Backbone',\n    'underscore'\n], function (return_authorization_form_item_actions_tpl, Configuration, Backbone, _) {\n    'use strict';\n    //@class ReturnAuthorization.Form.Item.Actions.View @extend Backbone.View\n    return Backbone.View.extend({\n        template: return_authorization_form_item_actions_tpl,\n        initialize: function () {\n            this.reasons = _.sortBy(Configuration.get('returnAuthorization.reasons', []), function (reason) {\n                return reason.order;\n            });\n        }    //@method getContext @return ReturnAuthorization.Form.Item.Actions.View.Context\n,\n        getContext: function () {\n            var current_reason = this.model.get('reason') || {};\n            this.reasons = _.each(this.reasons, function (reason) {\n                reason.isSelected = reason.id === current_reason.id;\n            });\n            //@class ReturnAuthorization.Form.Item.Actions.View.Context\n            return {\n                //@property {Model} line\n                line: this.model,\n                isLineActive: this.model.get('checked')    //@property {Boolean} showReasons\n,\n                showReasons: !!this.reasons.length,\n                isOtherReasonSelected: !!current_reason.isOther,\n                reasons: this.reasons,\n                textReason: this.model.get('textReason')    //@property {Boolean} activeLinesLengthGreaterThan1\n,\n                activeLinesLengthGreaterThan1: this.options.activeLinesLength > 1\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module ReturnAuthorization\ndefine('ReturnAuthorization.Form.View', [\n    'ListHeader.View',\n    'Transaction.Line.Collection',\n    'ReturnAuthorization.GetReturnableLines',\n    'Backbone.CompositeView',\n    'Backbone.CollectionView',\n    'SC.Configuration',\n    'Transaction.Line.Views.Cell.SelectableActionableNavigable.View',\n    'ReturnAuthorization.Form.Item.Summary.View',\n    'ReturnAuthorization.Form.Item.Actions.View',\n    'Transaction.Line.Views.Cell.Navigable.View',\n    'return_authorization_form.tpl',\n    'Backbone',\n    'underscore',\n    'jQuery',\n    'Utils'\n], function (ListHeaderView, TransactionLineCollection, ReturnLinesCalculator, BackboneCompositeView, BackboneCollectionView, Configuration, TransactionLineViewsCellSelectableActionableNavigableView, ReturnAuthorizationFormItemSummaryView, ReturnAuthorizationFormItemActionsView, TransactionLineViewsCellNavigableView, return_authorization_form_tpl, Backbone, _, jQuery) {\n    'use strict';\n    //@class ReturnAuthorization.Form.View @extend Backbone.View\n    return Backbone.View.extend({\n        template: return_authorization_form_tpl,\n        title: _('Return Products').translate(),\n        page_header: _('Return Products').translate(),\n        events: {\n            'click [data-action=\"return-line\"]': 'toggleSelectUnselectLine',\n            'click [data-action=\"apply-reason\"]': 'applyReasonHandler',\n            'change [data-action=\"reasons\"]': 'changeReasonHandler',\n            'change [data-action=\"quantity\"]': 'changeQuantityHandler',\n            'blur [data-action=\"reason-text\"]': 'textReasonHandler',\n            'change [data-action=\"comments\"]': 'changeCommentHandler',\n            'submit form': 'saveForm'\n        },\n        attributes: { 'class': 'ReturnAuthorizationForm' },\n        initialize: function (options) {\n            this.application = options.application;\n            this.createdFromModel = options.createdFromModel;\n            this.reasons = Configuration.get('returnAuthorization.reasons', []);\n            this.createdFromModel.once('sync', jQuery.proxy(this, 'initListHeader'));\n            BackboneCompositeView.add(this);\n        },\n        getLinkedRecordUrl: function () {\n            return '/purchases/view/' + this.createdFromModel.get('recordtype') + '/' + this.createdFromModel.get('internalid');\n        },\n        initListHeader: function () {\n            var lines = this.getLines();\n            this.listHeader = new ListHeaderView({\n                view: this,\n                application: this.application,\n                hideFilterExpandable: true,\n                collection: lines,\n                selectable: true\n            });\n            if (lines.length === 1) {\n                this.selectAll();\n            }\n            return this;\n        }    //@method getSelectedMenu\n,\n        getSelectedMenu: function () {\n            return 'returns';\n        }    //@method getBreadcrumbPages\n,\n        getBreadcrumbPages: function () {\n            return [\n                {\n                    text: _('Returns').translate(),\n                    href: '/returns'\n                },\n                {\n                    text: _('Return products').translate(),\n                    href: '/returns'\n                }\n            ];\n        },\n        getLineId: function (target) {\n            return this.$(target).closest('[data-action=\"return-line\"]').data('id');\n        }    //@method unselectAll This method is called by the ListHeader when the 'select all' option is clicked\n,\n        selectAll: function () {\n            return this.setLines({ checked: true }).showContent();\n        }    //@method unselectAll This method is called by the ListHeader when the 'unselect all' option is clicked\n,\n        unselectAll: function () {\n            return this.setLines({\n                reason: null,\n                checked: false,\n                returnQty: null,\n                textReason: null\n            }).showContent();\n        },\n        setLines: function (attributes) {\n            this.getLines().each(function (line) {\n                line.set(attributes);\n            });\n            return this;\n        },\n        setActiveLines: function (attributes) {\n            _.each(this.getActiveLines(), function (line) {\n                line.set(attributes);\n            });\n            return this;\n        }    //@method toggleSelectUnselectLine This method is executed each time a line is selected/unselected\n,\n        toggleSelectUnselectLine: function (e) {\n            var $target = this.$(e.target);\n            if ($target.data('toggle') !== false) {\n                this.toggleLine(this.getLineId($target));\n            }\n        },\n        toggleLine: function (id) {\n            var line = this.getLine(id);\n            line.set('checked', !line.get('checked'));\n            if (!line.get('checked')) {\n                line.set({\n                    reason: null,\n                    returnQty: null,\n                    textReason: null\n                });\n            }\n            return this.showContent(true);\n        }    //set in the model which lines are returnabled (these are leaved in the lines property with its quantities updated) and which are already returned\n             // (these are saved in invalidLines collection in the current model)\n,\n        parseLines: function () {\n            var not_consider_fulfillments = this.createdFromModel.get('recordtype') !== 'salesorder', returnable_calculator = new ReturnLinesCalculator(this.createdFromModel, { notConsiderFulfillments: not_consider_fulfillments }), lines_group = returnable_calculator.calculateLines(), lines = this.createdFromModel.get('lines');\n            this.createdFromModel.set('invalidLines', new TransactionLineCollection(lines_group.invalidLines));\n            lines.remove(lines_group.invalidLines);\n            lines.each(function (line) {\n                line.set('quantity', lines_group.validLineIdsQuantities[line.id]);\n            });\n            return this;\n        },\n        getLines: function () {\n            return this.lines || (this.lines = this.parseLines().createdFromModel.get('lines'));\n        },\n        getLine: function (id) {\n            return this.getLines().get(id);\n        },\n        getActiveLines: function () {\n            return this.getLines().filter(function (line) {\n                return line.get('checked');\n            });\n        },\n        getTotalItemsToReturn: function () {\n            return _.reduce(this.getActiveLines(), function (memo, line) {\n                return memo + parseFloat(line.get('returnQty') || line.get('quantity'));\n            }, 0);\n        },\n        changeQuantityHandler: function (e) {\n            var target = e.target, line_id = this.getLineId(target);\n            return this.setLine(line_id, 'returnQty', Math.min(target.value, this.getLine(line_id).get('quantity'))).showContent(true);\n        },\n        changeReasonHandler: function (e) {\n            var target = e.target, line_id = this.getLineId(target), selected_reason = _.findWhere(this.reasons, { id: +target.value });\n            this.setLine(line_id, 'reason', selected_reason).showContent(true);\n            this.$('[data-action=\"return-line\"][data-id=\"' + line_id + '\"] input[name=\"reason-text\"]').focus();\n        },\n        textReasonHandler: function (e) {\n            var target = e.target;\n            return this.setLine(this.getLineId(target), 'textReason', target.value);\n        },\n        changeCommentHandler: function (e) {\n            this.comments = e.target.value;\n            return this;\n        },\n        setLine: function (id, attribute, value) {\n            this.getLine(id).set(attribute, value);\n            return this;\n        },\n        applyReasonHandler: function (e) {\n            var current_line = this.getLine(this.getLineId(e.target));\n            e.preventDefault();\n            e.stopPropagation();\n            return this.setActiveLines({\n                reason: current_line.get('reason'),\n                textReason: current_line.get('textReason')\n            }).showContent(true);\n        },\n        saveForm: function (e) {\n            var created_from = this.createdFromModel, data = {\n                    id: created_from.get('internalid'),\n                    type: created_from.get('recordtype'),\n                    lines: this.getActiveLinesData(),\n                    comments: this.comments || ''\n                };\n            e.preventDefault();\n            if (this.isValid(data)) {\n                return Backbone.View.prototype.saveForm.call(this, e, this.model, data);\n            }\n        },\n        isValid: function (data) {\n            var self = this, lines = data.lines, errors = [], comments = data.comments, no_reason_lines = _.filter(lines, function (line) {\n                    return !line.reason;\n                }), big_reason_lines = _.filter(lines, function (line) {\n                    return line.reason && line.reason.length > 4000;\n                });\n            if (!lines.length) {\n                errors.push(_('You must select at least one item for this return request.').translate());\n            }\n            if (no_reason_lines.length) {\n                _.each(no_reason_lines, function (line) {\n                    self.$('[data-id=\"' + line.id + '\"] .control-group').addClass('error');\n                });\n                errors.push(_('You must select a reason for return.').translate());\n            }\n            if (big_reason_lines.length) {\n                _.each(big_reason_lines, function (line) {\n                    self.$('[data-id=\"' + line.id + '\"] .control-group').addClass('error');\n                });\n                errors.push(_('The reason contains more that the maximum number (4000) of characters allowed.').translate());\n            }\n            if (comments && comments.length > 999) {\n                errors.push(_('The comment contains more than the maximum number (999) of characters allowed.').translate());\n            }\n            if (errors.length) {\n                return this.showError(errors.join('<br/>'));\n            }\n            return true;\n        },\n        getActiveLinesData: function () {\n            var reason = null, selected_reason;\n            return _.map(this.getActiveLines(), function (line) {\n                reason = line.get('reason');\n                selected_reason = null;\n                if (reason) {\n                    selected_reason = reason.isOther ? line.get('textReason') : reason.text;\n                }\n                return {\n                    id: line.get('internalid'),\n                    quantity: line.get('returnQty') || line.get('quantity'),\n                    reason: selected_reason\n                };\n            });\n        },\n        childViews: {\n            'ListHeader': function () {\n                return this.listHeader;\n            },\n            'Returnable.Lines.Collection': function () {\n                return new BackboneCollectionView({\n                    collection: this.getLines(),\n                    childView: TransactionLineViewsCellSelectableActionableNavigableView,\n                    viewsPerRow: 1,\n                    childViewOptions: {\n                        SummaryView: ReturnAuthorizationFormItemSummaryView,\n                        ActionsView: ReturnAuthorizationFormItemActionsView,\n                        actionsOptions: {\n                            activeLinesLength: this.getActiveLines().length || 0,\n                            reasons: this.reasons\n                        },\n                        application: this.application,\n                        navigable: true,\n                        actionType: 'return-line'    // ,\tuseLinePrice: true\n                    }\n                });\n            },\n            'Invalid.Lines.Collection': function () {\n                return new BackboneCollectionView({\n                    collection: this.createdFromModel.get('invalidLines'),\n                    childView: TransactionLineViewsCellNavigableView,\n                    viewsPerRow: 1,\n                    childViewOptions: {\n                        navigable: true,\n                        detail1Title: _('Qty:').translate(),\n                        detail1: 'quantity',\n                        detail2Title: _('Unit price').translate(),\n                        detail2: 'rate_formatted',\n                        detail3Title: _('Amount:').translate(),\n                        detail3: 'total_formatted'\n                    }\n                });\n            }\n        }    //@method getContext @return ReturnAuthorization.Form.View.Context\n,\n        getContext: function () {\n            var active_lines = this.getActiveLines(), items_to_return_length = this.getTotalItemsToReturn(), invalid_lines = this.createdFromModel.get('invalidLines');\n            //@class ReturnAuthorization.Form.View.Context\n            return {\n                //@property {OrderHistory.Model} model\n                model: this.createdFromModel,\n                pageHeader: this.page_header,\n                createdFromURL: this.getLinkedRecordUrl()    //@property {Boolean} activeLinesLengthGreaterThan1\n,\n                activeLinesLengthGreaterThan1: active_lines.length > 1    //@property {Number} activeLinesLength\n,\n                activeLinesLength: active_lines.length,\n                hasAtLeastOneActiveLine: !!active_lines.length,\n                itemsToReturnLengthGreaterThan1: items_to_return_length > 1    //@property {Number} itemsToReturnLength\n,\n                itemsToReturnLength: items_to_return_length    //@property {Booelan} showInvalidLines\n,\n                showInvalidLines: !!invalid_lines.length,\n                invalidLinesLength: invalid_lines.length,\n                comments: this.comments || ''    //@property {Boolean} showBackToAccount\n,\n                showBackToAccount: Configuration.get('siteSettings.sitetype') === 'STANDARD'\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module ReturnAuthorization\ndefine('ReturnAuthorization.Confirmation.View', [\n    'return_authorization_confirmation.tpl',\n    'Backbone.CompositeView',\n    'Backbone.CollectionView',\n    'Transaction.Line.Views.Cell.Navigable.View',\n    'SC.Configuration',\n    'Backbone',\n    'underscore',\n    'Utils'\n], function (return_authorization_confirmation_tpl, BackboneCompositeView, BackboneCollectionView, TransactionLineViewsCellNavigableView, Configuration, Backbone, _) {\n    'use strict';\n    //@class ReturnAuthorization.Confirmation.View @extend Backone.View\n    return Backbone.View.extend({\n        template: return_authorization_confirmation_tpl,\n        title: _('Request Return').translate(),\n        page_header: _('Confirmation').translate(),\n        page_title: _('Request Return').translate(),\n        attributes: { 'class': 'ReturnAuthorizationConfirmation' },\n        initialize: function (options) {\n            this.application = options.application;\n            BackboneCompositeView.add(this);\n        },\n        childViews: {\n            'Items.Collection': function () {\n                return new BackboneCollectionView({\n                    childView: TransactionLineViewsCellNavigableView,\n                    collection: this.model.get('lines'),\n                    viewsPerRow: 1,\n                    childViewOptions: {\n                        detail1Title: _('Qty:').translate(),\n                        detail1: 'quantity',\n                        detail2Title: _('Amount:').translate(),\n                        detail2: 'amount_formatted',\n                        detail3: 'reason'\n                    }\n                });\n            }\n        }    //@method getSelectedMenu\n,\n        getSelectedMenu: function () {\n            return 'returns';\n        }    //@method getBreadcrumbPages\n,\n        getBreadcrumbPages: function () {\n            return {\n                text: this.title,\n                href: '/returns'\n            };\n        }    //@meth getContext @return ReturnAuthorization.Confirmation.View.Context\n,\n        getContext: function () {\n            //@class ReturnAuthorization.Confirmation.View.Context\n            return {\n                //@property {ReturnAuthorization.Model} model\n                model: this.model,\n                pageTitle: this.page_title,\n                pageHeader: this.page_header,\n                internalId: this.model.get('internalid')    //@property {String} modelTranId\n,\n                modelTranId: this.model.get('createdform') ? this.model.get('createdform').name : ''    //@property {String} totalFormatted\n,\n                totalFormatted: this.model.get('summary').total_formatted,\n                linesLength: this.model.get('lines').length,\n                showComments: !!this.model.get('memo')    //@property {Boolean} isElementCollapsed\n,\n                isElementCollapsed: Configuration.get('sca.collapseElements')\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module ReturnAuthorization\ndefine('ReturnAuthorization.Router', [\n    'ReturnAuthorization.Model',\n    'ReturnAuthorization.Collection',\n    'ReturnAuthorization.Detail.View',\n    'ReturnAuthorization.List.View',\n    'ReturnAuthorization.Form.View',\n    'ReturnAuthorization.Confirmation.View',\n    'OrderHistory.Model',\n    'AjaxRequestsKiller',\n    'underscore',\n    'jQuery',\n    'Backbone',\n    'Utils'\n], function (ReturnAuthorizationModel, ReturnAuthorizationCollection, ReturnAuthorizationDetailView, ReturnAuthorizationListView, ReturnAuthorizationFormView, ReturnAuthorizationConfirmationView, OrderHistoryModel, AjaxRequestsKiller, _, jQuery, Backbone) {\n    'use strict';\n    //@class ReturnAuthorization.Router @extend Backbone.Router\n    return Backbone.Router.extend({\n        routes: {\n            'returns': 'list',\n            'returns?:options': 'list',\n            'returns/:recordtype/:id': 'details',\n            'returns/:recordtype/:id?:options': 'details',\n            'returns/new/:recordtype/:id': 'form',\n            'returns/confirmation/:recordtype/:id': 'confirmation'\n        },\n        initialize: function (application) {\n            this.application = application;\n        },\n        list: function (options) {\n            var parameters = _.parseUrlOptions(options), collection = new ReturnAuthorizationCollection(), view = new ReturnAuthorizationListView({\n                    application: this.application,\n                    collection: collection,\n                    page: parameters.page\n                });\n            if (parameters.cancel) {\n                view.message = _('Good! Your request was successfully cancelled.').translate();\n                Backbone.history.navigate(_.removeUrlParameter(Backbone.history.fragment, 'cancel'), { replace: true });\n            }\n            collection.on('reset', jQuery.proxy(view, 'showContent', 'returns'));\n            view.showContent('returns');\n        },\n        details: function (recordtype, id) {\n            var model = new ReturnAuthorizationModel(), view = new ReturnAuthorizationDetailView({\n                    application: this.application,\n                    model: model\n                });\n            model.fetch({\n                data: {\n                    internalid: id,\n                    recordtype: recordtype\n                },\n                killerId: AjaxRequestsKiller.getKillerId()\n            }).then(jQuery.proxy(view, 'showContent', 'returns'));\n        },\n        form: function (recordtype, id) {\n            var created_from = this.getCreatedFrom(recordtype, id), application = this.application, model = new ReturnAuthorizationModel(), view = new ReturnAuthorizationFormView({\n                    application: application,\n                    model: model,\n                    createdFromModel: created_from\n                });\n            created_from.fetch({\n                killerId: AjaxRequestsKiller.getKillerId(),\n                data: { recordtype: recordtype }\n            }).then(jQuery.proxy(view, 'showContent'));\n            model.on('save', function () {\n                new ReturnAuthorizationConfirmationView({\n                    application: application,\n                    model: model\n                }).showContent('returns');\n                Backbone.history.navigate('/returns/confirmation/' + model.get('recordtype') + '/' + model.get('internalid'), { trigger: false });\n            });\n        },\n        confirmation: function (recordtype, id) {\n            var model = new ReturnAuthorizationModel({ internalid: id }), view = new ReturnAuthorizationConfirmationView({\n                    application: this.application,\n                    model: model\n                });\n            model.fetch({\n                data: {\n                    internalid: id,\n                    recordtype: recordtype\n                },\n                killerId: AjaxRequestsKiller.getKillerId()\n            }).then(jQuery.proxy(view, 'showContent', 'returns'));\n        },\n        getCreatedFrom: function (type, id) {\n            return new OrderHistoryModel({\n                internalid: id,\n                recordtype: type\n            });\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module ReturnAuthorization\ndefine('ReturnAuthorization', [\n    'ReturnAuthorization.Router',\n    'SC.Configuration',\n    'underscore',\n    'Utils'\n], function (Router, Configuration, _) {\n    'use strict';\n    // Defines the Return Authorization module (Model, Collection, Views, Router)\n    return {\n        MenuItems: function () {\n            var isSCISIntegrationEnabled = Configuration.get('siteSettings.isSCISIntegrationEnabled', false);\n            return {\n                parent: 'orders',\n                id: 'returns',\n                name: _('Returns').translate(),\n                url: 'returns',\n                index: 2,\n                permission: isSCISIntegrationEnabled ? 'transactions.tranFind.1,transactions.tranPurchasesReturns.1' : 'transactions.tranFind.1,transactions.tranRtnAuth.1'\n            };\n        },\n        mountToApp: function (application) {\n            return new Router(application);\n        }\n    };\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module ReorderItems\ndefine('ReorderItems.Actions.Quantity.View', [\n    'reorder_items_actions_quantity.tpl',\n    'Backbone',\n    'Backbone.CompositeView',\n    'jQuery'\n], function (reorder_items_actions_quantity_tpl, Backbone, BackboneCompositeView, jQuery) {\n    'use strict';\n    //@class ReorderItems.Actions.Quantity.View @extends Backbone.View\n    return Backbone.View.extend({\n        //@propery {Function} template\n        template: reorder_items_actions_quantity_tpl    //@method initialize\n,\n        initialize: function (options) {\n            this.line = options.model;\n            BackboneCompositeView.add(this);\n        },\n        events: {\n            'click [data-action=\"plus\"]': 'addQuantity',\n            'click [data-action=\"minus\"]': 'subQuantity'\n        },\n        addQuantity: function (e) {\n            e.preventDefault();\n            var $element = jQuery(e.target), oldValue = $element.parent().find('input').val(), newVal = parseFloat(oldValue) + 1;\n            $element.parent().find('input').val(newVal);\n        },\n        subQuantity: function (e) {\n            e.preventDefault();\n            var $element = jQuery(e.target), oldValue = $element.parent().find('input').val(), newVal = parseFloat(oldValue) - 1;\n            newVal = Math.max(1, newVal);\n            $element.parent().find('input').val(newVal);\n        }    //@method getContext @returns ReorderItems.Actions.Quantity.View.Context\n,\n        getContext: function () {\n            var item = this.line.get('item'), minimum_quantity = item.get('_minimumQuantity', true) || 1, maximum_quantity = item.get('_maximumQuantity', true) || 0, itemQuantity = this.line.get('quantity') > minimum_quantity ? this.line.get('quantity') : minimum_quantity;\n            //@class ReorderItems.Actions.Quantity.View.Context\n            return {\n                //@propery {ReorderItems.Model} line\n                line: this.line,\n                showQuantityInput: !!item.get('_isPurchasable')    //@propery {String} lineId\n,\n                lineId: this.line.get('internalid')    //@propery {Number} itemQuantity\n,\n                itemQuantity: itemQuantity    //@propery {Boolean} showLastPurchased\n,\n                showLastPurchased: !!this.line.get('trandate')    //@property {Boolean} showMinimumQuantity\n,\n                showMinimumQuantity: minimum_quantity > 1    //@property {Integer} minimumQuantity\n,\n                minimumQuantity: minimum_quantity    //@property {Boolean} showMinimumQuantity\n,\n                showMaximumQuantity: maximum_quantity !== 0    //@property {Integer} minimumQuantity\n,\n                maximumQuantity: maximum_quantity\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module ReorderItems\ndefine('ReorderItems.Actions.AddToCart.View', [\n    'reorder_items_actions_add_to_cart.tpl',\n    'Backbone',\n    'underscore'\n], function (reorder_items_actions_add_to_cart_tpl, Backbone, _) {\n    'use strict';\n    //@class ReorderItems.Actions.AddToCart.View @extends Backbone.View\n    return Backbone.View.extend({\n        //@propery {Function} template\n        template: reorder_items_actions_add_to_cart_tpl    //@method initialize\n,\n        initialize: function (options) {\n            this.line = options.model;\n        }    //@method getContext @returns ReorderItems.Actions.AddToCart.View.Context\n,\n        getContext: function () {\n            var item = this.line.get('item'), item_id = item.get('_id'), parent_internalid = this.line.get('item').get('parent_internalid'), format_options = _.map(this.line.get('options_object'), function (option) {\n                    return option.id + '=' + option.value;\n                }).join(',');\n            //@class ReorderItems.Actions.AddToCart.View.Context\n            return {\n                //@propery {ReorderItems.Model} line\n                line: this.line,\n                disableButtonAddToCart: !item.get('_isPurchasable')    //@propery {String} itemOptions\n,\n                itemOptions: format_options    //@propery {String} lineId\n,\n                lineId: this.line.get('internalid')    //@propery {String} itemId\n,\n                itemId: item_id    //@propery {String} parentItemId\n,\n                parentItemId: parent_internalid\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module ReorderItems\ndefine('ReorderItems.List.View', [\n    'ListHeader.View',\n    'SC.Configuration',\n    'GlobalViews.Pagination.View',\n    'GlobalViews.ShowingCurrent.View',\n    'Tracker',\n    'LiveOrder.Model',\n    'Backbone.CompositeView',\n    'Backbone.CollectionView',\n    'Transaction.Line.Views.Cell.Actionable.View',\n    'ReorderItems.Actions.Quantity.View',\n    'ReorderItems.Actions.AddToCart.View',\n    'GlobalViews.Message.View',\n    'ErrorManagement',\n    'Handlebars',\n    'reorder_items_list.tpl',\n    'Backbone',\n    'underscore',\n    'jQuery'\n], function (ListHeaderView, Configuration, GlobalViewsPaginationView, GlobalViewsShowingCurrentView, Tracker, LiveOrderModel, BackboneCompositeView, BackboneCollectionView, TransactionLineViewsCellActionableView, ReorderItemsActionsQuantityView, ReorderItemsActionsAddToCartView, GlobalViewsMessageView, ErrorManagement, Handlebars, reorder_items_list_tpl, Backbone, _, jQuery) {\n    'use strict';\n    //@class ReorderItems.List.View @extends Backbone.View\n    return Backbone.View.extend({\n        //@propery {Function} template\n        template: reorder_items_list_tpl    //@propery {String} className\n,\n        className: 'OrderItemReorderListView'    //@propery {String} title\n,\n        title: _('Reorder Items').translate()    //@propery {String} page_header\n,\n        page_header: _('Reorder Items').translate()    //@propery {Object} attributes\n,\n        attributes: { 'class': 'OrderItemReorderListView' }    //@propery {Object} events\n,\n        events: {\n            'click [data-action=\"add-to-cart\"]': 'addToCart',\n            'change [name=\"item_quantity\"]': 'updateQuantity'\n        }    //@method initialize\n,\n        initialize: function (options) {\n            this.application = options.application;\n            this.options.showCurrentPage = true;\n            if (options.order_id) {\n                this.collection.order_id = options.order_id;\n                this.order_id = options.order_id;\n                this.order_number = options.order_number;\n            }\n            this.listenCollection();\n            // manges sorting and filtering of the collection\n            this.listHeader = new ListHeaderView({\n                view: this,\n                application: options.application,\n                collection: this.collection,\n                filters: options.order_id ? null : this.filterOptions,\n                sorts: options.order_id ? this.sortOptionsSingleOrder : this.sortOptions,\n                hidePagination: true,\n                headerMarkup: options.order_id ? this.getOrderLink() : ''\n            });\n            BackboneCompositeView.add(this);\n        }    //@method updateQuantity\n,\n        updateQuantity: function (e) {\n            var target = jQuery(e.currentTarget), line_id = target.data('line-id'), line = this.collection.get(line_id), item = line.get('item'), min_quantity = item.get('_minimumQuantity', true) || 1, max_quantity = item.get('_maximumQuantity', true) || null;\n            var new_value = parseInt(target.val(), 10);\n            if (new_value < min_quantity) {\n                target.val(min_quantity);\n            }\n            if (max_quantity && new_value > max_quantity) {\n                target.val(max_quantity);\n            }\n            line.set('quantity', new_value);\n        }    //@method getOrderLink\n,\n        getOrderLink: function () {\n            var order_link = jQuery('<a/>').attr('href', '/ordershistory/view/' + this.order_id).html(_('Order Number: $(0)').translate(this.order_number)).wrap('<div></div>').parent();\n            return new Handlebars.SafeString(order_link.html());\n        }    //@method listenCollection\n,\n        listenCollection: function () {\n            this.setLoading(true);\n            this.collection.on({\n                request: jQuery.proxy(this, 'setLoading', true),\n                reset: jQuery.proxy(this, 'setLoading', false)\n            });\n        }    //@method setLoading\n,\n        setLoading: function (value) {\n            this.isLoading = value;\n        }    //@method getSelectedMenu\n,\n        getSelectedMenu: function () {\n            return 'reorderitems';\n        }    //@method getBreadcrumbPages\n,\n        getBreadcrumbPages: function () {\n            var crumbtrail = [{\n                    text: this.title,\n                    href: '/reorderItems'\n                }];\n            if (this.order_id && this.order_number) {\n                this.title = _('Reorder Items from Order #$(0)').translate(this.order_number);\n                crumbtrail.push({\n                    text: _('Order #$(0)').translate(this.order_number),\n                    href: '/reorderItems/order/' + this.order_id\n                });\n            }\n            return crumbtrail;\n        }    //@method trackEventReorder\n,\n        trackEventReorder: function (line) {\n            line && Tracker.getInstance().trackEvent({\n                category: 'Reorder',\n                action: 'button',\n                label: line.generateURL(),\n                value: 1\n            });\n        }    //@method addToCart add to cart an item, the quantity is written by the user on the input and the options are the same that the ordered item in the previous order\n,\n        addToCart: function (e) {\n            e.preventDefault();\n            var self = this, line_id = this.$(e.target).data('line-id'), $form = this.$(e.target).closest('[data-type=\"order-item\"]'), $alert_placeholder = $form.find('[data-type=alert-placeholder]'), $quantity = $form.find('input[name=item_quantity]'), selected_line = this.collection.get(line_id), quantity = isNaN(parseInt($quantity.val(), 10)) ? 0 : parseInt($quantity.val(), 10);\n            if (quantity) {\n                selected_line.set('quantity', quantity);\n                // The 'fulfillmentChoice' for reorders must be setted to 'ship'\n                if (selected_line.get('fulfillmentChoice')) {\n                    selected_line.set('fulfillmentChoice', 'ship');\n                }\n                LiveOrderModel.getInstance().addLine(selected_line).done(function () {\n                    self.trackEventReorder(selected_line);\n                    $alert_placeholder.show().empty();\n                    var message;\n                    if (quantity > 1) {\n                        message = _('$(0) Items successfully added to <a href=\"#\" data-touchpoint=\"viewcart\">your cart</a><br/>').translate(quantity);\n                    } else {\n                        message = _('Item successfully added to <a href=\"#\" data-touchpoint=\"viewcart\">your cart</a><br/>').translate();\n                    }\n                    message = new GlobalViewsMessageView({\n                        message: message,\n                        type: 'success',\n                        closable: true\n                    }).render().$el;\n                    $alert_placeholder.html(message);\n                    setTimeout(function () {\n                        $alert_placeholder.fadeOut(function () {\n                            $alert_placeholder.empty();\n                        });\n                    }, 6000);\n                }).fail(function (jqXhr) {\n                    jqXhr.preventDefault = true;\n                    var message = new GlobalViewsMessageView({\n                        message: ErrorManagement.parseErrorMessage(jqXhr, self.application.getLayout().errorMessageKeys),\n                        type: 'error',\n                        closable: true\n                    }).render().$el;\n                    $alert_placeholder.show().empty().html(message);\n                });\n            } else {\n                var message = new GlobalViewsMessageView({\n                    message: _('The number of items must be positive.').translate(),\n                    type: 'error',\n                    closable: true\n                }).render().$el;\n                $alert_placeholder.show().empty().html(message);\n            }\n        }    //@method getStringDateFromDaysCount Returns a date substracting the amound of days specified from now\n,\n        getStringDateFromDaysCount: function (days_back) {\n            var now = new Date();\n            return new Date(now.setDate(now.getDate() - days_back));\n        }    //@method {Array} sortOptionsSingleOrder\n,\n        sortOptionsSingleOrder: [\n            {\n                value: 'price',\n                name: _('By Price').translate(),\n                selected: true\n            },\n            {\n                value: 'name',\n                name: _('By Name').translate()\n            }\n        ]    //@method {Array} sortOptions\n,\n        sortOptions: [\n            {\n                value: 'quantity',\n                name: _('By Frequently Purchased').translate(),\n                selected: true\n            },\n            {\n                value: 'date',\n                name: _('By Most Recently Purchased').translate()\n            },\n            {\n                value: 'price',\n                name: _('By Price').translate()\n            },\n            {\n                value: 'name',\n                name: _('By Name').translate()\n            }\n        ]    //@method {Array} filterOptions\n,\n        filterOptions: [\n            {\n                value: function () {\n                    return _.dateToString(this.getStringDateFromDaysCount(15)) + 'T' + _.dateToString(new Date());\n                },\n                name: _('Show last 15 days').translate(),\n                className: 'reorder-items-filter-last-15-days',\n                selected: true\n            },\n            {\n                value: function () {\n                    return _.dateToString(this.getStringDateFromDaysCount(30)) + 'T' + _.dateToString(new Date());\n                },\n                name: _('Show last 30 days').translate(),\n                className: 'reorder-items-filter-last-30-days'\n            },\n            {\n                value: function () {\n                    return _.dateToString(this.getStringDateFromDaysCount(60)) + 'T' + _.dateToString(new Date());\n                },\n                name: _('Show last 60 days').translate(),\n                className: 'reorder-items-filter-last-60-days'\n            },\n            {\n                value: function () {\n                    return _.dateToString(this.getStringDateFromDaysCount(90)) + 'T' + _.dateToString(new Date());\n                },\n                name: _('Show last 90 days').translate(),\n                className: 'reorder-items-filter-last-90-days'\n            },\n            {\n                value: function () {\n                    return _.dateToString(this.getStringDateFromDaysCount(180)) + 'T' + _.dateToString(new Date());\n                },\n                name: _('Show last 180 days').translate(),\n                className: 'reorder-items-filter-last-180-days'\n            }\n        ]    // @property {Object} childViews\n,\n        childViews: {\n            'ListHeader': function () {\n                return this.listHeader;\n            },\n            'GlobalViews.Pagination': function () {\n                return new GlobalViewsPaginationView(_.extend({ totalPages: Math.ceil(this.collection.totalRecordsFound / this.collection.recordsPerPage) }, Configuration.defaultPaginationSettings));\n            },\n            'GlobalViews.ShowCurrentPage': function () {\n                return new GlobalViewsShowingCurrentView({\n                    items_per_page: this.collection.recordsPerPage,\n                    total_items: this.collection.totalRecordsFound,\n                    total_pages: Math.ceil(this.collection.totalRecordsFound / this.collection.recordsPerPage)\n                });\n            },\n            'Reorder.Items': function () {\n                var view = new BackboneCollectionView({\n                    collection: this.collection.filter(function (line) {\n                        return line.get('item').get('_id');\n                    }),\n                    viewsPerRow: 1,\n                    childView: TransactionLineViewsCellActionableView,\n                    childViewOptions: {\n                        application: this.application,\n                        navigable: true,\n                        SummaryView: ReorderItemsActionsQuantityView,\n                        ActionsView: ReorderItemsActionsAddToCartView,\n                        showComparePrice: true\n                    }\n                });\n                this.collection.on('reset', function () {\n                    view.render();\n                });\n                return view;\n            }\n        }    //@method getContext: function()\n,\n        getContext: function () {\n            //@class ReorderItems.List.View.Context\n            return {\n                //@propery {Boolean} isLoading\n                isLoading: this.isLoading,\n                showItems: !!this.collection.totalRecordsFound,\n                itemsNotFound: !this.collection.totalRecordsFound && !this.isLoading,\n                pageHeader: this.page_header,\n                showPagination: !!(this.collection.totalRecordsFound && this.collection.recordsPerPage)    // @property {Boolean} showCurrentPage\n,\n                showCurrentPage: this.options.showCurrentPage,\n                showBackToAccount: Configuration.get('siteSettings.sitetype') === 'STANDARD'\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module ReorderItems\ndefine('ReorderItems.Model', [\n    'Item.Model',\n    'Transaction.Line.Model',\n    'underscore'\n], function (ItemModel, TransactionLineModel, _) {\n    'use strict';\n    //@class ReorderItems.Model @extend Backbone.Model\n    return TransactionLineModel.extend({\n        //@property {String} urlRoot\n        urlRoot: 'services/ReorderItems.Service.ss'    //@property {Object} validation\n,\n        validation: {}    //@method parse\n              //@param {Object} record\n              //@return {Object}\n,\n        parse: function parse(record) {\n            if (record.item) {\n                var item_options = _.filter(record.options, function (option) {\n                    return option.value !== '';\n                });\n                record.internalid = record.item.internalid + '|' + JSON.stringify(item_options).replace(/\"/g, '\\'');\n            }\n            return record;\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module ReorderItems\ndefine('ReorderItems.Collection', [\n    'ReorderItems.Model',\n    'underscore',\n    'Transaction.Line.Collection',\n    'Utils'\n], function (ReorderItemsModel, _, TransactionLineCollection) {\n    'use strict';\n    return TransactionLineCollection.extend({\n        url: 'services/ReorderItems.Service.ss',\n        model: ReorderItemsModel,\n        parse: function (response) {\n            this.totalRecordsFound = response.totalRecordsFound;\n            this.recordsPerPage = response.recordsPerPage;\n            return response.records;\n        },\n        update: function (options, list_header) {\n            var data_filters = {\n                sort: options.sort.value,\n                order_id: this.order_id,\n                order: options.order,\n                page: options.page\n            };\n            if (!this.order_id) {\n                var date_string = options.filter.value.apply(list_header.view);\n                date_string = date_string && date_string.split('T');\n                data_filters.from = date_string[0];\n                data_filters.to = date_string[1];\n            }\n            this.fetch({\n                data: data_filters,\n                reset: true,\n                killerId: options.killerId\n            });\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module ReorderItems\ndefine('ReorderItems.Router', [\n    'ReorderItems.List.View',\n    'ReorderItems.Collection',\n    'Backbone',\n    'Utils'\n], function (ReorderItemsListView, ReorderItemsCollection, Backbone, Utils) {\n    'use strict';\n    return Backbone.Router.extend({\n        routes: {\n            'reorderItems': 'reorderItems',\n            'reorderItems?:options': 'reorderItems'\n        },\n        initialize: function (application) {\n            this.application = application;\n        },\n        reorderItems: function (options) {\n            if (options) {\n                options = Utils.parseUrlOptions(options);\n            } else {\n                options = { page: 1 };\n            }\n            var collection = new ReorderItemsCollection(), view = new ReorderItemsListView({\n                    application: this.application,\n                    sort: options.sort || 0,\n                    order_id: options.order_id || 0,\n                    order_number: options.order_number || 0,\n                    page: options.page || 1,\n                    collection: collection\n                });\n            if (view.order_id) {\n                collection.set({ order_id: view.order_id });\n            }\n            view.collection.on('reset', view.render, view);\n            view.showContent();\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@Module ReorderItems\ndefine('ReorderItems', [\n    'ReorderItems.Router',\n    'SC.Configuration',\n    'underscore',\n    'Utils'\n], function (ReorderItemsRouter, Configuration, _) {\n    'use strict';\n    return {\n        MenuItems: function () {\n            var isSCISIntegrationEnabled = Configuration.get('siteSettings.isSCISIntegrationEnabled', false);\n            return {\n                parent: 'orders',\n                id: 'reorderitems',\n                name: _('Reorder Items').translate(),\n                url: 'reorderItems',\n                index: 4,\n                permission: isSCISIntegrationEnabled ? 'transactions.tranFind.1,transactions.tranPurchases.1' : 'transactions.tranFind.1,transactions.tranSalesOrd.1'\n            };\n        },\n        mountToApp: function (application) {\n            this.application = application;\n            return new ReorderItemsRouter(application);\n        }\n    };\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module Receipt\ndefine('Receipt.Details.Item.Summary.View', [\n    'receipt_details_item_summary.tpl',\n    'Backbone',\n    'underscore',\n    'Utils'\n], function (receipt_details_tiem_summary_tpl, Backbone, _) {\n    'use strict';\n    //@class Receipt.Details.Item.Summary.View @extend Backbone.View\n    return Backbone.View.extend({\n        template: receipt_details_tiem_summary_tpl    //@method getContext @return Receipt.Details.Item.Summary.View.Context\n,\n        getContext: function () {\n            var line = this.model;\n            //@class Receipt.Details.Item.Summary.View.Context\n            return {\n                //@property {Model} line\n                line: line    //@property {Boolean} isDiscount\n,\n                isDiscountType: line.get('type') === 'Discount'    //@property {Number} quantity\n,\n                quantity: line.get('quantity') || 0    //@property {Boolean} showAmount\n,\n                showAmount: !!line.get('amount_formatted')    //@property {String} amountFormatted\n,\n                amountFormatted: _.formatCurrency(line.get('amount_formatted'))    //@property {String} totalFormatted\n,\n                totalFormatted: _.formatCurrency(line.get('total'))    //@property {Boolean} hasDiscount\n,\n                hasDiscount: !!line.get('discount')    //@property {Boolean} showAmountLabel\n,\n                showAmountLabel: !!line.get('amount_label')\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module Receipt\ndefine('Receipt.Details.Item.Actions.View', [\n    'receipt_details_item_actions.tpl',\n    'Backbone',\n    'Utils'\n], function (receipt_details_item_actions_tpl, Backbone) {\n    'use strict';\n    //@class Receipt.Details.Item.Actions.View @extend Backbone.View\n    return Backbone.View.extend({\n        template: receipt_details_item_actions_tpl    //@method getContext @return Receipt.Details.Item.Actions.View.Context\n,\n        getContext: function () {\n            var line = this.model, item = line.get('item');\n            //@class Receipt.Details.Item.Actions.View.Context\n            return {\n                //@property {Model} line\n                line: line    //@property {Boolean} showActions\n,\n                showActions: !!line.get('item').get('_isPurchasable') && item.get('itemtype') !== 'GiftCert'    //@property {String} itemURL\n,\n                itemURL: item.get('_url')    //@property {String} itemSKU\n,\n                itemSKU: item.get('_sku')    //@property {String} itemParentId\n,\n                itemParentId: item.get('parent_internalid')    //@property {String} lineFormatOptions\n,\n                lineFormatOptions: line.format_options,\n                itemId: item.get('_id')    //@property {Boolean} isQuantityGreaterThan1\n,\n                isQuantityGreaterThan1: line.quantity > 1\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module Receipt\ndefine('Receipt.Details.View', [\n    'OrderHistory.Details.View',\n    'Backbone.CompositeView',\n    'Backbone.CollectionView',\n    'GlobalViews.FormatPaymentMethod.View',\n    'Address.Details.View',\n    'Transaction.Line.Views.Cell.Actionable.View',\n    'Receipt.Details.Item.Summary.View',\n    'Receipt.Details.Item.Actions.View',\n    'LiveOrder.Model',\n    'GlobalViews.Message.View',\n    'receipt_details.tpl',\n    'jQuery',\n    'Backbone',\n    'underscore',\n    'Utils'\n], function (OrderHistoryDetailsView, BackboneCompositeView, BackboneCollectionView, GlobalViewsFormatPaymentMethodView, AddressView, TransactionLineViewsCellActionableView, ReceiptDetailsItemSummaryView, ReceiptDetailsItemActionsView, LiveOrderModel, GlobalViewsMessageView, receipt_details_tpl, jQuery, Backbone, _, Utils) {\n    'use strict';\n    //@class Receipt.Details.View Views for receipt's details #extend Backbone.View\n    return OrderHistoryDetailsView.extend({\n        template: receipt_details_tpl,\n        title: _('Receipt Details').translate(),\n        attributes: { 'class': 'OrderDetailsView' },\n        events: { 'click [data-action=\"addToCart\"]': 'addToCart' },\n        initialize: function (options) {\n            this.application = options.application;\n            BackboneCompositeView.add(this);\n        },\n        addToCart: function (event) {\n            var target = jQuery(event.currentTarget), selected_line = this.model.get('lines').get(target.data('line-id')), quantity = target.data('partial-quantity') || target.data('item-quantity'), placeholder = target.closest('[data-type=\"order-item\"]').find('[data-type=\"alert-placeholder\"]');\n            LiveOrderModel.getInstance().addLine(selected_line).done(function () {\n                var message = quantity > 1 ? _('$(0) Items successfully added to <a href=\"#\" data-touchpoint=\"viewcart\">your cart</a><br/>').translate(quantity) : _('Item successfully added to <a href=\"#\" data-touchpoint=\"viewcart\">your cart</a><br/>').translate();\n                var alert = new GlobalViewsMessageView({\n                    message: message,\n                    type: 'success',\n                    closable: true\n                });\n                alert.show(placeholder, 6000);\n            });\n        }    //@method getSelectedMenu\n,\n        getSelectedMenu: function () {\n            return this.options.referrer === 'transactionhistory' ? 'transactionhistory' : 'receiptshistory';\n        }    //@method getBreadcrumbPages\n,\n        getBreadcrumbPages: function () {\n            var created_from = this.model.get('createdfrom'), breadcrumb_pages = [];\n            if (this.options.referrer === 'transactionhistory') {\n                breadcrumb_pages.push({\n                    text: _('Transaction History').translate(),\n                    href: '/transactionhistory'\n                });\n            } else if (created_from && created_from.internalid) {\n                breadcrumb_pages.push({\n                    text: _('Purchase History').translate(),\n                    href: '/purchases'\n                });\n                breadcrumb_pages.push({\n                    text: _('Purchase #$(0)').translate(created_from.tranid),\n                    href: '/purchases/view/' + created_from.recordtype + '/' + created_from.internalid\n                });\n            }\n            breadcrumb_pages.push({\n                text: _('Receipt #$(0)').translate(this.model.get('tranid')),\n                path: '/receiptshistory/view/' + this.model.get('internalid')\n            });\n            return breadcrumb_pages;\n        },\n        render: function () {\n            this.title = _('Receipt Details').translate();\n            this.billaddress = this.model.get('addresses').get(this.model.get('billaddress'));\n            this.paymentmethod = this.model.get('paymentmethods') && this.model.get('paymentmethods').findWhere({ primary: true });\n            Backbone.View.prototype.render.apply(this, arguments);\n        },\n        childViews: {\n            'FormatPaymentMethod': function () {\n                return new GlobalViewsFormatPaymentMethodView({ model: this.paymentmethod });\n            },\n            'Address.View': function () {\n                return new AddressView({\n                    model: this.billaddress,\n                    hideDefaults: true,\n                    hideActions: true\n                });\n            },\n            'Item.Details.Line': function () {\n                return new BackboneCollectionView({\n                    collection: this.model.get('lines'),\n                    childView: TransactionLineViewsCellActionableView,\n                    childViewOptions: {\n                        SummaryView: ReceiptDetailsItemSummaryView,\n                        ActionsView: ReceiptDetailsItemActionsView,\n                        application: this.application,\n                        navigable: true\n                    }\n                });\n            }\n        }    //@method getItemsNumber\n,\n        getItemsNumber: function () {\n            var items_quantity = 0;\n            this.model.get('lines').each(function (models) {\n                items_quantity += models.get('quantity');\n            });\n            return items_quantity;\n        }    //@method getContext @return Receipt.Details.View.Context\n,\n        getContext: function () {\n            var lines = this.model.get('lines').models, items_quantity = this.getItemsNumber();\n            //@class Receipt.Details.View.Context\n            return {\n                //@property {Receipt.Model} model\n                model: this.model,\n                orderNumber: this.model.get('tranid')    //@property {String} date\n,\n                date: this.model.get('trandate')    //@property {String} status\n,\n                status: this.model.get('status') ? this.model.get('status').name : ''    //@property {Boolean} showPaymentMethod\n,\n                showPaymentMethod: !!this.paymentmethod,\n                showBillingAddress: !!this.billaddress,\n                subTotalFormatted: this.model.get('summary').subtotal_formatted,\n                showDiscountTotal: !!parseFloat(this.model.get('summary').discounttotal)    //@property {String} discountTotalFormatted\n,\n                discountTotalFormatted: this.model.get('summary').discounttotal_formatted,\n                showShippingCost: !!parseFloat(this.model.get('summary').shippingcost)    //@property {String} shippingCostFormatted\n,\n                shippingCostFormatted: this.model.get('summary').shippingcost_formatted,\n                showHandlingCost: !!parseFloat(this.model.get('summary').handlingcost)    //@property {String} handlingCostFormatted\n,\n                handlingCostFormatted: this.model.get('summary').handlingcost_formatted,\n                showPromocode: !!this.model.get('promocode')    //@property {String} promocode\n,\n                promocode: this.model.get('promocode') && this.model.get('promocode').code,\n                taxTotalFormatted: this.model.get('summary').taxtotal_formatted,\n                totalFormatted: this.model.get('summary').total_formatted,\n                pdfUrl: Utils.getDownloadPdfUrl({\n                    asset: 'cash-sale-details',\n                    id: this.model.get('internalid')\n                })    //@property {Boolean} showLines\n,\n                showLines: !!(lines && lines.length)    //@property {Boolean} isLinesLengthGreaterThan1\n,\n                isLinesLengthGreaterThan1: !!(lines && lines.length > 1)    //@property {Number} itemsQuantityNumber\n,\n                itemsQuantityNumber: items_quantity    //@property {Number} itemsQuantityLengthGreaterThan1\n,\n                itemsQuantityLengthGreaterThan1: items_quantity > 1    //@property {Number} linesLength\n,\n                linesLength: lines ? lines.length : 0    //@property {Boolean} showCollapsedItems\n,\n                showCollapsedItems: this.application.getConfig('sca.collapseElements')    //@property {Boolean} haveCreatedFrom\n,\n                haveCreatedFrom: !!(this.model.get('createdfrom') && this.model.get('createdfrom').internalid)    //@property {Boolean} showOpenedAccordion\n,\n                showOpenedAccordion: _.isTabletDevice() || _.isDesktopDevice()\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module Receipt\ndefine('Receipt.Model', ['Transaction.Model'], function (TransactionModel) {\n    'use strict';\n    //@class Receipt.Model Model for showing information about past receipts\n    return TransactionModel.extend({\n        urlRoot: 'services/Receipt.Service.ss'    //@property {Boolean} cacheSupport enable or disable the support for cache (Backbone.CachedModel)\n,\n        cacheSupport: true\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// Receipt.Router.js\n// -----------------------\n// Router for handling receipts\ndefine('Receipt.Router', [\n    'Receipt.Details.View',\n    'AjaxRequestsKiller',\n    'Receipt.Model',\n    'Backbone'\n], function (ReceiptDetailsView, AjaxRequestsKiller, Model, Backbone) {\n    'use strict';\n    return Backbone.Router.extend({\n        routes: { 'receiptshistory/view/:id': 'receiptDetails' },\n        initialize: function (application) {\n            this.application = application;\n        }    // view receipt's detail\n,\n        receiptDetails: function (id) {\n            var model = new Model({ internalid: id }), view = new ReceiptDetailsView({\n                    application: this.application,\n                    id: id,\n                    model: model\n                });\n            model.on('change', view.showContent, view).fetch({\n                data: {\n                    internalid: id,\n                    recordtype: 'cashsale'\n                },\n                killerId: AjaxRequestsKiller.getKillerId()\n            });\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// Receipt.js\n// -----------------\n// Defines the Receipt module (Model, Collection, Views, Router)\ndefine('Receipt', [\n    'Receipt.Router',\n    'Utils'\n], function (Router) {\n    'use strict';\n    return {\n        mountToApp: function (application) {\n            return new Router(application);\n        }\n    };\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module NavigationHelper\n// NavigationHelper intersect all clicks on a elements and computes what to do, if navigate using backbone or navigate away\n// support data-touchpoint for indicating a target touchpoint by name and data-keep-options for keeping current url options in the link.\ndefine('NavigationHelper', [\n    'Session',\n    'PluginContainer',\n    'underscore',\n    'jQuery',\n    'Utils'\n], function (Session, PluginContainer, _, jQuery, Utils) {\n    'use strict';\n    // @class NavigationHelper uses different PluginContainer, each for handling different types of user events globally.\n    // itself is a Plugin container where specific tasks (like handling data-touchpoint links or open links in new modals are implemented by specific plugins)\n    // Basically each registered plugin will have the opportunity of performing some operation over the link's href attribute\n    // @extends ApplicationModule\n    var NavigationHelper = {\n        mountToApp: function (application) {\n            // @module ApplicationSkeleton @class ApplicationSkeleton.Layout\n            var Layout = application.getLayout();\n            _.extend(Layout, {\n                //@method isTargetBlank Indicate if the target link of the event e is blank or not. IMPORTANT: This functions does NOT take into a account the button press\n                //@param {jQuery.Event} e jQuery event\n                //@returns {Boolean} result\n                isTargetBlank: function (e) {\n                    return e.ctrlKey || e.metaKey || jQuery(e.currentTarget).attr('target') === '_blank';\n                }    //@method getUrl Returns the target URL of the clicked object from the navigation context\n                     //@param {NavigationContext} context\n                     //@return {String}\n,\n                getUrl: function (context) {\n                    if (Utils.oldIE()) {\n                        return context.target_data.href;\n                    }\n                    return context.target_href;\n                }    //@method setUrl Set the URL to the jQuery element taking into account backward compatibility con old IE browsers\n                     //@param {jQuery} $element\n                     //@param {String} url\n                     //@return {Void}\n,\n                setUrl: function ($element, url) {\n                    $element.attr('href', url);\n                    if (Utils.oldIE()) {\n                        $element.data('href', url);\n                    }\n                }    //@method generateNavigationContext Generate the navigation context object\n                     //@param {jQuery.Event} e jQuery event param\n                     //@return {NavigationContext}\n,\n                generateNavigationContext: function (e) {\n                    var $target = jQuery(e.currentTarget), touchpoints = Session.get('touchpoints'), target_data = $target.data(), target_touchpoint = (touchpoints ? touchpoints[target_data.touchpoint] : '') || '', hashtag = target_data.hashtag, target_href = $target.attr('href'), clean_hashtag = hashtag && hashtag.replace('#', '');\n                    //@class NavigationContext\n                    return {\n                        //@property {Object} target_data An object where each property is one of the data attributes of the target element\n                        target_data: target_data    //@property {String} target_href\n,\n                        target_href: target_href    //@property {String} target_touchpoint\n,\n                        target_touchpoint: target_touchpoint    //@property {String} original_touchpoint\n,\n                        original_touchpoint: target_data.touchpoint,\n                        hashtag: hashtag    //@property {String} url\n,\n                        url: ''    //@property {String} clean_hashtag\n,\n                        clean_hashtag: clean_hashtag    //@property {jQuery} $target\n,\n                        $target: $target\n                    };    //@class NavigationHelper\n                }    /////////////////////////////////\n                     //\t\tPLUGINS DEFINITION\n                     /////////////////////////////////\n                     // @property {PluginContainer} touchStart plugin container that handles the global touch start event\n,\n                touchStart: new PluginContainer()    // @property {PluginContainer} touchMove plugin container that handles the global touch move event\n,\n                touchMove: new PluginContainer()    // @property {PluginContainer} mouseDown plugin container that handles the global mouseDown event\n,\n                mouseDown: new PluginContainer()    // @property {PluginContainer} click plugin container that handles the global click event\n,\n                click: new PluginContainer()    // @property {PluginContainer} touchEnd plugin container that handles the global touchEnd event\n,\n                touchEnd: new PluginContainer()    // @property {PluginContainer} mouseUp plugin container that handles the global mouseUp event\n,\n                mouseUp: new PluginContainer()    // @method executeTouchStart execute all touchStart plugins\n                                         //@param {jQuery.Event} e\n,\n                executeTouchStart: function (e) {\n                    this.touchStart.executeAll(e);\n                }    // @method executeTouchStart execute all touchMove plugins\n                     //@param {jQuery.Event} e\n,\n                executeTouchMove: function (e) {\n                    this.touchMove.executeAll(e);\n                }    // @method executeTouchStart execute all mouseUp plugins\n                     //@param {jQuery.Event} e\n,\n                executeMouseUp: function (e) {\n                    this.mouseUp.executeAll(e);\n                }    // @method executeTouchStart execute all touchEnd plugins\n                     //@param {jQuery.Event} e\n,\n                executeTouchEnd: function (e) {\n                    this.touchEnd.executeAll(e);\n                }    // @method executeTouchStart execute all mouseDown plugins\n                     //@param {jQuery.Event} e\n,\n                executeMouseDown: function (e) {\n                    this.mouseDown.executeAll(e);\n                }    // @method executeTouchStart execute all click plugins\n                     //@param {jQuery.Event} e\n,\n                executeClick: function (e) {\n                    this.click.executeAll(e);\n                }\n            });\n            // Adds event listeners to the layout\n            _.extend(Layout.events, {\n                // touchpoints, this needs to be before the other click event, so they are computed early\n                'touchstart a:not([data-navigation=\"ignore-click\"])': 'executeTouchStart',\n                'mousedown a:not([data-navigation=\"ignore-click\"])': 'executeMouseDown',\n                'click a:not([data-navigation=\"ignore-click\"])': 'executeClick',\n                'mouseup a:not([data-navigation=\"ignore-click\"])': 'executeMouseUp',\n                'touchend a:not([data-navigation=\"ignore-click\"])': 'executeTouchEnd',\n                'touchmove a:not([data-navigation=\"ignore-click\"])': 'executeTouchMove'\n            });\n            //Default Navigation Plugins\n            Layout.touchMove.install({\n                name: 'detectTouchMovement',\n                priority: 10,\n                execute: function (e) {\n                    if (jQuery(e.currentTarget).data('touchpoint')) {\n                        Layout.isTouchMoveEvent = true;\n                    }\n                    return e;\n                }\n            });\n        }\n    };\n    return NavigationHelper;\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module NavigationHelper\ndefine('NavigationHelper.Plugins.Standard', [\n    'underscore',\n    'Backbone',\n    'UrlHelper',\n    'Utils'\n], function (_, Backbone) {\n    'use strict';\n    // @class NavigationHelper.Plugins.Standard Contains the standard navigation helper behavior. @extends ApplicationModule\n    var standardPlugins = {\n        //@method isNOTURLHashtagPart Determines if the passed in string URL is intended to be used as a hashtag.\n        //IMPORTANT: This function also evaluate Backbone.history.options.pushState.\n        //@param {String} url\n        //@return {Boolean}\n        isNOTURLHashtagPart: function (url) {\n            return Backbone.history.options.pushState || url === '#' || url.indexOf('http://') === 0 || url.indexOf('https://') === 0 || url.indexOf('mailto:') === 0 || url.indexOf('tel:') === 0;\n        }    //@method correctURL Intercepts mousedown events on all anchors with no data-touchpoint attribute and fix its href attribute to work when opening a link\n             //@param {ApplicationSkeleton.Layout} layout General application layout\n             //@param {jQuery.Event} e jQuery event\n             //@return {jQuery.Event} e\n,\n        correctURL: function (layout, e) {\n            var context = layout.generateNavigationContext(e), window_obj = _.getWindow(), href = layout.getUrl(context) || '#';\n            if (!context.target_data.touchpoint && !standardPlugins.isNOTURLHashtagPart(href)) {\n                if (context.target_data.toggle === 'show-in-modal' || context.target_data.toggle === 'show-in-pusher') {\n                    context.$target.data('original-href', href);\n                    href = window_obj.location.href;\n                } else if (window_obj.location.hash) {\n                    href = window_obj.location.href.replace(/#.*$/, '#' + href);\n                } else if (window_obj.location.href.lastIndexOf('#') === window_obj.location.href.length - 1) {\n                    href = window_obj.location.href + href;\n                } else {\n                    href = window_obj.location.href + '#' + href;\n                }\n                layout.setUrl(context.$target, href);\n            }\n            return e;\n        }    //@method clickNavigation Handle standard click navigation for the cases were the target is NOT a modal\n             //@param {ApplicationSkeleton.Layout} layout General application layout\n             //@param {jQuery.Event} e jQuery event\n             //@return {jQuery.Event} e\n,\n        clickNavigation: function (layout, e) {\n            e.preventDefault();\n            // Grabs info from the event element\n            var context = layout.generateNavigationContext(e), href = layout.getUrl(context) || '', target_is_blank = layout.isTargetBlank(e) || e.button === 1, target_is_modal_or_pusher = context.target_data.toggle === 'show-in-modal' || context.target_data.toggle === 'show-in-pusher' && _.isPhoneDevice(), is_disabled = context.$target.attr('disabled'), is_dropdown = context.target_data.toggle === 'dropdown', is_external;\n            if (is_disabled) {\n                e.stopPropagation();\n                return e;\n            }\n            if (context.target_data.originalHref && !target_is_blank) {\n                href = context.target_data.originalHref;\n            }\n            // Pusher fix\n            layout.$el.removeClass('sc-pushing');\n            if (href === '#' || href === '' || is_dropdown) {\n                return e;\n            }\n            // The navigation is within the same browser window\n            if (!target_is_blank) {\n                // There is a modal open\n                if (layout.$containerModal) {\n                    layout.$containerModal.modal('hide');\n                }\n                //Wants to open this link in a modal or pusher\n                if (!target_is_modal_or_pusher) {\n                    is_external = ~href.indexOf('http:') || ~href.indexOf('https:') || ~href.indexOf('mailto:') || ~href.indexOf('tel:');\n                    if (is_external) {\n                        _.getWindow().document.location.href = href;\n                    } else {\n                        Backbone.history.navigate(href, { trigger: true });\n                    }\n                }\n            } else {\n                _.getWindow().open(href, _.uniqueId('window'));\n            }\n            return e;\n        }    //@method mountToApp\n             //@param {ApplicationSkeleton} application\n,\n        mountToApp: function (application) {\n            var layout = application.getLayout();\n            //Install Standard Navigation Plugins\n            layout.mouseDown.install({\n                name: 'mouseDownFixHref',\n                priority: 10,\n                execute: function (e) {\n                    return standardPlugins.correctURL(layout, e);\n                }\n            });\n            layout.touchStart.install({\n                name: 'touchStartFixHref',\n                priority: 10,\n                execute: function (e) {\n                    return standardPlugins.correctURL(layout, e);\n                }\n            });\n            layout.click.install({\n                name: 'standardNavigation',\n                priority: 20,\n                execute: function (e) {\n                    return standardPlugins.clickNavigation(layout, e);\n                }\n            });\n        }\n    };\n    return standardPlugins;\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module NavigationHelper\ndefine('NavigationHelper.Plugins.DataTouchPoint', [\n    'Tracker',\n    'Session',\n    'underscore',\n    'Backbone',\n    'Utils',\n    'UrlHelper'\n], function (Tracker, Session, _, Backbone, Utils) {\n    'use strict';\n    // @class NavigationHelper.Plugins.DataTouchPoint Contains the plugins that implement the touchpoints link behavior.\n    // This is a link like ```<a data-touchpoint=\"home\" data-hashtag=\"search\">Shop</a>``` will always navigate to Shopping search page, no matter where it is defined.\n    // @extends ApplicationModule\n    var dataTouchPointPlugins = {\n        //@method getLocaleHost @returns the host for the language specified\n        //@param {String} locale locale to look for\n        //@return {String} locale host\n        getLocaleHost: function (locale) {\n            var available_hosts = SC.ENVIRONMENT.availableHosts, target_host;\n            if (available_hosts && available_hosts.length) {\n                for (var i = 0; i < available_hosts.length; i++) {\n                    var host = available_hosts[i], lang = _(host.languages).findWhere({ locale: locale });\n                    if (lang && lang.host) {\n                        target_host = lang.host;\n                        break;\n                    }\n                }\n            }\n            return target_host;\n        }    //@method preserveLanguage Given a URL, if not secure (not my account nor checkout), replace the host based on the current language\n             //@param {NavigationContext} context\n             //@return {NavigationContext}\n,\n        preserveLanguage: function (context) {\n            var url = context.url;\n            if (Utils.isShoppingDomain()) {\n                var locale_host = dataTouchPointPlugins.getLocaleHost(SC.ENVIRONMENT.currentLanguage.locale);\n                if (locale_host) {\n                    url = url.replace(/(http:\\/\\/)([^\\/?#]*)([^>]*)/gi, function (all, protocol, host, rest) {\n                        return protocol + locale_host + rest;\n                    });\n                }\n                if (/\\?$/.test(url)) {\n                    url = url.substring(0, url.length - 1);\n                }\n                context.url = url;\n            } else {\n                var current_language = SC.ENVIRONMENT.currentLanguage;\n                if (current_language) {\n                    context.target_data.parameters = context.target_data.parameters ? context.target_data.parameters + '&lang=' + current_language.locale : 'lang=' + current_language.locale;\n                }\n            }\n            return context;\n        }    //@method addParametersToTouchpoint Add data- parameters specified in the target element into the final target touchpoint\n             //@param {NavigationContext} context\n             //@return {NavigationContext}\n,\n        addParametersToUrl: function (context) {\n            if (context.target_data.parameters) {\n                context.url += (~context.url.indexOf('?') ? '&' : '?') + context.target_data.parameters;\n            }\n            return context;\n        }    //@method addHashtagToTouchPoint Adds any hashtag from the context into the final target touchpoint\n             //@param {NavigationContext} context\n             //@return {NavigationContext}\n,\n        addHashtagToTouchPoint: function (context) {\n            if (SC.ENVIRONMENT.siteSettings.sitetype === 'ADVANCED' && context.hashtag && context.hashtag !== '#' && context.hashtag !== '#/') {\n                context.target_touchpoint += (~context.target_touchpoint.indexOf('?') ? '&' : '?') + 'fragment=' + context.clean_hashtag;\n            }\n            return context;\n        }    //@method generateUrl Based on an already processed context it generate the final URL\n             //@param {NavigationContext} context\n             //@param {ApplicationSkeleton} application\n             //@param {ApplicationSkeleton.Layout} layout\n             //@return {NavigationContext}\n,\n        generateUrl: function (context, application, layout) {\n            if (context.original_touchpoint === application.getConfig('currentTouchpoint')) {\n                var prefix = '#';\n                if (Backbone.history.options && Backbone.history.options.pushState) {\n                    prefix = context.clean_hashtag.indexOf('/') === 0 ? '' : '/';\n                }\n                context.url = context.clean_hashtag ? prefix + context.clean_hashtag : layout.getUrl(context);\n            } else {\n                if (context.clean_hashtag && context.clean_hashtag.indexOf('http') !== -1) {\n                    context.url = _.addParamsToUrl(context.clean_hashtag, _.parseUrlOptions(context.target_touchpoint));\n                } else {\n                    context.url = _.fixUrl(context.target_touchpoint);\n                    // We need to make this url absolute in order for this to navigate\n                    // instead of being triggered as a hash\n                    if (context.url && !(~context.url.indexOf('http:') || ~context.url.indexOf('https:'))) {\n                        context.url = location.protocol + '//' + location.host + context.url;\n                    }\n                }\n            }\n            return context;\n        }    //@method addCrosDomainParams Add extra cross domain parameters into the final URL\n             //@param {NavigationContext} context\n             //@return {NavigationContext} context\n,\n        addCrosDomainParams: function (context) {\n            // Cross Domain Cookie Tracking:\n            // Trackers like Google Analytics require us to send special parameters in the URL\n            // to keep tracking the user as one entity even when moving to a different domain\n            if (Tracker.getInstance().addCrossDomainParameters) {\n                context.url = Tracker.getInstance().addCrossDomainParameters(context.url);\n            }\n            return context;\n        }    //@method getTargetUrl Apply the entire process of generating the final URL and return it\n             //@param {NavigationContext} context\n             //@param {ApplicationSkeleton} application\n             //@param {ApplicationSkeleton.Layout} layout\n             //@return {String}\n,\n        getTargetUrl: function (context, application, layout) {\n            context = dataTouchPointPlugins.addHashtagToTouchPoint(context);\n            context = dataTouchPointPlugins.generateUrl(context, application, layout);\n            context = dataTouchPointPlugins.preserveLanguage(context);\n            context = dataTouchPointPlugins.addParametersToUrl(context);\n            context = dataTouchPointPlugins.addCrosDomainParams(context);\n            return context.url;\n        }    //@method correctURL Public plugin to fix data-touchpoint URLs\n             //@param {ApplicationSkeleton.Layout} layout\n             //@param {ApplicationSkeleton} application\n             //@param {jQuery.Event} e\n             //@return {jQuery.Event} e\n,\n        correctURL: function (layout, application, e) {\n            var context = layout.generateNavigationContext(e);\n            if (context.target_data.touchpoint) {\n                layout.isTouchMoveEvent = false;\n                if (e.type === 'touchstart') {\n                    e.stopPropagation();\n                }\n                // 2 = middle click, 3 = right click\n                if (e.which === 2 || e.which === 3) {\n                    e.preventDefault();\n                    e.stopPropagation();\n                }\n                var new_url = dataTouchPointPlugins.getTargetUrl(context, application, layout);\n                layout.setUrl(context.$target, new_url);\n            }\n            return e;\n        }    //@method setHashtag Detects if you are trying to access a different hashtag within the same touchpoint\n             //@param {ApplicationSkeleton.Layout} layout\n             //@param {ApplicationSkeleton} application\n             //@param {jQuery.Event} e\n             //@return {jQuery.Event} e\n,\n        setHashtag: function (layout, application, e) {\n            var context = layout.generateNavigationContext(e), target_is_blank = layout.isTargetBlank(e) || e.button && e.button !== 0;\n            if (context.target_data.touchpoint) {\n                if (!target_is_blank && context.target_data.hashtag && application.getConfig('currentTouchpoint') && application.getConfig('currentTouchpoint') === context.target_data.touchpoint) {\n                    var new_url = context.target_data.hashtag;\n                    // Removes the hastag if it's there remove it\n                    new_url = new_url[0] === '#' ? new_url.substring(1) : new_url;\n                    // if it does not has a slash add it\n                    new_url = new_url[0] === '/' ? new_url : '/' + new_url;\n                    // we just set the hastag as a relative href and the app should take care of itself\n                    layout.setUrl(context.$target, new_url);\n                }\n                if (e.type === 'touchend' && !layout.isTouchMoveEvent) {\n                    e.stopPropagation();\n                    e.preventDefault();\n                    context.$target.trigger('click');\n                }\n            }\n            return e;\n        }    //@method mountToApp Mount to Application\n,\n        mountToApp: function (application) {\n            var layout = application.getLayout();\n            //INSTALL DEFAULT NAVIGATION PLUGINS\n            layout.mouseDown.install({\n                name: 'mouseDownFixHrefDataTouchPoint',\n                priority: 10,\n                execute: function (e) {\n                    return dataTouchPointPlugins.correctURL(layout, application, e);\n                }\n            });\n            layout.touchStart.install({\n                name: 'touchStartFixHrefDataTouchPoint',\n                priority: 10,\n                execute: function (e) {\n                    return dataTouchPointPlugins.correctURL(layout, application, e);\n                }\n            });\n            layout.mouseUp.install({\n                name: 'correctHashtagsDataTouch',\n                priority: 10,\n                execute: function (e) {\n                    return dataTouchPointPlugins.setHashtag(layout, application, e);\n                }\n            });\n            layout.touchEnd.install({\n                name: 'correctHashtagsDataTouch',\n                priority: 10,\n                execute: function (e) {\n                    return dataTouchPointPlugins.setHashtag(layout, application, e);\n                }\n            });\n        }\n    };\n    return dataTouchPointPlugins;\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module NavigationHelper\ndefine('NavigationHelper.Plugins.Modals', [\n    'underscore',\n    'jQuery',\n    'Backbone',\n    'UrlHelper',\n    'Utils'\n], function (_, jQuery, Backbone) {\n    'use strict';\n    // @class NavigationHelper.Plugins.Modals Contains the plugins that implement the show in modal for links behavior.\n    // This means a link with the attribute data-toggle=\"show-in-modal\" will be opened in a modal. Supports both internal and external URLs.\n    // @extends ApplicationModule\n    var modalsPlugin = {\n        // @method showInternalLinkInModal for links that has the data-toggle=\"show-in-modal\" we will open them in a modal,\n        // we do this by overriding the showContent function of the layout\n        // and by disabling the overrideViewSettings of the Content.EnhancedViews package\n        // Then we just navigate to that URL to call the router and execute the logic as normal\n        // layout_overlay prevents the user from calling the overridden showContent by clicking another element\n        // @param {jQuery.Event} e\n        // @param {String} href\n        // @param {jQuery} $target\n        // @param {ApplicationSkeleton.Layout} layout\n        // @return {Void}\n        showInternalLinkInModal: function (e, href, $target, layout) {\n            var current_fragment = Backbone.history.fragment || '/', original_view;\n            layout.isShowContentRewritten = true;\n            layout.originalShowContent = layout._showContent;\n            if (modalsPlugin.ContentEnhancedViews) {\n                modalsPlugin.originalOverrideViewSettings = modalsPlugin.ContentEnhancedViews.overrideViewSettings;\n            }\n            var layout_overlay = jQuery('<div class=\"layout-overlay\"></div>');\n            layout.$el.append(layout_overlay);\n            layout.showContent = function (view) {\n                return layout.cancelableTriggerUnsafe('beforeAppendView', view).then(_.bind(_showContent, this, view)).fail(function () {\n                    layout_overlay.remove();\n                    modalsPlugin.undoNavigationHelperFunctionRewrite(layout);\n                });\n            };\n            // Here we override the showContent function\n            var _showContent = function _showContent(view) {\n                layout_overlay.remove();\n                var promise = jQuery.Deferred();\n                // If you ever try to set a view that is not the original one\n                // this code will catch it an do an undo\n                if (!original_view) {\n                    original_view = view;\n                } else if (original_view !== view) {\n                    promise = layout.originalShowContent.apply(layout, arguments);\n                    original_view && original_view.$containerModal && original_view.$containerModal.modal('hide');\n                    return promise;\n                }\n                if (view && _.isFunction(view.showInModal)) {\n                    // Then we just call the show in modal of the same view that we were passed in.\n                    promise = view.showInModal({\n                        className: $target.data('modal-class-name'),\n                        silence: true\n                    });\n                    // once this model closes we undo the override of the function\n                    view.$containerModal.on('hide.bs.modal', function () {\n                        modalsPlugin.undoNavigationHelperFunctionRewrite(layout);\n                    });\n                } else {\n                    modalsPlugin.undoNavigationHelperFunctionRewrite(layout);\n                    Backbone.history.navigate(href, {\n                        trigger: false,\n                        replace: true\n                    });\n                }\n                return promise;\n            };\n            // Here we navigate to the url and we then change the url to what it was originaly set in page that opened the modal\n            Backbone.history.navigate(href, {\n                trigger: true,\n                replace: true\n            });\n            Backbone.history.navigate(current_fragment, {\n                trigger: false,\n                replace: true\n            });\n        }    //@method undoNavigationHelperFunctionRewrite Helper method to undo the override performed by showInternalLinkInModal\n             //@param {ApplicationSkeleton.Layout} layout\n             //@return {Void}\n,\n        undoNavigationHelperFunctionRewrite: function (layout) {\n            if (layout.isShowContentRewritten) {\n                layout.showContent = layout.originalShowContent;\n                if (modalsPlugin.ContentEnhancedViews) {\n                    modalsPlugin.ContentEnhancedViews.overrideViewSettings = modalsPlugin.originalOverrideViewSettings;\n                }\n                layout.isShowContentRewritten = false;\n            }\n        }    //@method showExternalLinkInModal Opens an external page in a modal, by rendering an iframe in it\n             //@param {String} href\n             //@param {NavigationContext} context\n             //@param {ApplicationSkeleton} application\n             //@return {Void}\n,\n        showExternalLinkInModal: function (href, context, application) {\n            var view = new Backbone.View({ application: application });\n            view.template = function () {\n                return '<iframe src=\"' + href + '\"></iframe>';\n            };\n            view.page_header = context.$target.data('page-header') || '';\n            application.getLayout().cancelableTriggerUnsafe('beforeAppendView', view).then(function () {\n                view.showInModal({ className: (context.$target.data('modal-class-name') || '') + ' iframe-modal' });\n            });\n        }    //@method clickNavigation Handle standard click navigation for the cases were the target DO IS not a modal\n             //@param {ApplicationSkeleton.Layout} layout General application layout\n             //@param {jQuery.Event} e jQuery event\n             //@param {ApplicationSkeleton} application\n             //@return {jQuery.Event} e\n,\n        clickNavigation: function (layout, e, application) {\n            // Grabs info from the event element\n            var context = layout.generateNavigationContext(e), href = layout.getUrl(context) || '', target_is_blank = layout.isTargetBlank(e) || e.button === 1, target_is_modal = context.target_data.toggle === 'show-in-modal', is_disabled = context.$target.attr('disabled'), is_dropdown = context.target_data.toggle === 'dropdown', is_external;\n            if (is_disabled) {\n                e.stopPropagation();\n                return e;\n            }\n            if (context.target_data.originalHref && !target_is_blank) {\n                href = context.target_data.originalHref;\n            }\n            if (href === '#' || href === '' || is_dropdown) {\n                return e;\n            }\n            // The navigation is within the same browser window\n            if (!target_is_blank) {\n                // if there is a modal open\n                if (layout.$containerModal) {\n                    layout.$containerModal.modal('hide');\n                }\n                // Wants to open this link in a modal\n                if (target_is_modal) {\n                    is_external = ~href.indexOf('http:') || ~href.indexOf('https:') || ~href.indexOf('mailto:') || ~href.indexOf('tel:');\n                    if (is_external) {\n                        modalsPlugin.showExternalLinkInModal(href, context, application);\n                    } else {\n                        modalsPlugin.showInternalLinkInModal(e, href, context.$target, layout);\n                    }\n                }\n            }\n            return e;\n        }    //@property {Boolean} ContentEnhancedViews\n,\n        ContentEnhancedViews: false    //@method mountToApp\n                 //@param {ApplicationSkeleton} application\n,\n        mountToApp: function (application) {\n            var layout = application.getLayout();\n            // there is a soft dependency with Content.EnhancedViews\n            // we only want it to disable the function that sets the title of the page,\n            // we don't want to do that pages that open in modals\n            try {\n                modalsPlugin.ContentEnhancedViews = require('Content.EnhancedViews');\n            } catch (e) {\n            }\n            //Install Modal Navigation Plugins\n            layout.click.install({\n                name: 'modalNavigation',\n                priority: 10,\n                execute: function (e) {\n                    return modalsPlugin.clickNavigation(layout, e, application);\n                }\n            });\n        }\n    };\n    return modalsPlugin;\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module NavigationHelper\ndefine('NavigationHelper.Plugins.Pushers', [\n    'underscore',\n    'jQuery',\n    'Backbone',\n    'UrlHelper',\n    'Utils'\n], function (_, jQuery, Backbone) {\n    'use strict';\n    // @class NavigationHelper.Plugins.Pushers Contains the plugins that implement the show in pusher for links behavior.\n    // This means a link with the attribute data-toggle=\"show-in-pusher\" will be opened in a pusher. Supports both internal and external URLs.\n    // @extends ApplicationModule\n    var pushersPlugin = {\n        // @method showInternalLinkInModal for links that has the data-toggle=\"show-in-modal\" we will open them in a modal,\n        // we do this by overriding the showContent function of the layout\n        // and by disabling the overrideViewSettings of the Content.EnhancedViews package\n        // Then we just navigate to that URL to call the router and execute the logic as normal\n        // layout_overlay prevents the user from calling the overridden showContent by clicking another element\n        // @param {jQuery.Event} e\n        // @param {String} href\n        // @param {jQuery} $target\n        // @param {ApplicationSkeleton.Layout} layout\n        // @return {Void}\n        showInternalLinkInPusher: function (e, href, $target, layout) {\n            var current_fragment = Backbone.history.fragment || '/';\n            layout.isShowContentRewritten = true;\n            layout.originalShowContent = layout.showContent;\n            if (pushersPlugin.ContentEnhancedViews) {\n                pushersPlugin.originalOverrideViewSettings = pushersPlugin.ContentEnhancedViews.overrideViewSettings;\n            }\n            // Here we override the showContent function\n            layout.showContent = function (view) {\n                var promise = jQuery.Deferred();\n                if (view && _.isFunction(view.showInPush)) {\n                    // Then we just call the show in modal of the same view that we were passed in.\n                    promise = view.showInPush({ className: $target.data('pusher-class-name') });\n                    // once this model closes we undo the override of the function\n                    layout.$pusher_container.on('beforeClose', function () {\n                        pushersPlugin.undoNavigationHelperFunctionRewrite(layout);\n                    });\n                } else {\n                    pushersPlugin.undoNavigationHelperFunctionRewrite(layout);\n                    Backbone.history.navigate(href, {\n                        trigger: false,\n                        replace: true\n                    });\n                }\n                promise.done(function () {\n                    Backbone.history.navigate(current_fragment, {\n                        trigger: false,\n                        replace: true\n                    });\n                });\n                return promise;\n            };\n            // Here we navigate to the url and we then change the url to what it was originaly set in page that opened the modal\n            Backbone.history.navigate(href, {\n                trigger: true,\n                replace: true\n            });\n        }    //@method undoNavigationHelperFunctionRewrite Helper method to undo the override performed by showInternalLinkInModal\n             //@param {ApplicationSkeleton.Layout} layout\n             //@return {Void}\n,\n        undoNavigationHelperFunctionRewrite: function (layout) {\n            if (layout.isShowContentRewritten) {\n                layout.showContent = layout.originalShowContent;\n                if (pushersPlugin.ContentEnhancedViews) {\n                    pushersPlugin.ContentEnhancedViews.overrideViewSettings = pushersPlugin.originalOverrideViewSettings;\n                }\n                layout.isShowContentRewritten = false;\n            }\n        }    //@method showExternalLinkInModal Opens an external page in a modal, by rendering an iframe in it\n             //@param {String} href\n             //@param {NavigationContext} context\n             //@param {ApplicationSkeleton} application\n             //@return {Void}\n,\n        showExternalLinkInPusher: function (href, context, application) {\n            var view = new Backbone.View({ application: application });\n            view.template = function () {\n                return '<iframe src=\"' + href + '\"></iframe>';\n            };\n            view.page_header = context.$target.data('page-header') || '';\n            view.showInPush({ className: (context.$target.data('pusher-class-name') || '') + ' iframe-pusher' });\n        }    //@method clickNavigation Handle standard click navigation for the cases were the target DO IS not a modal\n             //@param {ApplicationSkeleton.Layout} layout General application layout\n             //@param {jQuery.Event} e jQuery event\n             //@param {ApplicationSkeleton} application\n             //@return {jQuery.Event} e\n,\n        clickNavigation: function (layout, e, application) {\n            if (!_.isPhoneDevice()) {\n                return e;\n            }\n            // Grabs info from the event element\n            var context = layout.generateNavigationContext(e), href = layout.getUrl(context) || '', target_is_blank = layout.isTargetBlank(e) || e.button === 1, target_is_pusher = context.target_data.toggle === 'show-in-pusher', is_disabled = context.$target.attr('disabled'), is_dropdown = context.target_data.toggle === 'dropdown', is_external;\n            if (is_disabled) {\n                e.stopPropagation();\n                return e;\n            }\n            if (context.target_data.originalHref && !target_is_blank) {\n                href = context.target_data.originalHref;\n            }\n            if (href === '#' || href === '' || is_dropdown) {\n                return e;\n            }\n            // The navigation is within the same browser window\n            if (!target_is_blank) {\n                // if there is a modal open\n                if (layout.$containerModal) {\n                    layout.$containerModal.modal('hide');\n                }\n                // Wants to open this link in a modal\n                if (target_is_pusher) {\n                    is_external = ~href.indexOf('http:') || ~href.indexOf('https:') || ~href.indexOf('mailto:') || ~href.indexOf('tel:');\n                    if (is_external) {\n                        pushersPlugin.showExternalLinkInPusher(href, context, application);\n                    } else {\n                        pushersPlugin.showInternalLinkInPusher(e, href, context.$target, layout);\n                    }\n                }\n            }\n            return e;\n        }    //@property {Boolean} ContentEnhancedViews\n,\n        ContentEnhancedViews: false    //@method mountToApp\n                 //@param {ApplicationSkeleton} application\n,\n        mountToApp: function (application) {\n            var layout = application.getLayout();\n            // there is a soft dependency with Content.EnhancedViews\n            // we only want it to disable the function that sets the title of the page,\n            // we don't want to do that pages that open in modals\n            try {\n                pushersPlugin.ContentEnhancedViews = require('Content.EnhancedViews');\n            } catch (e) {\n            }\n            //Install Modal Navigation Plugins\n            layout.click.install({\n                name: 'pusherNavigation',\n                priority: 25,\n                execute: function (e) {\n                    return pushersPlugin.clickNavigation(layout, e, application);\n                }\n            });\n        }\n    };\n    return pushersPlugin;\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module GoogleUniversalAnalytics\n(function (win, name) {\n    'use strict';\n    // [Google Universal Analytics](https://developers.google.com/analytics/devguides/collection/analyticsjs/)\n    // We customized the tracking default start script so it doesn't loads analytics.js\n    // (Tracking Start)[https://developers.google.com/analytics/devguides/collection/analyticsjs/#quickstart]\n    win.GoogleAnalyticsObject = name;\n    win[name] = win[name] || function () {\n        (win[name].q = win[name].q || []).push(arguments);\n    };\n    win[name].l = 1 * new Date();\n    //@class GoogleUniversalAnalytics @extends ApplicationModule\n    // ------------------\n    // Loads google analytics script and extends application with methods:\n    // * trackPageview\n    // * trackEvent\n    // * trackTransaction\n    // Also wraps layout's showInModal\n    define('GoogleUniversalAnalytics', [\n        'Tracker',\n        'underscore',\n        'jQuery',\n        'Backbone',\n        'Utils',\n        'SC.Configuration'\n    ], function (Tracker, _, jQuery, Backbone, Utils, Configuration) {\n        var GoogleUniversalAnalytics = {\n            //@method doCallback Indicates if this module do a callback after some particular events\n            //@return {Boolean}\n            doCallback: function () {\n                return !win[name].q;\n            }    //@method trackPageview\n                 //@param {String} url\n                 //@return {GoogleUniversalAnalytics}\n,\n            trackPageview: function (url) {\n                if (_.isString(url)) {\n                    // [Page Tracking](https://developers.google.com/analytics/devguides/collection/analyticsjs/pages#overriding)\n                    win[name]('send', 'pageview', url);\n                }\n                return this;\n            }    //@method trackEvent\n                 //@param {TrackEvent} event\n                 //@return {GoogleUniversalAnalytics}\n,\n            trackEvent: function (event) {\n                if (event && event.category && event.action) {\n                    // [Event Tracking](https://developers.google.com/analytics/devguides/collection/analyticsjs/events#implementation)\n                    win[name]('send', 'event', event.category, event.action, event.label, parseFloat(event.value) || 0, {\n                        'hitCallback': event.callback,\n                        'page': event.page || '/' + Backbone.history.fragment\n                    });\n                }\n                return this;\n            }    //@method addItem\n                 //@param {Object<String:id,String:name>} item\n                 //@return {GoogleUniversalAnalytics}\n,\n            addItem: function (item) {\n                if (item && item.id && item.name) {\n                    // [Adding Items](https://developers.google.com/analytics/devguides/collection/analyticsjs/ecommerce#addItem)\n                    win[name]('ecommerce:addItem', item);\n                }\n                return this;\n            }    //@method addTrans\n                 //@param {Object} transaction\n                 //@return {GoogleUniversalAnalytics}\n,\n            addTrans: function (transaction) {\n                if (transaction && transaction.id) {\n                    // [Adding a Transaction](https://developers.google.com/analytics/devguides/collection/analyticsjs/ecommerce#addTrans)\n                    win[name]('ecommerce:addTransaction', transaction);\n                }\n                return this;\n            }    //@method trackTrans\n                 //@return {GoogleUniversalAnalytics}\n,\n            trackTrans: function () {\n                // [Sending Data](https://developers.google.com/analytics/devguides/collection/analyticsjs/ecommerce#sendingData)\n                win[name]('ecommerce:send');\n                return this;\n            }    //@method trackTransaction\n                 // Based on the created SalesOrder we trigger each of the analytics\n                 // ecommerce methods passing the required information\n                 // [Ecommerce Tracking](https://developers.google.com/analytics/devguides/collection/analyticsjs/ecommerce)\n                 //@param {Tracker.Transaction.Model} @extends Backbone.Model transaction\n                 //@return {GoogleUniversalAnalytics|Void}\n,\n            trackTransaction: function (transaction) {\n                var transaction_id = transaction.get('confirmationNumber');\n                GoogleUniversalAnalytics.addTrans({\n                    id: transaction_id,\n                    revenue: transaction.get('subTotal'),\n                    shipping: transaction.get('shippingCost') + transaction.get('handlingCost'),\n                    tax: transaction.get('taxTotal'),\n                    currency: SC.ENVIRONMENT.currentCurrency && SC.ENVIRONMENT.currentCurrency.code || '',\n                    page: '/' + Backbone.history.fragment\n                });\n                transaction.get('products').each(function (product) {\n                    GoogleUniversalAnalytics.addItem({\n                        id: transaction_id,\n                        affiliation: Configuration.get('siteSettings.displayname'),\n                        sku: product.get('sku'),\n                        name: product.get('name'),\n                        category: product.get('category') || '',\n                        price: product.get('rate'),\n                        quantity: product.get('quantity')\n                    });\n                });\n                return GoogleUniversalAnalytics.trackTrans();\n            }    //@method setAccount\n                 //@param {SC.Configuration} config\n                 //@return {Void}\n,\n            setAccount: function (config) {\n                if (!config) {\n                    return this;\n                }\n                var domainName = Utils.isCheckoutDomain() ? config.domainNameSecure : config.domainName;\n                if (_.isString(config.propertyID) && _.isString(domainName)) {\n                    this.propertyID = config.propertyID;\n                    this.domainName = domainName;\n                    // [Multiple Trackers on The Same Domain](https://developers.google.com/analytics/devguides/collection/analyticsjs/domains#multitrackers)\n                    // https://support.google.com/analytics/answer/1034342?hl=en\n                    win[name]('create', this.propertyID, {\n                        'cookieDomain': this.domainName,\n                        'allowLinker': true\n                    });\n                }\n                return this;\n            }    //@method addCrossDomainParameters\n                 // [Decorating HTML Links](https://developers.google.com/analytics/devguides/collection/analyticsjs/cross-domain#decoratelinks)\n                 //@param {string} url\n                 //@return {String} url\n,\n            addCrossDomainParameters: function (url) {\n                // We only need to add the parameters if the URL we are trying to go\n                // is not a sub domain of the tracking domain\n                if (_.isString(url) && !~url.indexOf(this.domainName)) {\n                    win[name](function (tracker) {\n                        win.linker = win.linker || new win.gaplugins.Linker(tracker);\n                        var track_url = win.linker.decorate(url);\n                        // This validation is due to Tracking Blockers overriding the default analytics methods\n                        if (typeof track_url === 'string') {\n                            url = track_url;\n                        }\n                    });\n                }\n                return url;\n            }    //@method loadScript\n                 //@return {jQuery.Promise|Void}\n,\n            loadScript: function () {\n                return SC.ENVIRONMENT.jsEnvironment === 'browser' && jQuery.getScript('//www.google-analytics.com/analytics.js');\n            }    //@method mountToApp\n                 //@param {ApplicationSkeleton} application\n                 //@return {Void}\n,\n            mountToApp: function (application) {\n                var tracking = application.getConfig('tracking.googleUniversalAnalytics');\n                // if track page view needs to be tracked\n                if (tracking && tracking.propertyID) {\n                    // we get the account and domain name from the configuration file\n                    GoogleUniversalAnalytics.setAccount(tracking);\n                    Tracker.getInstance().trackers.push(GoogleUniversalAnalytics);\n                    // the analytics script is only loaded if we are on a browser\n                    application.getLayout().once('afterAppendView', jQuery.proxy(GoogleUniversalAnalytics, 'loadScript'));\n                    // [Load the eCommerce Plugin](https://developers.google.com/analytics/devguides/collection/analyticsjs/ecommerce#loadit)\n                    win[name]('require', 'ecommerce', 'ecommerce.js');\n                }\n            }\n        };\n        return GoogleUniversalAnalytics;\n    });\n}(window, 'ga'));","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module GoogleTagManager.NavigationHelper.Plugins.Standard\n//It handle the mouseDown event only on the items link of the follow list: Search/Category, Recently viewed items and related/correlated items\ndefine('GoogleTagManager.NavigationHelper.Plugins.Standard', [\n    'Tracker',\n    'jQuery',\n    'Backbone'\n], function (Tracker, jQuery, Backbone) {\n    'use strict';\n    // @class GoogleTagManager.NavigationHelper.Plugins.Standard Contains the standard navigation helper behavior. @extends ApplicationModule\n    var trackerPlugins = {\n        //@method mouseDownNavigation Handle standard mouseDown event\n        //@param {ApplicationSkeleton.Layout} layout General application layout\n        //@param {jQuery.Event} e jQuery event\n        //@return {jQuery.Event} e\n        mouseDownNavigation: function (layout, e) {\n            var $item = jQuery(e.currentTarget).closest('[itemprop=\"itemListElement\"]');\n            if ($item.length) {\n                var category = $item.data('track-productlist-category');\n                if (category) {\n                    var item = {\n                        category: category,\n                        position: $item.data('track-productlist-position'),\n                        list: $item.data('track-productlist-list'),\n                        sku: $item.data('sku'),\n                        itemId: $item.data('item-id'),\n                        name: $item.find('[itemprop=\"name\"]').text()\n                    };\n                    Tracker.getInstance().trackProductClick(new Backbone.Model(item));\n                }\n            }\n            return e;\n        }\n    };\n    return trackerPlugins;\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module GoogleTagManager\n//@class GoogleTagManager @extends ApplicationModule Loads Google Tag Manager scripts\ndefine('GoogleTagManager', [\n    'Tracker',\n    'GoogleTagManager.NavigationHelper.Plugins.Standard',\n    'underscore',\n    'jQuery',\n    'Backbone',\n    'SC.Configuration'\n], function (Tracker, GoogleTagManagerNavigationHelper, _, jQuery, Backbone, Configuration) {\n    'use strict';\n    var win = window, GoogleTagManager = {\n            //@method doCallback Indicates if this module do a callback after some particular events\n            //@return {Boolean}\n            //ie: when you do a log-in, we need to track that event before we navigate to the new page, otherwise the track of the event could be aborted\n            //We have a special case in which this doesn't work, for exampmle, if a browser extension blocks the Analytics tracking but not GTM, the log-in callback is never excecuted\n            doCallback: function () {\n                return !!win.google_tag_manager;\n            }    //@method trackPageview\n                 //@param {String} url\n                 //@return {GoogleTagManager}\n,\n            trackPageview: function (url) {\n                if (_.isString(url)) {\n                    var eventName = 'pageView', eventData = {\n                            'event': eventName,\n                            'data': { 'page': url }\n                        };\n                    //Triggers a Backbone.Event so others can subscribe to this event and add/replace data before is send it to Google Tag Manager\n                    Tracker.trigger(eventName, eventData, url);\n                    this.pushData(eventData);\n                }\n                return this;\n            }    //@method trackEvent Track this actions: guest-checkout, sign-in, create-account, Reorder, add-to-cart, place-order\n                 //@param {TrackEvent} event\n                 //@return {GoogleTagManager}\n,\n            trackEvent: function (event) {\n                if (event && event.category && event.action) {\n                    var eventName = 'action', eventData = {\n                            'event': eventName,\n                            'data': {\n                                'category': event.category,\n                                'action': event.action,\n                                'label': event.label,\n                                'value': parseFloat(event.value) || 0,\n                                'page': event.page || '/' + Backbone.history.fragment\n                            },\n                            'eventCallback': event.callback\n                        };\n                    //Triggers a Backbone.Event so others can subscribe to this event and add/replace data before is send it to Google Tag Manager\n                    Tracker.trigger(eventName, eventData, event);\n                    this.pushData(eventData);\n                }\n                return this;\n            }    //@method trackGenericEvent\n                 //@return {GoogleTagManager}\n,\n            trackGenericEvent: function () {\n                var eventName = 'genericEvent', eventData = {\n                        'event': eventName,\n                        'data': {}\n                    };\n                //Triggers a Backbone.Event so others can subscribe to this event and add/replace data before is send it to Google Tag Manager\n                Tracker.trigger(eventName, eventData, arguments);\n                this.pushData(eventData);\n                return this;\n            }    //@method trackAddToCart\n                 //@param {Transaction.Line.Model} line\n                 //@return {GoogleTagManager}\n,\n            trackAddToCart: function (line) {\n                if (line) {\n                    var eventName = 'addToCart', eventData = {\n                            'event': eventName,\n                            'data': {}\n                        };\n                    //Triggers a Backbone.Event so others can subscribe to this event and add/replace data before is send it to Google Tag Manager\n                    Tracker.trigger(eventName, eventData, line);\n                    this.pushData(eventData);\n                }\n                return this;\n            }    //@method trackTransaction\n                 // https://support.google.com/tagmanager/answer/6106097?hl=en\n                 //@param {Tracker.Transaction.Model} @extends Backbone.Model transaction\n                 //@class Tracker.Transaction.Model\n                 //@property {String} confirmationNumber\n                 //@property {Number} subTotal\n                 //@property {Number} total\n                 //@property {Number} taxTotal\n                 //@property {Number} shippingCost\n                 //@property {Number} handlingCost\n                 //@property {Array<{Tracker.Transaction.Items.Model}>} products\n                 //@class Tracker.Transaction.Line.Model\n                 //@property {String} sku\n                 //@property {String} name\n                 //@property {String} category\n                 //@property {Number} rate\n                 //@property {Number} quantity\n                 //@property {String} variant\n                 //@class Tracker.Transaction.Model\n                 //@class GoogleTagManager\n                 //@return {GoogleTagManager}\n,\n            trackTransaction: function (transaction) {\n                var eventName = 'transaction', eventData = {\n                        'event': eventName,\n                        'data': {\n                            'transactionId': transaction.get('confirmationNumber'),\n                            'transactionAffiliation': Configuration.get('siteSettings.displayname'),\n                            'transactionSubTotal': transaction.get('subTotal'),\n                            'transactionTotal': transaction.get('total'),\n                            'transactionTax': transaction.get('taxTotal'),\n                            'transactionShipping': transaction.get('shippingCost') + transaction.get('handlingCost'),\n                            'transactionCurrency': SC.ENVIRONMENT.currentCurrency && SC.ENVIRONMENT.currentCurrency.code || 'USD',\n                            'transactionProducts': []\n                        }\n                    };\n                transaction.get('products').each(function (product) {\n                    eventData.data.transactionProducts.push({\n                        'sku': product.get('sku'),\n                        'name': product.get('name'),\n                        'category': product.get('category') || '',\n                        'price': product.get('rate'),\n                        'quantity': product.get('quantity'),\n                        'variant': product.get('options')\n                    });\n                });\n                //Triggers a Backbone.Event so others can subscribe to this event and add/replace data before is send it to Google Tag Manager\n                Tracker.trigger(eventName, eventData, transaction);\n                this.pushData(eventData);\n                return this;\n            }    //@method trackProductList\n                 //@param {Backbone.Collection} items\n                 //@param {String} listName\n                 //@return {GoogleTagManager}\n,\n            trackProductList: function (items, listName) {\n                var self = this, eventName = 'productList', eventData = {\n                        'event': eventName,\n                        'data': {\n                            'currencyCode': SC.ENVIRONMENT.currentCurrency && SC.ENVIRONMENT.currentCurrency.code || 'USD',\n                            'items': [],\n                            'page': this.getCategory(),\n                            'list': listName\n                        }\n                    };\n                _.each(items.models, function (item, index) {\n                    //We set this properties in the item so we can print them on the html, to later be read them by the trackProductClick event\n                    item.set('track_productlist_position', index + 1);\n                    item.set('track_productlist_category', self.getCategory());\n                    item.set('track_productlist_list', listName);\n                    eventData.data.items.push({\n                        'name': item.get('_name'),\n                        'sku': item.get('_sku', true),\n                        'price': item.get('_price') && item.get('_price').toFixed(2) || 0,\n                        'list': item.get('track_productlist_list'),\n                        'position': item.get('track_productlist_position'),\n                        'category': item.get('track_productlist_category')\n                    });\n                });\n                //Triggers a Backbone.Event so others can subscribe to this event and add/replace data before is send it to Google Tag Manager\n                Tracker.trigger(eventName, eventData, items);\n                this.pushData(eventData);\n                return this;\n            }    //@method trackProductClick\n                 //@param {Object} item\n                 //@return {GoogleTagManager}\n,\n            trackProductClick: function (item) {\n                var eventName = 'productClick', eventData = {\n                        'event': eventName,\n                        'data': {\n                            'category': item.get('category'),\n                            'position': item.get('position'),\n                            'list': item.get('list'),\n                            'sku': item.get('sku', true),\n                            'name': item.get('name'),\n                            'page': this.getCategory(),\n                            'label': item.get('name')\n                        }\n                    };\n                //We set this item in this Tracker to later be read it by the trackProductView event\n                this.item = item;\n                //Triggers a Backbone.Event so others can subscribe to this event and add/replace data before is send it to Google Tag Manager\n                Tracker.trigger(eventName, eventData, item);\n                this.pushData(eventData);\n                return this;\n            }    //@method trackProductView\n                 //@param {Product.Model} product\n                 //@return {GoogleTagManager}\n,\n            trackProductView: function (product) {\n                var item = product.getItem();\n                if (this.item && this.item.get('itemId') === item.get('_id')) {\n                    item.set('category', this.item.get('category'), { silent: true });\n                    item.set('list', this.item.get('list'), { silent: true });\n                }\n                var eventName = 'productView', selected_options = product.get('options').filter(function (option) {\n                        return option.get('value') && option.get('value').label;\n                    }), price = product.getPrice(), eventData = {\n                        'event': eventName,\n                        'data': {\n                            'sku': product.getSku(),\n                            'name': item.get('_name'),\n                            'variant': _.map(selected_options, function (option) {\n                                return option.get('value').label;\n                            }).join(', '),\n                            'price': (price.price ? price.price : 0).toFixed(2),\n                            'category': item.get('category') || ''    // as we do not support categories this is just the url\n,\n                            'list': item.get('list') || '',\n                            'page': this.getCategory()\n                        }\n                    };\n                this.item = null;\n                //Triggers a Backbone.Event so others can subscribe to this event and add/replace data before is send it to Google Tag Manager\n                Tracker.trigger(eventName, eventData, item);\n                this.pushData(eventData);\n                return this;\n            }    //@method pushData Clean all the values of the dataLayer before we send the new ones\n                 //@param {Object} data\n,\n            pushData: function (data) {\n                //We need to push this dummy empty object to 'clean' the dataLayer, because all the data pushed is appended in another object that is sent to gtm\n                // http://www.simoahava.com/gtm-tips/remember-to-flush-unused-data-layer-variables/\n                win[this.configuration.dataLayerName].push({\n                    'event': undefined,\n                    'data': undefined,\n                    'eventCallback': undefined\n                });\n                win[this.configuration.dataLayerName].push(data);\n            }    //@method getCategory\n                 //@return {String}\n,\n            getCategory: function () {\n                var options = _.parseUrlOptions(Backbone.history.fragment), page = options.page || '';\n                return '/' + Backbone.history.fragment.split('?')[0] + (page ? '?page=' + page : '');\n            }    //@method loadScript\n                 //@return {jQuery.Promise|Void}\n,\n            loadScript: function () {\n                return !SC.isPageGenerator() && jQuery.getScript('//www.googletagmanager.com/gtm.js?id=' + this.configuration.id + '&l=' + this.configuration.dataLayerName);\n            }    //@method mountToApp\n                 //@param {ApplicationSkeleton} application\n                 //@return {Void}\n,\n            mountToApp: function (application) {\n                this.configuration = Configuration.get('tracking.googleTagManager');\n                if (this.configuration && this.configuration.id) {\n                    var layout = application.getLayout();\n                    //Install Standard Navigation Plugins\n                    layout.mouseDown.install({\n                        name: 'googleTagManagerStandardNavigation',\n                        priority: 20,\n                        execute: function (e) {\n                            return GoogleTagManagerNavigationHelper.mouseDownNavigation(layout, e);\n                        }\n                    });\n                    this.configuration.dataLayerName = this.configuration.dataLayerName || 'dataLayer';\n                    // (Tracking Start)[https://developers.google.com/tag-manager/quickstart]\n                    win[this.configuration.dataLayerName] = win[this.configuration.dataLayerName] || [];\n                    win[this.configuration.dataLayerName].push({\n                        'gtm.start': new Date().getTime(),\n                        'event': 'gtm.js'\n                    });\n                    Tracker.getInstance().trackers.push(GoogleTagManager);\n                    // the analytics script is only loaded if we are on a browser\n                    application.getLayout().once('afterAppendView', jQuery.proxy(GoogleTagManager, 'loadScript'));\n                }\n            }\n        };\n    return GoogleTagManager;\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module Merchandising\ndefine('Merchandising.Item.Collection', [\n    'Item.Collection',\n    'Session',\n    'underscore',\n    'Profile.Model',\n    'Utils'\n], function (ItemCollection, Session, _, ProfileModel) {\n    'use strict';\n    // @class Merchandising.ItemCollection Item collection used for the merchandising zone\n    // we declare a new version of the ItemCollection\n    // to make sure the urlRoot doesn't get overridden\n    // @extends Item.Collection\n    return ItemCollection.extend({\n        url: function () {\n            var profile = ProfileModel.getInstance();\n            return _.addParamsToUrl(profile.getSearchApiUrl(), _.extend({}, this.searchApiMasterOptions, Session.getSearchApiParams()), profile.isAvoidingDoubleRedirect());\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module Merchandising\n// @class Merchandising.Rule.Collection\n// Object that contains both model and collection of Merchandising Rules\n// Each MerchandisingRule.Model is a Merchandising Rule record on the backend\ndefine('Merchandising.Rule', [\n    'Singleton',\n    'Backbone',\n    'Backbone.CachedCollection'\n], function (Singleton, Backbone, BackboneCachedCollection) {\n    'use strict';\n    var MerchandisingRule = {};\n    // Standard Backbone.Model, we call extend in case\n    // we want to override some methods\n    MerchandisingRule.Model = Backbone.Model.extend({});\n    // @class MerchandisingRule.Collection Handles the merchandising rules, it is a Singleton as\n    // there is only one set of the rules @extends Backbone.CachedCollection\n    // @extends Backbone.CachedCollection\n    MerchandisingRule.Collection = BackboneCachedCollection.extend({\n        url: '/dls/services/merchandising.ss'    // @class MerchandisingRule.Collection.Model @extends Backbone.Model\n,\n        model: MerchandisingRule.Model\n    }, Singleton);\n    return MerchandisingRule;\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module Merchandising\ndefine('Merchandising.Context', ['underscore'], function (_) {\n    'use strict';\n    // @class Merchandising.Context This class defines a generic facade that allows to handle the association between a View and its handler\n    // @method MerchandisingContext Instance method that given a view associate to it an instance of the Merchandising.Context class\n    // @constructor\n    // @param {Function} view\n    // @return {Merchandising.Context?}\n    var MerchandisingContext = function MerchandisingContext(view) {\n        if (view.MerchandisingContext) {\n            return view.MerchandisingContext;\n        }\n        this.view = view;\n        view.MerchandisingContext = this;\n    };\n    _.extend(MerchandisingContext, {\n        // @property {Array<Merchandising.Context.Handler>} handlers List of registered handlers @static\n        handlers: []    // @method registerHandlers Pushes a new handler for a specific view to the handler list\n              // @static\n              // @param {Function} view_constructor View that will be associated with a particular handler\n              // @param {Merchandising.Context.Handler} methods Object that will be used to handle the specified view constructor\n              // @return {Merchandising.Context}\n,\n        registerHandlers: function (view_constructor, methods) {\n            if (view_constructor) {\n                // if there was already a handler for that view\n                // we remove it from the list, and extend the new\n                // handler with any events that the previous one had\n                var new_handler = _.extend(MerchandisingContext.removeHandler(view_constructor), methods);\n                new_handler.viewConstructor = view_constructor;\n                // then we add it first on the list\n                MerchandisingContext.handlers.unshift(new_handler);\n            }\n            return MerchandisingContext;\n        }    // @method removeHandler based on the constructor passed as a parameter, removes any handler that matches the constructor from the handlers list.\n             // @static\n             // @param {Function} view_constructor\n             // @returns {Merchandising.Context.Handler} the removed handler\n,\n        removeHandler: function (view_constructor) {\n            var removed = {};\n            MerchandisingContext.handlers = _.reject(MerchandisingContext.handlers, function (handler) {\n                if (handler.viewConstructor === view_constructor) {\n                    removed = handler;\n                    return true;\n                }\n            });\n            return removed;\n        }    // @method getHandlerForView @static\n             // @returns {Merchandising.Context.Handler} A handler for the passed in view\n,\n        getHandlerForView: function (view) {\n            return _.find(MerchandisingContext.handlers, function (handler) {\n                return view instanceof handler.viewConstructor;\n            });\n        }    // @method escapeValue @static\n             // @param {String} value\n             // @return {String}\n,\n        escapeValue: function (value) {\n            return value ? value.toString().replace(/\\s/g, '-') : '';\n        }    // @method callHandler calls 'callback_key' from the handler for that view passing all of the arguments\n             // @static @param {String} callback_key @param {Object} context @param {Array} parameters\n,\n        callHandler: function (callback_key, context, parameters) {\n            var handler = MerchandisingContext.getHandlerForView(context.view);\n            return handler && _.isFunction(handler[callback_key]) && handler[callback_key].apply(context, parameters);\n        }    // @method appendFilterValue @static\n             // @param {Object} filters\n             // @param {String} key\n             // @param {to:String,from:String} value\n,\n        appendFilterValue: function (filters, key, value) {\n            if (_.isObject(value) && 'to' in value && 'from' in value) {\n                delete filters[key];\n                filters[key + '.to'] = value.to;\n                filters[key + '.from'] = value.from;\n            } else {\n                if (_.isUndefined(filters[key])) {\n                    filters[key] = '';\n                }\n                var comma = '';\n                if (filters[key]) {\n                    comma = ',';\n                }\n                filters[key] += comma + value;\n            }\n        }\n    });\n    _.extend(MerchandisingContext.prototype, {\n        // @method callHandler\n        // @param {String} callback_key function name to invoke. Possible values are: getIdItemsToExclude or getFilters\n        // @return {Any}\n        callHandler: function (callback_key) {\n            return MerchandisingContext.callHandler(callback_key, this, _.toArray(arguments).slice(1));\n        }    // @method getFilters\n             // @param {Object} filters\n             // @param {Boolean} isWithin\n,\n        getFilters: function (filters, isWithin) {\n            var parsed_filters = this.callHandler('getFilters', filters, isWithin);\n            if (!parsed_filters) {\n                parsed_filters = {};\n                _.each(filters, function (values, key) {\n                    values = _.without(values, '$current');\n                    if (values.length) {\n                        _.each(values, function (value) {\n                            MerchandisingContext.appendFilterValue(parsed_filters, key, value);\n                        });\n                    }\n                });\n            }\n            return parsed_filters;\n        }    // @method getIdItemsToExclude\n,\n        getIdItemsToExclude: function () {\n            return this.callHandler('getIdItemsToExclude') || [];\n        }\n    });\n    return MerchandisingContext;\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module Merchandising\ndefine('Merchandising.View', [\n    'merchandising_zone.tpl',\n    'merchandising_zone_cell_template.tpl',\n    'merchandising_zone_row_template.tpl',\n    'SC.Configuration',\n    'Backbone',\n    'Backbone.CompositeView',\n    'Backbone.CollectionView',\n    'ItemRelations.RelatedItem.View',\n    'underscore',\n    'Utils',\n    'jQuery.bxSlider'\n], function (merchandising_zone_tpl, merchandising_zone_cell_template_tpl, merchandising_zone_row_template_tpl, Configuration, Backbone, BackboneCompositeView, BackboneCollectionView, ItemRelationsRelatedItemView, _) {\n    'use strict';\n    // @class Merchandising.View Responsible for rendering the list of item requested by a merchandizing\n    // rule @extend Backbone.View\n    return Backbone.View.extend({\n        template: merchandising_zone_tpl    // @method initialize Creates a new instance of the current view\n                                  // @param {MerchandisingRule.Model} options.model\n                                  // @param {Merchandising.ItemCollection} options.items\n,\n        initialize: function (options) {\n            this.model = options.model;\n            this.items = options.items;\n            Backbone.View.prototype.initialize.apply(this, arguments);\n            BackboneCompositeView.add(this);\n            var self = this;\n            this.on('afterMerchandAppendToDOM', _.bind(this.initSlider, self));\n        },\n        childViews: {\n            'Zone.Items': function () {\n                var itemsCollectionView = new BackboneCollectionView({\n                    childView: ItemRelationsRelatedItemView,\n                    viewsPerRow: Infinity,\n                    cellTemplate: merchandising_zone_cell_template_tpl,\n                    rowTemplate: merchandising_zone_row_template_tpl,\n                    collection: _.first(this.items.models, this.model.get('show'))\n                });\n                return itemsCollectionView;\n            }\n        }    // @method initSlider\n,\n        initSlider: function () {\n            var element = this.$el.find('[data-type=\"carousel-items\"]');\n            this.$slider = _.initBxSlider(element, Configuration.bxSliderDefaults);\n        }    // @method getContext @returns {Content.LandingPages.View.Context}\n,\n        getContext: function () {\n            // @class Content.LandingPages.View.Context\n            return {\n                // @property {String} zoneTitle\n                zoneTitle: this.model.get('title')    // @property {Boolean} isZoneDescription\n,\n                isZoneDescription: !!this.model.get('description')    // @property {Stirng} zoneDescription\n,\n                zoneDescription: this.model.get('description')\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module Merchandising\ndefine('Merchandising.Zone', [\n    'Merchandising.Item.Collection',\n    'Merchandising.Rule',\n    'Merchandising.Context',\n    'Merchandising.View',\n    'LiveOrder.Model',\n    'underscore',\n    'jQuery'\n], function (MerchandisingItemCollection, MerchandisingRule, MerchandisingContext, MerchandisingView, LiveOrderModel, _, jQuery) {\n    'use strict';\n    // @class Merchandising.Zone\n    // we declare a new version of the ItemCollection\n    // to make sure the urlRoot doesn't get overridden\n    // @constructor @param {HTMLElement|jQuery} element @param {Object} options\n    var MerchandisingZone = function MerchandisingZone(element, options) {\n        var application = options && options.application, layout = application && application.getLayout && application.getLayout();\n        if (!element || !layout) {\n            return;\n        }\n        this.$element = jQuery(element).empty();\n        // we try to get the model based on option.id (if passed) or the elements data id\n        this.model = MerchandisingRule.Collection.getInstance().get(options.id || this.$element.data('id'));\n        if (this.model && this.$element.length && !this.$element.hasClass(this.loadingClassNames)) {\n            this.options = options;\n            this.application = application;\n            this.items = new MerchandisingItemCollection();\n            this.context = new MerchandisingContext(layout.modalCurrentView || layout.currentView || layout);\n            this.initialize();\n        }\n    };\n    _.extend(MerchandisingZone.prototype, {\n        // @method initialize\n        // @return {Void}\n        initialize: function () {\n            this.addLoadingClass();\n            // the listeners MUST be added before the fetch ocurrs\n            this.addListeners();\n            // fetch the items\n            this.items.fetch({\n                cache: true,\n                data: this.getApiParams()\n            });\n        }    // @method addListeners install the listeners\n             // @return {Void}\n,\n        addListeners: function () {\n            var proxy = jQuery.proxy;\n            this.items.on({\n                sync: proxy(this.excludeItems, this),\n                excluded: proxy(this.appendItems, this),\n                appended: proxy(this.removeLoadingClass, this),\n                error: proxy(this.handleRequestError, this)\n            });\n        }    // @method getApiParams precondition: this.model and this.options must be defined\n             // @return {Object}\n,\n        getApiParams: function () {\n            var filters = this.parseApiFilterOptions(), sorting = this.parseApiSortingOptions();\n            if (sorting.length) {\n                filters.sort = sorting.join(',');\n            }\n            // # Response\n            // parameters to be passed to the item's fetch query\n            return _.extend({\n                limit: this.getLimit(),\n                fieldset: this.model.get('fieldset')\n            }, filters);\n        }    // @method parseApiFilterOptions @return {Object}\n,\n        parseApiFilterOptions: function () {\n            var filters = {};\n            // parses the merchandising rule filters into the filters obj\n            _.each(this.model.get('filter'), function (rule_filter) {\n                filters[rule_filter.field_id] = rule_filter.field_value;\n            });\n            return this.context.getFilters(filters, this.model.get('within'));\n        }    // @method parseApiSortingOptions turn sorting obj into a string for the query @return {Array}\n,\n        parseApiSortingOptions: function () {\n            return _.map(this.model.get('sort'), function (value) {\n                return value.field_id + ':' + value.dir;\n            });\n        }    // @method getLimit if there are items to get excluded from the collection.\n             // We need to ask for more items from the api because the filtering gets done after the request.\n             // @return {Number}\n,\n        getLimit: function () {\n            var model = this.model, limit = model.get('show'), exclude = model.get('exclude');\n            if (exclude.length) {\n                if (_.contains(exclude, '$cart')) {\n                    limit += LiveOrderModel.getInstance().get('lines').length;\n                }\n                if (_.contains(exclude, '$current')) {\n                    limit += this.context.getIdItemsToExclude().length;\n                }\n            }\n            return limit <= 100 ? limit : 100;\n        }    // @method excludeItems\n,\n        excludeItems: function () {\n            var self = this;\n            _.each(this.model.get('exclude'), function (filter) {\n                self.applyFilterToItems(filter);\n            });\n            this.items.trigger('excluded');\n            return this;\n        }    // @method applyFilterToItems narrows down the collection if excludes set up on the merchandising rule\n             // @param {String} filter the type of item filtering, currently supported values are: ```'@cart'``` and ```'@current'```\n,\n        applyFilterToItems: function (filter) {\n            var items = this.items;\n            switch (filter) {\n            case '$cart':\n                var item = null;\n                LiveOrderModel.getInstance().get('lines').each(function (line) {\n                    item = line.get('item');\n                    items.remove(items.get(item.get('_matrixParent').get('_id') || item.get('_id')));\n                });\n                break;\n            case '$current':\n                _.each(this.context.getIdItemsToExclude(), function (id) {\n                    items.remove(items.get(id));\n                });\n                break;\n            }\n            return this;\n        }    // @method appendItems\n,\n        appendItems: function () {\n            var items = this.items;\n            if (items.length) {\n                if (this.model.get('template')) {\n                    // we try to get the 'template' from the merchandising rule\n                    var amd_optimize_trick_for_require = require;\n                    MerchandisingView.prototype.template = amd_optimize_trick_for_require(this.model.get('template'));\n                }\n                var view = new MerchandisingView({\n                    model: this.model,\n                    items: items,\n                    application: this.application\n                });\n                view.render();\n                this.$element.append(view.$el);\n                view.trigger('afterMerchandAppendToDOM');\n            }\n            items.trigger('appended');\n            // notify the layout that the content might have changed\n            this.options && this.options.application && this.options.application.getLayout().trigger('afterRender');\n            return this;\n        }    // @property {String} loadingClassNames\n,\n        loadingClassNames: 'loading loading-merchandising-zone'    // @method addLoadingClass\n,\n        addLoadingClass: function () {\n            this.$element.addClass(this.loadingClassNames);\n        }    // @method removeLoadingClass\n,\n        removeLoadingClass: function () {\n            this.$element.removeClass(this.loadingClassNames);\n        }    // @method handleRequestError\n,\n        handleRequestError: function () {\n            this.removeLoadingClass();\n            console.error('Merchandising Zone - Request Error', arguments);\n        }\n    });\n    return MerchandisingZone;\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n/*\n@module Merchandising \n#Merchandizing jQuery plugin\nImplements a jQuery plugin 'merchandisingZone' to handle the Merchandising Zone's intialization. Usage example:\n\n\tjQuery('my-custom-selector').merchandisingZone(options) \n\noptions MUST include the application its running id of the Zone to be rendered is optional IF it is on the element's data-id\n*/\ndefine('Merchandising.jQueryPlugin', [\n    'Merchandising.Zone',\n    'jQuery'\n], function (MerchandisingZone, jQuery) {\n    'use strict';\n    // [jQuery.fn](http://learn.jquery.com/plugins/basic-plugin-creation/)\n    jQuery.fn.merchandisingZone = function (options) {\n        return this.each(function () {\n            new MerchandisingZone(this, options);\n        });\n    };\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module Merchandising\n// Module to handle MerchandisingZones (ex: Featured Items section)\ndefine('Merchandising', [\n    'Merchandising.Item.Collection',\n    'Merchandising.Rule',\n    'Merchandising.jQueryPlugin',\n    'underscore'\n], function (MerchandisingItemCollection, Rule, jQueryPlugin, _) {\n    'use strict';\n    return {\n        reRenderMerchandizing: function reRenderMerchandizing(application, view) {\n            view.$('[data-type=\"merchandising-zone\"]').merchandisingZone({ application: application });\n        }    // @class Merchandising It will listen onAfterAppendView to see if there is a new placeholder on\n             // which to attach a merchandising @extends ApplicationModule\n,\n        mountToApp: function (application) {\n            if (SC.ENVIRONMENT.MERCHANDISING) {\n                // we need to turn it into an array\n                var definitions = _.map(SC.ENVIRONMENT.MERCHANDISING, function (value, key) {\n                    value.internalid = key;\n                    return value;\n                });\n                Rule.Collection.getInstance().reset(definitions);\n                delete SC.ENVIRONMENT.MERCHANDISING;\n            }\n            // we add the default options to be added when fetching the items\n            // this includes language and shoper's currency\n            MerchandisingItemCollection.prototype.searchApiMasterOptions = application.getConfig('searchApiMasterOptions.merchandisingZone');\n            var current_selected_view, self = this;\n            // afterAppendView is triggered whenever a view or modal is appended\n            application.getLayout().on('afterAppendView', function (view) {\n                if (!current_selected_view) {\n                    current_selected_view = view;\n                } else {\n                    current_selected_view.off('afterViewRender', self.reRenderMerchandizing);\n                    current_selected_view.off('afterCompositeViewRender', self.reRenderMerchandizing);\n                    current_selected_view = view;\n                }\n                current_selected_view.on(view.childViews ? 'afterCompositeViewRender' : 'afterViewRender', _.bind(self.reRenderMerchandizing, self, application));\n                self.reRenderMerchandizing(application, current_selected_view);\n            })    // content service triggers this event when rendering a new enhanced page\n.on('renderEnhancedPageContent', function (view, content_zone) {\n                // if the type of the content zone is merchandising\n                if (content_zone.contenttype === 'merchandising') {\n                    var target = content_zone.target, $view_target = view.$(target), merchandising_zone_options = {\n                            application: application,\n                            id: content_zone.content\n                        };\n                    // if the target is in the current view\n                    // we add the merchandising zone there\n                    if ($view_target.length) {\n                        $view_target.merchandisingZone(merchandising_zone_options);\n                    } else {\n                        // else, we search for the target in the layout\n                        this.$(target).filter(':empty').merchandisingZone(merchandising_zone_options);\n                    }\n                }\n            });\n            // @module ApplicationSkeleton @class ApplicationSkeleton @method getMerchandisingRules @return {MerchandisingRule.Collection}\n            application.getMerchandisingRules = function getMerchandisingRules() {\n                return Rule.Collection.getInstance();\n            };\n        }\n    };\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module Balance\ndefine('Balance.View', [\n    'Profile.Model',\n    'LivePayment.Model',\n    'SC.Configuration',\n    'balance.tpl',\n    'Backbone',\n    'underscore',\n    'Utils'\n], function (ProfileModel, LivePaymentModel, Configuration, balance_tpl, Backbone, _) {\n    'use strict';\n    //@class Balance.View @extend Backbone.View\n    return Backbone.View.extend({\n        template: balance_tpl,\n        attributes: { 'class': 'AccountBalance' },\n        initialize: function (options) {\n            this.application = options.application;\n            this.model = ProfileModel.getInstance();\n            this.livePaymentModel = LivePaymentModel.getInstance();\n            this.title = _('Account Balance').translate();\n        },\n        getSelectedMenu: function () {\n            return 'balance';\n        },\n        getBreadcrumbPages: function () {\n            return {\n                text: this.title,\n                href: '/balance'\n            };\n        }    //@method getContext @return {Balance.View.Context}\n,\n        getContext: function () {\n            var live_payment = this.livePaymentModel, percentage = Math.min(this.model.get('balance') * 100 / this.model.get('creditlimit'), 100);\n            //@class Balance.View.Context\n            return {\n                //@property {Profile.Model} model\n                model: this.model,\n                showCompany: !!this.model.get('companyname')    //@property {String} company\n,\n                company: this.model.get('companyname')    //@property {Number} percentage\n,\n                percentage: percentage    //@property {Boolean} isPercentageGreaterThan8\n,\n                isPercentageGreaterThan8: percentage > 8    //@property {Boolean} isPercentageLowertThan92\n,\n                isPercentageLowertThan92: percentage < 92    //@property {String} balanceFormatted\n,\n                balanceFormatted: this.model.get('balance_formatted')    //@property {String} balanceAvailableFormatted\n,\n                balanceAvailableFormatted: this.model.get('balance_available_formatted')    //@property {String} creditLimitFormatted\n,\n                creditLimitFormatted: this.model.get('creditlimit_formatted')    //@property {String} depositsRemainingFormatted\n,\n                depositsRemainingFormatted: live_payment.get('depositsremaining_formatted') || 'N/A'    //@property {String} creditMemosRemainingFormatted\n,\n                creditMemosRemainingFormatted: live_payment.get('creditmemosremaining_formatted') || 'N/A'    //@property {String} paymentTermsName\n,\n                paymentTermsName: this.model.get('paymentterms') && this.model.get('paymentterms').name || 'N/A'    //@property {String} shopperCurrencyCode\n,\n                shopperCurrencyCode: Configuration.get('siteSettings.shopperCurrency.code')    //@property {Boolean} livePaymentHaveInvoices\n,\n                livePaymentHaveInvoices: !!live_payment.get('invoices').length,\n                showBackToAccount: Configuration.get('siteSettings.sitetype') === 'STANDARD'\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module Balance\ndefine('Balance.Router', [\n    'Balance.View',\n    'Backbone'\n], function (View, Backbone) {\n    'use strict';\n    //@class Balance.Router @extend Backbone.Router\n    return Backbone.Router.extend({\n        routes: { 'balance': 'showBalance' },\n        initialize: function (application) {\n            this.application = application;\n        },\n        showBalance: function () {\n            new View({ application: this.application }).showContent();\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module Balance\ndefine('Balance', [\n    'Balance.Router',\n    'underscore',\n    'Utils'\n], function (Router, _) {\n    'use strict';\n    // @class Balance @extends ApplicationModule\n    return {\n        MenuItems: {\n            name: _('Billing').translate(),\n            id: 'billing',\n            index: 3,\n            children: [{\n                    id: 'balance',\n                    name: _('Account Balance').translate(),\n                    url: 'balance',\n                    index: 1\n                }]\n        },\n        mountToApp: function (application) {\n            return new Router(application);\n        }\n    };\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module Invoice\ndefine('Invoice.Date.View', [\n    'invoice_date.tpl',\n    'Backbone'\n], function (invoice_date_tpl, Backbone) {\n    'use strict';\n    //@class Invoice.Date.View @extends Backbone.View\n    return Backbone.View.extend({\n        //@property {Function} template\n        template: invoice_date_tpl    //@method getContext @returns {Invoice.Date.View.Context}\n,\n        getContext: function () {\n            //@class Invoice.Date.View.Context\n            return {\n                //@property {String} dueDate\n                dueDate: this.model.get('dueDate') || ''    //@property {Boolean} showOverdueFlag\n,\n                showOverdueFlag: !!this.model.get('isOverdue')    //@property {Boolean} showPartiallyPaid\n,\n                showPartiallyPaid: !!this.model.get('isPartiallyPaid')\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module RecordViews\ndefine('RecordViews.Selectable.View', [\n    'Backbone.CompositeView',\n    'RecordViews.View',\n    'recordviews_selectable.tpl'\n], function (BackboneCompositeView, RecordViewsView, recordviews_selectable_tpl) {\n    'use strict';\n    //@class RecordViews.Selectable.View @extend RecordViews.View\n    return RecordViewsView.extend({\n        //@property {Function} template\n        template: recordviews_selectable_tpl,\n        events: { 'click [data-action=\"go-to-record\"]': 'stopPropagationOnNavigation' }    //@method stopPropagationOnNavigation Auxiliary method to stop the propagation of the click over the navigation link\n                                                                                   //@param {jQuery.Event} e\n                                                                                   //@return {Void}\n,\n        stopPropagationOnNavigation: function stopPropagationOnNavigation(e) {\n            e.stopPropagation();\n        }    //@method initialize\n             //@param {RecordViews.Selectable.View.Initialize} options\n             //@return {Void}\n             //@method getContext\n             //@return {RecordViews.Selectable.View.Context}\n,\n        getContext: function () {\n            //@class RecordViews.Selectable.View.Context\n            return {\n                //@property {Backbone.Model} model\n                model: this.model,\n                id: this.model.id,\n                isChecked: !!this.model.get('check')    //@property {Boolean} isActive\n,\n                isActive: !!this.model.get('active')    //@property {String} actionType\n,\n                actionType: this.model.get('actionType') || ''    //@property {Boolean} isNavigable\n,\n                isNavigable: !!(this.options.navigable || this.model.get('navigable'))    //@property {String} url\n,\n                url: this.options.referrer ? this.model.get('url') + '/' + this.options.referrer : this.model.get('url')    //@property {String} title\n,\n                title: this.model.get('title')    //@property {Array<RecordViews.View.Column>} columns\n,\n                columns: this.normalizeColumns()\n            };\n        }\n    });\n});    //@class RecordViews.Selectable.View.Initialize\n       //@property {RecordViews.Selectable.View.Initialize.Model} model\n       //@property {Boolean} navigable This value will takes precedence over the value of the model\n       //@class RecordViews.Selectable.View.Initialize.Model @extends Backbone.Model\n       //@property {String} id\n       //@property {Boolean} check\n       //@property {Boolean} active\n       //@property {String?} actionType Default value is ''\n       //@property {String} title\n       //@property {String} url\n       //@property {Boolean} navigable\n       //@property {Array<RecordViews.View.Column>} columns\n","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module Invoice\ndefine('Invoice.OpenList.View', [\n    'Invoice.Collection',\n    'ListHeader.View',\n    'LivePayment.Model',\n    'Backbone.CompositeView',\n    'Backbone.CollectionView',\n    'Invoice.Date.View',\n    'Handlebars',\n    'SC.Configuration',\n    'RecordViews.Selectable.View',\n    'invoice_open_list.tpl',\n    'Backbone',\n    'underscore',\n    'Utils'\n], function (InvoiceCollection, ListHeaderView, LivePaymentModel, BackboneCompositeView, BackboneCollectionView, InvoiceDateView, Handlebars, Configuration, RecordViewsSelectableView, invoice_open_list_tpl, Backbone, _) {\n    'use strict';\n    // returns the amount of days based on milliseconds\n    function getDays(milliseconds) {\n        return milliseconds / 1000 / 60 / 60 / 24;\n    }\n    //@class Invoice.OpenList.View @extends Backbone.View\n    return Backbone.View.extend({\n        //@property {Function} template\n        template: invoice_open_list_tpl    //@property {String} title\n,\n        title: _('Invoices').translate()    //@property {String} page_header\n,\n        page_header: _('Invoices').translate()    //@property {Object} attributes\n,\n        attributes: { 'class': 'Invoices' }    //@property {Object} events\n,\n        events: { 'click [data-action=\"select-invoice\"]': 'toggleInvoiceHandler' }    //@method initialize\n,\n        initialize: function initialize(options) {\n            BackboneCompositeView.add(this);\n            var self = this, application = options.application;\n            this.application = application;\n            this.livePaymentModel = LivePaymentModel.getInstance();\n            this.disableCheckField = 'disable_payment';\n            // manges sorting and filtering of the collection\n            this.listHeader = new ListHeaderView({\n                view: this,\n                application: application,\n                collection: this.collection,\n                filters: this.filterOptions,\n                sorts: this.sortOptions,\n                selectable: true\n            });\n            //Initialize invoices list\n            this.getInvoicesList();\n            this.listHeader.getUnselectedLength = this.getUnselectedLength;\n            this.listHeader.getCollectionLength = this.getCollectionLength;\n            this.collection.on('sync reset', function () {\n                var collection = this;\n                self.livePaymentModel.getSelectedInvoices().each(function (invoice) {\n                    collection.get(invoice).set('checked', true);\n                });\n                self.render();\n            });\n        }    //@method getCollectionLength Returns the length of selectable invoices\n,\n        getCollectionLength: function () {\n            var self = this.view;\n            return this.collection.filter(function (inv) {\n                return !inv.get(self.disableCheckField);\n            }).length;\n        }    //@method getUnselectedLength Returns the length of unselected invoices\n,\n        getUnselectedLength: function () {\n            var self = this.view;\n            return this.collection.filter(function (record) {\n                return !record.get(self.disableCheckField) && !record.get('checked');\n            }).length;\n        }    //@method getSelectedInvoicesLength Returns the count of selected invoices (This method is used by the template)\n,\n        getSelectedInvoicesLength: function () {\n            return this.collection.filter(function (invoice) {\n                return invoice.get('checked');\n            }).length;\n        }    //@method toggleInvoiceHandler Handle to used to change the status of an invoice\n,\n        toggleInvoiceHandler: function (e) {\n            this.toggleInvoice(this.$(e.currentTarget).data('id'));\n        }    //@method toggleInvoice Change the state (selected/unselected) of the specified invoice Model\n,\n        toggleInvoice: function (invoice) {\n            invoice = this.collection.get(invoice);\n            if (invoice) {\n                this[invoice.get('checked') ? 'unselectInvoice' : 'selectInvoice'](invoice);\n                this.render();\n            }\n        }    //@method getInvoicesList Return the list of invoices to be shown indicating if each invoice can or not be selected to make a payment\n,\n        getInvoicesList: function () {\n            var live_payment_invoices = this.livePaymentModel.get('invoices'), self = this;\n            this.collection.each(function (invoice) {\n                var make_payment_invoice = live_payment_invoices.get(invoice.id);\n                invoice.set(self.disableCheckField, !!(make_payment_invoice && make_payment_invoice.get('due') === 0));\n            });\n            return this.collection;\n        }    //@method selectInvoice select a specified invoice Model\n,\n        selectInvoice: function (invoice) {\n            if (invoice) {\n                invoice.set('checked', true);\n            }\n            return this.livePaymentModel.selectInvoice(invoice.id);\n        }    //@method unselectInvoice unselect a specified invoice Model\n,\n        unselectInvoice: function (invoice) {\n            if (invoice) {\n                invoice.set('checked', false);\n            }\n            return this.livePaymentModel.unselectInvoice(invoice.id);\n        }    //@method selectAll selects all invoices\n,\n        selectAll: function () {\n            var self = this, has_changed = false;\n            this.collection.each(function (invoice) {\n                if (!invoice.get('checked') && !invoice.get(self.disableCheckField)) {\n                    has_changed = true;\n                    // select the invoice\n                    self.selectInvoice(invoice, { silent: true });\n                }\n            });\n            // The select all might've been called\n            // on a collection that was already fully selected\n            // so let's not due an painfull useless render, shall we?\n            if (has_changed) {\n                this.render();\n            }\n        }    //@method unselectAll unselects all invoices\n,\n        unselectAll: function () {\n            var self = this, has_changed = false;\n            this.collection.each(function (invoice) {\n                if (invoice.get('checked')) {\n                    has_changed = true;\n                    // unselects the invoice\n                    self.unselectInvoice(invoice, { silent: true });\n                }\n            });\n            // The unselect all might've been called\n            // on a collection that had none selected\n            // so let's not due an painfull useless render, shall we?\n            if (has_changed) {\n                this.render();\n            }\n        }    //@method getSelectedMenu\n,\n        getSelectedMenu: function () {\n            return 'invoices';\n        }    //@method getBreadcrumbPages\n,\n        getBreadcrumbPages: function () {\n            return {\n                text: this.title,\n                href: '/paid-invoices'\n            };\n        }    //@property {Array} filterOptions\n             // Array of default filter options\n             // filters always apply on the original collection\n,\n        filterOptions: [\n            {\n                value: 'overdue',\n                name: _('Show Overdue').translate(),\n                filter: function () {\n                    return this.original.filter(function (invoice) {\n                        return !invoice.get('dueinmilliseconds') || invoice.get('isOverdue');\n                    });\n                }\n            },\n            {\n                value: 'next7days',\n                name: _('Show Due next 7 days').translate(),\n                filter: function () {\n                    return this.original.filter(function (invoice) {\n                        return !invoice.get('dueinmilliseconds') || getDays(invoice.get('dueinmilliseconds')) <= 7;\n                    });\n                }\n            },\n            {\n                value: 'next30days',\n                name: _('Show Due next 30 days').translate(),\n                filter: function () {\n                    return this.original.filter(function (invoice) {\n                        return !invoice.get('dueinmilliseconds') || getDays(invoice.get('dueinmilliseconds')) <= 30;\n                    });\n                }\n            },\n            {\n                value: 'next60days',\n                name: _('Show Due next 60 days').translate(),\n                filter: function () {\n                    return this.original.filter(function (invoice) {\n                        return !invoice.get('dueinmilliseconds') || getDays(invoice.get('dueinmilliseconds')) <= 60;\n                    });\n                }\n            },\n            {\n                value: 'next90days',\n                name: _('Show Due next 90 days').translate(),\n                filter: function () {\n                    return this.original.filter(function (invoice) {\n                        return !invoice.get('dueinmilliseconds') || getDays(invoice.get('dueinmilliseconds')) <= 90;\n                    });\n                }\n            },\n            {\n                value: 'all',\n                name: _('Show All').translate(),\n                selected: true,\n                filter: function () {\n                    return this.original.models;\n                }\n            }\n        ]    //@property {Array} sortOptions\n             // Array of default sort options\n             // sorts only apply on the current collection\n             // which might be a filtered version of the original\n,\n        sortOptions: [\n            {\n                value: 'duedate',\n                name: _('By Due Date').translate(),\n                selected: true,\n                sort: function () {\n                    return this.models.sort(function (invoiceOne, invoiceTwo) {\n                        var milli_inv_one = invoiceOne.get('dueinmilliseconds') || 0, milli_inv_two = invoiceTwo.get('dueinmilliseconds') || 0;\n                        if (milli_inv_one !== milli_inv_two) {\n                            return milli_inv_one < milli_inv_two ? -1 : 1;\n                        }\n                        return invoiceOne.get('tranid') < invoiceTwo.get('tranid') ? -1 : 1;\n                    });\n                }\n            },\n            {\n                value: 'trandate',\n                name: _('By Invoice Date').translate(),\n                sort: function () {\n                    return this.models.sort(function (invoiceOne, invoiceTwo) {\n                        var milli_inv_one = invoiceOne.get('tranDateInMilliseconds') || 0, milli_inv_two = invoiceTwo.get('tranDateInMilliseconds') || 0;\n                        if (milli_inv_one !== milli_inv_two) {\n                            return milli_inv_one < milli_inv_two ? -1 : 1;\n                        }\n                        return invoiceOne.get('tranid') < invoiceTwo.get('tranid') ? -1 : 1;\n                    });\n                }\n            },\n            {\n                value: 'invoicenumber',\n                name: _('By Invoice Number').translate(),\n                sort: function () {\n                    return this.sortBy(function (invoice) {\n                        return parseInt(invoice.get('tranid').split(/[^\\(\\)0-9]*/).join(''), 10);\n                    });\n                }\n            },\n            {\n                value: 'amountdue',\n                name: _('By Amount Due').translate(),\n                sort: function () {\n                    return this.sortBy(function (invoice) {\n                        return invoice.get('amountremaining');\n                    });\n                }\n            }\n        ]    //@property {Object} childViews\n,\n        childViews: {\n            'ListHeader': function () {\n                return this.listHeader;\n            },\n            'Invoice.Results': function () {\n                var records_collection = new Backbone.Collection(this.collection.map(function (invoice) {\n                    var model = new Backbone.Model({\n                        touchpoint: 'customercenter',\n                        title: new Handlebars.SafeString(_('Invoice #<span class=\"tranid\">$(0)</span>').translate(invoice.get('tranid'))),\n                        url: 'invoices/' + invoice.get('internalid'),\n                        actionType: 'select-invoice',\n                        active: true,\n                        id: invoice.get('internalid'),\n                        internalid: invoice.get('internalid'),\n                        check: invoice.get('checked'),\n                        navigable: true,\n                        columns: [\n                            {\n                                label: _('Date:').translate(),\n                                type: 'date',\n                                name: 'date',\n                                value: invoice.get('trandate')\n                            },\n                            {\n                                label: _('Due date:').translate(),\n                                type: 'date',\n                                name: 'due-date',\n                                compositeKey: 'InvoiceDateView',\n                                composite: new InvoiceDateView({\n                                    model: new Backbone.Model({\n                                        isOverdue: invoice.get('isOverdue'),\n                                        dueDate: invoice.get('duedate'),\n                                        isPartiallyPaid: invoice.get('amount') - invoice.get('amountremaining')\n                                    })\n                                })\n                            },\n                            {\n                                label: _('Amount:').translate(),\n                                type: 'currency',\n                                name: 'amount',\n                                value: invoice.get('amount_formatted')\n                            }\n                        ]\n                    });\n                    return model;\n                }));\n                return new BackboneCollectionView({\n                    childView: RecordViewsSelectableView,\n                    collection: records_collection,\n                    viewsPerRow: 1,\n                    childViewOptions: { referrer: 'invoices' }\n                });\n            }\n        }    //@method getContext\n             //@returns {Invoice.OpenList.View.Context}\n,\n        getContext: function () {\n            var invoices = this.getInvoicesList();\n            //@class Invoice.OpenList.View.Context\n            return {\n                //@property {Invoice.Collection} invoices\n                invoices: invoices    //@property {Boolean} showInvoices\n,\n                showInvoices: !!invoices.length,\n                pageHeader: this.page_header,\n                showMakeAPaymentButton: this.collection.length > 0    //@property {Boolean} enableMakeAPaymentButton\n,\n                enableMakeAPaymentButton: this.getSelectedInvoicesLength() > 0    //@property {Boolean} showBackToAccount\n,\n                showBackToAccount: Configuration.get('siteSettings.sitetype') === 'STANDARD'\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module Invoice\ndefine('Invoice.PaidList.View', [\n    'Invoice.Collection',\n    'ListHeader.View',\n    'Backbone.CompositeView',\n    'Backbone.CollectionView',\n    'Profile.Model',\n    'RecordViews.View',\n    'Handlebars',\n    'SC.Configuration',\n    'invoice_paid_list.tpl',\n    'jQuery',\n    'Backbone',\n    'underscore',\n    'Utils'\n], function (InvoiceCollection, ListHeaderView, BackboneCompositeView, BackboneCollectionView, ProfileModel, RecordViewsView, Handlebars, Configuration, invoice_paid_list_tpl, jQuery, Backbone, _) {\n    'use strict';\n    //@class Invoice.PaidList.View @extends Backbone.View\n    return Backbone.View.extend({\n        //@property {Function} template\n        template: invoice_paid_list_tpl    //@property {String} title\n,\n        title: _('Invoices').translate()    //@property {String} page_header\n,\n        page_header: _('Invoices').translate()    //@property {Object} attributes\n,\n        attributes: { 'class': 'PaidInvoices' }    //@method initialize\n,\n        initialize: function (options) {\n            BackboneCompositeView.add(this);\n            this.user = ProfileModel.getInstance();\n            var today = new Date(), isoDate = today.getFullYear() + '-' + (today.getMonth() + 1) + '-' + today.getDate();\n            this.rangeFilterOptions = {\n                fromMin: '1800-01-02',\n                fromMax: isoDate,\n                toMin: '1800-01-02',\n                toMax: isoDate\n            };\n            // manages sorting and filtering of the collection\n            this.listHeader = new ListHeaderView({\n                view: this,\n                application: options.application,\n                collection: this.collection,\n                sorts: this.sortOptions,\n                rangeFilter: 'date',\n                rangeFilterLabel: _('From').translate()\n            });\n            this.collection.on('sync reset', jQuery.proxy(this, 'render'));\n        }    //@method getSelectedMenu\n,\n        getSelectedMenu: function () {\n            return 'invoices';\n        }    //@method getBreadcrumbPages\n,\n        getBreadcrumbPages: function () {\n            return {\n                text: this.title,\n                href: '/paid-invoices'\n            };\n        }    //@property {Array} sortOptions\n             // Array of default sort options\n             // sorts only apply on the current collection\n             // which might be a filtered version of the original\n,\n        sortOptions: [\n            {\n                value: 'closedate',\n                name: _('By Close Date').translate(),\n                selected: true,\n                sort: function () {\n                    return this.sortBy(function (invoice) {\n                        return [\n                            invoice.get('closedateInMilliseconds'),\n                            invoice.get('tranid')\n                        ];\n                    });\n                }\n            },\n            {\n                value: 'trandate',\n                name: _('By Invoice Date').translate(),\n                sort: function () {\n                    return this.sortBy(function (invoice) {\n                        return [\n                            invoice.get('tranDateInMilliseconds'),\n                            invoice.get('tranid')\n                        ];\n                    });\n                }\n            },\n            {\n                value: 'invoicenumber',\n                name: _('By Invoice Number').translate(),\n                sort: function () {\n                    return this.sortBy(function (invoice) {\n                        return parseInt(invoice.get('tranid').split(/[^\\(\\)0-9]*/).join(''), 10);\n                    });\n                }\n            },\n            {\n                value: 'amountdue',\n                name: _('By Amount').translate(),\n                sort: function () {\n                    return this.sortBy(function (invoice) {\n                        return invoice.get('amount');\n                    });\n                }\n            }\n        ]    //@property {Object} childViews\n,\n        childViews: {\n            'ListHeader': function () {\n                return this.listHeader;\n            },\n            'Invoice.Results': function () {\n                var records_collection = new Backbone.Collection(this.collection.map(function (invoice) {\n                    var model = new Backbone.Model({\n                        touchpoint: 'customercenter',\n                        title: new Handlebars.SafeString(_('Invoice #<span class=\"tranid\">$(0)</span>').translate(invoice.get('tranid'))),\n                        detailsURL: 'invoices/' + invoice.get('internalid'),\n                        id: invoice.get('internalid'),\n                        internalid: invoice.get('internalid'),\n                        columns: [\n                            {\n                                label: _('Date:').translate(),\n                                type: 'date',\n                                name: 'date',\n                                value: invoice.get('trandate')\n                            },\n                            {\n                                label: _('Close date:').translate(),\n                                type: 'date',\n                                name: 'close-date',\n                                value: invoice.get('closedate')\n                            },\n                            {\n                                label: _('Amount:').translate(),\n                                type: 'currency',\n                                name: 'amount',\n                                value: invoice.get('amount_formatted')\n                            }\n                        ]\n                    });\n                    return model;\n                }));\n                return new BackboneCollectionView({\n                    childView: RecordViewsView,\n                    collection: records_collection,\n                    viewsPerRow: 1,\n                    childViewOptions: { referrer: 'paid-invoices' }\n                });\n            }\n        }    //@method getContext @returns Invoice.PaidList.View.Context\n,\n        getContext: function () {\n            //@class Invoice.PaidList.View.Context\n            return {\n                //@property {Invoice.Collection} invoices\n                invoices: this.collection,\n                showInvoices: !!this.collection.length,\n                pageHeader: this.page_header,\n                showBackToAccount: Configuration.get('siteSettings.sitetype') === 'STANDARD'\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module Invoice\ndefine('Invoice.Details.View', [\n    'LivePayment.Model',\n    'Backbone.CompositeView',\n    'Backbone.CollectionView',\n    'Address.Details.View',\n    'Transaction.Line.Views.Cell.Navigable.View',\n    'invoice_details.tpl',\n    'Backbone',\n    'underscore'\n], function (LivePaymentModel, BackboneCompositeView, BackboneCollectionView, AddressDetailsView, TransactionLineViewsCellNavigableView, invoice_details_tpl, Backbone, _) {\n    'use strict';\n    //@class Invoice.Details.View @extends Backbone.View\n    return Backbone.View.extend({\n        //@property {Function} template\n        template: invoice_details_tpl,\n        title: _('Invoice Details').translate()    //@property {Object} events\n,\n        events: { 'click [data-type=\"make-a-payment\"]': 'makeAPayment' }    //@method initialize\n,\n        initialize: function (options) {\n            this.application = options.application;\n            this.navSource = this.getNavSource(options.referrer);\n            BackboneCompositeView.add(this);\n        }    //@method getNavSource Define the object that will be used by the breadcrumb\n             //@param {String} referrer Option defined to record the navigation origin\n             //@return {Invoice.Details.View.navSource}\n,\n        getNavSource: function (referrer) {\n            var navSource = {};\n            switch (referrer) {\n            case 'paid-invoices':\n                navSource.href = '/paid-invoices';\n                navSource.text = _('Invoices').translate();\n                navSource.menu = 'invoices';\n                break;\n            case 'transactionhistory':\n                navSource.href = '/transactionhistory';\n                navSource.text = _('Transaction History').translate();\n                navSource.menu = 'transactionhistory';\n                break;\n            default:\n                navSource.href = '/invoices';\n                navSource.text = _('Invoices').translate();\n                navSource.menu = 'invoices';\n                break;\n            }\n            return navSource;\n        }    //@method getSelectedMenu Define the name of the menu option selected when displaying this view\n             //@return {String}\n,\n        getSelectedMenu: function () {\n            return this.navSource && this.navSource.menu || 'invoices';\n        }    //@method getBreadcrumbPages Define the content of the breadcrumb\n             //@return {Array}\n,\n        getBreadcrumbPages: function () {\n            return [\n                {\n                    text: this.navSource.text,\n                    href: this.navSource.href\n                },\n                {\n                    text: _('Invoice #$(0)').translate(this.model.get('tranid')),\n                    href: '/invoices/view/' + this.model.get('internalid')\n                }\n            ];\n        }    //@method getItemsNumber\n,\n        getItemsNumber: function () {\n            var items_quantity = 0;\n            this.model.get('lines').each(function (models) {\n                items_quantity += models.get('quantity');\n            });\n            return items_quantity;\n        }    //@method makeAPayment Mark the current invoice as selected (check) and start the payment wizard\n,\n        makeAPayment: function () {\n            LivePaymentModel.getInstance().selectInvoice(this.model.id);\n        }    //@property {Object} childViews\n,\n        childViews: {\n            'Billing.Address': function () {\n                return new AddressDetailsView({\n                    model: this.model.get('addresses').get(this.model.get('billaddress')),\n                    hideDefaults: true,\n                    showSelect: false,\n                    hideActions: true\n                });\n            },\n            'Items.Collection': function () {\n                return new BackboneCollectionView({\n                    collection: this.model.get('lines'),\n                    childView: TransactionLineViewsCellNavigableView,\n                    viewsPerRow: 1,\n                    childViewOptions: {\n                        navigable: true,\n                        detail1Title: _('Qty:').translate(),\n                        detail1: 'quantity',\n                        detail2Title: _('Unit price:').translate(),\n                        detail2: 'rate_formatted',\n                        detail3Title: _('Amount:').translate(),\n                        detail3: 'total_formatted'\n                    }\n                });\n            }\n        }    //@method getContext @returns Invoice.Details.View.Context\n,\n        getContext: function () {\n            var payments = this.model.get('adjustments').where({ recordtype: 'customerpayment' }), credit_memos = this.model.get('adjustments').where({ recordtype: 'creditmemo' }), deposit_applications = this.model.get('adjustments').where({ recordtype: 'depositapplication' }), show_adjustments = this.model.get('adjustments').length, is_open = this.model.get('status').internalid === 'open', paymentmethod = this.model.get('paymentmethods') && this.model.get('paymentmethods').findWhere({ primary: true }), lines = this.model.get('lines'), items_quantity = this.getItemsNumber();\n            //@class Invoice.Details.View.Context\n            return {\n                //@property {Invoice.Model} model\n                model: this.model,\n                makeAPaymentPermissions: 'transactions.tranCustPymt.2, transactions.tranCustInvc.1'    //@property {Boolean} showInModal\n,\n                showInModal: !!this.inModal,\n                donwloadPdfUrl: _.getDownloadPdfUrl({\n                    asset: 'invoice-details',\n                    'id': this.model.get('internalid')\n                })    //@property {String} pageTitle\n,\n                pageTitle: _('Invoice <span class=\"strong-text\">#$(0)</span>').translate(this.model.get('order_number'))    //@property {Boolean} isOpen\n,\n                isOpen: is_open    //@property {Boolean} showCreatedFrom\n,\n                showCreatedFrom: !!(this.model.get('createdfrom') && this.model.get('createdfrom').internalid)    //@property {Boolean} showDueDate\n,\n                showDueDate: !!this.model.get('dueDate')    //@property {Boolean} showSaleRep\n,\n                showSaleRep: !!this.model.get('salesrep')    //@property {Boolean} showSaleRepPhone\n,\n                showSaleRepPhone: !!(this.model.get('salesrep') && this.model.get('salesrep').phone)    //@property {Boolean} showSaleRepName\n,\n                showSaleRepEmail: !!(this.model.get('salesrep') && this.model.get('salesrep').email)    //@property {String} siteName\n,\n                siteName: this.application.getConfig('siteSettings.displayname')    //@property {Boolean} showMemo\n,\n                showMemo: !!this.model.get('memo')    //@property {Boolean} showTerms\n,\n                showTerms: !!(paymentmethod && paymentmethod.get('paymentterms'))    //@property {String} termsName\n,\n                termsName: paymentmethod && paymentmethod.get('paymentterms') && paymentmethod.get('paymentterms').name || ''    //@property {Boolean} showDiscountSummary\n,\n                showDiscountSummary: !!this.model.get('summary').discounttotal,\n                showGiftcerticate: !!this.model.get('summary').giftcertapplied,\n                showAdjustments: show_adjustments    //@property {Boolean}\n,\n                showMakeAPaymentButton: !!(is_open && !this.inModal)    //@property {Boolean} showBillingAddress\n,\n                showBillingAddress: !!this.model.get('addresses').get(this.model.get('billaddress'))    //@property {Array} payments\n,\n                payments: payments    //property {Boolean} showPayments\n,\n                showPayments: !!payments.length,\n                creditMemos: credit_memos    //property {Boolean} showCreditMemos\n,\n                showCreditMemos: !!credit_memos.length,\n                depositApplications: deposit_applications    //property {Boolean} showCreditMemos\n,\n                showDepositApplications: !!deposit_applications.length,\n                showLines: !!lines.length,\n                linesLengthGreaterThan1: lines.length > 1    //@property {Number} itemsQuantityNumber\n,\n                itemsQuantityNumber: items_quantity    //@property {Boolean} linesitemsNumberGreaterThan1\n,\n                linesitemsNumberGreaterThan1: items_quantity > 1    //@property {OrderLine.Collection} lines\n,\n                lines: lines    //@property {Boolean} showOpenedAccordion\n,\n                showOpenedAccordion: _.isTabletDevice() || _.isDesktopDevice()\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module Invoice\ndefine('Invoice.Router', [\n    'Invoice.Collection',\n    'Invoice.Model',\n    'Invoice.OpenList.View',\n    'Invoice.PaidList.View',\n    'Invoice.Details.View',\n    'AjaxRequestsKiller',\n    'Backbone'\n], function (Collection, InvoiceModel, OpenListView, PaidListView, DetailsView, AjaxRequestsKiller, Backbone) {\n    'use strict';\n    //@class Invoice.Router Router for handling Invoices views @extends Backbone.Router\n    return Backbone.Router.extend({\n        //@property {Object} routes\n        routes: {\n            'invoices': 'showOpenInvoicesList',\n            'invoices?*options': 'showOpenInvoicesList',\n            'paid-invoices': 'showPaidInvoicesList',\n            'paid-invoices?*options': 'showPaidInvoicesList',\n            'invoices/:id': 'showInvoice',\n            'invoices/:id/:referrer': 'showInvoice'\n        }    //@method initialize\n,\n        initialize: function (application) {\n            this.application = application;\n        }    //@method showOpenInvoicesList\n,\n        showOpenInvoicesList: function () {\n            var collection = new Collection(), view = new OpenListView({\n                    application: this.application,\n                    collection: collection\n                });\n            collection.on('sync', view.showContent, view).fetch({\n                data: {\n                    status: 'open',\n                    page: 'all'\n                },\n                killerId: AjaxRequestsKiller.getKillerId()\n            });\n        }    //@method showPaidInvoicesList\n,\n        showPaidInvoicesList: function () {\n            var collection = new Collection(), view = new PaidListView({\n                    application: this.application,\n                    collection: collection\n                });\n            collection.on('sync', view.showContent, view).fetch({\n                data: {\n                    status: 'paid',\n                    page: 'all'\n                },\n                killerId: AjaxRequestsKiller.getKillerId()\n            });\n        }    //@method showInvoice\n,\n        showInvoice: function (invoice_id, referrer) {\n            var invoice = new InvoiceModel({ internalid: invoice_id }), view = new DetailsView({\n                    application: this.application,\n                    model: invoice,\n                    referrer: referrer\n                });\n            invoice.on('change', view.showContent, view).fetch({ killerId: AjaxRequestsKiller.getKillerId() });\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module Invoice\ndefine('Invoice', [\n    'Invoice.Router',\n    'underscore',\n    'Utils'\n], function (InvoiceRouter, _) {\n    'use strict';\n    return {\n        MenuItems: {\n            parent: 'billing',\n            id: 'invoices',\n            name: _('Invoices').translate(),\n            url: 'invoices',\n            index: 2,\n            permission: 'transactions.tranCustInvc.1'\n        },\n        mountToApp: function (application) {\n            return new InvoiceRouter(application);\n        }\n    };\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module LivePayment @class LivePayment @extends ApplicationModule\ndefine('LivePayment', ['LivePayment.Model'], function (LivePaymentModel) {\n    'use strict';\n    return {\n        mountToApp: function () {\n            if (SC.ENVIRONMENT.LIVEPAYMENT) {\n                LivePaymentModel.getInstance().set(SC.ENVIRONMENT.LIVEPAYMENT);\n            }\n        }\n    };\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module Wizard\ndefine('Wizard.StepNavigation.View', [\n    'wizard_step_navigation.tpl',\n    'Backbone',\n    'underscore'\n], function (wizard_step_navigation_tpl, Backbone, _) {\n    'use strict';\n    //@class Wizard.StepNavigation.View @extends Backbone.View\n    return Backbone.View.extend({\n        template: wizard_step_navigation_tpl    //@method getContext @return {Wizard.StepNavigation.View.Context}\n,\n        getContext: function () {\n            var step_groups = [], errors_to_display = [], counter = 0;\n            _(this.options.wizard.stepGroups).each(function (step_group) {\n                if (step_group.showStepGroup()) {\n                    //@class Wizard.StepNavigation.View.StepGroupData\n                    var step_group_data = {\n                            //@property {String} name\n                            name: '. ' + step_group.name,\n                            listItemClass: ''    //@property {String} linkUrl\n,\n                            linkUrl: ''    //@property {Number} counter\n,\n                            counter: 0\n                        }, listItemClass = '', step_group_errors = step_group.getErrors();\n                    if (step_group.state === 'present') {\n                        listItemClass += ' wizard-step-navigation-active';\n                    } else if (step_group.state === 'future') {\n                        listItemClass += ' wizard-step-navigation-disabled';\n                    }\n                    if (step_group_errors && step_group_errors.length) {\n                        listItemClass += ' wizard-step-navigation-error';\n                    }\n                    step_group_data.listItemClass = listItemClass;\n                    step_group_data.linkUrl = step_group.state === 'future' ? Backbone.history.fragment : step_group.getURL() + '?force=true';\n                    errors_to_display = _.uniq(_.union(errors_to_display, step_group_errors), function (item) {\n                        return item.errorCode;\n                    });\n                    step_group_data.counter = ++counter;\n                    step_groups.push(step_group_data);\n                }\n            });\n            //@class Wizard.StepNavigation.View.Context\n            return {\n                //@property {Array<Wizard.StepNavigation.View.StepGroupData>} stepGroups\n                stepGroups: step_groups    //@property {Array<String>} errors\n,\n                errors: errors_to_display    //@property {Boolean} showBackButton\n,\n                showBackButton: !this.options.wizard.isCurrentStepFirst()\n            };    //@class Wizard.StepNavigation.View\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module Wizard\ndefine('Wizard.View', [\n    'wizard.tpl',\n    'Backbone',\n    'Backbone.CompositeView',\n    'Wizard.StepNavigation.View'\n], function (wizard_tpl, Backbone, BackboneCompositeView, WizardStepNavigationView) {\n    'use strict';\n    // @class Wizard.View  Frame component, Renders the steps @extends Backbone.View\n    return Backbone.View.extend({\n        template: wizard_tpl,\n        attributes: {\n            'id': 'wizard',\n            'data-root-component-id': 'Wizard.View'\n        },\n        events: {\n            'click [data-action=\"previous-step\"]': 'previousStep',\n            'click [data-action=\"submit-step\"]': 'submit'\n        },\n        childViews: {\n            'Wizard.StepNavigation': function () {\n                return new WizardStepNavigationView({ wizard: this.wizard });\n            }\n        },\n        initialize: function (options) {\n            this.wizard = options.wizard;\n            this.currentStep = options.currentStep;\n            BackboneCompositeView.add(this);\n        },\n        render: function () {\n            this.title = this.currentStep.getName();\n            // Renders itself\n            this._render();\n            // Then Renders the current Step\n            this.currentStep.attributes = this.currentStep.attributes || {};\n            this.currentStep.attributes['data-root-component-id'] = this.attributes['data-root-component-id'];\n            this.currentStep.render();\n            // Then adds the step in the #wizard-content element of self\n            this.$('#wizard-content').empty().append(this.currentStep.$el);\n        }    // @method showError handle error messages on each step so we disable the global ErrorManagment\n,\n        showError: function (message) {\n            this.wizard.manageError(message);\n        }    // @method previousStep\n,\n        previousStep: function (e) {\n            this.wizard.getCurrentStep().previousStep(e);\n        }    // @method getHeaderView\n,\n        getHeaderView: function () {\n            return this.wizard.getCurrentStep() && this.wizard.getCurrentStep().headerView;\n        }    // @method getHeaderViewOptions\n,\n        getHeaderViewOptions: function () {\n            return this.wizard.getCurrentStep() && this.wizard.getCurrentStep().headerViewOptions && this.wizard.getCurrentStep().headerViewOptions();\n        }    // @method getFooterView\n,\n        getFooterView: function () {\n            return this.wizard.getCurrentStep() && this.wizard.getCurrentStep().footerView;\n        }    // @method getFooterViewOptions\n,\n        getFooterViewOptions: function () {\n            return this.wizard.getCurrentStep() && this.wizard.getCurrentStep().footerViewOptions && this.wizard.getCurrentStep().footerViewOptions();\n        },\n        getPageDescription: function () {\n            return 'checkout - ' + (Backbone.history.fragment || '').split('?')[0];    //remove parameters - we don't want a variable value for site-page\n        }    //@method submit\n,\n        submit: function (e) {\n            this.wizard.getCurrentStep().submit(e);\n        }    // @method getContext @return {Wizard.View.Context}\n,\n        getContext: function () {\n            // @class Wizard.View.Context\n            return {\n                // @property {Boolean} showBreadcrumb\n                showBreadcrumb: !this.wizard.getCurrentStep().hideBreadcrumb\n            };    // @class Wizard.View\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module Wizard\ndefine('Wizard.Step', [\n    'Backbone',\n    'underscore',\n    'jQuery',\n    'wizard_step.tpl',\n    'GlobalViews.Message.View',\n    'PluginContainer',\n    'Backbone.CompositeView',\n    'Utils'\n], function (Backbone, _, jQuery, wizard_step_tpl, GlobalViewsMessageView, PluginContainer, BackboneCompositeView) {\n    'use strict';\n    // @class Wizard.Step Step View, Renders all the components of the Step @extends {Backbone.View}\n    return Backbone.View.extend({\n        template: wizard_step_tpl    // @property {String} continueButtonLabel default label for the \"continue\" button, this is overridden in the configuration file\n,\n        continueButtonLabel: _('Continue').translate()    // @property {Boolean} hideBackButton by default the back button is shown, this is overridden in the configuration file\n,\n        hideBackButton: false    // @property {String} bottomMessage\n,\n        bottomMessage: null    // @property {String} bottomMessageClass\n,\n        bottomMessageClass: ''    // @property {Array<Wizard.Module>} modules Will be extended with the modules to be instantiated\n,\n        modules: []    // @method getContinueButtonLabel @returns {String}\n,\n        getContinueButtonLabel: function () {\n            var current_step = this.wizard.getCurrentStep(), label = this.continueButtonLabel;\n            if (current_step) {\n                if (this.changedContinueButtonLabel) {\n                    label = _.isFunction(this.changedContinueButtonLabel) ? this.changedContinueButtonLabel() : this.changedContinueButtonLabel;\n                } else if (this.continueButtonLabel) {\n                    label = _.isFunction(this.continueButtonLabel) ? this.continueButtonLabel() : this.continueButtonLabel;\n                }\n            }\n            return label;\n        },\n        afterModuleInstanceCreated: new PluginContainer()    // @method initialize initializes some variables and Instantiates all the modules\n,\n        initialize: function (options) {\n            this.wizard = options.wizard;\n            this.stepGroup = options.stepGroup;\n            this.step_url = options.step_url;\n            this.moduleInstances = [];\n            BackboneCompositeView.add(this);\n            // This is used to know when to execute the events\n            this.renderPromise = jQuery.Deferred().resolve();\n            var self = this;\n            _.each(this.modules, function (ModuleClass) {\n                self.addModule(ModuleClass);\n            });\n        },\n        addModule: function addModule(ModuleClass) {\n            var self = this, module_options = {};\n            if (_.isArray(ModuleClass)) {\n                module_options = ModuleClass[1] || {};\n                ModuleClass = ModuleClass[0];\n            }\n            if (typeof ModuleClass === 'undefined') {\n                return;\n            } else if (typeof ModuleClass === 'string') {\n                ModuleClass = require(ModuleClass);\n            }\n            var module_index = module_options.module_index;\n            var module_instance = new ModuleClass(_.extend({\n                wizard: self.wizard,\n                step: self,\n                stepGroup: self.stepGroup\n            }, module_options));\n            // add listeners to some events available to the modules\n            module_instance.on({\n                ready: function (is_ready) {\n                    self.moduleReady(this, is_ready);\n                },\n                navbar_toggle: function (toggle) {\n                    self.moduleNavbarToggle(this, toggle);\n                },\n                change_enable_continue: function (enable, options) {\n                    var selected_options = _.extend({ onlyContinue: false }, options);\n                    enable ? self.enableNavButtons(selected_options) : self.disableNavButtons(selected_options);\n                },\n                change_visible_back: function (visible) {\n                    self.changeVisibleNavButtons({\n                        backBtn: true,\n                        visible: visible\n                    });\n                },\n                update_step_name: function () {\n                    self.$('[data-type=\"wizard-step-name-container\"]').text(self.getName());\n                },\n                change_label_continue: function (label) {\n                    self.changeLabelContinue(label);\n                },\n                error: function (error) {\n                    self.moduleError(this, error);\n                }\n            });\n            // attach wizard events to error handling\n            _.each(module_instance.errors, function (errorId) {\n                self.wizard.handledErrors.push(errorId);\n                self.wizard.on(errorId, function (error) {\n                    module_instance.manageError(error);\n                });\n            });\n            if (module_instance.modules) {\n                _.each(module_instance.modules, function (submodule) {\n                    _.each(submodule.instance.errors, function (errorId) {\n                        self.wizard.handledErrors.push(errorId);\n                        self.wizard.on(errorId, function (error) {\n                            submodule.instance.manageError(error);\n                        });\n                    });\n                });\n            }\n            self.afterModuleInstanceCreated.executeAll(module_instance);\n            // ModuleClass is expected to be a View\n            module_index = _.isNumber(module_index) ? module_index : self.moduleInstances.length;\n            self.moduleInstances.splice(module_index, 0, module_instance);\n        }    // @method removeReadyFromModules When a step gets in the pass it is requested to set all its module instances\n             // to false, so if the step get to be present again (back and forward) dot get skipped\n,\n        removeReadyFromModules: function () {\n            _.each(this.moduleInstances, function (module_instance) {\n                module_instance.isReady = false;\n            });\n        }    // @method moduleReady when a module is ready triggers this\n             // if all the modules in the step are ready, and the advance conditions are met, the step submits itself\n,\n        moduleReady: function (module, ready) {\n            var self = this;\n            // submit the step if changed the state of isReady and step is in the present.\n            if (module.isReady !== ready) {\n                module.isReady = ready;\n                if (self.stepAdvance() && self.state === 'present') {\n                    this.renderPromise.done(function () {\n                        self.submit();\n                    });\n                }\n            }\n        }    // @method moduleError @param {Wizard.Module} module @param {Wizard.Module.Error} error\n,\n        moduleError: function (module, error) {\n            // if the error doesn't come from a module, and this step is being shown, display the error\n            if (!module && this.state !== 'future') {\n                this.error = error;\n                if (this === this.wizard.getCurrentStep()) {\n                    this.showError();\n                }\n            }\n        }    // @method hasErrors  @return {Boolean}\n,\n        hasErrors: function () {\n            return this.error || _.some(this.moduleInstances, function (module) {\n                return module.error;\n            });\n        }    // @method  showError\n,\n        showError: function () {\n            if (this.error) {\n                var global_view_message = new GlobalViewsMessageView({\n                    message: this.wizard.processErrorMessage(this.error.errorMessage),\n                    type: 'error',\n                    closable: true\n                });\n                this.$('[data-type=\"alert-placeholder-step\"]').html(global_view_message.render().$el.html());\n                jQuery('body').animate({ scrollTop: jQuery('body .global-views-message-error:first').offset().top }, 600);\n                this.error = null;\n            }\n        }    // @method stepAdvance auxiliary function to determine if we have to advance to the next step.\n,\n        stepAdvance: function () {\n            return this.areAllModulesReady() && this.isStepReady();\n        }    // @method areAllModulesReady  @return {Boolean}\n,\n        areAllModulesReady: function () {\n            var ready_state_array = _(this.moduleInstances).chain().pluck('isReady').uniq().value(), url_options = _.parseUrlOptions(Backbone.history.location.hash);\n            return !url_options.force && ready_state_array.length === 1 && ready_state_array[0] === true;\n        }    // @method isStepReady method to be overwritten to put custom logic to determine if a step is ready to be skipped @return {Boolean}\n,\n        isStepReady: function () {\n            return false;\n        }    // @method moduleNavbarToggle when a module doesn't need the navigation bar triggers this\n             // if no modules in the step needs it, the step hide the navigation buttons\n             // @param {Wizard.Module} module @param {Boolean} toggle\n,\n        moduleNavbarToggle: function (module, toggle) {\n            var self = this;\n            this.renderPromise.done(function () {\n                module.navigationToggle = toggle;\n                var toggle_state_array = _(self.moduleInstances).chain().pluck('navigationToggle').uniq().value();\n                if (toggle_state_array.length === 1 && toggle_state_array[0] === false) {\n                    self.$('.step-navigation-buttons').hide();\n                } else {\n                    self.$('.step-navigation-buttons').show();\n                }\n            });\n        }    // @method tellModules communicate the status of the step to it's modules (past, present, future) @param {String} what\n,\n        tellModules: function (what) {\n            _.each(this.moduleInstances, function (module_instance) {\n                _.isFunction(module_instance[what]) && module_instance[what]();\n                module_instance.state = what;\n            });\n        }    // @method past\n             // Will be called ever time a step is going to be rendered and this step is previous in the step order\n,\n        past: function () {\n            this.validate();\n        }    // @method present\n             // Will be called ever time a step is going to be rendered and this is the step\n,\n        present: jQuery.noop,\n        future: function () {\n            // cleanup future errors\n            this.error = null;\n            _.each(this.moduleInstances, function (module_instance) {\n                module_instance.error = null;\n            });\n        }    // @method render overrides the render function to not only render itself\n             // but also call the render function of its modules\n,\n        render: function () {\n            var self = this;\n            this.removeReadyFromModules();\n            this.renderPromise = jQuery.Deferred();\n            this.currentModelState = JSON.stringify(this.wizard.model);\n            // Renders itself\n            this._render();\n            var content_element = this.$('#wizard-step-content');\n            // Empties the modules container\n            content_element.empty();\n            var containers = [];\n            // Then Renders the all the modules and append them into the container\n            _.each(this.moduleInstances, function (module_instance) {\n                module_instance.attributes = module_instance.attributes || {};\n                module_instance.attributes['data-root-component-id'] = self.attributes['data-root-component-id'];\n                module_instance.isReady = false;\n                module_instance.render();\n                var content = content_element, container = module_instance.options.container;\n                if (container) {\n                    var added = false;\n                    if (!containers[container]) {\n                        containers[container] = true;\n                        added = true;\n                    }\n                    var content_temp = self.$(container);\n                    if (content_temp.length) {\n                        if (added) {\n                            content_temp.empty();\n                        }\n                        content = content_temp;\n                    }\n                }\n                content.append(module_instance.$el);\n            });\n            this.wizard.application.getLayout().once('afterAppendView', function () {\n                self.renderPromise.resolve();\n            });\n            this.showError();\n            return this;\n        },\n        _previousStep: function _previousStep(e) {\n            // Disables the navigation Buttons\n            e && this.disableNavButtons();\n            // Calls the submit method of the modules and collects errors they may have\n            var promises = [];\n            _.each(this.moduleInstances, function (module_instance) {\n                promises.push(module_instance.cancel());\n            });\n            var self = this;\n            return jQuery.when.apply(jQuery, promises).then(// Success Callback\n            jQuery.noop, function (error) {\n                if (error) {\n                    self.wizard.manageError(error, self);\n                    e && self.enableNavButtons();\n                }\n            });\n        }    // @method previousStep Goes to the previous step. Calls the cancel of each module\n             // and asks the wizard to go to the previous step\n,\n        previousStep: function previousStep(e) {\n            var self = this;\n            return this._previousStep(e).done(function () {\n                self.wizard.goToPreviousStep();\n            });\n        }    // @method submitErrorHandler @param {Wizard.Module.Error} error\n,\n        submitErrorHandler: function (error) {\n            this.enableNavButtons();\n            this.wizard.manageError(error, this);\n            _.each(this.moduleInstances, function (module_instance) {\n                module_instance.enableInterface();\n            });\n        },\n        _submit: function _submit(e) {\n            // Disables the navigation Buttons\n            e && this.disableNavButtons();\n            // Calls the submit method of the modules and collects errors they may have\n            var promises = [];\n            _.each(this.moduleInstances, function (module_instance) {\n                if (module_instance.isActive()) {\n                    promises.push(module_instance.submit(e));\n                    module_instance.disableInterface();\n                }\n            });\n            var self = this;\n            return jQuery.when.apply(jQuery, promises).then(// Success Callback\n            function () {\n                //NOTE: Here the order between then and always have changed, because when certain module wanted to disable nav buttons this always re-enable them!\n                //Validate this change!\n                return self.save().always(function () {\n                    self.enableNavButtons();\n                }).fail(function (error) {\n                    self.submitErrorHandler(error);\n                });\n            }    // Error Callback\n, function (error) {\n                self.submitErrorHandler(error);\n                return error;\n            });\n        }    // @method submit Calls the submit method of each module. Calls our save function\n             // and asks the wizard to go to the next step\n,\n        submit: function (e) {\n            var self = this;\n            return this._submit(e).done(function () {\n                self.wizard.goToNextStep();\n            });\n        }    //@method showStep Each time a next step is going to be rendered, it is asked if the step should be shown or not. In this way an entire step can be skipped\n             //@returns {Boolean}\n,\n        showStep: function () {\n            return this.isActive() && _.some(_.filter(this.moduleInstances, function (module_to_filter) {\n                return !module_to_filter.options.exclude_on_skip_step;\n            }), function (module_instance) {\n                return module_instance.isActive();\n            });\n        }    // @method isActive @returns {Boolean}\n,\n        isActive: function () {\n            return true;\n        }    // @method changeLabelContinue Change the label of the 'continue' button.\n             // @param {String} label\n,\n        changeLabelContinue: function (label) {\n            var new_label = label || (_.isFunction(this.continueButtonLabel) ? this.continueButtonLabel() : this.continueButtonLabel);\n            this._executeAfterRender(function () {\n                this.wizard.application.getLayout().$('[data-action=\"submit-step\"]').html(new_label);\n            }, this);\n            this.changedContinueButtonLabel = new_label;\n        }    // @method _save If there is a model calls the save function of it.\n             // other ways it returns a resolved promise, to return something standard\n             // @returns {jQuery.Deferred}\n,\n        _save: function () {\n            if (this.wizard.model && this.currentModelState !== JSON.stringify(this.wizard.model)) {\n                return this.wizard.model.save().fail(function (jqXhr) {\n                    jqXhr.preventDefault = true;\n                });\n            } else {\n                return jQuery.Deferred().resolveWith(this);\n            }\n        }    // @method save The overridable save() method. Internally calls _.save()\n             // @returns {jQuery.Deferred}\n,\n        save: function () {\n            return this._save();\n        }    // @method validate calls validation on all modules and call the error manager\n,\n        validate: function () {\n            var promises = [];\n            _.each(this.moduleInstances, function (module_instance) {\n                promises.push(module_instance.isValid());\n            });\n            var self = this;\n            jQuery.when.apply(jQuery, promises).fail(// Error Callback\n            function (error) {\n                self.wizard.manageError(error, self);\n            });\n        }    // @method disableNavButtons Disables the navigation buttons\n             // @param {onlyContinue:Booelan} options\n,\n        disableNavButtons: function (options) {\n            this._executeAfterRender(function () {\n                var selector = '[data-action=\"edit-module\"], [data-type=\"edit-module\"], ';\n                if (!options || !options.onlyContinue) {\n                    selector += '[data-action=\"previous-step\"], ';\n                }\n                selector += ' [data-action=\"submit-step\"]';\n                this.wizard.application.getLayout().$(selector).attr('disabled', true);\n            }, this);\n        }    // @method changeVisibleNavButtons Show or hide the specified navigation button @param {continueBtn: Boolean, backBtn: Boolean, visible: Boolean} options\n,\n        changeVisibleNavButtons: function (options) {\n            this._executeAfterRender(function () {\n                var selector = '';\n                if (options.continueBtn) {\n                    selector = (selector ? ', ' : '') + '[data-action=\"edit-module\"]';\n                }\n                if (options.backBtn) {\n                    selector += (selector ? ', ' : '') + '[data-action=\"previous-step\"]';\n                }\n                this.wizard.application.getLayout().$(selector).css('display', options.visible ? 'block' : 'none');\n            }, this);\n        }    // @method enableNavButtons\n             // @param {onlyContinue: Boolean, notDisableTouchs: Boolean, notDisableBreads: Boolean} options\n,\n        enableNavButtons: function (options) {\n            this._executeAfterRender(function () {\n                var selector = '[data-action=\"edit-module\"], ';\n                if (!options || !options.onlyContinue) {\n                    selector += '[data-action=\"previous-step\"], ';\n                }\n                if (!options || !options.notDisableTouchs) {\n                    selector += '[data-touchpoint], ';\n                }\n                if (!options || !options.notDisableBreads) {\n                    selector += '.breadcrumb a, .wizard-step-link a, ';\n                }\n                selector += ' [data-action=\"submit-step\"]';\n                this.wizard.application.getLayout().$(selector).attr('disabled', false);\n            }, this);\n        }    // @method _executeAfterRender @param {Function} fn @param {Any} ctx\n,\n        _executeAfterRender: function (fn, ctx) {\n            if (this.renderPromise.state() !== 'resolved') {\n                this.renderPromise.done(_.bind(fn, ctx));\n            } else {\n                _.bind(fn, ctx)();\n            }\n        }    // @method getName @return {String}\n,\n        getName: function () {\n            return this.name;\n        }    // @method getContext @return {Wizard.Step.Context}\n,\n        getContext: function () {\n            // @class Wizard.Step.Context\n            return {\n                // @property {Boolean} showTitle\n                showTitle: !!this.getName()    // @property {String} title\n,\n                title: this.getName()    // @property {Boolean} showContinueButton\n,\n                showContinueButton: !this.hideContinueButton,\n                continueButtonLabel: this.getContinueButtonLabel() || ''    // @property {Boolean} showSecondContinueButtonOnPhone\n,\n                showSecondContinueButtonOnPhone: !!this.hideSecondContinueButtonOnPhone,\n                showBackButton: !(this.hideBackButton || this.wizard.isCurrentStepFirst())    // @property {Boolean} showBottomMessage\n,\n                showBottomMessage: !!this.bottomMessage,\n                bottomMessage: this.bottomMessage || ''    // @property {String} bottomMessageClass\n,\n                bottomMessageClass: this.bottomMessageClass || ''\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module Wizard\ndefine('Wizard.StepGroup', ['underscore'], function (_) {\n    'use strict';\n    //@class Wizard.StepGroup\n    function StepGroup(name, url) {\n        //@property {String} name\n        this.name = name;\n        //Don't use this property, use getURL instead\n        this.url = '/' + url;\n        //@property {Array<Wizard.Step>} steps Collection of steps\n        this.steps = [];\n        //@method hasErrors\n        //@return {Boolean}\n        this.hasErrors = function () {\n            return _.some(this.steps, function (step) {\n                return step.hasErrors();\n            });\n        };\n        //@method getURL\n        //@return {String}\n        this.getURL = function () {\n            var first_active_step = _.find(this.steps, function (step) {\n                return step.showStep();\n            });\n            return first_active_step ? first_active_step.url : '';\n        };\n        //@method getErrors\n        //@return {Array<Wizard.Error>}\n        this.getErrors = function () {\n            var errors = [];\n            _.each(this.steps, function (step) {\n                _.each(step.moduleInstances, function (module_instance) {\n                    /* if (_.isArray(module_instance.error))\n\t\t\t\t\t{\n\t\t\t\t\t\t//This case happens when the module is a proxy that group all its submodule errors\n\t\t\t\t\t\t_.each(module_instance.error, function (an_error)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\terrors.push(an_error);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\telse*/\n                    if (_.isObject(module_instance.error)) {\n                        errors.push(module_instance.error);\n                    } else if (_.isString(module_instance.error)) {\n                        errors.push({\n                            errorCode: 'ERR_WS_UNHANDLED_ERROR',\n                            errorMessage: module_instance.error\n                        });\n                    }\n                });\n            });\n            return errors;\n        };\n        //@method showStepGroup\n        //@return {Boolean}\n        this.showStepGroup = function () {\n            return _.some(this.steps, function (step) {\n                return step.showStep();\n            });\n        };\n    }\n    return StepGroup;\n});    //@class Wizard.Error\n       //@property {String} errorCode\n       //@property {String} errorMessage\n","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module Wizard\ndefine('Wizard.Router', [\n    'Wizard.View',\n    'Wizard.Step',\n    'Wizard.StepGroup',\n    'Profile.Model',\n    'Backbone',\n    'underscore',\n    'jQuery',\n    'Utils'\n], function (View, Step, StepGroup, ProfileModel, Backbone, _, jQuery) {\n    'use strict';\n    // @class Wizard.Router Main component of the wizard, controls routes, the step flow, and to show each\n    // step. In general, when something is referred as 'the wizard' is probably an instance of this class. @extend Backbone.Router\n    return Backbone.Router.extend({\n        //@property {Wizard.Step} step\n        step: Step    //@property {Wizard.View} view\n,\n        view: View    //@property {Wizard.StepGoupd} StepGroup\n,\n        stepGroup: StepGroup    // @method initialize Initializes internals and loads configuration\n                     // @param {ApplicationSkeleton} application @param {Object} options\n,\n        initialize: function (application, options) {\n            // @property {ApplicationSkeleton} application\n            this.application = application;\n            // @property {Object<String,Wizard.Step>} steps dictionary of step instances by name\n            this.steps = {};\n            // @property {Array<String>} stepsOrder Array of step URLs\n            this.stepsOrder = [];\n            // @property {String} currentStep URL of the current Step\n            this.currentStep = '';\n            // @property {Object<String,Wizard.StepGroup>} stepGroups Dictionary of step group instances by its URLs\n            this.stepGroups = {};\n            // @property {Array} handledErrors\n            this.handledErrors = [];\n            this.options = options;\n            if (options && options.model) {\n                this.model = options.model;\n            }\n            if (options && options.steps) {\n                this.compileConfiguration(options.steps);\n            }\n            // remove duplicates from the handledErrors array\n            this.handledErrors = _.uniq(this.handledErrors);\n        }    /*\n\t\t@method compileConfiguration\n\t\tInstantiates all the Steps and StepGroups based on the configuration.\n\t\tThe Expected configuration is as follows:\n\n\t\t\t[\n\t\t\t\t{\n\t\t\t\t\tname: \"Step Group\"\n\t\t\t\t,\tsteps: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: \"Step\"\n\t\t\t\t\t\t,\turl: \"step-url\"\n\t\t\t\t\t\t,\tmodules: [\n\t\t\t\t\t\t\t\t'Module.Name'\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t]\n\n\t\t@param {Array} step_groups  This is an Array of Step Groups (Name and Steps), where Steps is an Array of Steps (Name, URL, Modules),\n\t\twhere Modules is an Array of Strings that will be required(). In general this object is exactly the same as defined in the application's Configuration.js file\n\t\t*/,\n        compileConfiguration: function (step_groups) {\n            var self = this;\n            // Iterates all the steps\n            _.each(step_groups, function (step_group, index) {\n                if (step_group.steps) {\n                    // Instantiates the StepGroup\n                    self._compileStepGroup(step_group, index).done(function (step_group_instance) {\n                        // Iterates the step of the step group\n                        _.each(step_group.steps, function (step) {\n                            self._compileStep(step, step_group_instance);\n                        });\n                    });\n                }\n            });\n        },\n        _compileStep: function _compileStep(step, step_group_instance) {\n            var deferred = jQuery.Deferred();\n            try {\n                var self = this;\n                self.promise = self.promise || jQuery.Deferred().resolve();\n                self.promise = self.promise.then(function () {\n                    try {\n                        var step_index = _.isNumber(step.step_index) ? step.step_index : self.stepsOrder.length;\n                        delete step.step_index;\n                        // Extends the base class with your configuration\n                        var StepClass = self.step.extend(step);\n                        // Initializes it\n                        self.steps[step.url] = new StepClass({\n                            wizard: self,\n                            stepGroup: step_group_instance,\n                            step_url: step.url\n                        });\n                        // add the step to the step-group\n                        step_group_instance.steps.push(self.steps[step.url]);\n                        // sets it in an ordered group\n                        self.stepsOrder.splice(step_index, 0, step.url);\n                        // Routes it\n                        self.route(step.url, 'runStep');\n                        self.route(step.url + '?:options', 'runStep');\n                        deferred.resolve(self.steps[step.url]);\n                    } catch (error) {\n                        deferred.reject(error);\n                    }\n                }, function (error) {\n                    deferred.reject(error);\n                    return jQuery.Deferred().resolve();\n                });\n            } catch (error) {\n                deferred.reject(error);\n            }\n            return deferred;\n        },\n        _compileStepGroup: function _compileStepGroup(step_group, index) {\n            var deferred = jQuery.Deferred();\n            try {\n                var self = this, step_group_instance = new self.stepGroup(step_group.name, step_group.steps[0].url);\n                var groups = _.values(self.stepGroups);\n                groups.splice(index, 0, step_group_instance);\n                _.each(groups, function (group, group_index) {\n                    group.index = group_index;\n                });\n                self.stepGroups = _.indexBy(groups, 'name');\n                deferred.resolve(step_group_instance);\n            } catch (error) {\n                deferred.reject(error);\n            }\n            return deferred;\n        }    // @method getCurrentStep @return {Wizard.Step} the current step object\n,\n        getCurrentStep: function () {\n            return this.steps[this.currentStep];\n        }    // @method goToNextStep finds the next steps and navigates to it\n,\n        goToNextStep: function () {\n            var next_step_url = this.getNextStepUrl(), url_options = _.parseUrlOptions(Backbone.history.location.hash);\n            if (next_step_url) {\n                this.navigate(url_options.force ? _.addParamsToUrl(next_step_url, { force: true }) : next_step_url, { trigger: false });\n                this._runStep();\n            }\n        }    // @method getNextStepUrl @param {Number} index @return {String}\n,\n        getNextStepUrl: function (index) {\n            index = index || _.indexOf(this.stepsOrder, this.currentStep);\n            if (~index && index + 1 < this.stepsOrder.length) {\n                if (this.steps[this.stepsOrder[index + 1]].showStep(this)) {\n                    return this.stepsOrder[index + 1];\n                }\n                return this.getNextStepUrl(index + 1);\n            }\n        }    // @method getActiveStepsGroups @return {Array<Wizard.StepGroup>}\n,\n        getActiveStepsGroups: function () {\n            return _(this.stepGroups).filter(function (step_group) {\n                return step_group.showStepGroup();\n            });\n        }    // @method getFirstStepUrl @return {String}\n,\n        getFirstStepUrl: function () {\n            var active_steps = this.getActiveStepsGroups();\n            return active_steps[0] && active_steps[0].getURL();\n        }    // @method goToPreviousStep finds the previous steps and navigates to it\n,\n        goToPreviousStep: function () {\n            var previous_step_url = _.addParamsToUrl(this.getPreviousStepUrl(), { force: true });\n            if (previous_step_url) {\n                this.navigate(previous_step_url, { trigger: false });\n                this._runStep();\n            }\n        }    // @method getPreviousStepUrl\n             // @param {Number} index\n             // @return {String}\n,\n        getPreviousStepUrl: function (index) {\n            if (_.isUndefined(index)) {\n                index = _.indexOf(this.stepsOrder, this.currentStep);\n            }\n            if (index > 0) {\n                if (this.steps[this.stepsOrder[index - 1]].showStep(this)) {\n                    return this.stepsOrder[index - 1];\n                }\n                return this.getPreviousStepUrl(index - 1);\n            } else {\n                var base_step = this.stepsOrder[0];\n                if (this.steps[base_step].showStep(this)) {\n                    return base_step;\n                }\n            }\n        }    // @method getStepPosition Returns the distance of the current step from the start and to the end\n             // If you are in the 2nd step of a 5 steps wizard it will return:\n             // { fromBegining: 1, toLast: 3 }\n             //@param {String} URL\n             //@return {fromBegining:Number,toLast:Number}\n,\n        getStepPosition: function (url) {\n            var index = _.indexOf(this.stepsOrder, url || this.currentStep), fromBegining = 0, toLast = 0, keys = _.keys(this.steps);\n            for (var i = 0; i < keys.length; i++) {\n                if (i < index && this.steps[keys[i]].showStep()) {\n                    fromBegining++;\n                } else if (i > index && this.steps[keys[i]].showStep()) {\n                    toLast++;\n                }\n            }\n            return {\n                fromBegining: fromBegining,\n                toLast: toLast\n            };\n        }    // @method isCurrentStepFirst\n             // @return {Boolean}\n,\n        isCurrentStepFirst: function () {\n            var current_step_index = _.indexOf(this.stepsOrder, this.currentStep);\n            if (current_step_index > 0) {\n                do {\n                    if (this.steps[this.stepsOrder[--current_step_index]].showStep()) {\n                        return false;\n                    }\n                } while (current_step_index);\n            }\n            return true;\n        },\n        _runStep: function _runStep() {\n            this.runStep.apply(this, arguments);\n        }    // @method runStep Executes the current step: Calls the status methods of the steps (past, present, future).\n             // And renders the Frame view.\n,\n        runStep: function () {\n            var url = Backbone.history.fragment, self = this;\n            // We allow URLs to have options but they are still identified by the original string,\n            // so we need to take them out if present\n            url = url.split('?')[0];\n            if (this.steps[url]) {\n                var profile_model = ProfileModel.getInstance();\n                if (this.application.getConfig('checkoutApp.skipLogin') && this.application.getConfig('siteSettings.registration.registrationoptional') === 'T' && profile_model.get('isRecognized') === 'F' || profile_model.get('isLoggedIn') === 'T') {\n                    // We keep a reference to the current step URL here\n                    this.currentStep = url;\n                    // Iterates all the steps and calls the status methods\n                    var method_to_call = 'past', current_group;\n                    _.each(this.stepsOrder, function (step) {\n                        if (step === url) {\n                            self.steps[step].present();\n                            self.steps[step].state = 'present';\n                            self.steps[step].stepGroup.state = 'present';\n                            self.steps[step].tellModules('present');\n                            method_to_call = 'future';\n                            current_group = self.steps[step].stepGroup;\n                        } else {\n                            self.steps[step].tellModules(method_to_call);\n                            self.steps[step][method_to_call]();\n                            self.steps[step].state = method_to_call;\n                            // if the step is contained in the current_group we don't change the group state\n                            if (self.steps[step].stepGroup !== current_group) {\n                                self.steps[step].stepGroup.state = method_to_call;\n                            }\n                        }\n                    });\n                    // Creates an instance of the frame view and pass the current step\n                    var view = new this.view({\n                        model: this.model,\n                        wizard: this,\n                        currentStep: this.steps[url],\n                        application: this.application\n                    });\n                    view.showContent();\n                } else {\n                    Backbone.history.navigate('login-register', { trigger: true });\n                }\n            }\n        }    // @method processErrorMessage Fix errors message that contains anchors HTML to correctly point to URLs\n             // that are not handle by the navigation helper\n             // @param {String} error_message\n             // @return {String}\n,\n        processErrorMessage: function (error_message) {\n            var $error = jQuery('<div>').append(error_message);\n            $error.find('a').attr('data-navigation', 'ignore-click');\n            return $error.html();\n        }    // @method manageError central hub for managing errors, the errors should be in the format:\n             // ```{errorCode:'ERR_WS_SOME_ERROR', errorMessage:'Some message'}```.\n             // The method also receives the step in case that the error is not handled by any module\n,\n        manageError: function (error, step) {\n            if (_.isObject(error) && error.responseText) {\n                error = JSON.parse(error.responseText);\n            } else if (_.isString(error) || _.isNumber(error)) {\n                error = {\n                    errorCode: 'ERR_WS_UNHANDLED_ERROR',\n                    errorMessage: error\n                };\n            } else if (!_.isObject(error)) {\n                error = {\n                    errorCode: 'ERR_WS_UNHANDLED_ERROR',\n                    errorMessage: _('An error has occurred').translate()\n                };\n            }\n            if (~_.indexOf(this.handledErrors, error.errorCode)) {\n                this.trigger(error.errorCode, error);\n            } else {\n                // if the error is not handled but we receive a step we delegate the error to it\n                if (step) {\n                    step.moduleError(null, error);\n                } else {\n                    // if no one is listening for this error, we show the message on the current step\n                    this.getCurrentStep().error = error;\n                    this.getCurrentStep().showError();\n                }\n            }\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module PaymentWizard\ndefine('PaymentWizard.View', [\n    'Wizard.View',\n    'Wizard.StepNavigation.View',\n    'payment_wizard_layout.tpl',\n    'underscore',\n    'Backbone',\n    'Utils'\n], function (WizardView, WizardStepNavigationView, payment_wizard_layout_tpl, _, Backbone) {\n    'use strict';\n    //@class PaymentWizard.View @extend Wizard.View\n    return WizardView.extend({\n        //@property {Function} template\n        template: payment_wizard_layout_tpl    //@property {String} bodyClass\n,\n        bodyClass: 'force-hide-side-nav'    //@method initialize\n,\n        initialize: function () {\n            WizardView.prototype.initialize.apply(this, arguments);\n            this.title = _('Make a Payment').translate();\n        },\n        getPageDescription: function () {\n            return 'payment - ' + (Backbone.history.fragment || '').split('?')[0];\n        },\n        childViews: {\n            'Wizard.StepNavigation': function () {\n                return new WizardStepNavigationView({ wizard: this.wizard });\n            }\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module Header\ndefine('Header.Simplified.View', [\n    'Header.Logo.View',\n    'header_simplified.tpl',\n    'Backbone',\n    'Backbone.CompositeView'\n], function (HeaderLogoView, header_simplified_tpl, Backbone, BackboneCompositeView) {\n    'use strict';\n    // @class Header.Simplified.View @extends Backbone.View\n    return Backbone.View.extend({\n        //@property {Function} template\n        template: header_simplified_tpl    //@method initialize\n,\n        initialize: function () {\n            BackboneCompositeView.add(this);\n        }    //@property {Object} childViews\n,\n        childViews: {\n            'Header.Logo': function () {\n                return new HeaderLogoView(this.options);\n            }\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module Footer\ndefine('Footer.Simplified.View', [\n    'SC.Configuration',\n    'GlobalViews.BackToTop.View',\n    'footer_simplified.tpl',\n    'Backbone',\n    'Backbone.CompositeView',\n    'jQuery'\n], function (Configuration, GlobalViewsBackToTopView, footer_simplified_tpl, Backbone, BackboneCompositeView, jQuery) {\n    'use strict';\n    // @class Footer.Simplified.View @extends Backbone.View\n    return Backbone.View.extend({\n        //@property {Function} template\n        template: footer_simplified_tpl    //@method initialize\n,\n        initialize: function (options) {\n            this.application = options.application;\n            BackboneCompositeView.add(this);\n            this.application.getLayout().on('afterAppendView', function () {\n                // after appended to DOM, we add the footer height as the content bottom padding, so the footer doesn't go on top of the content\n                var footer_height = this.$el.find('#site-footer').height();\n                if (footer_height) {\n                    this.$el.find('#content').css('padding-bottom', footer_height);\n                }\n                // Please note that this solution is taken from this view relative 'Footer.View', and its way to solve sticky footer behavior.\n                // Also see the comments there as they apply to here as well.\n                setTimeout(function () {\n                    var headerMargin = parseInt(jQuery('#site-header').css('marginBottom')), contentHeight = jQuery(window).innerHeight() - jQuery('#site-header')[0].offsetHeight - headerMargin - jQuery('#site-footer')[0].offsetHeight;\n                    jQuery('#main-container').css('min-height', contentHeight);\n                }, 10);\n            });\n        }    //@property {Object} childViews\n,\n        childViews: {\n            'Global.BackToTop': function () {\n                return new GlobalViewsBackToTopView();\n            }\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module PaymentWizard\ndefine('PaymentWizard.Step', [\n    'Wizard.Step',\n    'Header.Simplified.View',\n    'Footer.Simplified.View',\n    'payment_wizard_step.tpl',\n    'underscore',\n    'Utils'\n], function (WizardStep, HeaderSimplifiedView, FooterSimplifiedView, payment_wizard_step_tpl, _) {\n    'use strict';\n    //@class PaymentWizard.Step Step View, Renders all the components of the Step @extend Wizard.Step\n    return WizardStep.extend({\n        template: payment_wizard_step_tpl    //@property {Function} headerView\n,\n        headerView: HeaderSimplifiedView    //@property {Function} headerViewOptions\n,\n        headerViewOptions: function () {\n            return {\n                headerLinkHref: '/',\n                headerLinkTouchPoint: 'customercenter',\n                headerLinkHashtag: '#balance',\n                headerLinkTitle: _('Account Balance').translate()\n            };\n        }    //@property {Function} footerView\n,\n        footerView: FooterSimplifiedView,\n        render: function () {\n            var layout = this.wizard.application.getLayout();\n            WizardStep.prototype.render.apply(this, arguments);\n            // Also trigger the afterRender event so the site search module can load the typeahead.\n            layout.trigger('afterRender');\n        }    //@method getContext @return {PaymentWizard.Step.Context}\n,\n        getContext: function () {\n            //@class PaymentWizard.Step.Context\n            return {\n                //@property {String} currentStepGroupName\n                currentStepGroupName: this.wizard.steps[this.wizard.currentStep].options.stepGroup.name,\n                continueButtonLabel: this.continueButtonLabel,\n                showNavButtons: !!(!this.hideBackButton || !this.hideContinueButton)    //@property {Boolean} showBackButton\n,\n                showBackButton: !this.hideBackButton || !this.wizard.isCurrentStepFirst()    //@property {Boolean} showContinueButton\n,\n                showContinueButton: !this.hideContinueButton,\n                showBreadcrumb: !this.hideBreadcrumb\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module PaymentWizard\ndefine('PaymentWizard.Router', [\n    'Wizard.Router',\n    'PaymentWizard.View',\n    'PaymentWizard.Step'\n], function (WizardRouter, PaymentWizardView, PaymentWizardStep) {\n    'use strict';\n    //@class PaymentWizard.Router @extend Backbone.Router\n    return WizardRouter.extend({\n        view: PaymentWizardView,\n        step: PaymentWizardStep    //@method runStep\n,\n        runStep: function () {\n            if (SC.ENVIRONMENT.permissions.transactions.tranCustPymt < 2) {\n                this.application.getLayout().forbiddenError();\n            } else {\n                WizardRouter.prototype.runStep.apply(this, arguments);\n            }\n        }    //@method hidePayment\n,\n        hidePayment: function () {\n            return !this.model.get('payment') && !this.model.get('confirmation') || this.model.get('confirmation') && !this.model.get('confirmation').payment;\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module PaymentWizard\ndefine('PaymentWizard', [\n    'PaymentWizard.Router',\n    'Profile.Model',\n    'LivePayment.Model'\n], function (PaymentWizardRouter, ProfileModel, LivePaymentModel) {\n    'use strict';\n    //@class PaymentWizard @extends ApplicationModule\n    return {\n        mountToApp: function (application) {\n            return new PaymentWizardRouter(application, {\n                profile: ProfileModel.getInstance(),\n                model: LivePaymentModel.getInstance(),\n                steps: application.getConfig('paymentWizardSteps')\n            });\n        }\n    };\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module TransactionHistory\ndefine('TransactionHistory.Model', [\n    'underscore',\n    'Transaction.Model',\n    'Utils'\n], function (_, TransactionModel) {\n    'use strict';\n    //@class TransactionHistory.Model @extend Backbone.Model\n    return TransactionModel.extend({\n        urlRoot: 'services/TransactionHistory.Service.ss'    //@property {Boolean} cacheSupport enable or disable the support for cache (Backbone.CachedModel)\n,\n        cacheSupport: true    //@method getTypeLabel @return {String}\n,\n        getTypeLabel: function () {\n            var type;\n            switch (this.get('recordtype')) {\n            case 'creditmemo':\n                type = _('Credit Memo').translate();\n                break;\n            case 'customerpayment':\n                type = _('Payment').translate();\n                break;\n            case 'customerdeposit':\n                type = _('Deposit').translate();\n                break;\n            case 'depositapplication':\n                type = _('Deposit Application').translate();\n                break;\n            case 'invoice':\n                type = _('Invoice').translate();\n                break;\n            case 'cashsale':\n                type = _('Cash Receipt').translate();\n                break;\n            }\n            return type;\n        }    //@method getTypeUrl @return {String}\n,\n        getTypeUrl: function () {\n            var type = this.get('recordtype'), record_root_url = 'transactionhistory/' + type;\n            if (type === 'invoice') {\n                record_root_url = 'transactionhistory/invoices';\n            } else if (type === 'returnauthorization') {\n                record_root_url = 'returns';\n            }\n            return record_root_url + '/' + this.get('internalid');\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module TransactionHistory\ndefine('TransactionHistory.Collection', [\n    'TransactionHistory.Model',\n    'Transaction.Collection'\n], function (Model, TransactionCollection) {\n    'use strict';\n    //@class TransactionHistory.Collection @extend Transaction.Collection\n    return TransactionCollection.extend({\n        model: Model    //@property {Boolean} cacheSupport enable or disable the support for cache (Backbone.CachedModel)\n,\n        cacheSupport: false,\n        url: 'services/TransactionHistory.Service.ss'\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module TransactionHistory\ndefine('TransactionHistory.List.View', [\n    'TrackingServices',\n    'ListHeader.View',\n    'Backbone.CollectionView',\n    'Backbone.CompositeView',\n    'RecordViews.View',\n    'SC.Configuration',\n    'GlobalViews.Pagination.View',\n    'transaction_history_list.tpl',\n    'Handlebars',\n    'Backbone',\n    'underscore',\n    'jQuery',\n    'Profile.Model'\n], function (TrackingServices, ListHeaderView, BackboneCollectionView, BackboneCompositeView, RecordViewsView, Configuration, GlobalViewsPaginationView, transaction_history_tpl, Handlebars, Backbone, _, jQuery, ProfileModel) {\n    'use strict';\n    // @class TransactionHistory.List.View view list of transaction history @extend Backbone.View\n    return Backbone.View.extend({\n        template: transaction_history_tpl,\n        title: _('Transaction History').translate(),\n        page_header: _('Transaction History').translate(),\n        attributes: { 'class': 'TransactionHistory' },\n        initialize: function (options) {\n            this.application = options.application;\n            this.collection = options.collection;\n            this.profileModel = ProfileModel.getInstance();\n            this.listenCollection();\n            var today = new Date(), isoDate = today.getFullYear() + '-' + (today.getMonth() + 1) + '-' + today.getDate();\n            this.rangeFilterOptions = {\n                fromMin: '1800-01-02',\n                fromMax: isoDate,\n                toMin: '1800-01-02',\n                toMax: isoDate\n            };\n            this.listHeader = new ListHeaderView({\n                view: this,\n                application: this.application,\n                collection: this.collection,\n                filters: this.filterOptions,\n                sorts: this.sortOptions,\n                rangeFilter: 'date',\n                rangeFilterLabel: _('From').translate(),\n                hidePagination: true,\n                allowEmptyBoundaries: true\n            });\n            BackboneCompositeView.add(this);\n        }    // @method listenCollection\n,\n        listenCollection: function () {\n            this.setLoading(true);\n            this.collection.on({\n                request: jQuery.proxy(this, 'setLoading', true),\n                reset: jQuery.proxy(this, 'setLoading', false)\n            });\n        }    // @method setLoading @param {Boolean} bool\n,\n        setLoading: function (bool) {\n            this.isLoading = bool;\n        }    //@method getSelectedMenu @return {String}\n,\n        getSelectedMenu: function () {\n            return 'transactionhistory';\n        }    //@method getBreadcrumbPages\n,\n        getBreadcrumbPages: function () {\n            return {\n                text: this.title,\n                href: '/transactionhistory'\n            };\n        }    // @property {Array} filterOptions Array of default filter options filters always apply on the original collection\n,\n        filterOptions: [\n            {\n                value: 'CustCred,CustPymt,CustDep,DepAppl,CustInvc,CashSale',\n                name: _('Show all record types').translate(),\n                selected: true\n            },\n            {\n                value: 'CustCred',\n                name: _('Show Credit Memo').translate(),\n                permission: 'transactions.tranCustCred.1'\n            },\n            {\n                value: 'CustPymt',\n                name: _('Show Payment').translate(),\n                permission: 'transactions.tranCustPymt.1'\n            },\n            {\n                value: 'CustDep',\n                name: _('Show Deposit').translate(),\n                permission: 'transactions.tranCustDep.1'\n            },\n            {\n                value: 'DepAppl',\n                name: _('Show Deposit Application').translate(),\n                permission: 'transactions.tranDepAppl.1'\n            },\n            {\n                value: 'CustInvc',\n                name: _('Show Invoices').translate(),\n                permission: 'transactions.tranCustInvc.1'\n            },\n            {\n                value: 'CashSale',\n                name: _('Show Cash Receipts').translate(),\n                permission: 'transactions.tranCashSale.1'\n            }\n        ]    // @property {Array} sortOptions Array of default sort options sorts only apply on the current collection\n             // which might be a filtered version of the original\n,\n        sortOptions: [\n            {\n                value: 'trandate,internalid',\n                name: _('by Date').translate(),\n                selected: true\n            },\n            {\n                value: 'tranid',\n                name: _('by Number').translate()\n            },\n            {\n                value: 'amount',\n                name: _('by Amount').translate()\n            }\n        ],\n        childViews: {\n            'ListHeader.View': function () {\n                return this.listHeader;\n            },\n            'Records.Collection': function () {\n                var records_collection = new Backbone.Collection(this.collection.map(function (transaction_history) {\n                    var model = new Backbone.Model({\n                        touchpoint: 'customercenter',\n                        title: new Handlebars.SafeString(_(transaction_history.getTypeLabel() + ' #<span class=\"tranid\">$(0)</span>').translate(transaction_history.get('tranid'))),\n                        detailsURL: transaction_history.getTypeUrl(),\n                        id: transaction_history.id,\n                        internalid: transaction_history.id,\n                        columns: [\n                            {\n                                label: _('Date:').translate(),\n                                type: 'date',\n                                name: 'date',\n                                value: transaction_history.get('trandate')\n                            },\n                            {\n                                label: _('Amount:').translate(),\n                                type: 'currency',\n                                name: 'amount',\n                                value: transaction_history.get('amount_formatted')\n                            },\n                            {\n                                label: _('Status:').translate(),\n                                type: 'status',\n                                name: 'status',\n                                value: transaction_history.get('status').name\n                            }\n                        ]\n                    });\n                    return model;\n                }));\n                return new BackboneCollectionView({\n                    childView: RecordViewsView,\n                    collection: records_collection,\n                    viewsPerRow: 1\n                });\n            },\n            'GlobalViews.Pagination': function () {\n                return new GlobalViewsPaginationView(_.extend({ totalPages: Math.ceil(this.collection.totalRecordsFound / this.collection.recordsPerPage) }, Configuration.defaultPaginationSettings));\n            }\n        }    //@method getContext @return {TransactionHistory.List.View.Context}\n,\n        getContext: function () {\n            //@class TransactionHistory.List.View.Context\n            return {\n                //@property {String} pageHeader\n                pageHeader: this.page_header,\n                hasTerms: !!this.profileModel.get('paymentterms')    //@property {Boolean} isThereAnyResult\n,\n                isThereAnyResult: !!this.collection.length,\n                isLoading: this.isLoading,\n                showPagination: !!(this.collection.totalRecordsFound && this.collection.recordsPerPage)    // @property {Boolean} showCurrentPage\n,\n                showCurrentPage: this.options.showCurrentPage,\n                showBackToAccount: Configuration.get('siteSettings.sitetype') === 'STANDARD'\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module Deposit\ndefine('Deposit.Model', [\n    'Invoice.Collection',\n    'Transaction.Model'\n], function (InvoiceCollection, TransactionModel) {\n    'use strict';\n    //@class Deposit.Model @extend Transaction.Model\n    return TransactionModel.extend({\n        urlRoot: 'services/Deposit.Service.ss'    //@property {Boolean} cacheSupport enable or disable the support for cache (Backbone.CachedModel)\n,\n        cacheSupport: true,\n        initialize: function initialize(attributes) {\n            TransactionModel.prototype.initialize.apply(this, arguments);\n            this.on('change:invoices', function (model, invoices) {\n                model.set('invoices', new InvoiceCollection(invoices), { silent: true });\n            });\n            this.trigger('change:invoices', this, attributes && attributes.invoices || []);\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module Deposit\ndefine('Deposit.Details.DepositApplication.Link.View', [\n    'deposit_details_deposit_application_link.tpl',\n    'Backbone'\n], function (deposit_details_deposit_application_link_tpl, Backbone) {\n    'use strict';\n    //@class Deposit.Details.DepositApplication.Link.View @extend Backbone.View\n    return Backbone.View.extend({\n        template: deposit_details_deposit_application_link_tpl,\n        events: { 'click [data-action=\"go-to-deposit-application\"]': 'goToDepositApplication' },\n        goToDepositApplication: function (e) {\n            e.stopPropagation();\n        }    //@method getContext @return Deposit.Details.DepositApplication.Link.View.Context\n,\n        getContext: function () {\n            //@class Deposit.Details.DepositApplication.Link.View.Context\n            return {\n                //@property {String} depositApplicationId\n                depositApplicationId: this.model.get('depositId')    //@property {String} depositApplicationTitle\n,\n                depositApplicationDate: this.model.get('depositDate')\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module Deposit\ndefine('Deposit.Details.View', [\n    'Backbone.CompositeView',\n    'Backbone.CollectionView',\n    'SC.Configuration',\n    'GlobalViews.FormatPaymentMethod.View',\n    'RecordViews.View',\n    'Deposit.Details.DepositApplication.Link.View',\n    'deposit_details.tpl',\n    'Backbone',\n    'underscore',\n    'Utils'\n], function (BackboneCompositeView, BackboneCollectionView, Configuration, GlobalViewsFormatPaymentMethodView, RecordViewsView, DepositDetailsDepositApplicationLinkView, deposit_details_tpl, Backbone, _) {\n    'use strict';\n    //@class Deposit.Details.View @extend Backbone.View\n    return Backbone.View.extend({\n        template: deposit_details_tpl,\n        title: _('Deposit Details').translate(),\n        page_header: _('Deposit Details').translate(),\n        attributes: { 'class': 'DepositDetails' },\n        initialize: function () {\n            BackboneCompositeView.add(this);\n        }    //@method getSelectedMenu\n,\n        getSelectedMenu: function () {\n            return 'transactionhistory';\n        }    //@method getBreadcrumbPages\n,\n        getBreadcrumbPages: function () {\n            return [\n                {\n                    text: _('Transaction History').translate(),\n                    href: '/transactionhistory'\n                },\n                {\n                    text: _('Deposit #$(0)').translate(this.model.get('tranid')),\n                    path: 'transactionhistory/customerdeposit/' + this.model.get('internalid')\n                }\n            ];\n        },\n        render: function () {\n            this.payment_method = this.model.get('paymentmethods') && this.model.get('paymentmethods').findWhere({ primary: true });\n            Backbone.View.prototype.render.apply(this, arguments);\n        },\n        childViews: {\n            'Invoices.Collection': function () {\n                var records_collection = new Backbone.Collection(this.model.get('invoices').map(function (invoice) {\n                    var model = new Backbone.Model({\n                        touchpoint: 'customercenter',\n                        title: _('Invoice #$(0)').translate(invoice.get('refnum')),\n                        detailsURL: '/invoices/' + invoice.get('invoice_id'),\n                        id: invoice.get('invoice_id') + '_' + invoice.get('line'),\n                        internalid: invoice.get('invoice_id') + '_' + invoice.get('line'),\n                        columns: [\n                            {\n                                label: _('Invoice Date').translate(),\n                                type: 'date',\n                                name: 'invoice-date',\n                                value: invoice.get('invoicedate')\n                            },\n                            {\n                                label: _('Date Applied').translate(),\n                                type: 'date',\n                                name: 'applied-date',\n                                compositeKey: 'DepositDetailsDepositApplicationLinkView',\n                                composite: new DepositDetailsDepositApplicationLinkView({\n                                    model: new Backbone.Model({\n                                        depositId: invoice.get('deposit_id'),\n                                        depositDate: invoice.get('depositdate')\n                                    })\n                                })\n                            },\n                            {\n                                label: _('Amount:').translate(),\n                                type: 'currency',\n                                name: 'amount',\n                                value: invoice.get('amount_formatted')\n                            }\n                        ]\n                    });\n                    return model;\n                }));\n                return new BackboneCollectionView({\n                    childView: RecordViewsView,\n                    collection: records_collection,\n                    viewsPerRow: 1\n                });\n            },\n            'PaymentMethod': function () {\n                return new GlobalViewsFormatPaymentMethodView({ model: this.payment_method });\n            }\n        }    //@method getContext @return Deposit.Details.View.Context\n,\n        getContext: function () {\n            //@class Deposit.Details.View.Context\n            return {\n                //@property {String} tranId\n                tranId: this.model.get('tranid')    //@property {String} paymentFormatted\n,\n                paymentFormatted: this.model.get('payment_formatted')    //@property {String} paidFormatted\n,\n                paidFormatted: this.model.get('paid_formatted')    //@property {String} remainingFormatted\n,\n                remainingFormatted: this.model.get('remaining_formatted')    //@property {String} tranDate\n,\n                tranDate: this.model.get('trandate')    //@property {String} status\n,\n                status: this.model.get('status').internalid,\n                areElementsCollapsed: Configuration.get('collapse_elements')    //@property {String} downloadPDFURL\n,\n                downloadPDFURL: _.getDownloadPdfUrl({\n                    asset: 'deposit-details',\n                    id: this.model.get('internalid')\n                })    //@property {Boolean} showInvoices\n,\n                showInvoices: !!(this.model.get('invoices') && this.model.get('invoices').length)    //@property {Boolean} showPaymentMethod\n,\n                showPaymentMethod: !!(this.payment_method && this.payment_method.get('type'))    //@property {Boolean} showMemo\n,\n                showMemo: !!this.model.get('memo')    //@property {String} memo\n,\n                memo: this.model.get('memo')    //@property {Boolean} showOpenedAccordion\n,\n                showOpenedAccordion: _.isTabletDevice() || _.isDesktopDevice()\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module DepositApplication\ndefine('DepositApplication.Model', [\n    'Invoice.Collection',\n    'Transaction.Model'\n], function (InvoiceCollection, TransactionModel) {\n    'use strict';\n    //@class DepositApplication.Model @extend Backbone.Model\n    return TransactionModel.extend({\n        urlRoot: 'services/DepositApplication.Service.ss'    //@property {Boolean} cacheSupport enable or disable the support for cache (Backbone.CachedModel)\n,\n        cacheSupport: true,\n        initialize: function (attributes) {\n            // call the initialize of the parent object, equivalent to super()\n            TransactionModel.prototype.initialize.apply(this, arguments);\n            this.on('change:invoices', function (model, invoices) {\n                model.set('invoices', new InvoiceCollection(invoices), { silent: true });\n            });\n            this.trigger('change:invoices', this, attributes && attributes.invoices || []);\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module DepositApplication\ndefine('DepositApplication.Details.View', [\n    'Backbone.CompositeView',\n    'Backbone.CollectionView',\n    'RecordViews.View',\n    'SC.Configuration',\n    'deposit_application_details.tpl',\n    'underscore',\n    'Backbone',\n    'Utils'\n], function (BackboneCompositeView, BackboneCollectionView, RecordViewsView, Configuration, deposit_application_details_tpl, _, Backbone) {\n    'use strict';\n    //@class DepositApplication.Details.View @extend Backbone.View\n    return Backbone.View.extend({\n        template: deposit_application_details_tpl,\n        title: _('Deposit Application Details').translate(),\n        page_header: _('Deposit Application Details').translate(),\n        attributes: { 'class': 'DepositApplicationDetails' },\n        initialize: function () {\n            BackboneCompositeView.add(this);\n        }    //@method getSelectedMenu\n,\n        getSelectedMenu: function () {\n            return 'transactionhistory';\n        }    //@method getBreadcrumbPages\n,\n        getBreadcrumbPages: function () {\n            return [\n                {\n                    text: _('Transaction History').translate(),\n                    href: 'transactionhistory'\n                },\n                {\n                    text: _('Deposit Application #$(0)').translate(this.model.get('tranid')),\n                    path: 'transactionhistory/depositapplication/' + this.model.get('internalid')\n                }\n            ];\n        },\n        childViews: {\n            'Invoices.Collection': function () {\n                var records_collection = new Backbone.Collection(this.model.get('invoices').map(function (invoice) {\n                    var model = new Backbone.Model({\n                        touchpoint: 'customercenter',\n                        title: _('Invoice #$(0)').translate(invoice.get('refnum')),\n                        detailsURL: '/invoices/' + invoice.get('internalid'),\n                        id: invoice.get('internalid'),\n                        internalid: invoice.get('internalid'),\n                        columns: [\n                            {\n                                label: _('Transaction Date:').translate(),\n                                type: 'date',\n                                name: 'date',\n                                value: invoice.get('applydate')\n                            },\n                            {\n                                label: _('Amount:').translate(),\n                                type: 'currency',\n                                name: 'amount',\n                                value: invoice.get('amount_formatted')\n                            }\n                        ]\n                    });\n                    return model;\n                }));\n                return new BackboneCollectionView({\n                    childView: RecordViewsView,\n                    collection: records_collection,\n                    viewsPerRow: 1\n                });\n            }\n        }    //@method getContet @return DepositApplication.Details.View.Context\n,\n        getContext: function () {\n            //@class DepositApplication.Details.View.Context\n            return {\n                //@property {String} tranId\n                tranId: this.model.get('tranid')    //@property {String} totalFormatted\n,\n                totalFormatted: this.model.get('summary').total_formatted,\n                tranDate: this.model.get('trandate')    //@property {Boolean} areElementsCollapsed\n,\n                areElementsCollapsed: Configuration.get('sca.collapseElements', false)    //@property {String} depositInternalId\n,\n                depositInternalId: this.model.get('deposit').internalid,\n                depositName: this.model.get('deposit').name,\n                depositDate: this.model.get('depositdate')    //@property {Boolean} showInvoices\n,\n                showInvoices: !!(this.model.get('invoices') && this.model.get('invoices').length)    //@property {Boolean} showMemo\n,\n                showMemo: !!this.model.get('memo')    //@property {String} memo\n,\n                memo: this.model.get('memo')    //@property {Boolean} showOpenedAccordion\n,\n                showOpenedAccordion: _.isTabletDevice() || _.isDesktopDevice()\n            };    //@class DepositApplication.Details.View\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module CreditMemo\ndefine('CreditMemo.Model', [\n    'underscore',\n    'Transaction.Model',\n    'Utils'\n], function (_, TransactionModel) {\n    'use strict';\n    //@class CreditMemo.Model stores the data of a credit memo and validates it @extends Backbone.Model\n    return TransactionModel.extend({\n        //@property {String} internalid\n        //@property {String} tranid\n        //@property {Number} subtotal\n        //@property {String} subtotal_formatted\n        //@property {Number} discount\n        //@property {String} discount_formatted\n        //@property {Number} taxtotal\n        //@property {String} taxtotal_formatted\n        //@property {Number} shippingcost\n        //@property {String} shippingcost_formatted\n        //@property {Number} total\n        //@property {String} total_formatted\n        //@property {Number} amountpaid\n        //@property {String} amountpaid_formatted\n        //@property {Number} amountremaining\n        //@property {String} amountremaining_formatted\n        //@property {String} trandate\n        //@property {String} status\t\t\n        //@property {String} memo\n        //@property {Array<CreditMemo.Model.Invoice>} invoices\n        //@class CreditMemo.Model.Invoice\n        //@property {String} internalid\n        //@property {String} type\n        //@property {Number} total\n        //@property {String} total_formatted\n        //@property {Boolean} apply\n        //@property {String} applydate\n        //@property {Number} currency\t\t\t\t\t\n        //@property {Number} amount\n        //@property {String} amount_formatted\n        //@property {Boolean} due\n        //@property {String} due_formatted\n        //@property {String} refnum\n        //@class CreditMemo.Model\n        //@property {Array<CreditMemo.Model.Line>} lines\n        //@class CreditMemo.Model.Line\n        //@property {Number} quantity\n        //@property {Array<CreditMemo.Model.Line.Option>} options\n        //@class CreditMemo.Model.Line.Option\n        //@property {String} id\n        //@property {String} name\n        //@property {String} value\n        //@property {String} displayvalue\n        //@property {String} mandatory\n        //@class CreditMemo.Model\n        //@property {String} item\n        //@property {String} type\n        //@property {Number} amount\n        //@property {Number} amount_formatted\n        //@property {Number} rate\n        //@property {Number} rate_formatted\n        //@class CreditMemo.Model\n        //@property {String} urlRoot\n        urlRoot: 'services/CreditMemo.Service.ss',\n        cacheSupport: true\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module CreditMemo\ndefine('CreditMemo.Details.View', [\n    'Backbone.CompositeView',\n    'Backbone.CollectionView',\n    'Transaction.Line.Views.Cell.Navigable.View',\n    'RecordViews.View',\n    'credit_memo_details.tpl',\n    'Backbone',\n    'underscore',\n    'Utils'\n], function (BackboneCompositeView, BackboneCollectionView, TransactionLineViewsCellNavigableView, RecordViewsView, credit_memo_details_tpl, Backbone, _) {\n    'use strict';\n    // @class Creditmemo.Details.View View for handling CreditMemos @extends Backbone.View\n    return Backbone.View.extend({\n        template: credit_memo_details_tpl,\n        title: _('Credit Memo Details').translate(),\n        page_header: _('Credit Memo Details').translate(),\n        attributes: { 'class': 'CreditMemoDetails' },\n        initialize: function () {\n            BackboneCompositeView.add(this);\n        }    //@method getSelectedMenu\n,\n        getSelectedMenu: function () {\n            return 'transactionhistory';\n        }    //@method getBreadcrumbPages\n,\n        getBreadcrumbPages: function () {\n            return [\n                {\n                    text: _('Transaction History').translate(),\n                    href: 'transactionhistory'\n                },\n                {\n                    text: _('Credit Memo #$(0)').translate(this.model.get('tranid')),\n                    href: 'transactionhistory/creditmemo/' + this.model.get('internalid')\n                }\n            ];\n        }    //@method getItemsNumber\n,\n        getItemsNumber: function () {\n            var items_quantity = 0;\n            this.model.get('lines').each(function (models) {\n                items_quantity += models.get('quantity');\n            });\n            return items_quantity;\n        },\n        childViews: {\n            'Items.Collection': function () {\n                return new BackboneCollectionView({\n                    collection: this.model.get('lines'),\n                    childView: TransactionLineViewsCellNavigableView,\n                    viewsPerRow: 1,\n                    childViewOptions: {\n                        navigable: true,\n                        detail1Title: _('Quantity:').translate(),\n                        detail1: 'quantity',\n                        detail2Title: _('Unit price').translate(),\n                        detail2: 'rate_formatted',\n                        detail3Title: _('Amount:').translate(),\n                        detail3: 'total_formatted'\n                    }\n                });\n            },\n            'Invoices.Collection': function () {\n                var records_collection = new Backbone.Collection(_.map(this.model.get('invoices'), function (invoice) {\n                    var model = new Backbone.Model({\n                        touchpoint: 'customercenter',\n                        title: invoice.refnum,\n                        detailsURL: '/invoices/' + invoice.internalid,\n                        id: invoice.id,\n                        internalid: invoice.id,\n                        columns: [\n                            {\n                                label: _('Transaction Date').translate(),\n                                type: 'date',\n                                name: 'date',\n                                value: invoice.applydate\n                            },\n                            {\n                                label: _('Amount:').translate(),\n                                type: 'currency',\n                                name: 'amount',\n                                value: invoice.amount_formatted\n                            }\n                        ]\n                    });\n                    return model;\n                }));\n                return new BackboneCollectionView({\n                    childView: RecordViewsView,\n                    collection: records_collection,\n                    viewsPerRow: 1\n                });\n            }\n        }    //@method getContext @return CreditMemo.Details.View.Context\n,\n        getContext: function () {\n            var items_quantity = this.getItemsNumber();\n            //@class CreditMemo.Details.View.Context\n            return {\n                //@property {String} tranId\n                tranId: this.model.get('tranid')    //@property {String} totalFormatted\n,\n                totalFormatted: this.model.get('summary').total_formatted,\n                tranDate: this.model.get('trandate')    //@property {String} status\n,\n                status: this.model.get('status').internalid,\n                subTotalFormatted: this.model.get('summary').subtotal_formatted,\n                discountFormatted: this.model.get('summary').discounttotal_formatted,\n                taxTotalFormatted: this.model.get('summary').taxtotal_formatted,\n                amountPaidFormatted: this.model.get('amountpaid_formatted')    //@property {String} amountRemainingFormatted\n,\n                amountRemainingFormatted: this.model.get('amountremaining_formatted')    //@property {String} shippingCostFormatted\n,\n                shippingCostFormatted: this.model.get('summary').shippingcost_formatted,\n                downloadPDFURL: _.getDownloadPdfUrl({\n                    asset: 'credit-memo-details',\n                    id: this.model.get('internalid')\n                })    //@property {String} memo\n,\n                memo: this.model.get('memo')    //@property {Boolean} showMemoDetails\n,\n                showMemoDetails: this.model.get('memo')    //@property {Number} itemsQuantityNumber\n,\n                itemsQuantityNumber: items_quantity    //@property {Boolean} linesitemsNumberGreaterThan1\n,\n                linesitemsNumberGreaterThan1: items_quantity > 1    //@property {Boolean} showInvoicesDetails\n,\n                showInvoicesDetails: !!(this.model.get('invoices') && this.model.get('invoices').length)\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module CustomerPayment\ndefine('CustomerPayment.Model', ['Transaction.Model'], function (TransactionModel) {\n    'use strict';\n    //@class CustomerPayment.Model @extend Backbone.Model\n    return TransactionModel.extend({\n        //@property {String} urlRoot\n        urlRoot: 'services/CustomerPayment.Service.ss',\n        cacheSupport: true\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module CustomerPayment\ndefine('CustomerPayment.Details.View', [\n    'SC.Configuration',\n    'Backbone.CompositeView',\n    'Backbone.CollectionView',\n    'RecordViews.View',\n    'GlobalViews.FormatPaymentMethod.View',\n    'customer_payment_details.tpl',\n    'Backbone',\n    'underscore',\n    'Utils'\n], function (Configuration, BackboneCompositeView, BackboneCollectionView, RecordViewsView, GlobalViewsFormatPaymentMethodView, customer_payment_details_tpl, Backbone, _) {\n    'use strict';\n    //@class CustomerPayment.Details.View @extend Backbone.View\n    return Backbone.View.extend({\n        template: customer_payment_details_tpl,\n        title: _('Payment Details').translate(),\n        page_header: _('Payment Details').translate(),\n        attributes: { 'class': 'PaymentDetails' },\n        initialize: function (options) {\n            this.application = options.application;\n            BackboneCompositeView.add(this);\n        }    //@method getSelectedMenu\n,\n        getSelectedMenu: function () {\n            return 'transactionhistory';\n        }    //@method getBreadcrumbPages\n,\n        getBreadcrumbPages: function () {\n            return [\n                {\n                    text: _('Transaction History').translate(),\n                    href: '/transactionhistory'\n                },\n                {\n                    text: _('Payment #$(0)').translate(this.model.get('tranid')),\n                    href: '/transactionhistory/customerpayment/' + this.model.get('internalid')\n                }\n            ];\n        },\n        render: function () {\n            this.payment_method = this.model.get('paymentmethods') && this.model.get('paymentmethods').findWhere({ primary: true });\n            Backbone.View.prototype.render.apply(this, arguments);\n        },\n        childViews: {\n            'Invoices.Collection': function () {\n                var records_collection = new Backbone.Collection(_.map(this.model.get('invoices'), function (invoice) {\n                    var model = new Backbone.Model({\n                        touchpoint: 'customercenter',\n                        title: invoice.refnum ? _('Invoice #$(0)').translate(invoice.refnum) : _('Journal').translate(),\n                        detailsURL: invoice.refnum ? '/invoices/' + invoice.internalid : '',\n                        isNavigable: !!invoice.refnum,\n                        id: invoice.id,\n                        internalid: invoice.id,\n                        columns: [\n                            {\n                                label: _('Date:').translate(),\n                                type: 'date',\n                                name: 'date',\n                                value: invoice.applydate\n                            },\n                            {\n                                label: _('Disc:').translate(),\n                                type: 'discount',\n                                name: 'discount',\n                                value: invoice.disc_formatted\n                            },\n                            {\n                                label: _('Amount:').translate(),\n                                type: 'currency',\n                                name: 'amount',\n                                value: invoice.amount_formatted\n                            }\n                        ]\n                    });\n                    return model;\n                }));\n                return new BackboneCollectionView({\n                    childView: RecordViewsView,\n                    collection: records_collection,\n                    viewsPerRow: 1,\n                    childViewOptions: { layoutColumns: 4 }\n                });\n            },\n            'PaymentMethod': function () {\n                return new GlobalViewsFormatPaymentMethodView({ model: this.payment_method });\n            }\n        }    //@method getContext @return CustomerPayment.Details.View.Context\n,\n        getContext: function () {\n            //@class CustomerPayment.Details.View.Context\n            return {\n                //@property {String} tranId\n                tranId: this.model.get('tranid')    //@property {String} paymentFormatted\n,\n                paymentFormatted: this.model.get('payment_formatted')    //@property {String} tranDate\n,\n                tranDate: this.model.get('trandate')    //@property {String} status\n,\n                status: this.model.get('status').internalid,\n                memo: this.model.get('memo')    //@property {Boolean} collapseElements\n,\n                collapseElements: Configuration.get('sca.collapseElements')    //@property {Boolean} showInvoices\n,\n                showInvoices: !!(this.model.get('invoices') && this.model.get('invoices').length)    //@property {Boolean} showPaymentMethod\n,\n                showPaymentMethod: !!(this.payment_method && this.payment_method.get('type'))    //@property {Boolean} showMemo\n,\n                showMemo: !!this.model.get('memo')    //@property {String} downloadPDFURL\n,\n                downloadPDFURL: _.getDownloadPdfUrl({\n                    asset: 'customer-payment-details',\n                    id: this.model.get('internalid')\n                })    //@property {Boolean} showOpenedAccordion\n,\n                showOpenedAccordion: _.isTabletDevice() || _.isDesktopDevice()    //@property {Boolean} showPaymentEventFail\n,\n                showPaymentEventFail: this.model.get('paymenteventholdreason') === 'FORWARD_REQUESTED'    //@property {String} redirectUrl\n,\n                redirectUrl: this.model.get('redirecturl')\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module TransactionHistory\ndefine('TransactionHistory.Router', [\n    'TransactionHistory.Collection',\n    'TransactionHistory.List.View',\n    'Deposit.Model',\n    'Deposit.Details.View',\n    'DepositApplication.Model',\n    'DepositApplication.Details.View',\n    'CreditMemo.Model',\n    'CreditMemo.Details.View',\n    'CustomerPayment.Model',\n    'CustomerPayment.Details.View',\n    'Receipt.Model',\n    'Receipt.Details.View',\n    'Invoice.Model',\n    'Invoice.Details.View',\n    'AjaxRequestsKiller',\n    'Backbone',\n    'Utils'\n], function (Collection, TransactionHistoryListView, DepositModel, DepositDetailsView, DepositApplicationModel, DepositApplicationDetailsView, CreditMemoModel, CreditMemoDetailsView, CustomerPaymentModel, CustomerPaymentDetailsView, ReceiptModel, ReceiptDetailsView, InvoiceModel, InvoiceDetailsView, AjaxRequestsKiller, Backbone, Utils) {\n    'use strict';\n    //@class TransactionHistory.Router @extend Backbone.Router\n    return Backbone.Router.extend({\n        routes: {\n            'transactionhistory': 'transactionHistory',\n            'transactionhistory?:options': 'transactionHistory',\n            'transactionhistory/creditmemo/:id': 'creditmemoDetails',\n            'transactionhistory/depositapplication/:id': 'depositapplicationDetails',\n            'transactionhistory/customerdeposit/:id': 'despositDetails',\n            'transactionhistory/customerpayment/:id': 'customerPaymentDetails',\n            'transactionhistory/cashsale/:id': 'cashSaleDetails',\n            'transactionhistory/invoices/:id': 'invoiceDetails'\n        },\n        initialize: function (application) {\n            this.application = application;\n        }    // @method transactionHistory list transactions history @param {String} options\n,\n        transactionHistory: function (options) {\n            options = options ? Utils.parseUrlOptions(options) : { page: 1 };\n            options.page = options.page || 1;\n            var collection = new Collection(), view = new TransactionHistoryListView({\n                    application: this.application,\n                    collection: collection,\n                    page: options.page\n                });\n            collection.on('reset', view.showContent, view);\n            view.showContent();\n        }    // @method creditmemoDetails view credit memo detail @param {String} id\n,\n        creditmemoDetails: function (id) {\n            var model = new CreditMemoModel({ internalid: id }), view = new CreditMemoDetailsView({\n                    application: this.application,\n                    id: id,\n                    model: model\n                });\n            model.on('change', view.showContent, view).fetch({ killerId: AjaxRequestsKiller.getKillerId() });\n        }    // @method customerPaymentDetails shows deposit application detail @param {String} id\n,\n        customerPaymentDetails: function (id) {\n            var model = new CustomerPaymentModel({ internalid: id }), view = new CustomerPaymentDetailsView({\n                    application: this.application,\n                    id: id,\n                    model: model\n                });\n            model.on('change', view.showContent, view).fetch({ killerId: AjaxRequestsKiller.getKillerId() });\n        }    // @method despositDetails view deposit detail @param {String} id\n,\n        despositDetails: function (id) {\n            var model = new DepositModel({ internalid: id }), view = new DepositDetailsView({\n                    application: this.application,\n                    id: id,\n                    model: model\n                });\n            model.on('change', view.showContent, view).fetch({ killerId: AjaxRequestsKiller.getKillerId() });\n        }    // @method depositapplicationDetails view deposit application detail @param {String} id\n,\n        depositapplicationDetails: function (id) {\n            var model = new DepositApplicationModel({ internalid: id }), view = new DepositApplicationDetailsView({\n                    application: this.application,\n                    id: id,\n                    model: model\n                });\n            model.on('change', view.showContent, view).fetch({ killerId: AjaxRequestsKiller.getKillerId() });\n        },\n        cashSaleDetails: function (id) {\n            var model = new ReceiptModel({ internalid: id }), view = new ReceiptDetailsView({\n                    application: this.application,\n                    id: id,\n                    model: model,\n                    referrer: 'transactionhistory'\n                });\n            model.on('change', view.showContent, view).fetch({\n                data: {\n                    internalid: id,\n                    recordtype: 'cashsale'\n                },\n                killerId: AjaxRequestsKiller.getKillerId()\n            });\n        }    //@method invoiceDetails\n,\n        invoiceDetails: function (id) {\n            var invoice = new InvoiceModel({ internalid: id }), view = new InvoiceDetailsView({\n                    application: this.application,\n                    model: invoice,\n                    referrer: 'transactionhistory'\n                });\n            invoice.on('change', view.showContent, view).fetch({ killerId: AjaxRequestsKiller.getKillerId() });\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module TransactionHistory Defines the TransactionHistory module (Model, Collection, Views, Router)\ndefine('TransactionHistory', [\n    'TransactionHistory.Router',\n    'underscore',\n    'Utils'\n], function (Router, _) {\n    'use strict';\n    //@class TransactionHistory @extends ApplicationModule\n    return {\n        MenuItems: {\n            parent: 'billing',\n            id: 'transactionhistory',\n            name: _('Transaction History').translate(),\n            url: 'transactionhistory',\n            permissionOperator: 'OR',\n            permission: 'transactions.tranCustInvc.1, transactions.tranCustCred.1, transactions.tranCustPymt.1, transactions.tranCustDep.1, transactions.tranDepAppl.1',\n            index: 3\n        },\n        mountToApp: function (application) {\n            return new Router(application);\n        }\n    };\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module ProductList\ndefine('ProductList.Router', [\n    'ProductList.Model',\n    'ProductList.Details.View',\n    'ProductList.Lists.View',\n    'ProductList.Item.Collection',\n    'underscore',\n    'Backbone',\n    'Utils'\n], function (ProductListModel, ProductListDetailsView, ProductListListsView, ProductListItemCollection, _, Backbone) {\n    'use strict';\n    // @class ProductList.Router Router for handling Product lists @extends Backbone.Router\n    return Backbone.Router.extend({\n        routes: {\n            'wishlist': 'showProductListsList',\n            'wishlist/?*options': 'showProductListsList',\n            'wishlist/:id': 'showProductListDetails',\n            'wishlist/:id/?*options': 'showProductListDetails'\n        },\n        initialize: function (application) {\n            this.application = application;\n        }    // @method showProductListDetails resolve the Product list details routes that can be of form /wishlist/$(internalid) or\n             // /wishlist/tmpl_$(templateid) in the case the record doesn't exist yet (predefined lists)\n             // @param  {String} id @param {Object} options\n,\n        showProductListDetails: function (id, options) {\n            var prefix = 'tmpl_', self = this, index_of_question = id.indexOf('?'), internalid;\n            if (index_of_question !== -1) {\n                options = id.substring(index_of_question);\n                internalid = parseInt(id, 10);\n                if (!isNaN(internalid)) {\n                    id = internalid + '';\n                }\n            }\n            var utils = self.application.ProductListModule.Utils;\n            if (id.indexOf(prefix) === 0) {\n                // then this is a predefined template that doesn't exist yet (without internalid)\n                var template_id = id.substring(prefix.length, index_of_question !== -1 ? index_of_question : id.length), product_lists_promise = utils.getProductLists().fetch();\n                product_lists_promise.done(function () {\n                    var template_product_list = utils.getProductLists().findWhere({ templateId: template_id }), items = template_product_list.get('items');\n                    if (_.isArray(items)) {\n                        template_product_list.set('items', new ProductListItemCollection(items));\n                    }\n                    self.doShowProductListDetails(template_product_list, options);\n                });\n            } else {\n                utils.getProductList(id).done(function (model) {\n                    self.doShowProductListDetails(new ProductListModel(model), options);\n                });\n            }\n        }    // @method doShowProductListDetails Render the product list details view @param {ProductList.Model} model @param {Object} options\n,\n        doShowProductListDetails: function (model, options) {\n            var params_options = _.parseUrlOptions(options), view = new ProductListDetailsView({\n                    application: this.application,\n                    params: params_options,\n                    model: model,\n                    includeSortingFilteringHeader: true\n                });\n            view.showContent();\n        }    // @method showProductListsList Render the product lists landing page @param {Object} options\n,\n        showProductListsList: function (options) {\n            var self = this;\n            this.application.ProductListModule.Utils.getProductListsPromise().done(function () {\n                var params_options = _.parseUrlOptions(options), view = new ProductListListsView({\n                        application: self.application,\n                        params: params_options,\n                        collection: self.application.ProductListModule.Utils.getProductLists()\n                    });\n                view.showContent();\n            });\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module ProductList\ndefine('ProductList', [\n    'ProductList.Router',\n    'Profile.Model',\n    'ProductList.Utils',\n    'underscore',\n    'Utils'\n], function (ProductListRouter, ProfileModel, ProductListUtils, _) {\n    'use strict';\n    // @class ProductListModule @extends ApplicationModule Encapsulate all product list elements into a single module to be mounted to the application\n    // Update: Keep the application reference within the function once its mounted into the application\n    var ProductListModule = function () {\n        return {\n            mountToApp: function (application) {\n                // Application.ProductListModule - reference to this module\n                application.ProductListModule = ProductListModule;\n                application.ProductListModule.Utils = new ProductListUtils(application);\n                ProfileModel.getPromise().done(application.ProductListModule.Utils.profileModelPromiseDone);\n                // always start our router.\n                return new ProductListRouter(application);\n            }    // @property {Function} MenuItems ProductLists myaccount's menu items. This is a good example of dynamic-multilevel myaccount's menuitems definition.\n                 // This is called from SCA.MyAccount.js and is necessary\n,\n            MenuItems: function (application) {\n                if (!application.ProductListModule.Utils.isProductListEnabled()) {\n                    return undefined;\n                }\n                var loadingList = _('Loading list...').translate();\n                var loadingLists = _('Loading lists...').translate();\n                return {\n                    id: 'product_list_dummy',\n                    name: application.ProductListModule.Utils.isSingleList() ? loadingList : loadingLists,\n                    url: '',\n                    index: 2\n                };\n            }\n        };\n    }();\n    //@class ProductList instantiate the router @extends ApplicationModule\n    return ProductListModule;\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module PrintStatement\ndefine('PrintStatement.View', [\n    'SC.Configuration',\n    'print_statement.tpl',\n    'Backbone.FormView',\n    'Backbone',\n    'jQuery',\n    'underscore',\n    'Utils',\n    'jQuery.serializeObject'\n], function (Configuration, print_statement_tpl, BackboneFormView, Backbone, jQuery, _) {\n    'use strict';\n    //@class PrintStatement.View @extends Backbone.View\n    return Backbone.View.extend({\n        //@property {Function} template\n        template: print_statement_tpl    //@property {String} title\n,\n        title: _('Print a Statement').translate()    //@property {String} page_header\n,\n        page_header: _('Print a Statement').translate()    //@property {Object} attributes\n,\n        attributes: { 'class': 'PrintStatement' }    //@property {Object} events\n,\n        events: {\n            'submit form': 'printAction',\n            'click [data-action=\"email\"]': 'emailAction',\n            'click i.print-statement-form-input-icon': 'imgPickerAction'\n        }    //@method initialize\n,\n        initialize: function (options) {\n            this.application = options.application;\n            this.model = options.model;\n            Backbone.Validation.bind(this);\n        }    //@method getSelectedMenu\n,\n        getSelectedMenu: function () {\n            return 'printstatement';\n        }    //@method getBreadcrumbPages\n,\n        getBreadcrumbPages: function () {\n            return {\n                text: _('Print Statement').translate(),\n                href: '/printstatement'\n            };\n        }    //@method printAction\n,\n        printAction: function (e) {\n            this.printStatement(e, false);\n        }    //@method emailAction\n,\n        emailAction: function (e) {\n            var self = this;\n            this.printStatement(e, true, function (response) {\n                jQuery.ajax(response.url).done(function () {\n                    self.showError(_('Email sent successfully').translate(), 'success');\n                });\n            });\n        }    //@method imgPickerAction\n,\n        imgPickerAction: function (e) {\n            jQuery(e.target).parent().find('input').datepicker('show');\n        }    //@method printStatement\n,\n        printStatement: function (e, email, callback) {\n            e.preventDefault();\n            this.hideError();\n            this.model.set('statementDate', this.$('[name=\"statementDate\"]').val());\n            this.model.set('startDate', this.$('[name=\"startDate\"]').val());\n            if (this.model.isValid(true)) {\n                var data = jQuery(e.target).closest('form').serializeObject(), statementDate = new Date(data.statementDate.replace(/-/g, '/')).getTime(), startDate = new Date(data.startDate.replace(/-/g, '/')).getTime();\n                data.email = email ? true : null;\n                if (!(data.startDate && isNaN(startDate) || isNaN(statementDate))) {\n                    data.statementDate = statementDate;\n                    if (data.startDate) {\n                        data.startDate = startDate;\n                    }\n                    if (email) {\n                        var save_promise = this.saveForm(e, this.model, data);\n                        save_promise && save_promise.done(callback);\n                    } else {\n                        data.asset = 'print-statement';\n                        window.open(_.getDownloadPdfUrl(data));\n                    }\n                }\n            }\n        }    //@method getContext @returns PrintStatement.View.Context\n,\n        getContext: function () {\n            //@class PrintStatement.View.Context\n            return {\n                //@property {String} pageHeader\n                pageHeader: this.page_header,\n                showBackToAccount: Configuration.get('siteSettings.sitetype') === 'STANDARD'\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module PrintStatement.Model\ndefine('PrintStatement.Model', [\n    'Backbone',\n    'underscore',\n    'Backbone.Sync'\n], function (Backbone, _) {\n    'use strict';\n    function parseDate(value) {\n        if (value && value.replace) {\n            return new Date(value.replace(/-/g, '/')).getTime();\n        } else {\n            return new Date(value).getTime();\n        }\n    }\n    function validateStatementDate(value) {\n        if (!value || isNaN(parseDate(value))) {\n            return _('Invalid Statement date').translate();\n        }\n    }\n    function validateStartDate(value) {\n        if (value) {\n            if (isNaN(parseDate(value))) {\n                return _('Invalid Start date').translate();\n            }\n        }\n    }\n    'use strict';\n    //@class PrintStatement.Model @extends Backbone.Model\n    return Backbone.Model.extend({\n        validation: {\n            statementDate: { fn: validateStatementDate },\n            startDate: { fn: validateStartDate }\n        }    //@property {String} urlRoot\n,\n        urlRoot: 'services/PrintStatement.Service.ss'    //@method parse\n,\n        parse: function (result) {\n            return result;\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module PrintStatement\ndefine('PrintStatement.Router', [\n    'PrintStatement.View',\n    'PrintStatement.Model',\n    'ErrorManagement.ForbiddenError.View',\n    'Backbone'\n], function (PrintStatementView, PrintStatementModel, ErrorManagementForbiddenErrorView, Backbone) {\n    'use strict';\n    //@class PrintStatement.Router @extends Backbone.Router\n    return Backbone.Router.extend({\n        //@property {Object} routes\n        routes: { 'printstatement': 'printstatement' }    //@method initialize\n,\n        initialize: function (application) {\n            this.application = application;\n        }    //@method printstatement\n,\n        printstatement: function () {\n            var view;\n            if (SC.ENVIRONMENT.permissions.transactions.tranStatement === 2) {\n                view = new PrintStatementView({\n                    application: this.application,\n                    model: new PrintStatementModel()\n                });\n            } else {\n                view = new ErrorManagementForbiddenErrorView({ application: this.application });\n            }\n            view.showContent();\n            return view;\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module PrintStatement\ndefine('PrintStatement', [\n    'PrintStatement.Router',\n    'underscore',\n    'Utils'\n], function (PrintStatementRouter, _) {\n    'use strict';\n    //@class PrintStatement\n    return {\n        //@property {Object} MenuItems\n        MenuItems: {\n            parent: 'billing',\n            id: 'printstatement',\n            name: _('Print a Statement').translate(),\n            url: 'printstatement',\n            index: 4,\n            permission: 'transactions.tranStatement.2'\n        }    //@method mountToApp\n,\n        mountToApp: function (application) {\n            return new PrintStatementRouter(application);\n        }\n    };\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module Quote\ndefine('Quote.Model', [\n    'Transaction.Model',\n    'underscore'\n], function (TransactionModel, _) {\n    'use strict';\n    //@class Quote.Model @extends Transaction.Model\n    return TransactionModel.extend({\n        //@property {String} urlRoot\n        urlRoot: 'services/Quote.Service.ss?recordtype=estimate',\n        initialize: function () {\n            TransactionModel.prototype.initialize.apply(this, arguments);\n            //metadata of the attribute options(custom fields)\n            if (SC.ENVIRONMENT.customFieldsMetadata && SC.ENVIRONMENT.customFieldsMetadata.estimate) {\n                this.__customFieldsMetadata = SC.ENVIRONMENT.customFieldsMetadata.estimate;\n            }\n        }    //@method submit Method invoked when the user a new quote want to be created\n             // @return {jQuery.Deferred}\n,\n        submit: function () {\n            var self = this;\n            return this._submit.apply(this, arguments).fail(function (jqXhr) {\n                jqXhr.preventDefault = true;\n            }).done(function () {\n                self.trigger('submit');\n            });\n        }    //@method save Override default save method to validate that independently of the current wizard steps configuration\n             //the default quote values are preserve\n             //@return {jQuery.XHR|Boolean} jqXHR if validation is successful and false\n,\n        save: function () {\n            var billing_address = parseInt(this.get('billaddress'), 10), shipping_address = parseInt(this.get('shipaddress'), 10);\n            //We don't know if the shipping address module is for sure present, so we add here an extra validation\n            //to just save a valid shipping address and not an id that was auto-generated in the back-end\n            if (!_.isNumber(shipping_address) || _.isNaN(shipping_address)) {\n                this.unset('shipaddress');\n            }\n            //We don't know if the billing address module is for sure present, so we add here an extra validation\n            //to just save a valid billing address and not an id that was auto-generated in the back-end\n            if (!_.isNumber(billing_address) || _.isNaN(billing_address)) {\n                this.unset('billaddress');\n            }\n            //Fix terms payment method object name\n            //This happens because in some cases the back-end returns a payment method already initialized\n            //that can be terms depending on the current user.\n            //Our Transaction.Model returns the invoice in an object with the property 'paymentterms'\n            //but at the time to set the payment method it expect an object with a property 'terms'\n            if (this.get('paymentmethods').length) {\n                var term_paymentMethod = this.get('paymentmethods').find(function (payment_method) {\n                    return !!payment_method.get('paymentterms');\n                });\n                if (term_paymentMethod) {\n                    term_paymentMethod.set('terms', term_paymentMethod.get('paymentterms'));\n                    term_paymentMethod.unset('paymentterms');\n                }\n            }\n            return TransactionModel.prototype.save.apply(this, arguments);\n        }    // @method getNonShippableLines Returns the order's line that are NON Shippable\n             // @returns {Array<Transaction.Line.Model>}\n,\n        getNonShippableLines: function () {\n            return this.get('lines').filter(function (line) {\n                return !line.get('item').get('_isfulfillable');\n            });\n        }    //@method getIfThereAreDeliverableItems Determines if at least one item is shippable\n             //@return {Boolean}\n,\n        getIfThereAreDeliverableItems: function getIfThereAreDeliverableItems() {\n            return this.get('lines').length - this.getNonShippableLines().length - this.getPickupInStoreLines().length > 0;\n        }    // @method getShippableLines\n             // @returns {Array<Transaction.Line.Model>} the order's line that are shippable without taking into account if their have or not set a shipaddress\n,\n        getShippableLines: function getShippableLines() {\n            return this.get('lines').filter(function (line) {\n                return line.get('item').get('_isfulfillable') && line.get('fulfillmentChoice') !== 'pickup';\n            });\n        },\n        getPickupInStoreLines: function getPickupInStoreLines() {\n            var lines = [];\n            this.get('lines').each(function (line) {\n                if (line.get('fulfillmentChoice') === 'pickup') {\n                    lines.push(line);\n                }\n            });\n            return lines;\n        }    //@method shippingAddressIsRequired This method is used by the OrderWizard.Module.Address.Shipping to determine if its must be rendered or not.\n             // @return {Boolean}\n,\n        shippingAddressIsRequired: function () {\n            return true;    // return this.get('lines').length ?\n                            // \tthis.getNonShippableLines().length !== this.get('lines').length :\n                            // \ttrue;\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module Quote\ndefine('Quote.Collection', [\n    'Quote.Model',\n    'underscore',\n    'Backbone',\n    'Utils'\n], function (QuoteModel, _, Backbone) {\n    'use strict';\n    // @class Quote.Collection @extends Backbone.Collection\n    return Backbone.Collection.extend({\n        //@property {Quote.Model} model\n        model: QuoteModel    //@property {String} url\n,\n        url: 'services/Quote.Service.ss?types=Estimate'    //@method parse\n                                                      //@param {Quote.Model.List.Result} response This is the backend service response when fetching the model\\\n                                                      //@return {Arra<Transaction.Model.List.Result.Record>}\n,\n        parse: function (response) {\n            this.totalRecordsFound = response.totalRecordsFound;\n            this.recordsPerPage = response.recordsPerPage;\n            return response.records;\n        }    //@method update Method used by the ListHeader to filter the current list when seeing the Quote List\n             //@param {Collection.Filter} options\n             //@return {Void}\n,\n        update: function (options) {\n            var range = options.range || {}, from = range.from && _.stringToDate(range.from), to = range.to && _.stringToDate(range.to);\n            this.fetch({\n                data: {\n                    filter: options.filter.value,\n                    sort: options.sort.value,\n                    order: options.order,\n                    from: from || null,\n                    to: to || null,\n                    page: options.page\n                },\n                reset: true,\n                killerId: options.killerId\n            });\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module Quote\ndefine('Quote.ListExpirationDate.View', [\n    'quote_list_expiration_date.tpl',\n    'Backbone'\n], function (quote_list_expiration_date_tpl, Backbone) {\n    'use strict';\n    // @class Quote.ListExpirationDate.View @extends Backbone.View\n    return Backbone.View.extend({\n        //@property {Function} template\n        template: quote_list_expiration_date_tpl    // @method getContext\n                                          // @return {Quote.ListExpirationDate.View.Context}\n,\n        getContext: function () {\n            // @class Quote.ListExpirationDate.View.Context\n            return {\n                // @property {Quote.Model} collection \n                model: this.model\n            };    // @class Quote.ListExpirationDate.View\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module Quote\ndefine('Quote.List.View', [\n    'ListHeader.View',\n    'Quote.ListExpirationDate.View',\n    'RecordViews.View',\n    'SC.Configuration',\n    'quote_list.tpl',\n    'Backbone',\n    'Backbone.CompositeView',\n    'Backbone.CollectionView',\n    'underscore',\n    'Utils'\n], function (ListHeaderView, QuoteListExpirationDateView, RecordViewsView, Configuration, quote_list_tpl, Backbone, BackboneCompositeView, BackboneCollectionView, _) {\n    'use strict';\n    // @class Quote.List.View @extends Backbone.View\n    return Backbone.View.extend({\n        //@property {Function} template\n        template: quote_list_tpl    //@property {String} className\n,\n        className: 'QuoteListView'    //@property {String} title\n,\n        title: _('Quotes').translate()    //@property {String} page_header\n,\n        page_header: _('Quotes').translate()    //@property {Object} attributes\n,\n        attributes: { 'class': 'QuoteListView' }    //@method initialize\n                                        //@param {application:AplpicationSkeleton} options\n                                        //@return {Void}\n,\n        initialize: function (options) {\n            this.application = options.application;\n            this.listenCollection();\n            this.setupListHeader();\n            BackboneCompositeView.add(this);\n        }    //@method listenCollection Attaches to the current collection events request and reset to indicate if it is loading data or not\n             //@return {Void}\n,\n        listenCollection: function () {\n            this.setLoading(true);\n            this.collection.on({\n                request: _.bind(this.setLoading, this, true),\n                reset: _.bind(this.setLoading, this, false)\n            });\n        }    //@method setupListHeader Initialize the list header component\n             //@return {Void}\n,\n        setupListHeader: function () {\n            // manges sorting and filtering of the collection\n            this.listHeader = new ListHeaderView({\n                view: this,\n                application: this.application,\n                collection: this.collection,\n                filters: this.filterOptions,\n                sorts: this.sortOptions,\n                allowEmptyBoundaries: true\n            });\n        }    //@method setLoading Set the loading status of the current view\n             //@param {Boolean} is_loading\n             //@return {Void}\n,\n        setLoading: function (is_loading) {\n            //@property {Boolean} isLoading\n            this.isLoading = is_loading;\n        }    //@property {Array<ListHeader.View.FilterOption>} filterOptions\n,\n        filterOptions: [\n            {\n                value: 'ALL',\n                name: _('Show all statuses').translate(),\n                selected: true\n            },\n            {\n                value: '14',\n                name: _('Closed Lost').translate()\n            },\n            {\n                value: '8',\n                name: _('In Discussion').translate()\n            },\n            {\n                value: '9',\n                name: _('Identified Decision Makers').translate()\n            },\n            {\n                value: '10',\n                name: _('Proposal').translate()\n            },\n            {\n                value: '11',\n                name: _('In Negotiation').translate()\n            },\n            {\n                value: '12',\n                name: _('Purchasing').translate()\n            }\n        ]    //@property {Array<ListHeader.View.SortOption>} sortOptions\n,\n        sortOptions: [\n            {\n                value: 'tranid',\n                name: _('by Number').translate(),\n                selected: true\n            },\n            {\n                value: 'trandate',\n                name: _('by Request date').translate()\n            },\n            {\n                value: 'duedate',\n                name: _('by Expiration date').translate()\n            },\n            {\n                value: 'total',\n                name: _('by Amount').translate()\n            }\n        ]    //@method getSelectedMenu Indicates what my account menu is selected when this view is being rendered\n             //@return {String}\n,\n        getSelectedMenu: function () {\n            return 'quotes';\n        }    //@method getBreadcrumbPages\n             //@return {BreadcrumbPage}\n,\n        getBreadcrumbPages: function () {\n            return {\n                text: this.title,\n                href: '/quotes'\n            };\n        }    //@property {ChildViews} childViews\n,\n        childViews: {\n            'Quote.List.Items': function () {\n                var records_collection = new Backbone.Collection(this.collection.map(function (quote) {\n                    var quote_internalid = quote.get('internalid');\n                    return new Backbone.Model({\n                        touchpoint: 'customercenter',\n                        title: _('Quote #$(0)').translate(quote.get('tranid')),\n                        detailsURL: '#/quotes/' + quote_internalid,\n                        id: quote_internalid,\n                        internalid: quote_internalid,\n                        columns: [\n                            {\n                                label: _('Request date:').translate(),\n                                type: 'date',\n                                name: 'request-date',\n                                value: quote.get('trandate')\n                            },\n                            {\n                                label: _('Expiration date:').translate(),\n                                type: 'exp-date',\n                                name: 'expiration-date',\n                                compositeKey: 'QuoteListExpirationDateView',\n                                composite: new QuoteListExpirationDateView({ model: quote })\n                            },\n                            {\n                                label: _('Amount:').translate(),\n                                type: 'currency',\n                                name: 'amount-date',\n                                value: quote.get('total_formatted')\n                            },\n                            {\n                                label: _('Status:').translate(),\n                                type: 'status',\n                                name: 'status',\n                                value: quote.get('entitystatus').name\n                            }\n                        ]\n                    });\n                }));\n                return new BackboneCollectionView({\n                    childView: RecordViewsView,\n                    collection: records_collection,\n                    viewsPerRow: 1\n                });\n            },\n            'List.Header': function () {\n                return this.listHeader;\n            }\n        }    //@method destroy Override default method to  from collection events\n             //@return {Void}\n,\n        destroy: function () {\n            this.collection.off('request reset');\n            Backbone.View.prototype.destroy.apply(this, arguments);\n        }    // @method getContext\n             // @return {Quote.List.View.Context}\n,\n        getContext: function () {\n            // @class Quote.List.View.Context\n            return {\n                // @property {String} pageHeader\n                pageHeader: this.page_header,\n                collection: this.collection,\n                collectionLength: this.collection.length,\n                isLoading: this.isLoading,\n                showBackToAccount: Configuration.get('siteSettings.sitetype') === 'STANDARD'\n            };    // @class Quote.List.View\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module Quote\ndefine('Quote.Details.View', [\n    'SC.Configuration',\n    'Transaction.Line.Views.Cell.Navigable.View',\n    'Address.Details.View',\n    'quote_details.tpl',\n    'Backbone',\n    'Backbone.CollectionView',\n    'Backbone.CompositeView',\n    'underscore',\n    'Utils',\n    'UrlHelper'\n], function (Configuration, TransactionLineViewsCellNavigableView, AddressDetailsView, quote_details_tpl, Backbone, BackboneCollectionView, BackboneCompositeView, _) {\n    'use strict';\n    // @class Quote.Details.View @extends Backbone.View\n    return Backbone.View.extend({\n        //@property {Function} template\n        template: quote_details_tpl    //@property {String} title\n,\n        title: _('Quote Details').translate()    //@property {class: String} attributes\n,\n        attributes: { 'class': 'QuoteDetails' }    //@method initialize\n                                       //@param {application: ApplicationSkeleton} options\n                                       //@return {Void}\n,\n        initialize: function (options) {\n            this.application = options.application;\n            //@property {Quote.Details.View.ErrorMessages} statusTranslationKeys\n            this.statusTranslationKeys = {\n                'INVALIDPERMISSION': _('Not allowed').translate(),\n                'INVALIDENTITYSTATUS': _('Sales representative approval').translate(),\n                'MISSINGSHIPMETHOD': _('Shipping information').translate(),\n                'MISSINGSHIPADDRESS': _('Shipping information').translate(),\n                'GIFTCERTIFICATENOTALLOWED': _('Gift Certificate not allowed').translate(),\n                'MISSINGSALESREP': _('Sales Representative assigned').translate()\n            };\n            BackboneCompositeView.add(this);\n        }    //@method getSelectedMenu\n             //@return {String}\n,\n        getSelectedMenu: function () {\n            return 'quotes';\n        }    //@method getBreadcrumbPages\n             //@return {Array<BreadcrumbPage>} Override breadcrumbs titles\n,\n        getBreadcrumbPages: function () {\n            return [\n                {\n                    text: _('Quotes').translate(),\n                    href: '/quotes'\n                },\n                {\n                    text: _('Quote #$(0)').translate(this.model.get('tranid') || ''),\n                    href: '/quotes'\n                }\n            ];\n        }    //@method showContent Override default showContent in order to obtain in one single execution data from the model\n             //@return {jQuery.Promise<Quote.Details.View>}\n,\n        showContent: function () {\n            var self = this;\n            this.billaddress = this.model.get('addresses').get(this.model.get('billaddress'));\n            this.shipaddress = this.model.get('addresses').get(this.model.get('shipaddress'));\n            var first_step = _.first(_.flatten(_.pluck(Configuration.get('quotesToSalesOrderWizard.steps', []), 'steps')));\n            this.reviewQuoteURL = first_step && first_step.url || '';\n            this.reviewQuoteURL = _.setUrlParameter(this.reviewQuoteURL, 'quoteid', this.model.id);\n            this.model.get('purchasablestatus').validationErrors = _.reject(this.model.get('purchasablestatus').validationErrors, function (error_code) {\n                if (error_code === 'GIFTCERTIFICATENOTALLOWED') {\n                    self.showGiftCertificateMessage = true;\n                    return true;\n                }\n                return false;\n            });\n            return Backbone.View.prototype.showContent.apply(this, arguments);\n        }    // @property {ChildViews} childViews\n,\n        childViews: {\n            'Items.Collection': function () {\n                return new BackboneCollectionView({\n                    collection: this.model.get('lines'),\n                    childView: TransactionLineViewsCellNavigableView,\n                    viewsPerRow: 1,\n                    childViewOptions: {\n                        navigable: true,\n                        detail1Title: _('Qty:').translate(),\n                        detail1: 'quantity',\n                        detail2Title: _('List price:').translate(),\n                        detail2: 'rate_formatted',\n                        detail3Title: _('Amount:').translate(),\n                        detail3: 'total_formatted'\n                    }\n                });\n            },\n            'Billing.Address': function () {\n                return new AddressDetailsView({\n                    model: this.billaddress,\n                    hideDefaults: true,\n                    hideActions: true\n                });\n            }\n        }    //@method _generateErrorMessages is an internal method used to get error message from the error code\n             //@return {Array<String>}\n,\n        _generateErrorMessages: function () {\n            var self = this;\n            var results = _.map(this.model.get('purchasablestatus').validationErrors, function (error_key) {\n                return self.statusTranslationKeys[error_key] || _('Unknown error').translate();\n            });\n            // If there two or more messages equal, this make a unique message\n            return _.uniq(results);\n        }    // @method getContext\n             // @return {Quote.Details.View.Context}\n,\n        getContext: function () {\n            var lineItemsLength = _.reduce(this.model.get('lines').pluck('quantity'), function (accum, quantity) {\n                return accum + quantity;\n            }, 0);\n            // @class Quote.Details.View.Context\n            return {\n                // @property {String} tranid\n                tranid: this.model.get('tranid') || ''    // @property {Quote.Model} model\n,\n                model: this.model,\n                lineItemsLength: lineItemsLength    // @property {String} entityStatusName\n,\n                entityStatusName: this.model.get('entitystatus') && this.model.get('entitystatus').name || ''    // @property {String} pdfUrl\n,\n                pdfUrl: _.getDownloadPdfUrl({\n                    asset: 'quote-details',\n                    'id': this.model.get('internalid')\n                })    // @property {String} reviewQuoteURL\n,\n                reviewQuoteURL: this.reviewQuoteURL,\n                showPromocode: !!this.model.get('promocode')    // @property {Boolean} showPromocode\n,\n                showDiscount: !!this.model.get('discount')    // @property {Boolean} showBillingAddress\n,\n                showBillingAddress: !!this.billaddress,\n                showMessage: !!this.model.get('message')    // @property {String} message\n,\n                message: this.model.get('message')    // @property {Boolean} showMemo\n,\n                showMemo: !!this.model.get('memo')    // @property {String} memo\n,\n                memo: this.model.get('memo')    // @property {Boolean} collapseElements\n,\n                collapseElements: Configuration.get('sca.collapseElements')    // @property {Transaction.Model.Get.Summary} summary\n,\n                summary: this.model.get('summary')    // @property {String} duedate\n,\n                duedate: this.model.get('duedate') || ''    // @property {Boolean} hasDuedate\n,\n                hasDuedate: !!this.model.get('duedate')    // @property {Boolean} showSalesRepInformation\n,\n                hasSalesrep: !!(this.model.get('salesrep') && this.model.get('salesrep').fullname)    // @property {Boolean} showSalesRepInformation Name\n,\n                salesrepName: this.model.get('salesrep') && this.model.get('salesrep').fullname,\n                salesrepPhone: this.model.get('salesrep') && this.model.get('salesrep').phone || Configuration.get('quote.defaultPhone')    // @property {Boolean} showSalesRepInformation Email\n,\n                salesrepEmail: this.model.get('salesrep') && this.model.get('salesrep').email || Configuration.get('quote.defaultEmail')    // @property {String} disclaimerSummaryº configurable HTML string\n,\n                disclaimerSummary: _(Configuration.get('quote.disclaimerSummary', '')).translate()    // @property {String} disclaimer configurable HTML string\n,\n                disclaimer: _(Configuration.get('quote.disclaimer', '')).translate()    // @property {Array<String>} purchaseValidationErrors\n,\n                purchaseValidationErrors: this._generateErrorMessages()    // @property {Boolean} isOpen\n,\n                isOpen: this.model.get('isOpen') && !Configuration.get('isBasic')    //@property {Boolean} showOpenedAccordion\n,\n                showOpenedAccordion: _.isTabletDevice() || _.isDesktopDevice()    //@property {Boolean} hasPermission\n,\n                hasPermission: this.model.get('allowToPurchase')    //@property {Boolean} showHandlingCost\n,\n                showHandlingCost: !!this.model.get('summary').handlingcost,\n                showGiftCertificateMessage: this.showGiftCertificateMessage,\n                hasPermissionAndHasErrors: this.model.get('allowToPurchase') && this._generateErrorMessages().length,\n                showQuoteStatus: !!(this.model.get('entitystatus') && this.model.get('entitystatus').name)\n            };    // @class Quote.Details.View\n        }\n    });\n});    //@class Quote.Details.View.ErrorMessages\n       //In this object each key is the error code and each value is the transalte message\n       //This object is used as a dictionary for error that came form the backend\n","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module Quote\ndefine('Quote.Router', [\n    'Quote.Model',\n    'Quote.Collection',\n    'Quote.List.View',\n    'Quote.Details.View',\n    'AjaxRequestsKiller',\n    'Backbone',\n    'jQuery'\n], function (Model, Collection, ListView, DetailsView, AjaxRequestsKiller, Backbone, jQuery) {\n    'use strict';\n    // @class Quote.Router @extends Backbone.Router\n    return Backbone.Router.extend({\n        //@property {Object} routes\n        routes: {\n            'quotes': 'list',\n            'quotes?:options': 'list',\n            'quotes/:id': 'details'\n        }    //@method initialize\n             //@param {ApplicationSkeleton} application\n             //@return {Void}\n,\n        initialize: function (application) {\n            this.application = application;\n        }    //@method list Handle the quotes route and show the Quote List View\n             //@return {Void}\n,\n        list: function () {\n            var collection = new Collection(), view = new ListView({\n                    application: this.application,\n                    collection: collection\n                });\n            collection.on('reset', jQuery.proxy(view, 'showContent', 'quotes'));\n            view.showContent('returns');\n        }    //@method list Handle the quotes?:options and quote/id routes and show the quotes details\n             //@return {Void}\n,\n        details: function (id) {\n            var model = new Model({ internalid: id }), view = new DetailsView({\n                    application: this.application,\n                    model: model\n                });\n            model.fetch({ killerId: AjaxRequestsKiller.getKillerId() }).then(jQuery.proxy(view, 'showContent', 'quotes'));\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module Quote\ndefine('Quote', [\n    'Quote.Router',\n    'underscore',\n    'Utils'\n], function (QuoteRouter, _) {\n    'use strict';\n    //@class Quote @extend ApplicationModule\n    return {\n        //@property {MenuItem} MenuItem\n        MenuItems: {\n            parent: 'orders',\n            id: 'quotes',\n            name: _('Quotes').translate(),\n            url: 'quotes',\n            index: 5,\n            permission: 'transactions.tranFind.1,transactions.tranEstimate.1'\n        }    //@method mountToApp\n             //@param {ApplicationSkeleton} application\n             //@return {QuoteRouter} Returns an instance of the quote router used by the current module\n,\n        mountToApp: function (application) {\n            return new QuoteRouter(application);\n        }\n    };\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module QuoteToSalesOrderWizard\ndefine('QuoteToSalesOrderWizard.View', [\n    'Wizard.View',\n    'Wizard.StepNavigation.View',\n    'quote_to_salesorder_wizard_layout.tpl',\n    'Backbone'\n], function (WizardView, WizardStepNavigationView, quote_to_salesorder_wizard_layout_tpl, Backbone) {\n    'use strict';\n    //@class QuoteToSalesOrderWizard.View @extend Wizard.View\n    return WizardView.extend({\n        //@property {Function} template\n        template: quote_to_salesorder_wizard_layout_tpl    //@property {String} bodyClass\n,\n        bodyClass: 'force-hide-side-nav',\n        getPageDescription: function () {\n            return 'quote-to-sales-order - ' + (Backbone.history.fragment || '').split('?')[0];\n        }    //@property {ChildViews} childViews\n,\n        childViews: {\n            'Wizard.StepNavigation': function () {\n                return new WizardStepNavigationView({ wizard: this.wizard });\n            }\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module QuoteToSalesOrderWizard\ndefine('QuoteToSalesOrderWizard.Step', [\n    'Wizard.Step',\n    'Header.Simplified.View',\n    'Footer.Simplified.View',\n    'quote_to_salesorder_wizard_step.tpl',\n    'SC.Configuration',\n    'underscore'\n], function (WizardStep, HeaderSimplifiedView, FooterSimplifiedView, quote_to_salesorder_wizard_step_tpl, Configuration, _) {\n    'use strict';\n    //@class QuoteToSalesOrderWizard.Step Step View, Renders all the components of the Step @extend Wizard.Step\n    return WizardStep.extend({\n        //@property {Function} template\n        template: quote_to_salesorder_wizard_step_tpl    //@property {Header.Simplified.View} headerView\n,\n        headerView: HeaderSimplifiedView    //@property {Function} headerViewOptions @return {Header.LogoView.Initialize.Options}\n,\n        headerViewOptions: function () {\n            return {\n                headerLinkHref: '/quotes/' + this.options.wizard.model.get('quoteid'),\n                headerLinkTouchPoint: 'customercenter',\n                headerLinkHashtag: '#/quotes/' + this.options.wizard.model.get('quoteid'),\n                headerLinkTitle: _('Back to quote').translate()\n            };\n        }    //@property {Footer.Simplified.View} footerView\n,\n        footerView: FooterSimplifiedView    //@method render\n,\n        render: function () {\n            var layout = this.wizard.application.getLayout();\n            WizardStep.prototype.render.apply(this, arguments);\n            // Also trigger the afterRender event so the site search module can load the typeahead.\n            layout.trigger('afterRender');\n        }    //@method getContext @return {QuoteToSalesOrderWizard.Step.Context}\n,\n        getContext: function () {\n            //@class QuoteToSalesOrderWizard.Step.Context\n            return {\n                //@property {String} currentStepGroupName\n                currentStepGroupName: this.wizard.steps[this.wizard.currentStep].options.stepGroup.name,\n                continueButtonLabel: this.continueButtonLabel,\n                showNavButtons: !!(!this.hideBackButton || !this.hideContinueButton)    //@property {Boolean} showBackButton\n,\n                showBackButton: !this.hideBackButton || !this.wizard.isCurrentStepFirst()    //@property {Boolean} showContinueButton\n,\n                showContinueButton: !this.hideContinueButton,\n                showBreadcrumb: !this.hideBreadcrumb,\n                showBottomMessage: !!this.showBottomMessage,\n                hasSalesrep: !!this.wizard.model.get('quoteDetails').salesrep.internalid    //@property {String} disclaimer\n,\n                disclaimer: Configuration.get('quote.disclaimer', '')    //@property {String} salesrepName\n,\n                salesrepName: this.wizard.model.get('quoteDetails').salesrep.name,\n                salesrepPhone: this.wizard.model.get('quoteDetails').salesrep.phone ? this.wizard.model.get('quoteDetails').salesrep.phone : Configuration.get('quote.defaultPhone', '')    //@property {String} salesrepEmail\n,\n                salesrepEmail: this.wizard.model.get('quoteDetails').salesrep.email ? this.wizard.model.get('quoteDetails').salesrep.email : Configuration.get('quote.defaultEmail', '')\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module QuoteToSalesOrderWizard\ndefine('QuoteToSalesOrderWizard.Router', [\n    'Wizard.Router',\n    'QuoteToSalesOrderWizard.View',\n    'QuoteToSalesOrderWizard.Step',\n    'SC.Configuration',\n    'Profile.Model',\n    'AjaxRequestsKiller',\n    'Session',\n    'Backbone',\n    'underscore',\n    'Utils'\n], function (WizardRouter, QuoteToSalesOrderWizardView, QuoteToSalesOrderWizardStep, Configuration, ProfileModel, AjaxRequestsKiller, Session, Backbone, _) {\n    'use strict';\n    //@class QuoteToSalesOrderWizard.Router @extend Wizard.Router\n    return WizardRouter.extend({\n        //@property {QuoteToSalesOrderWizard.Step} step\n        step: QuoteToSalesOrderWizardStep    //@property {QuoteToSalesOrderWizard.View} view\n,\n        view: QuoteToSalesOrderWizardView    //@method initialize Override default method to update the collection of address in the current transaction model\n                                       //@return {Void}\n,\n        initialize: function () {\n            WizardRouter.prototype.initialize.apply(this, arguments);\n            ProfileModel.getInstance().get('addresses').on('add remove change', _.bind(this.reSetModelAddresses, this, this.model));\n        }    //@method runStep override default runstep method to validate that a quote id has been specified in the URL and the corresponding quote is already loaded\n             //@param {String} str_options Current Options in the url\n             //@return {Void}\n,\n        runStep: function (str_options) {\n            // Computes the position of the user in the flow\n            var url = str_options ? Backbone.history.fragment.replace('?' + str_options, '') : Backbone.history.fragment, position = this.getStepPosition(url), content = '', page_header = '', layout = this.application.getLayout(), hash_options = _.parseUrlOptions(str_options), is_external = hash_options.externalPayment === 'DONE' || hash_options.externalPayment === 'FAIL', self = this, salesorderid = str_options && ~str_options.indexOf('salesorderid=');\n            if (salesorderid && !is_external) {\n                //wizard just finished and user refreshed the page\n                page_header = _('Your Order has been placed').translate();\n                content += _('If you want to review your last order you can go to <a href=\"/purchases/view/$(0)\">Your Account</a>. ').translate(hash_options.salesorderid) + _('Or you can return to <a href=\"/quotes\">quotes</a>.').translate();\n                layout.internalError && layout.internalError(content, page_header, _('My Account').translate());\n            } else if (!hash_options.quoteid && !is_external) {\n                layout.notFound && layout.notFound();\n            }\n            if (this.model.get('quoteid') !== hash_options.quoteid || position.fromBegining === 0 || is_external) {\n                this.model.clear();\n                //This is done because many OrderWizard Modules dont check if the summary is set\n                if (is_external) {\n                    this.model.set('salesorderid', hash_options.nltranid);\n                }\n                this.model.set('summary', {}, { silent: true });\n                this.model.set('quoteid', hash_options.quoteid);\n                this.model.fetch({ killerId: AjaxRequestsKiller.getKillerId() }).then(function () {\n                    if (!is_external) {\n                        self.reSetModelAddresses(self.model, true);\n                    }\n                    WizardRouter.prototype.runStep.apply(self);\n                });\n            } else if (this.model.get('confirmation') && this.model.get('confirmation').get('internalid') && position.toLast !== 0) {\n                // if you have already placed the order you can not be in any other step than the last\n                page_header = _('Your Order has been placed').translate();\n                content += _('You cannot place the order for this quote again. If you want to review your last order you can go to  <a href=\"/ordershistory/view/$(0)\">Your Account</a>. ').translate(this.model.get('confirmation').get('internalid')) + _('Or you can return to <a href=\"/quotes\">quotes</a>.').translate();\n                layout.internalError && layout.internalError(content, page_header, _('My Account').translate());\n            } else {\n                WizardRouter.prototype.runStep.apply(self, arguments);\n            }\n        }    //@method reSetModelAddresses Internal method used to set the addresses collection of the current sales order model\n             // We clone the current profile\n             // @param {QuoteToSalesOrder.Model} model\n             // @param {Boolean} silent\n             // @return {Address.Collection}\n,\n        reSetModelAddresses: function (model, silent) {\n            var selected_shipping_address = model.get('addresses').get(model.get('shipaddress')), selected_billing_address = model.get('addresses').get(model.get('billaddress')), new_addresses_collection = ProfileModel.getInstance().get('addresses').clone();\n            new_addresses_collection.add(selected_billing_address);\n            new_addresses_collection.add(selected_shipping_address);\n            model.get('addresses').reset(new_addresses_collection.models, { silent: silent });\n            return new_addresses_collection;\n        }    //@method addsParamsToFollowingStepURL Add the require params to the next/previous step url\n             //@param {Object} url_options Dictionary where each key is a url para and its value if the url parameter value\n             //@param {String} next_step_url\n             //@return {String}\n,\n        addsParamsToFollowingStepURL: function (url_options, next_step_url) {\n            if (url_options.force) {\n                next_step_url = _.addParamsToUrl(next_step_url, { force: true });\n            }\n            if (url_options.quoteid) {\n                next_step_url = _.addParamsToUrl(next_step_url, { quoteid: url_options.quoteid });\n            }\n            return next_step_url;\n        }    // @method goToNextStep finds the next steps and navigates to it\n             // Override default implementation to preserve parameters when  navigating between steps\n             // @return {Void}\n,\n        goToNextStep: function () {\n            var next_step_url = this.getNextStepUrl(), url_options = _.parseUrlOptions(Backbone.history.location.hash);\n            if (next_step_url) {\n                this.navigate(this.addsParamsToFollowingStepURL(url_options, next_step_url), { trigger: true });\n            }\n        }    // @method goToPreviousStep finds the previous steps and navigates to it\n             // Override default implementation to preserve parameters when  navigating between steps\n             // @return {Void}\n,\n        goToPreviousStep: function () {\n            var previous_step_url = this.getPreviousStepUrl(), url_options = _.parseUrlOptions(Backbone.history.location.hash);\n            if (previous_step_url) {\n                this.navigate(this.addsParamsToFollowingStepURL(url_options, previous_step_url), { trigger: true });\n            }\n        }    //@method hidePayment Indicate when there none elements to pay if the payment method must be asked anyway or not.\n             //The case when there is nothing to pay happens when you pay the entire order with promo codes and/or gift certificates\n             //@return {Boolean}\n,\n        hidePayment: function () {\n            return this.application.getConfig('siteSettings.checkout.hidepaymentpagewhennobalance') === 'T' && this.model.get('summary').total === 0;\n        }    //@method isMultiShipTo Indicate if the current sales order is multi ship to (MST) or not\n             //This method is required by CartSummary\n             //@return {Boolean}\n,\n        isMultiShipTo: function () {\n            return !!this.model.get('ismultishipto');\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module QuoteToSalesOrder\ndefine('QuoteToSalesOrder.Model', [\n    'Transaction.Model',\n    'OrderHistory.Model',\n    'SC.Configuration',\n    'Tracker',\n    'Backbone',\n    'underscore',\n    'jQuery',\n    'Utils'\n], function (TransactionModel, OrderHistoryModel, Configuration, Tracker, Backbone, _, jQuery) {\n    'use strict';\n    //@class QuoteToSalesOrder.Model @extend Transaction.Model\n    return TransactionModel.extend({\n        initialize: function (attributes) {\n            // call the initialize of the parent object, equivalent to super()\n            TransactionModel.prototype.initialize.apply(this, arguments);\n            this.on('change:confirmation', function (model, confirmation) {\n                model.set('confirmation', new OrderHistoryModel(confirmation), { silent: true });\n            });\n            this.trigger('change:confirmation', this, attributes && attributes.confirmation || {});\n        }    //@method urlRoot Property implemented as a function to add in all server calls the quote id parameter\n             //@return {String}\n,\n        urlRoot: function () {\n            var url = _.getAbsoluteUrl('services/QuoteToSalesOrder.Service.ss?quoteid=') + this.get('quoteid') + '&salesorderid=' + this.get('salesorderid');\n            if (!!_.parseUrlOptions(Backbone.history.location.search).externalPayment) {\n                url = _.addParamsToUrl(url, { skipvalidation: true });\n            }\n            return url;\n        }    //////////////////////////////////////////////////////\n             //\t\t\tCOPIED METHODS\t\t\t\t\t\t\t//\n             //\tThe following method have been copied from \t\t//\n             //\tthe LiveOrder.Model as the idea is make\t \t\t//\n             //\tparity with the standard checkout process \t\t//\n             //\tin the future when the LiveOrder.Model \t\t\t//\n             //\tstart inherit from Transaction.Model we will\t//\n             //\tbe able to unify this two models \t\t\t\t//\n             //////////////////////////////////////////////////////\n             // @method getNonShippableLines Returns the order's line that are NON Shippable\n             // @returns {Array<Transaction.Line.Model>}\n,\n        getNonShippableLines: function () {\n            return this.get('lines').filter(function (line) {\n                return !line.get('item').get('_isfulfillable');\n            });\n        }    //@method getIfThereAreDeliverableItems Determines if at least one item is shippable\n             //@return {Boolean}\n,\n        getIfThereAreDeliverableItems: function getIfThereAreDeliverableItems() {\n            return this.get('lines').length - this.getNonShippableLines().length - this.getPickupInStoreLines().length > 0;\n        }    // @method getShippableLines\n             // @returns {Array<Transaction.Line.Model>} the order's line that are shippable without taking into account if their have or not set a shipaddress\n,\n        getShippableLines: function getShippableLines() {\n            return this.get('lines').filter(function (line) {\n                return line.get('item').get('_isfulfillable') && line.get('fulfillmentChoice') !== 'pickup';\n            });\n        },\n        getPickupInStoreLines: function getPickupInStoreLines() {\n            var lines = [];\n            this.get('lines').each(function (line) {\n                if (line.get('fulfillmentChoice') === 'pickup') {\n                    lines.push(line);\n                }\n            });\n            return lines;\n        }    // @method shippingAddressIsRequired Checks if the shipping address is require and if all items in the order are nonshippable\n             // @return {Boolean}\n,\n        shippingAddressIsRequired: function () {\n            return this.getIfThereAreDeliverableItems() && Configuration.get('siteSettings.requireshippinginformation', 'F') === 'T';\n        }    //@method save Override default save method to just return a resolved promise when the cart have already been saved.\n             //@return {jQuery.Deferred}\n,\n        save: function () {\n            if (this.get('confirmation') && this.get('confirmation').get('internalid')) {\n                return jQuery.Deferred().resolve();\n            }\n            var payment_method_external = this.get('paymentmethods').findWhere({ isexternal: 'T' }), original_type;\n            if (payment_method_external) {\n                original_type = payment_method_external.get('type');\n                payment_method_external.set('type', 'external', { silent: true });\n            }\n            return TransactionModel.prototype.save.apply(this, arguments).fail(function () {\n                if (original_type) {\n                    payment_method_external.set('type', original_type, { silent: true });\n                }\n            });\n        }    // @method submit Method invoked when the user a new sales order want to be created from a quote\n             // @return {jQuery.Deferred}\n,\n        submit: function () {\n            var self = this;\n            return this._submit.apply(this, arguments).done(function () {\n                // Converting the Transaction.Model into Track.Transaction.Model until we unified it with the LiveOrder.Model\n                var confirmation = self.get('confirmation'), summary = self.get('summary'), transaction = {\n                        confirmationNumber: confirmation.get('confirmationnumber'),\n                        subTotal: summary.subtotal,\n                        total: summary.total,\n                        taxTotal: summary.taxtotal,\n                        shippingCost: summary.shippingcost,\n                        handlingCost: summary.handlingcost,\n                        products: new Backbone.Collection()\n                    }, transactionModel = new Backbone.Model(transaction);\n                self.get('lines').each(function (line) {\n                    var item = line.get('item');\n                    transactionModel.get('products').add(new Backbone.Model({\n                        sku: item.get('_sku', true),\n                        name: item.get('displayname'),\n                        category: item.get('category'),\n                        rate: line.get('rate'),\n                        quantity: line.get('quantity'),\n                        options: line.get('options').map(function (option) {\n                            return option.get('value').label;\n                        }).sort().join(', ')\n                    }));\n                });\n                Tracker.getInstance().trackTransaction(transactionModel, {\n                    category: 'quote-order',\n                    action: 'button',\n                    label: '',\n                    value: 1\n                });\n            }).fail(function (jqXhr) {\n                jqXhr.preventDefault = true;\n            });\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module QuoteToSalesOrderWizard\ndefine('QuoteToSalesOrderWizard', [\n    'QuoteToSalesOrderWizard.Router',\n    'QuoteToSalesOrder.Model',\n    'Profile.Model'\n], function (QuoteToSalesOrderWizardRouter, QuoteToSalesOrderModel, ProfileModel) {\n    'use strict';\n    //@class QuoteToSalesOrderWizard @extend ApplicationModule\n    return {\n        //@method mountToApp\n        //@param {ApplicationSkeleton} application\n        //@return {QuoteToSalesOrderWizard.Router} A new instance of the router class\n        mountToApp: function (application) {\n            return new QuoteToSalesOrderWizardRouter(application, {\n                steps: application.getConfig('quotesToSalesOrderWizard.steps'),\n                model: new QuoteToSalesOrderModel(),\n                profile: ProfileModel.getInstance()\n            });\n        }\n    };\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module RequestQuoteAccessPoints\ndefine('RequestQuoteAccessPoints.HeaderLink.View', [\n    'requestquote_accesspoints_headerlink.tpl',\n    'Backbone'\n], function (requestquote_accesspoints_headerlink_tpl, Backbone) {\n    'use strict';\n    //@class RequestQuoteAccessPoints.HeaderLink.View @extend Backbone.View\n    return Backbone.View.extend({\n        //@property {Function} template\n        template: requestquote_accesspoints_headerlink_tpl    //@method getContext\n                                                    //@return {RequestQuoteAccessPoints.HeaderLink.View.Context}\n,\n        getContext: function () {\n            //@class RequestQuoteAccessPoints.HeaderLink.View.Context\n            return {\n                //@property {Boolean} hasClass\n                hasClass: !!this.options.className,\n                className: this.options.className\n            };    //@class RequestQuoteAccessPoints.HeaderLink.View\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module RequestQuoteAccessPoints\ndefine('RequestQuoteAccessPoints', [\n    'RequestQuoteAccessPoints.HeaderLink.View',\n    'Header.View',\n    'Header.Menu.View'\n], function (RequestQuoteWizardHeaderLinkView, HeaderView, HeaderMenuView) {\n    'use strict';\n    //@class RequestQuoteAccessPoints @extend ApplicationModule\n    return {\n        //@method mountToApp\n        //@param {ApplicationSkeleton} application\n        //@return {Void}\n        mountToApp: function () {\n            //Set the request a quote link on the Desktop header\n            HeaderView.addChildViews && HeaderView.addChildViews({\n                'RequestQuoteWizardHeaderLink': function wrapperFunction() {\n                    return function () {\n                        return new RequestQuoteWizardHeaderLinkView({});\n                    };\n                }\n            });\n            //Set the request a quote link on the Tablet and Mobile header\n            HeaderMenuView.addChildViews && HeaderMenuView.addChildViews({\n                'RequestQuoteWizardHeaderLink': function wrapperFunction() {\n                    return function () {\n                        return new RequestQuoteWizardHeaderLinkView({ className: ' ' });\n                    };\n                }\n            });\n            return void 0;\n        }\n    };\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module QuickOrderAccessPoints\ndefine('QuickOrderAccessPoints.HeaderLink.View', [\n    'Backbone',\n    'underscore',\n    'SC.Configuration',\n    'quickorder_accesspoints_headerlink.tpl'\n], function (Backbone, _, Configuration, quickorder_accesspoints_headerlink_tpl) {\n    'use strict';\n    //@class QuickOrderAccessPoints.HeaderLink.View @extend Backbone.View\n    return Backbone.View.extend({\n        //@property {Function} template\n        template: quickorder_accesspoints_headerlink_tpl    //@method getContext\n                                                  //@return {QuickOrderAccessPoints.HeaderLink.View.Context}\n,\n        getContext: function () {\n            //@class QuickOrderAccessPoints.HeaderLink.View.Context\n            return {\n                //@property {Boolean} hasClass\n                hasClass: !!this.options.className,\n                className: this.options.className,\n                cartTouchPoint: _.getPathFromObject(Configuration, 'modulesConfig.Cart.startRouter', false) ? Configuration.currentTouchpoint : 'viewcart'\n            };    //@class QuickOrderAccessPoints.HeaderLink.View\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module QuickOrderAccessPoints\ndefine('QuickOrderAccessPoints', [\n    'QuickOrderAccessPoints.HeaderLink.View',\n    'Header.View',\n    'Header.Menu.View'\n], function (QuickOrderHeaderLinkView, HeaderView, HeaderMenuView) {\n    'use strict';\n    //@class QuickOrderAccessPoints @extend ApplicationModule\n    return {\n        //@method mountToApp\n        //@param {ApplicationSkeleton} application\n        //@return {Void}\n        mountToApp: function () {\n            //Set the request a quote link on the Desktop header\n            HeaderView.addChildViews && HeaderView.addChildViews({\n                'QuickOrderHeaderLink': function wrapperFunction() {\n                    return function () {\n                        return new QuickOrderHeaderLinkView({});\n                    };\n                }\n            });\n            //Set the request a quote link on the Tablet and Mobile header\n            HeaderMenuView.addChildViews && HeaderMenuView.addChildViews({\n                'QuickOrderHeaderLink': function wrapperFunction() {\n                    return function () {\n                        return new QuickOrderHeaderLinkView({ className: ' ' });\n                    };\n                }\n            });\n            return void 0;\n        }\n    };\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module RequestQuoteWizard\ndefine('RequestQuoteWizard.View', [\n    'Wizard.View',\n    'Wizard.StepNavigation.View',\n    'requestquote_wizard_layout.tpl',\n    'underscore',\n    'Utils'\n], function (WizardView, WizardStepNavigationView, requestquote_wizard_layout_tpl, _) {\n    'use strict';\n    // @class RequestQuoteWizard.View @extends Wizard.View\n    return WizardView.extend({\n        //@property {Function} template\n        template: requestquote_wizard_layout_tpl    //@property {String} page_header\n,\n        page_header: _('Request a Quote').translate()    //@property {String} bodyClass This property indicate the class used on the body to remove the My Account side menu\n,\n        bodyClass: 'force-hide-side-nav'    // @method getBreadcrumbPages\n                                 // @return {BreadcrumbPage}\n,\n        getBreadcrumbPages: function () {\n            return {\n                href: '/request-a-quote',\n                text: _('Request a Quote').translate()\n            };\n        }    //@property {ChildViews} childViews\n,\n        childViews: {\n            'Wizard.StepNavigation': function () {\n                return new WizardStepNavigationView({ wizard: this.wizard });\n            }\n        }    // @method getContext\n             // @return {RequestQuoteWizard.View.Context}\n,\n        getContext: function () {\n            // @class RequestQuoteWizard.View.Context\n            return {\n                // @property {String} pageHeader\n                pageHeader: this.page_header\n            };    // @class RequestQuoteWizard.View\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module RequestQuoteWizard\ndefine('RequestQuoteWizard.Step', [\n    'Wizard.Step',\n    'SC.Configuration',\n    'requestquote_wizard_step.tpl'\n], function (WizardStep, Configuration, requestquote_wizard_step_tpl) {\n    'use strict';\n    //@class RequestQuoteWizard.Step Step View, Renders all the components of the Step @extend Wizard.Step\n    return WizardStep.extend({\n        //@property {Function} template\n        template: requestquote_wizard_step_tpl    //@method render\n,\n        render: function () {\n            var layout = this.wizard.application.getLayout();\n            WizardStep.prototype.render.apply(this, arguments);\n            // Also trigger the afterRender event so the site search module can load the typeahead.\n            layout.trigger('afterRender');\n        }    //@method getContext\n             //@return {RequestQuoteWizard.Step.Context}\n,\n        getContext: function () {\n            //@class RequestQuoteWizard.Step.Context\n            return {\n                //@property {String} currentStepGroupName\n                currentStepGroupName: this.wizard.steps[this.wizard.currentStep].options.stepGroup.name,\n                continueButtonLabel: this.continueButtonLabel,\n                showNavButtons: !!(!this.hideBackButton || !this.hideContinueButton)    //@property {Boolean} showBackButton\n,\n                showBackButton: !this.hideBackButton || !this.wizard.isCurrentStepFirst()    //@property {Boolean} showContinueButton\n,\n                showContinueButton: !this.hideContinueButton,\n                showBottomMessage: !!this.bottomMessage,\n                bottomMessage: this.bottomMessage\n            };    //@class RequestQuoteWizard.Step\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module RequestQuoteWizard\ndefine('RequestQuoteWizard.Permission.Error.View', [\n    'SC.Configuration',\n    'requestquote_wizard_permission_error.tpl',\n    'Backbone',\n    'underscore'\n], function (Configuration, requestquote_wizard_permission_error_tpl, Backbone, _) {\n    'use strict';\n    //@class RequestQuoteWizard.Permission.Error.View @extend Backbone.View\n    return Backbone.View.extend({\n        // @property {Function} template\n        template: requestquote_wizard_permission_error_tpl    // @property {String} page_header\n,\n        page_header: _('Request a Quote').translate()    // @property {String} title\n,\n        title: _('Request a Quote').translate()    //@property {String} bodyClass This property indicate the class used on the body to remove the My Account side menu\n,\n        bodyClass: 'force-hide-side-nav'    //@method getContext\n                                 //@return {RequestQuoteWizard.Permission.Error.View.Context}\n,\n        getContext: function () {\n            //@class RequestQuoteWizard.Permission.Error.View.Context\n            return {\n                // @property {String} pageHeader\n                pageHeader: this.page_header,\n                salesrepPhone: Configuration.get('quote.defaultPhone')    // @property {Boolean} showSalesRepInformation Email\n,\n                salesrepEmail: Configuration.get('quote.defaultEmail')\n            };    //@class RequestQuoteWizard.Permission.Error.View\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module RequestQuoteWizard\ndefine('RequestQuoteWizard.Router', [\n    'Wizard.Router',\n    'RequestQuoteWizard.View',\n    'RequestQuoteWizard.Step',\n    'RequestQuoteWizard.Permission.Error.View',\n    'AjaxRequestsKiller',\n    'Backbone',\n    'underscore',\n    'Utils'\n], function (WizardRouter, RequestQuoteWizardView, RequestQuoteWizardStep, RequestQuoteWizardPermissionErrorView, AjaxRequestsKiller, Backbone, _) {\n    'use strict';\n    // @class RequestQuoteWizard.Router @extends Wizard.Router\n    return WizardRouter.extend({\n        //@property {RequestQuoteWizardStep.Step} step\n        step: RequestQuoteWizardStep    //@property {RequestQuoteWizardStep.View} view\n,\n        view: RequestQuoteWizardView    //@method runStep override default runstep method to validate that a quote id has been specified in the URL and the corresponding quote is already loaded\n                                  //@param {String} str_options Current Options in the url\n                                  //@return {Void}\n,\n        runStep: function (str_options) {\n            // Computes the position of the user in the flow\n            var position = this.getStepPosition(Backbone.history.fragment)    //this.getStepPosition(url)\n, content = '', page_header = '', layout = this.application.getLayout(), options = _.parseUrlOptions(str_options), self = this, quoteid = str_options && ~str_options.indexOf('quoteid=');\n            if (SC.ENVIRONMENT.permissions.transactions.tranEstimate < 2) {\n                var error_view = new RequestQuoteWizardPermissionErrorView({ application: this.application });\n                error_view.showContent();\n            } else if (quoteid) {\n                //wizard just finished and user refreshed the page\n                page_header = _('Your Quote Request has been Placed').translate();\n                content += _('You can review your quote request at <a href=\"/quotes/$(0)\">Your Account</a> ').translate(options.quoteid) + _('or continue Shopping on our <a data-touchpoint=\"home\" data-hashtag=\"#/\" href=\"/\">Home Page</a>.').translate();\n                layout.internalError && layout.internalError(content, page_header, _('My Account').translate());\n            } else if (position.fromBegining === 0) {\n                self.model.clear();\n                //this is done because many OrderWizard Modules dont check if the summary is set\n                self.model.set('summary', {}, { silent: true });\n                self.model.set('internalid', 'null');\n                self.model.fetch({ killerId: AjaxRequestsKiller.getKillerId() }).then(function () {\n                    self.model.trigger('init');\n                    WizardRouter.prototype.runStep.apply(self);\n                });\n            } else {\n                WizardRouter.prototype.runStep.apply(self, arguments);\n            }\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module RequestQuoteWizard\ndefine('RequestQuoteWizard.Module.Header', [\n    'Wizard.Module',\n    'requestquote_wizard_module_header.tpl'\n], function (WizardModule, requestquote_wizard_module_header_tpl) {\n    'use strict';\n    //@class WizardModule.Module.Header @extend Wizard.Module\n    return WizardModule.extend({\n        // @property {Function} template\n        template: requestquote_wizard_module_header_tpl    //@method initialize Override default initialize to attach on model lines change event to re-render\n                                                 //@return {Void}\n,\n        initialize: function () {\n            WizardModule.prototype.initialize.apply(this, arguments);\n            this.wizard.model.get('lines').on('add remove change', this.render, this);\n        }    //@method getContext\n             //@return {RequestQuoteWizard.Module.Header.Context}\n,\n        getContext: function () {\n            //@class RequestQuoteWizard.Module.Header.Context\n            return {\n                //property {RequestQuoteWizard.Module.Header} model\n                model: this.wizard.model,\n                hasItem: !!this.wizard.model.get('lines').length,\n                productsLength: this.getItemsLength()    // @property {Boolean} hasOneItem\n,\n                hasOneItem: this.getItemsLength() === 1\n            };    //@class RequestQuoteWizard.Module.Header\n        }    //@method getItemsLength Returns the number of items in the entire model, that is the sum of all lines quantities\n             //@return {Number}\n,\n        getItemsLength: function () {\n            return this.wizard.model.get('lines').reduce(function (accum, line) {\n                accum += line.get('quantity');\n                return accum;\n            }, 0);\n        }    //@method destroy Override default implementation to detach form wizard's model events\n             //@return {Void}\n,\n        destroy: function () {\n            this.wizard.model.get('lines').off('add remove', this.render);\n            WizardModule.prototype.destroy.apply(this, arguments);\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module RequestQuoteWizard\ndefine('RequestQuoteWizard.Module.Message', [\n    'SC.Configuration',\n    'Wizard.Module',\n    'requestquote_wizard_module_message.tpl',\n    'underscore',\n    'Utils'\n], function (Configuration, WizardModule, requestquote_wizard_module_message_tpl, _) {\n    'use strict';\n    //@class WizardModule.Module.Message @extend Wizard.Message\n    return WizardModule.extend({\n        // @property {Function} template\n        template: requestquote_wizard_module_message_tpl    //@method getContext\n                                                  //@return {RequestQuoteWizard.Module.Message.Context}\n,\n        getContext: function () {\n            //@class RequestQuoteWizard.Module.Message.Context\n            return {\n                // @property {String} pageHeader\n                pageHeader: _('Request a Quote').translate()    // @property {String} message\n,\n                message: this.options.message || this.wizard.getCurrentStep().bottomMessage\n            };    //@class RequestQuoteWizard.Module.Message\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module QuickAdd\ndefine('QuickAdd.Model', [\n    'SC.Configuration',\n    'Transaction.Line.Model',\n    'underscore'\n], function (Configuration, TransactionLineModel, _) {\n    'use strict';\n    // @class QuickAdd.Model @extends Transaction.Line.Model\n    var QuickAddModel = TransactionLineModel.extend({\n        // @method initialize\n        // @return {Void}\n        initialize: function () {\n            TransactionLineModel.prototype.initialize.apply(this, arguments);\n            // @property {QuickAdd.Model.Initialization.Options} options\n            this.options = {};\n        }    //@method setOptions\n             //@param {QuickAdd.Model.Initialization.Options} options\n             //@return {QuickAdd.Model} Returns itself\n,\n        setOptions: function (options) {\n            this.options = options || this.options;\n            return this;\n        }    //@method clone Override default clone method to pass the set options to the cloned model\n             //@return {QuickAdd.Model}\n,\n        clone: function () {\n            var result = new QuickAddModel(this.toJSON());\n            result.setOptions(this.options);\n            return result;\n        }    //@property {Object} validation Specify the validation rules for the quantity and quickaddSearch attributes\n,\n        validation: {\n            quickaddSearch: {\n                fn: function (val) {\n                    var product = this.get('selectedProduct'), item = product && product.get('item');\n                    if (!(product && (product.getSku() === val || item.get('_name') === val))) {\n                        return _('Begin typing SKU to select an item').translate();\n                    }\n                }\n            },\n            quantity: {\n                fn: function (val) {\n                    if (!val) {\n                        return _('Enter quantity').translate();\n                    }\n                    var product = this.get('selectedProduct'), selectedItem = product && product.getItem();\n                    if (selectedItem) {\n                        var already_set_quantity = _.isFunction(this.options.getItemQuantitySet) ? this.options.getItemQuantitySet(selectedItem.id) : 0;\n                        if (already_set_quantity + this.get('quantity') < selectedItem.get('_minimumQuantity', true)) {\n                            return _('The minimum quantity for this item is $(0).').translate(selectedItem.get('_minimumQuantity', true));\n                        } else if (this.options.validateMaxQty && !!selectedItem.get('_maximumQuantity') && already_set_quantity + this.get('quantity') > selectedItem.get('_maximumQuantity', true)) {\n                            return _('The maximum quantity for this item is $(0).').translate(selectedItem.get('_maximumQuantity', true));\n                        }\n                    }\n                }\n            }\n        }\n    });\n    return QuickAddModel;\n});    //@class QuickAdd.Model.Initialization.Options\n       //@property {Function<Number,Number>} getItemQuantitySet Function that given an item id returns how many item already are present in the cart-like.\n       //This work to decouple this component of any other concrete implementation.\n       //IMPORTANT: If the passed in item id is not in the cart-like this function must return 0 (the number zero).\n","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module QuickAdd\ndefine('QuickAdd.Item.View', [\n    'ItemsSearcher.Item.View',\n    'underscore'\n], function (ItemsSearcherItemView, _) {\n    'use strict';\n    //@class QuickAdd.Item.View @extend ItemsSearcher.Item.View\n    return ItemsSearcherItemView.extend({\n        //@method getContext\n        //@return {QuickAdd.Item.View.Context}\n        getContext: function getContext() {\n            //@class QuickAdd.Item.View.Context @extend ItemsSearcher.Item.View.Context\n            return _.extend(ItemsSearcherItemView.prototype.getContext.apply(this, arguments), this.options.areResults ? {\n                //@property {ImageContainer} thumbnail\n                thumbnail: this.model.getThumbnail()\n            } : {});\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module QuickAdd\ndefine('QuickAdd.ItemsSearcher.Plugins', [\n    'Item.Model',\n    'Product.Model',\n    'Product.Collection',\n    'underscore'\n], function (ItemModel, ProductModel, ProductCollection, _) {\n    'use strict';\n    //@class QuickAdd.ItemsSearcher.Plugins\n    return {\n        //@property {QuickAdd.ItemsSearcher.Pluguns.flatItemsMatrixResult} flatItemsMatrixResult\n        //@class QuickAdd.ItemsSearcher.Pluguns.flatItemsMatrixResult @extend Plugin\n        flatItemsMatrixResult: {\n            name: 'flatItemsMatrixResult',\n            priotity: 10    //@method execute\n                  //@param {ItemsSearcher.Collection} collection\n                  //@param {ItemsSearcher.View.Options} configuration\n                  //@return {ItemsSearcher.Collection}\n,\n            execute: function (collection, configuration) {\n                //Current item that is begin processed\n                var products = []    //Variable that contains the new product created from all parent matrix items to generated one items per child\n                          //We do this to flat the list of items in the collection\n, new_product, item_options, internalid_counter = 1;\n                collection.each(function (item) {\n                    if (item.get('isinstock') || (item.get('isbackorderable') || configuration.showBackorderables)) {\n                        if (item.get('_matrixChilds') && item.get('_matrixChilds').length) {\n                            item_options = item.get('options').where({ isMatrixDimension: true });\n                            item.get('_matrixChilds').each(function (child_item) {\n                                new_product = new ProductModel({ item: new ItemModel(_.extend({}, item.attributes)) });\n                                _.each(item_options, function (option) {\n                                    var selected_child_item_option_label = child_item.get(option.get('itemOptionId')), selected_option_value_object = _.findWhere(option.get('values'), { label: selected_child_item_option_label });\n                                    new_product.setOption(option.get('cartOptionId'), selected_option_value_object.internalid);\n                                });\n                                //Give than the behavior to extract thumbnail images is based on the current selected item (thought for lines)\n                                //we provide all children with the image object\n                                new_product.getItem().set('itemimages_detail', item.get('itemimages_detail'));\n                                new_product.set('isfulfillable', item.get('isfulfillable'));\n                                new_product.set('internalid', internalid_counter++);\n                                products.push(new_product);\n                            });\n                        } else {\n                            products.push(new ProductModel({\n                                item: item,\n                                internalid: internalid_counter++\n                            }));\n                        }\n                    }\n                });\n                products = _.filter(products, function (product) {\n                    var query_on_sku = (product.getSku() ? product.getSku().toUpperCase() : '').indexOf(configuration.query.toUpperCase()) >= 0, query_on_name = (product.get('item').get('_name') ? product.get('item').get('_name').toUpperCase() : '').indexOf(configuration.query.toUpperCase()) >= 0, item_not_gift_certificate = product.get('item').get('itemtype') !== 'GiftCert';\n                    return item_not_gift_certificate && (query_on_name || query_on_sku);\n                });\n                return new ProductCollection(_.first(products, configuration.limit));\n            }\n        }    //@class QuickAdd.ItemsSearcher.Plugins\n    };\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module QuickAdd\ndefine('QuickAdd.View', [\n    'SC.Configuration',\n    'ItemsSearcher.View',\n    'QuickAdd.Model',\n    'QuickAdd.Item.View',\n    'Backbone.FormView',\n    'Backbone.CompositeView',\n    'Backbone.CollectionView',\n    'Transaction.Line.Views.Options.Selected.View',\n    'ProductViews.Price.View',\n    'ProductLine.Stock.View',\n    'QuickAdd.ItemsSearcher.Plugins',\n    'Transaction.Line.Model',\n    'ProductLine.Sku.View',\n    'quick_add.tpl',\n    'quick_add_item.tpl',\n    'Backbone',\n    'underscore',\n    'Utils'\n], function (Configuration, ItemsSearcherView, QuickAddModel, QuickAddItemView, BackboneFormView, BackboneCompositeView, BackboneCollectionView, TransactionLineViewsOptionsSelectedView, ProductViewsPriceView, ProductLineStockView, QuickAddItemsSearcherPlugins, TransactionLineModel, ProductLineSkuView, quick_add_tpl, quick_add_item_tpl, Backbone, _) {\n    'use strict';\n    // @class QuickAdd.View @extends Backbone.View\n    return Backbone.View.extend({\n        //@property {Function} template\n        template: quick_add_tpl    //@property {Object} events\n,\n        events: {\n            'click [data-type=\"quick-add-reset\"]': 'resetHandle',\n            'submit form': 'saveForm',\n            'click [data-action=\"plus\"]': 'addQuantity',\n            'click [data-action=\"minus\"]': 'subQuantity',\n            'change [data-type=\"quantity-input\"]': 'setQuantity',\n            'click [data-type=\"quantity-input\"]': 'selectAll',\n            'keypress [name=\"quantity\"]': 'submitOnEnter',\n            'keydown [name=\"quantity\"]': 'onKeyDown'\n        }    //@method initialize Override default initialization method to configure inner itemsSearcher component\n             //@param {QuickAdd.View.Initialize.Options?} options\n             //@return {Void}\n,\n        initialize: function () {\n            this.itemsSearcherComponent = new ItemsSearcherView({\n                placeholderLabel: _('Enter SKU or Item Name').translate(),\n                showBackorderables: this.options.showBackorderable,\n                minLength: Configuration.get('typeahead.minLength', 3),\n                maxLength: Configuration.get('searchPrefs.maxLength', 0),\n                limit: Configuration.get('typeahead.maxResults', 10),\n                sort: Configuration.get('typeahead.sort', 'relevance:desc'),\n                highlight: Configuration.get('typeahead.highlight', true),\n                componentId: 'quickaddSearch',\n                componentName: 'quickaddSearch',\n                showMenuOnClick: true,\n                showSeeAll: false,\n                collectionOptions: { searcherAPIConfiguration: 'searchApiMasterOptions.itemsSearcher' },\n                itemView: QuickAddItemView,\n                itemViewOptions: {\n                    template: quick_add_item_tpl,\n                    childViews: {\n                        'Item.Options': function (options) {\n                            return function () {\n                                return new TransactionLineViewsOptionsSelectedView({ model: options.model });\n                            };\n                        },\n                        'Item.Price': function (options) {\n                            return function () {\n                                return new ProductViewsPriceView({ model: options.model });\n                            };\n                        },\n                        'Item.Stock': function (options) {\n                            return function () {\n                                return new ProductLineStockView({ model: options.model });\n                            };\n                        },\n                        'Item.Sku': function (options) {\n                            return function () {\n                                return new ProductLineSkuView({ model: options.model });\n                            };\n                        }\n                    }\n                },\n                getItemDisplayName: function (item, query) {\n                    return item ? item.getSku() : query;\n                }\n            });\n            this.itemsSearcherComponent.postItemsSuggestionObtained.install(QuickAddItemsSearcherPlugins.flatItemsMatrixResult);\n            this.model = new QuickAddModel();\n            this.model.setOptions({\n                getItemQuantitySet: this.options.getItemQuantitySet,\n                validateMaxQty: this.options.validateMaxQty\n            });\n            this.itemsSearcherComponent.on('itemSelected', this.onItemSelected, this);\n            this.itemsSearcherComponent.on('keyUp', this.showReset, this);\n            this.itemsSearcherComponent.on('keyDown', this.cleanSearchOnEnter, this);\n            var original_save_form = this.saveForm;\n            BackboneCompositeView.add(this);\n            BackboneFormView.add(this);\n            this.saveForm = original_save_form;\n        }    //@method saveForm Handle the current form validation and triggers the event selectedLien\n             //@param {jQueryEvent} e\n             //@return {Void}\n,\n        saveForm: function (e) {\n            e.preventDefault();\n            Backbone.Validation.bind(this);\n            this.model.set(this.$('form').serializeObject());\n            var product = this.model.get('selectedProduct');\n            if (this.model.isValid(true) && product) {\n                product.set('quantity', parseInt(this.model.get('quantity'), 10));\n                var selected_line = new TransactionLineModel(product.toJSON());\n                selected_line.set('internalid', _.uniqueId('item_line'));\n                selected_line.set('item', product.getItem().clone());\n                selected_line.set('options', product.get('options').clone());\n                //if the item is a matrix we add the parent so when saving the item in a product list (request a quote case)\n                //we have the parent\n                if (product.get('item').get('_matrixChilds').length) {\n                    selected_line.get('item').set('_matrixParent', product.get('item'));\n                }\n                selected_line.unset('selectedProduct');\n                selected_line.unset('quickaddSearch');\n                //@event {QuickAdd.View.SelectedLine.Properties} selectedLine\n                this.trigger('selectedLine'    //@class QuickAdd.View.SelectedLine.Properties\n, {\n                    //@property {Transaction.Line.Model} selectedLine\n                    selectedLine: selected_line\n                });\n                //@class QuickAdd.View\n                this.$('[name=\"quantity\"]').val('');\n                this.$('[name=\"quantity\"]').attr({ 'min': 1 });\n                this.$('[data-type=\"quick-add-reset\"]').hide();\n                this.itemsSearcherComponent.cleanSearch();\n                this.itemsSearcherComponent.setFocus();\n            }\n        }    //@method setQuantity Update by removing 1 to the current quantity of the current line\n             //@param {jQuery.Event} e\n             //@return {Void}\n,\n        setQuantity: function (e) {\n            if (this.model.get('selectedProduct')) {\n                var str_quantity = this.$(e.target).val(), quantity = parseInt(str_quantity, 10), minimum_quantity = this.model.get('selectedProduct').get('item').get('_minimumQuantity', true), maximum_quantity = this.model.get('selectedProduct').get('item').get('_maximumQuantity', true), quantity_already_set = 0;\n                if (_.isFunction(this.options.getItemQuantitySet)) {\n                    quantity_already_set = this.options.getItemQuantitySet(this.model.get('selectedProduct').getItemId()) || 0;\n                }\n                if (!_.isNaN(quantity) && _.isNumber(quantity)) {\n                    if (quantity_already_set + quantity < minimum_quantity) {\n                        if (!maximum_quantity || !!maximum_quantity && quantity + quantity_already_set < maximum_quantity) {\n                            this.$('[data-type=\"quantity-input\"]').val(minimum_quantity);\n                        }\n                    }\n                }\n            }\n        }    // @method addQuantity Increase the product's Quantity by 1\n             // @param {jQuery.Event} e\n             // @return {Void}\n,\n        addQuantity: function (e) {\n            e.preventDefault();\n            var $element = this.$(e.target), quantity_input = $element.parent().find('input'), old_value = quantity_input.val(), max_quantity = this.model.get('selectedProduct').get('item').get('_maximumQuantity', true), new_val = parseFloat(old_value) + 1;\n            new_val = !!max_quantity && new_val > max_quantity ? max_quantity : new_val;\n            quantity_input.val(new_val);\n            quantity_input.change();\n        }    // @method subQuantity Decreases the product's Quantity by 1\n             // @param {jQuery.Event} e\n             // @return {Void}\n,\n        subQuantity: function (e) {\n            e.preventDefault();\n            var $element = this.$(e.target), quantity_input = $element.parent().find('input'), old_value = quantity_input.val(), new_val = parseFloat(old_value) - 1;\n            new_val = Math.max(this.model.get('selectedProduct').get('item').get('_minimumQuantity', true), new_val);\n            quantity_input.val(new_val);\n            quantity_input.change();\n        }    //@method showReset Handle when to show or hide the reset button\n             //@param {ItemsSearcher.View.KeyDown.Properties} event_properties\n             //@return {Void}\n,\n        showReset: function (event_properties) {\n            if (event_properties.currentQuery) {\n                this.$('[data-type=\"quick-add-reset\"]').show();\n            } else {\n                this.$('[data-type=\"quick-add-reset\"]').hide();\n            }\n        }    //@method cleanSearchOnEnter Cleans the current search status\n             //@param {ItemsSearcher.View.KeyDown.Properties} event_properties\n             //@return {Void}\n,\n        cleanSearchOnEnter: function (event_properties) {\n            if (event_properties.eventObject.keyCode === 27) {\n                this.$('[data-type=\"quick-add-reset\"]').hide();\n                this.itemsSearcherComponent.cleanSearch();\n            }\n        }    //@method onKeyDown Prevent letter e & other characters in \"type=number\" and allow arrows\n             //@param {jQueryEvent} e\n             //@return {Void}\n,\n        onKeyDown: function (e) {\n            var key_code = e.which ? e.which : event.keyCode;\n            if (key_code > 31 && (key_code < 48 || key_code > 57) && !(key_code >= 37 || key_code <= 40)) {\n                e.preventDefault();\n            }\n        }    // @method submitOnEnter Submit the form when user presses enter in the quantity input text\n             // @param {jQuery.Event} e\n             //@return {Void}\n,\n        submitOnEnter: function (e) {\n            if (e.keyCode === 13) {\n                this.itemsSearcherComponent.setFocus();\n            }\n        }    //@method resetHandle Handle the reset action by hiding it and cleaning the current search status\n             //@return {Void}\n,\n        resetHandle: function () {\n            this.$('[data-type=\"quick-add-reset\"]').hide();\n            this.itemsSearcherComponent.cleanSearch();\n            this.$('[name=\"quantity\"]').val('');\n        }    //@method selectAll on focus select all input value\n             //@return {Void}\n,\n        selectAll: function () {\n            this.$('[name=\"quantity\"]').select();\n        }    //@method onItemSelected Handle the selection of an item of the type-ahead result\n             //@param {ItemsSearcher.View.itemSelected.Properties} result\n             //@return {Void}\n,\n        onItemSelected: function (result) {\n            //As the item searcher has been thought to work with items the property is called selectedItem, but we changed in the installed\n            //plugin to use Products\n            var product = result.selectedItem, item;\n            if (product) {\n                item = product.getItem();\n                this.model.set('quickaddSearch', item.get('_name'));\n                this.model.set('selectedProduct', product);\n                this.setDefaultQuantity(item.get('_minimumQuantity', true), item.get('internalid'));\n                this.$('[name=\"quantity\"]').focus();\n                this.selectAll();\n                var minimum_quantity = item.get('_minimumQuantity', true);\n                if (minimum_quantity > 1) {\n                    this.$('[data-type=\"minimum-quantity\"]').html(_('Minimum of $(0) required').translate(minimum_quantity));\n                }\n                this.$('[data-validation-error=\"block\"]').remove();\n            } else {\n                this.model.unset('selectedProduct');\n                this.$('[data-type=\"minimum-quantity\"]').empty();\n            }\n        }    //@method setDefaultQuantity Set the default quantity based on the minimum quantity for the selected item and\n             //also validate the other items into the \"cart\" or cart-like\n             //@param {Number} minimum_quantity\n             //@param {Number} item_id\n             //@return {Void}\n,\n        setDefaultQuantity: function (minimum_quantity, item_id) {\n            var current_quantity = parseInt(this.$('[name=\"quantity\"]').val(), 10);\n            this.$('[name=\"quantity\"]').select();\n            if (_.isFunction(this.options.getItemQuantitySet)) {\n                minimum_quantity -= this.options.getItemQuantitySet(item_id) || 0;\n            }\n            minimum_quantity = minimum_quantity <= 0 ? 1 : minimum_quantity;\n            if (!_.isNumber(current_quantity) || _.isNaN(current_quantity) || current_quantity < minimum_quantity) {\n                this.model.set('quantity', minimum_quantity);\n                this.$('[name=\"quantity\"]').val(minimum_quantity);\n                this.$('[name=\"quantity\"]').attr('min', minimum_quantity);\n            }\n        }    //@property {ChildViews} childViews\n,\n        childViews: {\n            'ItemsSearcher': function () {\n                return this.itemsSearcherComponent;\n            }\n        }    //@method getContext\n             //@return {QuickAdd.View.Context}\n,\n        getContext: function () {\n            //@class QuickAdd.View.Context\n            return {\n                // @property {String} itemTitle\n                itemTitle: this.options.itemTitle || _('Which item(s) would you like to add?').translate()    // @property {String} quantityTitle\n,\n                quantityTitle: this.options.quantityTitle || _('Quantity').translate()\n            };    //@class QuickAdd.View\n        }\n    });\n});    //@class QuickAdd.View.Initialize.Options\n       //@property {String?} itemTitle Allows to specify the title used for the items sub-component\n       //@property {String?} quantityTitle Allows to specify the title used for the quantity input\n       //@property {Function<Number,Number>} getItemQuantitySet Function that given an item id returns how many item already are present in the cart-like.\n       //This work to decouple this component of any other concrete implementation.\n       //IMPORTANT: If the passed in item id is not in the cart-like this function must return 0 (the number zero).\n","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module RequestQuoteWizard\ndefine('RequestQuoteWizard.Module.QuickAdd', [\n    'Wizard.Module',\n    'Backbone.CompositeView',\n    'QuickAdd.View',\n    'requestquote_wizard_module_quickadd.tpl',\n    'jQuery',\n    'underscore',\n    'Utils'\n], function (WizardModule, BackboneCompositeView, QuickAddView, requestquote_wizard_module_quickadd_tpl, jQuery, _) {\n    'use strict';\n    //@class RequestQuoteWizard.Module.QuickAdd @extend Wizard.Module\n    return WizardModule.extend({\n        // @property {Function} template\n        template: requestquote_wizard_module_quickadd_tpl    //@property {errorCode: String, errorMessage:String} selectItemErrorMessage Specification of the error when no item is selected\n,\n        selectItemErrorMessage: {\n            errorCode: 'ERR_RQW_SELECT_AN_ITEM',\n            errorMessage: _('Please select at least one item').translate()\n        }    //@property {Array<String>} errors\n,\n        errors: ['ERR_RQW_SELECT_AN_ITEM']    //@method initialize Override default method to make this module composite\n                                      //@return {Void}\n,\n        initialize: function () {\n            WizardModule.prototype.initialize.apply(this, arguments);\n            BackboneCompositeView.add(this);\n        }    //@method getItemQuantitySet Auxiliary method used to provide the amount of already added items into the transaction to the quick add component\n             //@param {Number} item_id\n             //@return {Number}\n,\n        getItemQuantitySet: function (item_id) {\n            var selected_line = this.wizard.model.get('lines').find(function (line) {\n                return line.get('item').id === item_id;\n            });\n            return selected_line ? parseInt(selected_line.get('quantity'), 10) : 0;\n        }    //@method addNewLine\n             //@param {QuickAdd.View.SelectedLine.Properties} options\n             //@return {Void}\n,\n        addNewLine: function (options) {\n            var selected_line = this.wizard.model.get('lines').find(function (line) {\n                    //as line save child item it does not matter use getItemId or get('item')\n                    return line.get('item').id === options.selectedLine.get('item').id;\n                }), price;\n            if (!selected_line) {\n                price = options.selectedLine.getPrice();\n                options.selectedLine.set('rate', price.price);\n                options.selectedLine.set('rate_formatted', price.price_formatted);\n                this.wizard.model.get('lines').add(options.selectedLine, { at: 0 });\n            } else {\n                this.setLineIndex(selected_line, 0, this.wizard.model.get('lines'));\n                selected_line.set('quantity', selected_line.get('quantity') + options.selectedLine.get('quantity'));\n            }\n        }    //@method setLineIndex Sets a line in a particular position\n             //@param {Transaction.Line.Model} selected_line\n             //@param {Number} new_position\n             //@param {Transaction.Line.Collection} collection\n             //@return {Void}\n,\n        setLineIndex: function (selected_line, new_position, collection) {\n            var old_index = _.indexOf(collection.models, selected_line);\n            new_position = new_position || 0;\n            collection.models.splice(old_index, 1);\n            collection.models.splice(new_position, 0, selected_line);\n        }    //@property {ChildViews} childViews\n,\n        childViews: {\n            'QuickAddView': function () {\n                this.quickAddViewComponent = new QuickAddView({\n                    getItemQuantitySet: _.bind(this.getItemQuantitySet, this),\n                    showBackorderable: true\n                });\n                this.quickAddViewComponent.on('selectedLine', this.addNewLine, this);\n                return this.quickAddViewComponent;\n            }\n        }    //@method isValid Check if there is at least one item selected\n             //@return {jQuery.Deferred}\n,\n        isValid: function () {\n            return this.wizard.model.get('lines').length ? jQuery.Deferred().resolve() : jQuery.Deferred().reject(this.selectItemErrorMessage);\n        }    //@method getContext\n             //@return {RequestQuoteWizard.Module.QuickAdd.Context}\n,\n        getContext: function () {\n            //@class RequestQuoteWizard.Module.QuickAdd.Context\n            return {\n                // @property {String} pageHeader\n                pageHeader: this.page_header\n            };    //@class RequestQuoteWizard.Module.QuickAdd\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module RequestQuoteWizard\ndefine('RequestQuoteWizard.Module.Comments', [\n    'Wizard.Module',\n    'requestquote_wizard_module_comments.tpl',\n    'underscore',\n    'jQuery',\n    'Utils'\n], function (WizardModule, requestquote_wizard_module_comments_tpl, _, jQuery) {\n    'use strict';\n    //@class RequestQuoteWizard.Module.Comments @extend Wizard.Module\n    return WizardModule.extend({\n        // @property {Function} template\n        template: requestquote_wizard_module_comments_tpl    //@property {Object} events\n,\n        events: { 'keyup [data-action=\"validate-textarea-length\"]': 'validateTextareaLength' }    //@method getMaxLength Auxiliary method to return the max allowed character length\n                                                                                          //@return {Number}\n,\n        getMaxLength: function () {\n            return _.isNumber(this.options.maxLength) ? this.options.maxLength : 999;\n        }    //@method validateTextareaLength Auxiliary function to control the max length on the text are on IE8\n             //It doesnt return anything as it will set the new string when the value exceed the max allowed\n             //@return {Void}\n,\n        validateTextareaLength: function () {\n            var text = this.$('[data-action=\"validate-textarea-length\"]').val(), limit = this.getMaxLength();\n            if (text.length > limit) {\n                this.$('[data-action=\"validate-textarea-length\"]').val(text.substr(0, limit));\n            }\n        }    // @method submit Set the memo of the current transaction\n             // @returns {jQuery.Deferred}\n,\n        submit: function () {\n            this.wizard.model.set('memo', this.$('[data-type=\"memo-input\"]').val());\n            return jQuery.Deferred().resolve();\n        }    //@method getContext\n             //@return {RequestQuoteWizard.Module.Comments.Context}\n,\n        getContext: function () {\n            //@class RequestQuoteWizard.Module.Comments.Context\n            return {\n                //@property {Boolean} showTitle\n                showTitle: !!(!this.options.hide_title && this.getTitle())    //@property {String} title\n,\n                title: this.getTitle()    //@property {String} memo\n,\n                memo: this.wizard.model.get('memo')    //@property {Boolean} isReadOnly\n,\n                isReadOnly: !!this.options.is_read_only,\n                hideContent: this.options.is_read_only && !this.wizard.model.get('memo')    //@property {Number} maxLength\n,\n                maxLength: this.getMaxLength()\n            };    //@class RequestQuoteWizard.Module.Comments\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module Transaction.Line.Views\ndefine('Transaction.Line.Views.Cell.Actionable.Expanded.View', [\n    'Transaction.Line.Views.Price.View',\n    'ProductLine.Stock.View',\n    'ProductLine.Sku.View',\n    'Transaction.Line.Views.Options.Selected.View',\n    'ProductLine.StockDescription.View',\n    'Backbone.CollectionView',\n    'Backbone.CompositeView',\n    'transaction_line_views_cell_actionable_expanded.tpl',\n    'Backbone',\n    'underscore'\n], function (TransactionLineViewsPriceView, ProductLineStockView, ProductLineSkuView, TransactionLineViewsOptionsSelectedView, ProductLineStockDescriptionView, BackboneCollectionView, BackboneCompositeView, transaction_line_views_cell_actionable_expanded_tpl, Backbone, _) {\n    'use strict';\n    //@class Transaction.Line.Views.Cell.Actionable.Expanded.View @extend Backbone.View\n    return Backbone.View.extend({\n        template: transaction_line_views_cell_actionable_expanded_tpl,\n        initialize: function (options) {\n            this.options = options;\n            this.application = options.application;\n            this.model = options.model;\n            BackboneCompositeView.add(this);\n        },\n        childViews: {\n            'Item.Price': function () {\n                return new TransactionLineViewsPriceView({ model: this.model });\n            },\n            'Item.SelectedOptions': function () {\n                return new TransactionLineViewsOptionsSelectedView({ model: this.model });\n            },\n            'Item.Summary.View': function () {\n                return new this.options.SummaryView(_.extend({\n                    model: this.model,\n                    application: this.application\n                }, this.options.summaryOptions || {}));\n            },\n            'Item.Actions.View': function () {\n                return new this.options.ActionsView(_.extend({\n                    model: this.model,\n                    application: this.application\n                }, this.options.actionsOptions || {}));\n            },\n            'ItemViews.Stock.View': function () {\n                return new ProductLineStockView({ model: this.model.get('item') });\n            },\n            'Item.Sku': function () {\n                return new ProductLineSkuView({ model: this.model });\n            },\n            'StockDescription': function () {\n                return new ProductLineStockDescriptionView({ model: this.model.get('item') });\n            }\n        }    //@method getContext\n             //@return {Transaction.Line.Views.Cell.Actionable.Expanded.View.Context}\n,\n        getContext: function () {\n            var item = this.model.get('item');\n            //@class Transaction.Line.Views.Cell.Actionable.Expanded.View.Context\n            return {\n                //@property {Transaction.Line.Model} model\n                model: this.model,\n                lineId: this.model.get('internalid')    //@property {Item.Model} item\n,\n                item: item    //@property {String} itemId\n,\n                itemId: item.get('internalid')    //@property {String} linkAttributes\n,\n                linkAttributes: this.model.getFullLink()    // @property {ImageContainer} thumbnail\n,\n                thumbnail: this.model.getThumbnail()    //@property {Boolean} isNavigable\n,\n                isNavigable: !!this.options.navigable && !!item.get('_isPurchasable')    //@property {Boolean} showCustomAlert\n,\n                showCustomAlert: !!item.get('_cartCustomAlert')    //@property {String} customAlertType\n,\n                customAlertType: item.get('_cartCustomAlertType') || 'info'    //@property {Boolean} showActionsView\n,\n                showActionsView: !!this.options.ActionsView,\n                showSummaryView: !!this.options.SummaryView,\n                showAlert: !_.isUndefined(this.options.showAlert) ? !!this.options.showAlert : true    //@property {Boolean} showGeneralClass\n,\n                showGeneralClass: !!this.options.generalClass,\n                generalClass: this.options.generalClass\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module RequestQuoteWizard\ndefine('RequestQuoteWizard.Module.Items.Line.Actions.View', [\n    'requestquote_wizard_module_items_line_actions.tpl',\n    'Backbone'\n], function (requestquote_wizard_module_items_line_actions_tpl, Backbone) {\n    'use strict';\n    //@class RequestQuoteWizard.Module.Items.Line.Actions.View @extend Backbone.View\n    return Backbone.View.extend({\n        //@property {Function} template\n        template: requestquote_wizard_module_items_line_actions_tpl    //@property {Object} events\n,\n        events: { 'click [data-action=\"remove\"]': 'removeItem' }    //@method removeItem Removed the current item from the list of items\n                                                            //@return {Void}\n,\n        removeItem: function () {\n            this.options.model.collection.remove(this.options.model);\n        }    //@method getContext\n             //@return {RequestQuoteWizard.Module.Items.Line.Actions.View.Context}\n,\n        getContext: function () {\n            //@class RequestQuoteWizard.Module.Items.Line.Actions.View.Context\n            return {};    //@class RequestQuoteWizard.Module.Items.Line.Actions.View\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module RequestQuoteWizard\ndefine('RequestQuoteWizard.Module.Items.Line.Quantity.View', [\n    'requestquote_wizard_module_items_line_quantity.tpl',\n    'Backbone',\n    'Backbone.CompositeView',\n    'underscore'\n], function (requestquote_wizard_module_items_line_quantity_tpl, Backbone, BackboneCompositeView, _) {\n    'use strict';\n    //@class RequestQuoteWizard.Module.Items.Line.Quantity.View @extend Backbone.View\n    return Backbone.View.extend({\n        //@property {Function} template\n        template: requestquote_wizard_module_items_line_quantity_tpl    //@property {Object} events\n,\n        events: {\n            'click [data-action=\"plus\"]': 'addQuantity',\n            'click [data-action=\"minus\"]': 'subQuantity',\n            'change [data-type=\"quantity-input\"]': 'changeQuantity',\n            'keypress [data-type=\"quantity-input\"]': 'submitOnEnter'\n        }    // @method initialize\n             //@return {Void}\n,\n        initialize: function () {\n            //Make this view is a composite view\n            BackboneCompositeView.add(this);\n        }    //@method prevent redirect to the account overview on Submit the form when user presses enter in the quantity input text\n             //@param {jQuery.Event} e\n             //@return {Void}\n,\n        submitOnEnter: function (e) {\n            if (e.keyCode === 13) {\n                e.preventDefault(e);\n            }\n        }    //@method addQuantity Add 1 the current to quantity-input field\n             //@param {jQuery.Event} e\n             //@return {Void}\n,\n        addQuantity: function (e) {\n            e.preventDefault();\n            var newQuantity = parseInt(this.$('[data-type=\"quantity-input\"]').val(), 10) + 1;\n            this.$('[data-type=\"quantity-input\"]').val(newQuantity);\n            this.setQuantity();\n        }    //@method subQuantity Subtracts 1 from quantity-input field\n             //@param {jQuery.Event} e\n             //@return {Void}\n,\n        subQuantity: function (e) {\n            e.preventDefault();\n            var newQuantity = parseInt(this.$('[data-type=\"quantity-input\"]').val(), 10) - 1;\n            if (newQuantity) {\n                this.$('[data-type=\"quantity-input\"]').val(newQuantity);\n                this.setQuantity();\n            }\n        }    //@method changeQuantity Debounce callings to setQuantity function to prevent losing focus\n             //@param {jQuery.Event} e\n             //@return {Void}\n,\n        changeQuantity: _.debounce(function () {\n            this.setQuantity();\n        }, 500)    //@method setQuantity Updates the model quantity and the input field.\n                   //@return {Void}\n,\n        setQuantity: function () {\n            var str_quantity = this.$('[data-type=\"quantity-input\"]').val(), line_pricing, quantity = parseInt(str_quantity, 10);\n            if (!_.isNaN(quantity) && _.isNumber(quantity)) {\n                quantity < this.model.get('item').get('_minimumQuantity', true) && (quantity = this.model.get('item').get('_minimumQuantity', true), this.$('[data-type=\"quantity-input\"]').val(quantity));\n                //In order to properly render prices for items with quantity pricing\n                //1) we set the quantity silent which avoids the re-render of the entire list of item\n                this.model.set('quantity', quantity, { silent: true });\n                //2) with obtain the new pricing with the quantity set\n                line_pricing = this.model.getPrice();\n                //3) We set the new rate_formatted which will trigger a change and so a re-render\n                this.model.set('rate_formatted', line_pricing.price_formatted);\n                //Please notice that the same is being done in the cart confirmation\n                //add attr disabled!!\n                quantity > 1 ? this.$('[data-action=\"minus\"]').removeAttr('disabled') : this.$('[data-action=\"minus\"]').attr('disabled', true);\n            } else {\n                this.render();\n            }\n        }    //@method getContext\n             //@return {RequestQuoteWizard.Module.Items.Line.Quantity.View.Context}\n,\n        getContext: function () {\n            var minimum_quantity = this.model.get('item').get('_minimumQuantity', true);\n            //@class RequestQuoteWizard.Module.Items.Line.Quantity.View.Context\n            return {\n                //@property {Transaction.Line.Model} model\n                model: this.model,\n                lineId: this.model.get('internalid')    //@property {Boolean} isMinusButtonDisabled\n,\n                isMinusButtonDisabled: this.model.get('quantity') <= minimum_quantity || this.model.get('quantity') === 1    //@property {Boolean} showMinimumQuantity\n,\n                showMinimumQuantity: minimum_quantity > 1    //@property {Integer} minimumQuantity\n,\n                minimumQuantity: minimum_quantity\n            };    //@class RequestQuoteWizard.Module.Items.Line.Quantity.View\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module RequestQuoteWizard\ndefine('RequestQuoteWizard.Module.Items', [\n    'Wizard.Module',\n    'Backbone.CollectionView',\n    'Backbone.CompositeView',\n    'Transaction.Line.Views.Cell.Actionable.Expanded.View',\n    'RequestQuoteWizard.Module.Items.Line.Actions.View',\n    'RequestQuoteWizard.Module.Items.Line.Quantity.View',\n    'requestquote_wizard_module_items.tpl'\n], function (WizardModule, BackboneCollectionView, BackboneCompositeView, TransactionLineViewsCellActionableExpandedView, RequestQuoteWizardModuleItemsLineActionsView, RequestQuoteWizardModuleItemsLineQuantityView, requestquote_wizard_module_items_tpl) {\n    'use strict';\n    //@class RequestQuoteWizard.Module.Items @extend Wizard.Module\n    return WizardModule.extend({\n        // @property {Function} template\n        template: requestquote_wizard_module_items_tpl    //@method initialize\n                                                //@return {Void}\n,\n        initialize: function () {\n            WizardModule.prototype.initialize.apply(this, arguments);\n            BackboneCompositeView.add(this);\n            this.wizard.model.get('lines').on('add remove change', this.render, this);\n        }    //@property {Object} childViews\n,\n        childViews: {\n            'Items.Collection': function (options) {\n                return new BackboneCollectionView({\n                    collection: this.model.get('lines'),\n                    viewsPerRow: 1,\n                    childView: TransactionLineViewsCellActionableExpandedView,\n                    childViewOptions: {\n                        navigable: true,\n                        application: this.wizard.application,\n                        SummaryView: RequestQuoteWizardModuleItemsLineQuantityView,\n                        ActionsView: RequestQuoteWizardModuleItemsLineActionsView,\n                        showAlert: false,\n                        generalClass: options.generalClass || 'requestquote-wizard-module-items-item'\n                    }\n                });\n            }\n        }    //@method getContext\n             //@return {RequestQuoteWizard.Module.Items.Context}\n,\n        getContext: function () {\n            //@class RequestQuoteWizard.Module.Items.Context\n            return {\n                //@property {Boolean} showTitle\n                showTitle: !!(!this.options.hide_title && this.getTitle())    //@property {String} title\n,\n                title: this.getTitle()    //@property {Boolean} showHeaders\n,\n                showHeaders: !this.options.hideHeaders,\n                hasItems: !!this.wizard.model.get('lines').length\n            };    //@class RequestQuoteWizard.Model.Items\n        }    //@method destroy Override default implementation to detach form wizard's model events\n             //@return {Void}\n,\n        destroy: function () {\n            this.wizard.model.get('lines').off('add remove', this.render);\n            WizardModule.prototype.destroy.apply(this, arguments);\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module OrderWizard\ndefine('OrderWizard.Module.Address.Shipping', [\n    'OrderWizard.Module.Address',\n    'underscore',\n    'jQuery',\n    'Utils'\n], function (OrderWizardModuleAddress, _, jQuery) {\n    'use strict';\n    //@class OrderWizard.Module.Address.Shipping @extend OrderWizard.Module.Address\n    return OrderWizardModuleAddress.extend({\n        manage: 'shipaddress',\n        sameAsManage: 'billaddress',\n        className: 'OrderWizard.Module.Address.Shipping',\n        errors: [\n            'ERR_CHK_INCOMPLETE_ADDRESS',\n            'ERR_CHK_SELECT_SHIPPING_ADDRESS',\n            'ERR_CHK_INVALID_SHIPPING_ADDRESS',\n            'ERR_WS_INVALID_SHIPPING_ADDRESS'\n        ],\n        sameAsMessage: _('Same as billing address').translate(),\n        selectAddressErrorMessage: {\n            errorCode: 'ERR_CHK_SELECT_SHIPPING_ADDRESS',\n            errorMessage: _('Please select a shipping address').translate()\n        },\n        invalidAddressErrorMessage: {\n            errorCode: 'ERR_CHK_INVALID_SHIPPING_ADDRESS',\n            errorMessage: _('The selected shipping address is invalid').translate()\n        },\n        selectMessage: _('Ship to this Address').translate(),\n        isActive: function () {\n            return !this.wizard.model.get('ismultishipto') && this.wizard.model.shippingAddressIsRequired();\n        },\n        eventHandlersOn: function () {\n            OrderWizardModuleAddress.prototype.eventHandlersOn.apply(this, arguments);\n            this.model.on('change:tempshipaddress', jQuery.proxy(this, 'estimateShipping'), this);\n            this.wizard.model.on('ismultishiptoUpdated', this.render, this);\n        },\n        eventHandlersOff: function () {\n            OrderWizardModuleAddress.prototype.eventHandlersOff.apply(this, arguments);\n            this.model.off('change:tempshipaddress', null, this);\n            this.model.off('change:ismultishipto', null, this);\n        },\n        changeAddress: function () {\n            OrderWizardModuleAddress.prototype.changeAddress.apply(this, arguments);\n            if (this.address) {\n                this.model.trigger('change:' + this.manage);\n            }\n        },\n        estimateShipping: function (model, address) {\n            var countries = this.wizard.application.getConfig('siteSettings.countries'), country_value = address && address.country, state_value = address && address.state, zip_value = address && address.zip, country_ready = country_value && country_value !== model.previous('country'), state_ready = country_value && !countries[country_value].states || state_value && state_value !== model.previous('state'), zip_ready = country_value && countries[country_value].isziprequired === 'F' || zip_value && zip_value !== model.previous('zip');\n            if (country_ready && zip_ready && state_ready) {\n                var addresses = this.model.get('addresses'), address_id = country_value + '-' + (state_value || '-') + '--' + (zip_value || '-') + '----null', current_address = addresses.get(address_id);\n                if (!current_address) {\n                    addresses.add({\n                        internalid: address_id,\n                        country: country_value,\n                        state: state_value,\n                        zip: zip_value\n                    });\n                } else {\n                    current_address.set({\n                        country: country_value,\n                        state: state_value,\n                        zip: zip_value\n                    });\n                }\n                if (this.addressId !== address_id) {\n                    model.set({\n                        shipaddress: address_id,\n                        isEstimating: true\n                    });\n                }\n            } else {\n                model.set({ isEstimating: false });\n            }\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module OrderWizard\ndefine('OrderWizard.Module.Title', [\n    'Wizard.Module',\n    'order_wizard_title.tpl',\n    'underscore'\n], function (WizardModule, order_wizard_title_tpl, _) {\n    'use strict';\n    //@class OrderWizard.Module.Title @extend WizardModule\n    return WizardModule.extend({\n        //@property {Function} template\n        template: order_wizard_title_tpl    //@method render We override render to just render this module in case the it is active\n                                  //@return {Void}\n,\n        render: function () {\n            if (this.isActive()) {\n                this._render();\n            } else {\n                this.$el.empty();\n            }\n            return this.trigger('ready', true);\n        }    //@method initialize\n             //@param {OrderWizard.Module.Title.Initialize.Options} options\n             //@return {Void}\n,\n        initialize: function (options) {\n            WizardModule.prototype.initialize.apply(this, arguments);\n            this.title = options.title;\n            this.refreshOn = options.refreshOn;\n            this.tag = options.tag;\n            this.details = options.details;\n            this.attributes = options.attributes;\n            this.refresh();\n        }    //@method refresh Attach to the desire refreshOn of the passed in options when this module is initialized\n             //@return {Void}\n,\n        refresh: function () {\n            if (this.refreshOn) {\n                if (_(this.refreshOn).isFunction()) {\n                    this.refreshOn();\n                } else {\n                    this.wizard.model.on(this.refreshOn, this.render, this);\n                }\n            }\n        }    //@method getStringifyAttributes Given an object generate a string representation of it\n             //@param {Object} obj Any object to convert to string\n             //@return {String}\n,\n        getStringifyAttributes: function (obj) {\n            var self = this;\n            return _.reduce(obj, function (memo, value, key) {\n                if (_.isObject(value)) {\n                    return memo + self.getStringifyAttributes(obj[key], key + '-');\n                }\n                return memo + ' ' + _.escape(key) + '=' + _.escape(_.isArray(value) ? value.join(' ') : value);\n            }, '');\n        }    //@method getTag Evaluates the current tag and returns it final value\n             //@return {String}\n,\n        getTag: function () {\n            return _(this.tag).isFunction() ? this.tag() : this.tag || 'h2';\n        }    //@method getDetails Evaluates the current details and returns it final value\n             //@return {String}\n,\n        getDetails: function () {\n            return _(this.details).isFunction() ? this.details() : this.details || '';\n        }    //@method getTitle Evaluates the current title and returns it final value\n             //@return {String}\n,\n        getTitle: function () {\n            return _(this.title).isFunction() ? this.title() : this.title || '';\n        }    // @method getContext\n             // @return {OrderWizard.Module.Title.Context}\n,\n        getContext: function () {\n            //@class OrderWizard.Module.Title.Context\n            return {\n                //@property {String} tag\n                tag: this.getTag()    //@property {String} attributes\n,\n                attributes: this.getStringifyAttributes(this.attributes || {})    //@property {String} details\n,\n                details: this.getDetails()    //@property {String} title\n,\n                title: this.getTitle()    //@property {Boolean} showDetails\n,\n                showDetails: !!this.getDetails()\n            };    //@class OrderWizard.Module.Title\n        }    //@method destroy Override parent method to handle detaching form model event used to re-render\n             //@return {Void}\n,\n        destroy: function () {\n            if (this.refreshOn && !_(this.refreshOn).isFunction()) {\n                this.wizard.model.on(this.refreshOn, this.render, this);\n            }\n            WizardModule.prototype.destroy.apply(this, arguments);\n        }\n    });\n});    //@class OrderWizard.Module.Title.Initialize.Options\n       //@property {String} title\n       //@property {String|Function} refreshOn If it is a function you can specify when the module should be re-render.\n       //If it is a string is the name of the event thrown by the wizard's model used to re-render\n       //@property {String|Function} tag Name of the HTML tag to be created\n       //@property {String|Function} details\n       //@property {String|Function} title Title to show (main property of this module)\n       //@property {Object} attributes\n","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module RequestQuoteWizard\ndefine('RequestQuoteWizard.Module.Confirmation', [\n    'Wizard.Module',\n    'requestquote_wizard_module_confirmation.tpl',\n    'SC.Configuration',\n    'Utils',\n    'Backbone'\n], function (WizardModule, requestquote_wizard_module_confirmation_tpl, Configuration, Utils, Backbone) {\n    'use strict';\n    // @class RequestQuoteWizard.Module.Confirmation @extends Wizard.Module\n    return WizardModule.extend({\n        // @property {Function} template\n        template: requestquote_wizard_module_confirmation_tpl    //@method present Override default implementation so when the modules is being rendered we set the salesorderid parameter into the url\n                                                       //@return {Void}\n,\n        present: function () {\n            var confirmation = this.model.get('confirmation') || {}    // store current order id in the hash so it is available even when the checkout process ends.\n, newHash = Utils.addParamsToUrl(Backbone.history.fragment, { quoteid: confirmation.internalid });\n            Backbone.history.navigate(newHash, { trigger: false });\n        }    // @method getContext\n             // @return {RequestQuoteWizard.Module.Confirmation.Context}\n,\n        getContext: function () {\n            //@class RequestQuoteWizard.Module.Confirmation.Context\n            return {\n                //property {Model.Model} model\n                model: this.model,\n                quoteId: this.model.get('confirmation').internalid,\n                quoteTranId: this.model.get('confirmation').tranid,\n                contactBusinessDaysMessage: Configuration.get('quote.contactBusinessDaysMessage', '')    // @property {String} disclaimer\n,\n                disclaimer: Configuration.get('quote.disclaimer', '')    // @property {String} confirmationMessage\n,\n                confirmationMessage: this.options.message || this.wizard.getCurrentStep().confirmationMessage\n            };    // @class QuoteToSalesOrderWizard.Module.Confirmation\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module RequestQuoteWizard\ndefine('RequestQuoteWizard.Configuration', [\n    'OrderWizard.Module.CartItems',\n    'OrderWizard.Module.ShowShipments',\n    'RequestQuoteWizard.Module.Header',\n    'RequestQuoteWizard.Module.Message',\n    'RequestQuoteWizard.Module.QuickAdd',\n    'RequestQuoteWizard.Module.Comments',\n    'RequestQuoteWizard.Module.Items',\n    'OrderWizard.Module.Address.Shipping',\n    'OrderWizard.Module.Title',\n    'RequestQuoteWizard.Module.Confirmation',\n    'SC.Configuration',\n    'underscore',\n    'Utils'\n], function (OrderWizardModuleCartItems, OrderWizardModuleShowShipments, RequestQuoteWizardModuleHeader, RequestQuoteWizardModuleMessage, RequestQuoteWizardModuleQuickAdd, RequestQuoteWizardModuleComments, RequestQuoteWizardModuleItems, OrderWizardModuleAddressShipping, OrderWizardModuleTitle, RequestQuoteWizardModuleConfirmation, Configuration, _) {\n    'use strict';\n    //@class RequestQuoteWizard.Configuration Defines the configuration for the Request Quote Wizard module\n    return {\n        steps: [{\n                name: '',\n                steps: [\n                    {\n                        url: 'request-a-quote',\n                        name: _('Request a Quote').translate(),\n                        hideBackButton: true,\n                        hideContinueButton: false,\n                        bottomMessage: Configuration.get('quote.requestAQuoteWizardBottomMessage'),\n                        continueButtonLabel: _('Submit Quote Request').translate(),\n                        modules: [\n                            RequestQuoteWizardModuleHeader,\n                            RequestQuoteWizardModuleMessage,\n                            [\n                                OrderWizardModuleTitle,\n                                { title: _('Add Items').translate() }\n                            ],\n                            RequestQuoteWizardModuleQuickAdd,\n                            RequestQuoteWizardModuleItems,\n                            [\n                                OrderWizardModuleTitle,\n                                { title: _('Choose a Shipping Address').translate() }\n                            ],\n                            OrderWizardModuleAddressShipping,\n                            [\n                                OrderWizardModuleTitle,\n                                { title: _('Comments').translate() }\n                            ],\n                            RequestQuoteWizardModuleComments\n                        ],\n                        save: function () {\n                            _.first(this.moduleInstances).trigger('change_label_continue', _('Processing...').translate());\n                            var self = this, submit_opreation = this.wizard.model.submit();\n                            submit_opreation.always(function () {\n                                _.first(self.moduleInstances).trigger('change_label_continue', _('Submit Quote Request').translate());\n                            });\n                            return submit_opreation;\n                        }\n                    },\n                    {\n                        url: 'request-a-quote-confirmation',\n                        name: _('Request a Quote').translate(),\n                        hideBackButton: true,\n                        hideContinueButton: true,\n                        confirmationMessage: _('A sales representative will contact you in <strong>XX business days</strong>.').translate(),\n                        modules: [\n                            RequestQuoteWizardModuleConfirmation,\n                            [\n                                OrderWizardModuleShowShipments,\n                                {\n                                    hide_edit_cart_button: true,\n                                    hide_edit_address_button: true,\n                                    hideShippingMethod: true\n                                }\n                            ],\n                            [\n                                RequestQuoteWizardModuleComments,\n                                {\n                                    is_read_only: true,\n                                    title: _('Comments').translate(),\n                                    hide_title: false\n                                }\n                            ]\n                        ]\n                    }\n                ]\n            }]\n    };\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module RequestQuoteWizard\ndefine('RequestQuoteWizard', [\n    'RequestQuoteWizard.Router',\n    'RequestQuoteWizard.Configuration',\n    'Quote.Model',\n    'ProductList.Model',\n    'Transaction.Line.Model',\n    'ProductList.Item.Model',\n    'Profile.Model',\n    'Utils',\n    'Backbone',\n    'underscore',\n    'jQuery'\n], function (RequestQuoteWizardRouter, RequestQuoteWizardConfiguration, QuoteModel, ProductListModel, TransactionLineModel, ProductListItemModel, ProfileModel, Utils, Backbone, _, jQuery) {\n    'use strict';\n    //@class RequestQuoteWizard @extend ApplicationModule\n    return {\n        //@method mountToApp\n        //@param {ApplicationSkeleton} application\n        //@return {RequestQuoteWizard.Router} Returns a new instance of the RequestQuoteWizard.Router router\n        mountToApp: function (application) {\n            application.Configuration.requestQuoteWizard = RequestQuoteWizardConfiguration;\n            this.application = application;\n            var config = {\n                steps: application.getConfig('requestQuoteWizard.steps', []),\n                model: new QuoteModel(),\n                profile: ProfileModel.getInstance()\n            };\n            if (SC.ENVIRONMENT.PRODUCTLIST_ENABLED) {\n                this.setupPersistence(application, config.model);\n            }\n            return new RequestQuoteWizardRouter(application, config);\n        }    //@method setupPersistence\n             //Please note that we prevent the request if ProductList isn't enabled\n             //@param {ApplicationSkeleton} application\n             //@param {Backbone.Model} model\n             //@return {Void}\n,\n        setupPersistence: function (application, model) {\n            var self = this;\n            this.pl_internalid = null;\n            this.pl_json = null;\n            model.on('init', function () {\n                application.ProductListModule.Utils.getRequestAQuoteProductList().done(function (json) {\n                    self.pl_json = json;\n                    self.pl_internalid = json.internalid;\n                    var products = new ProductListModel(json).get('items').models;\n                    //Turn the events momentarily off\n                    model.get('lines').off('add', self.addLines, self);\n                    model.get('lines').off('change', self.changeQuantity, self);\n                    model.get('lines').off('remove', self.doRemoveItemFromList, self);\n                    model.off('submit', self.doRemoveList, self);\n                    _.each(products, function (product, i) {\n                        var selected_line = TransactionLineModel.createFromProduct(product);\n                        selected_line.set('internalid', _.uniqueId('item_line'));\n                        selected_line.set('pl_item_internalid', product.get('internalid'));\n                        model.get('lines').add(selected_line, { silent: i < products.length - 1 });\n                    });\n                    //Turn the events on again\n                    model.get('lines').on('change', self.changeQuantity, self);\n                    model.get('lines').on('add', self.addLines, self);\n                    model.get('lines').on('remove', self.doRemoveItemFromList, self);\n                    model.on('submit', self.doRemoveList, self);\n                });\n            });\n        }    //@method addLines\n             //@param {Transaction.Line.Model} product\n             //@return {Void}\n,\n        addLines: function (product) {\n            var self = this;\n            if (!this.pl_internalid) {\n                var pl_model = new ProductListModel(this.pl_json);\n                pl_model.save().done(function (pl_json) {\n                    self.pl_json = pl_json;\n                    self.pl_internalid = pl_json.internalid;\n                    self.doAddItemToList(product);\n                });\n            } else {\n                this.doAddItemToList(product);\n            }\n        }    //@method doAddItemToList\n             //@param {Transaction.Line.Model} product\n             //@return {Void}\n,\n        doAddItemToList: function (product) {\n            var product_list_line = ProductListItemModel.createFromProduct(product);\n            if (product.get('item').get('_matrixParent').id) {\n                //As the quote is a line, it will only save the child item, but product list saves the parent item\n                //so we override the item with the parent one\n                product_list_line.set('item', product.get('item').get('_matrixParent'), { silent: true });\n            }\n            product_list_line.set('productList', { id: this.pl_internalid });\n            product_list_line.save(null, {\n                //Note this is lack of validation is require to not validate the JSON returned from the services as it will lack the Model/Collection structure required\n                //to run the validation. for example the list of options will be an array and not a collection as the event handle that parse them didn't run yet\n                validate: false\n            }).done(function (obj) {\n                product.set('pl_item_internalid', obj.internalid, { silent: true });\n            });\n        }    //@method changeQuantity Debounced due to concurrent updates of item quantities\n             //@param {Transaction.Line.Model} line\n             //@return {Void}\n,\n        changeQuantity: function (line) {\n            this.toggleDisableSubmitButton(true);\n            var product_list_item = {\n                    description: '',\n                    options: line.get('options').toJSON()    // this.getItemOptions(line.get('options'))\n,\n                    quantity: line.get('quantity'),\n                    productList: { id: this.pl_internalid },\n                    item: { internalid: line.get('item').get('internalid') },\n                    internalid: line.get('pl_item_internalid')\n                }, product_list_item_model = new ProductListItemModel(product_list_item);\n            var modelInCollection = this.storeLinesToUpdateCollection.get(product_list_item_model.get('internalid'));\n            modelInCollection ? modelInCollection.set('quantity', line.get('quantity')) : this.storeLinesToUpdateCollection.add(product_list_item_model);\n            this.updateItemModels();\n        }    //@method storeLinesToUpdateCollection\n             //@return {Backbone.Collection}\n,\n        storeLinesToUpdateCollection: new Backbone.Collection()    //@method updateItemModels Debouncing the update quantity models\n                                     //@return {Void}\n,\n        updateItemModels: _.debounce(function () {\n            var self = this;\n            var updateLinesPromises = this.storeLinesToUpdateCollection.map(function (model) {\n                return model.save();\n            });\n            this.storeLinesToUpdateCollection.reset();\n            jQuery.when.apply(jQuery, updateLinesPromises).always(function () {\n                self.toggleDisableSubmitButton(false);\n            });\n        }, 1000)    //@method toggleDisableSubmitButton Disable/enable the Submit Quote Request buttons\n                    //@param {Boolean} status\n                    //@return {Void}\n,\n        toggleDisableSubmitButton: function (status) {\n            this.application.getLayout().$('[data-action=\"submit-step\"]').attr('disabled', status);\n        }    //@method doRemoveList\n             //@return {Void}\n,\n        doRemoveList: function () {\n            if (this.pl_json) {\n                var pl_model = new ProductListModel(this.pl_json);\n                pl_model.destroy();\n                this.pl_json = null;\n                this.pl_internalid = null;\n            }\n        }    //@method doRemoveItemFromList\n             //@param {Transaction.Line.Model} product\n             //@return {Void}\n,\n        doRemoveItemFromList: function (product) {\n            var product_list_item = {\n                    productList: { id: this.pl_internalid },\n                    item: { internalid: product.get('item').get('internalid') },\n                    internalid: product.get('pl_item_internalid')\n                }, product_list_item_model = new ProductListItemModel(product_list_item);\n            product_list_item_model.destroy();\n        }    // \t//@method getItemOptions\n             // \t//@param {Array<Object>} item_options\n             // \t//@return {Object}\n             // ,   getItemOptions: function (item_options)\n             // \t{\n             // \t\tvar result = {};\n             // \t\t_.each(item_options, function (value, name)\n             // \t\t{\n             // \t\t\tresult[value.id || name] = { value: value.value, displayvalue: value.displayvalue };\n             // \t\t});\n             // \t\treturn result;\n             // \t}\n    };\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module Case \ndefine('Case.Model', [\n    'Backbone',\n    'underscore',\n    'Utils'\n], function (Backbone, _) {\n    'use strict';\n    // @class Case.Model Model for handling Support Cases (CRUD) @extends Backbone.Model\n    //@method validateLength. Validates message length. (0 < length <= 4000)\n    function validateLength(value, name) {\n        var max_length = 4000;\n        if (value && value.length > max_length) {\n            return _('$(0) must be at most $(1) characters').translate(name, max_length);\n        }\n    }\n    //@method validateMessage. Validates message entered by the user. Checks length 0 < length <= 4000.\n    function validateMessage(value, name) {\n        /*jshint validthis:true */\n        if (this.get('isNewCase')) {\n            if (!value) {\n                return _('$(0) is required').translate(name);\n            }\n            return validateLength(value, name);\n        }\n    }\n    function validateReply(value, name) {\n        /*jshint validthis:true */\n        if (!this.get('isNewCase') && !value) {\n            return _('$(0) is required').translate(name);\n        }\n    }\n    return Backbone.Model.extend({\n        urlRoot: _.getAbsoluteUrl('services/Case.Service.ss'),\n        validation: {\n            title: {\n                required: true,\n                msg: _('Subject is required').translate()\n            },\n            message: { fn: validateMessage },\n            reply: { fn: validateReply },\n            email: {\n                required: function (value, name, form) {\n                    return !!form.include_email;\n                },\n                pattern: 'email',\n                msg: _('Please provide a valid email').translate()\n            }\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// Case.Collection.js\n// -----------------------\n// Case collection\n// @module Case\ndefine('Case.Collection', [\n    'Case.Model',\n    'underscore',\n    'Backbone',\n    'Utils'\n], function (Model, _, Backbone) {\n    'use strict';\n    // @class Case.Collection @extends Backbone.Collection\n    return Backbone.Collection.extend({\n        url: _.getAbsoluteUrl('services/Case.Service.ss'),\n        model: Model,\n        initialize: function () {\n            // The first time the collection is filled with data\n            // we store a copy of the original collection\n            this.once('sync reset', function () {\n                if (!this.original) {\n                    this.original = this.clone();\n                }\n            });\n        },\n        parse: function (response) {\n            this.totalRecordsFound = response.totalRecordsFound;\n            this.recordsPerPage = response.recordsPerPage;\n            return response.records;\n        },\n        update: function (options) {\n            var filter = options.filter || {};\n            this.fetch({\n                data: {\n                    filter: filter.value,\n                    sort: options.sort.value,\n                    order: options.order,\n                    page: options.page\n                },\n                reset: true,\n                killerId: options.killerId\n            });\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// Case.Fields.Model.js \n// -----------------------\n// Model for handling Support Cases Fields\n// @module Case\ndefine('Case.Fields.Model', [\n    'Backbone',\n    'underscore',\n    'Utils'\n], function (Backbone, _) {\n    'use strict';\n    // @class Case.Fields.Model @extends Backbone.Model\n    return Backbone.Model.extend({\n        //@property {String} urlRoot\n        urlRoot: _.getAbsoluteUrl('services/Case.Fields.Service.ss')\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// Case.Detail.View.js\n// -----------------------\n// Views for viewing Cases list.\n// @module Case\ndefine('Case.Detail.View', [\n    'SC.Configuration',\n    'Profile.Model',\n    'Backbone.FormView',\n    'case_detail.tpl',\n    'jQuery',\n    'Backbone',\n    'underscore'\n], function (Configuration, ProfileModel, BackboneFormView, case_detail_tpl, jQuery, Backbone, _) {\n    'use strict';\n    // @class Case.Details.View @extends Backbone.View\n    return Backbone.View.extend({\n        template: case_detail_tpl,\n        title: _('Case Details').translate(),\n        bindings: { '[name=\"reply\"]': 'reply' },\n        initialize: function (options) {\n            this.options = options;\n            this.application = options.application;\n            this.fields = options.fields;\n            this.user = ProfileModel.getInstance();\n            BackboneFormView.add(this);\n            this.model.on('saveCompleted', _.bind(this.alertOnSave, this));\n        }    //@method getSelectedMenu\n,\n        getSelectedMenu: function () {\n            return 'cases';\n        }    //@method getBreadcrumbPages\n,\n        getBreadcrumbPages: function () {\n            return [\n                {\n                    text: _('Support Cases').translate(),\n                    href: '/cases'\n                },\n                {\n                    text: _('Case #$(0)').translate(this.model.get('internalid')),\n                    href: '/case/' + this.model.get('internalid')\n                }\n            ];\n        },\n        events: {\n            'submit form': 'saveForm',\n            'click [data-action=\"reset\"]': 'resetForm',\n            'click [data-action=\"close-case\"]': 'closeCase'\n        },\n        alertOnSave: function () {\n            this.showContent();\n            this.showConfirmationMessage(_('Good! Your message was sent. A support representative should contact you briefly.').translate());\n            jQuery('#reply').val('');\n        },\n        attributes: { 'class': 'caseDetail' },\n        closeCase: function (event) {\n            event.preventDefault();\n            var self = this;\n            this.model.set('reply', '');\n            this.model.set('status', { id: SC.ENVIRONMENT.CASES_CONFIG.defaultValues.statusClose.id });\n            this.model.save().done(function () {\n                self.showContent();\n                self.showConfirmationMessage(_('Case successfully closed').translate());\n                jQuery('#reply').val('');\n            });\n        },\n        resetForm: function (e) {\n            e.preventDefault();\n            this.showContent();\n        }    // @method getContext @return Case.Details.View.Context\n,\n        getContext: function () {\n            // @class Case.Details.View.Context\n            return {\n                // @property {Case.Model} model\n                model: this.model,\n                pageHeader: _('Case #$(0):').translate(this.model.get('caseNumber'))    // @property {Boolean} collapseElements\n,\n                collapseElements: Configuration.get('sca.collapseElements')    // @property {Boolean} closeStatusId\n,\n                closeStatusId: this.model.get('status').id !== SC.ENVIRONMENT.CASES_CONFIG.defaultValues.statusClose.id\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// Case.Create.View.js\n// -----------------------\n// Views for viewing Cases list.\n// @module Case\ndefine('Case.Create.View', [\n    'case_new.tpl',\n    'Backbone.FormView',\n    'SC.Configuration',\n    'jQuery',\n    'Backbone',\n    'underscore',\n    'Profile.Model',\n    'Utils'\n], function (case_new_tpl, BackboneFormView, Configuration, jQuery, Backbone, _, ProfileModel) {\n    'use strict';\n    // @class Case.Create.View @extends Backbone.View\n    return Backbone.View.extend({\n        template: case_new_tpl,\n        title: _('How can we help you?').translate(),\n        page_header: _('How can we help you?').translate(),\n        events: {\n            'submit form': 'saveForm',\n            'click [data-action=\"include_email\"]': 'includeAnotherEmail',\n            'keypress [data-action=\"text\"]': 'preventEnter'\n        },\n        bindings: {\n            '[name=\"title\"]': 'title',\n            '[name=\"category\"]': 'category',\n            '[name=\"message\"]': 'message',\n            '[name=\"email\"]': 'email',\n            '[name=\"include_email\"]': 'include_email'\n        },\n        attributes: { 'class': 'newCase' },\n        initialize: function (options) {\n            this.options = options;\n            this.application = options.application;\n            this.fields = options.fields;\n            this.user = ProfileModel.getInstance();\n            this.model.on('sync', jQuery.proxy(this, 'showSuccess'));\n            this.model.set('isNewCase', true);\n            BackboneFormView.add(this);\n        }    // Prevents not desired behaviour when hitting enter\n,\n        preventEnter: function (event) {\n            if (event.keyCode === 13) {\n                event.preventDefault();\n            }\n        }    //@method getSelectedMenu\n,\n        getSelectedMenu: function () {\n            return 'newcase';\n        }    //@method getBreadcrumbPages\n,\n        getBreadcrumbPages: function () {\n            return {\n                text: this.title,\n                href: '/newcase'\n            };\n        },\n        showSuccess: function () {\n            var case_link_name = _('support case #$(0)').translate(this.model.get('caseNumber')), new_case_internalid = this.model.get('internalid'), new_case_message = _('Good! your <a href=\"/cases/$(0)\">$(1)</a> was submitted. We will contact you briefly.').translate(new_case_internalid, case_link_name);\n            this.newCaseId = new_case_internalid;\n            this.newCaseMessage = new_case_message;\n            Backbone.history.navigate('cases', { trigger: true });\n        },\n        includeAnotherEmail: function () {\n            var email_input = this.$('[data-case-email]'), status = email_input.prop('disabled');\n            email_input.prop('disabled', !status);\n            this.$('[data-collapse-content]').collapse(status ? 'show' : 'hide');\n        }    // @method getContext @return Case.Create.View.Context\n,\n        getContext: function () {\n            // @class Case.Create.View.Context\n            return {\n                // @property {String} pageHeader\n                pageHeader: this.page_header,\n                categories: this.fields.get('categories')    //@property {Boolean} showBackToAccount\n,\n                showBackToAccount: Configuration.get('siteSettings.sitetype') === 'STANDARD'\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// Case.List.View.js\n// -----------------------\n// Views for viewing Cases list.\n// @module Case\ndefine('Case.List.View', [\n    'ListHeader.View',\n    'SC.Configuration',\n    'GlobalViews.Pagination.View',\n    'GlobalViews.ShowingCurrent.View',\n    'RecordViews.View',\n    'case_list.tpl',\n    'Backbone',\n    'Backbone.CompositeView',\n    'Backbone.CollectionView',\n    'underscore',\n    'jQuery',\n    'Utils'\n], function (ListHeaderView, Configuration, GlobalViewsPaginationView, GlobalViewsShowingCurrentView, RecordViewsView, case_list_tpl, Backbone, BackboneCompositeView, BackboneCollectionView, _, jQuery) {\n    'use strict';\n    // @class Case.List.View @extends Backbone.View\n    return Backbone.View.extend({\n        template: case_list_tpl,\n        title: _('Support Cases').translate(),\n        page_header: _('Support Cases').translate(),\n        attributes: { 'class': 'caseManagement' },\n        initialize: function (options) {\n            this.options = options;\n            this.application = options.application;\n            this.fields = options.fields;\n            this.listenCollection();\n            this.setupListHeader();\n            this.options.showCurrentPage = true;\n            BackboneCompositeView.add(this);\n        },\n        setupListHeader: function () {\n            this.listHeader = new ListHeaderView({\n                view: this,\n                application: this.application,\n                collection: this.collection,\n                filters: this.initializeFilterOptions(),\n                sorts: this.sortOptions,\n                hidePagination: true\n            });\n        },\n        listenCollection: function () {\n            this.setLoading(true);\n            this.collection.on({\n                request: jQuery.proxy(this, 'setLoading', true),\n                reset: jQuery.proxy(this, 'setLoading', false)\n            });\n        },\n        setLoading: function (is_loading) {\n            this.isLoading = is_loading;\n        }    // Array of default filter options\n             // filters always apply on the original collection\n,\n        initializeFilterOptions: function () {\n            var filter_options = [{\n                        value: 'all',\n                        name: _('Show All Statuses').translate(),\n                        selected: true,\n                        filter: function () {\n                            return this.original.models;\n                        }\n                    }], statuses = this.fields ? this.fields.get('statuses') : [];\n            _.each(statuses, function (status) {\n                var filter_option = {\n                    value: status.id,\n                    name: status.text,\n                    filter: function () {\n                        return this.original.filter(function (some_case) {\n                            return some_case.get('status').id === status.id;\n                        });\n                    }\n                };\n                filter_options.push(filter_option);\n            });\n            return filter_options;\n        }    // Array of default sort options\n             // sorts only apply on the current collection\n             // which might be a filtered version of the original\n,\n        sortOptions: [\n            {\n                value: 'caseNumber',\n                name: _('by Case number').translate(),\n                selected: true\n            },\n            {\n                value: 'createdDate',\n                name: _('by Creation date').translate()\n            },\n            {\n                value: 'lastMessageDate',\n                name: _('by Last Message date').translate()\n            }\n        ]    //@method getSelectedMenu\n,\n        getSelectedMenu: function () {\n            return 'cases_all';\n        }    //@method getBreadcrumbPages\n,\n        getBreadcrumbPages: function () {\n            return {\n                text: this.title,\n                href: '/cases'\n            };\n        },\n        render: function () {\n            Backbone.View.prototype.render.apply(this, arguments);\n            if (!_.isUndefined(this.inform_new_case)) {\n                this.informNewCaseCreation();\n                if (!this.isLoading) {\n                    delete this.inform_new_case;\n                }\n            }\n        },\n        informNewCaseCreation: function () {\n            this.highlightNewCase(this.new_case_internalid);\n            this.showConfirmationMessage(this.new_case_message);\n        }    // Temporarily highlights the case record just added\n,\n        highlightNewCase: function (internalid) {\n            var $list_dom = jQuery(this.el).find('a[data-id=' + internalid + ']');\n            if ($list_dom && $list_dom.length === 1) {\n                $list_dom.addClass('case-list-new-case-highlight');\n                setTimeout(function () {\n                    $list_dom.removeClass('case-list-new-case-highlight');\n                }, 3000);\n            }\n        },\n        childViews: {\n            'Case.List.Items': function () {\n                var records_collection = new Backbone.Collection(this.collection.map(function (current_case) {\n                    return new Backbone.Model({\n                        touchpoint: 'customercenter',\n                        title: _('Case #$(0)').translate(current_case.get('caseNumber')),\n                        detailsURL: '#/cases/' + current_case.get('internalid'),\n                        internalid: current_case.get('internalid'),\n                        columns: [\n                            {\n                                label: _('Subject:').translate(),\n                                type: 'subject',\n                                name: 'subject',\n                                value: current_case.get('title')\n                            },\n                            {\n                                label: _('Creation Date:').translate(),\n                                type: 'creation-date',\n                                name: 'creation-date',\n                                value: current_case.get('createdDate').split(' ')[0]\n                            },\n                            {\n                                label: _('Last Message:').translate(),\n                                type: 'date',\n                                name: 'last-message',\n                                value: current_case.get('lastMessageDate').split(' ')[0]\n                            },\n                            {\n                                label: _('Status:').translate(),\n                                type: 'status',\n                                name: 'status',\n                                value: _.isObject(current_case.get('status')) ? current_case.get('status').name : current_case.get('status').name\n                            }\n                        ]\n                    });\n                }));\n                return new BackboneCollectionView({\n                    childView: RecordViewsView,\n                    collection: records_collection,\n                    viewsPerRow: 1\n                });\n            },\n            'GlobalViews.Pagination': function () {\n                return new GlobalViewsPaginationView(_.extend({ totalPages: Math.ceil(this.collection.totalRecordsFound / this.collection.recordsPerPage) }, Configuration.defaultPaginationSettings));\n            },\n            'GlobalViews.ShowCurrentPage': function () {\n                return new GlobalViewsShowingCurrentView({\n                    items_per_page: this.collection.recordsPerPage,\n                    total_items: this.collection.totalRecordsFound,\n                    total_pages: Math.ceil(this.collection.totalRecordsFound / this.collection.recordsPerPage)\n                });\n            },\n            'List.Header': function () {\n                return this.listHeader;\n            }\n        }    // @method getContext @return Case.List.View.Context\n,\n        getContext: function () {\n            // @class Case.List.View.Context\n            return {\n                // @property {String} pageHeader\n                pageHeader: this.page_header,\n                hasCases: this.collection.length,\n                isLoading: this.isLoading,\n                showPagination: !!(this.collection.totalRecordsFound && this.collection.recordsPerPage)    // @property {Boolean} showCurrentPage\n,\n                showCurrentPage: this.options.showCurrentPage,\n                showBackToAccount: Configuration.get('siteSettings.sitetype') === 'STANDARD'\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// Case.Router.js\n// -----------------------\n// Router for handling Cases\n// @module Case\ndefine('Case.Router', [\n    'Case.Model',\n    'Case.Collection',\n    'Case.Fields.Model',\n    'Case.Detail.View',\n    'Case.Create.View',\n    'Case.List.View',\n    'AjaxRequestsKiller',\n    'Backbone',\n    'underscore',\n    'jQuery',\n    'Utils'\n], function (CaseModel, CaseCollection, CaseFieldsModel, CaseDetailView, CaseCreateView, CaseList, AjaxRequestsKiller, Backbone, _, jQuery) {\n    'use strict';\n    // @class Case.Router @extends Backbone.Router\n    return Backbone.Router.extend({\n        routes: {\n            'cases': 'showCasesList',\n            'cases?:options': 'showCasesList',\n            'cases/:id': 'showCase',\n            'newcase': 'createNewCase'\n        },\n        initialize: function (application) {\n            this.application = application;\n        }    // Render a specific case\n,\n        showCase: function (id, options) {\n            var case_fields = new CaseFieldsModel(), model = new CaseModel({ internalid: id }), view = new CaseDetailView({\n                    application: this.application,\n                    params: _.parseUrlOptions(options),\n                    fields: case_fields,\n                    model: model\n                });\n            jQuery.when(model.fetch({ killerId: AjaxRequestsKiller.getKillerId() }), case_fields.fetch({ killerId: AjaxRequestsKiller.getKillerId() })).then(jQuery.proxy(view, 'showContent'));\n        }    // Render the Case list landing page\n,\n        showCasesList: function (options) {\n            var params_options = _.parseUrlOptions(options), case_fields = new CaseFieldsModel();\n            jQuery.when(case_fields.fetch({ killerId: AjaxRequestsKiller.getKillerId() })).then(jQuery.proxy(this, 'showCasesListHelper', case_fields, params_options));\n        }    // Helps to render the Case List landing page after case fields are retrieved\n,\n        showCasesListHelper: function (case_fields, params_options) {\n            var cases_collection = new CaseCollection(), view = new CaseList({\n                    application: this.application,\n                    collection: cases_collection,\n                    options: params_options,\n                    page: params_options && params_options.page,\n                    fields: case_fields\n                });\n            if (this.application.getLayout().currentView) {\n                var new_case_id = this.application.getLayout().currentView.newCaseId, new_case_message = this.application.getLayout().currentView.newCaseMessage;\n                if (!(_.isUndefined(new_case_message) && _.isUndefined(new_case_id))) {\n                    view.new_case_message = new_case_message;\n                    view.new_case_internalid = new_case_id;\n                    view.inform_new_case = true;\n                    delete this.application.getLayout().currentView.newCaseId;\n                    delete this.application.getLayout().currentView.newCaseMessage;\n                }\n            }\n            view.collection.on('reset', view.render, view);\n            view.showContent();\n        }    // Create new Case\n,\n        createNewCase: function (id, options) {\n            var case_fields = new CaseFieldsModel(), view = new CaseCreateView({\n                    application: this.application,\n                    params: _.parseUrlOptions(options),\n                    fields: case_fields,\n                    model: new CaseModel()\n                });\n            jQuery.when(case_fields.fetch({ killerId: AjaxRequestsKiller.getKillerId() })).then(jQuery.proxy(view, 'showContent'));\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// Case.js\n// -----------------\n// Defines the Case module. (Model, Views, Router)\n// @module Case\ndefine('Case', [\n    'SC.Configuration',\n    'Case.Router',\n    'underscore',\n    'Utils'\n], function (Configuration, Router, _) {\n    'use strict';\n    var case_menu_items = function (application) {\n        if (!application.CaseModule.isEnabled()) {\n            return undefined;\n        }\n        return {\n            id: 'cases',\n            name: _('Cases').translate(),\n            index: 5,\n            children: [\n                {\n                    parent: 'cases',\n                    id: 'cases_all',\n                    name: _('Support Cases').translate(),\n                    url: 'cases',\n                    index: 1\n                },\n                {\n                    parent: 'cases',\n                    id: 'newcase',\n                    name: _('Submit New Case').translate(),\n                    url: 'newcase',\n                    index: 2\n                }\n            ],\n            permission: 'lists.listCase.2'\n        };\n    };\n    // Encapsulate all Case elements into a single module to be mounted to the application\n    // Update: Keep the application reference within the function once its mounted into the application\n    var CaseModule = function () {\n        // Is Case functionality available for this application?\n        var isCaseManagementEnabled = function () {\n            return SC && SC.ENVIRONMENT && SC.ENVIRONMENT.casesManagementEnabled;\n        };\n        var mountToApp = function (application) {\n            application.CaseModule = CaseModule;\n            // always start our router.\n            return new Router(application);\n        };\n        return {\n            Router: Router,\n            isEnabled: isCaseManagementEnabled,\n            mountToApp: mountToApp,\n            MenuItems: case_menu_items\n        };\n    }();\n    return CaseModule;\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module BrontoIntegration\ndefine('BrontoIntegration', [\n    'SC.Configuration',\n    'jQuery'\n], function (Configuration, jQuery) {\n    'use strict';\n    /*\n    @class BrontoIntegration\n\n    Loads Bronto Adapter script once on afterAppendView if it runs on the browser and the Bronto instanceId is set in the Configuration\n    \n    loadScript() appends the Bronto adapter script based on the configuration (instance id and adapter url). data-bronto-integrations attribute is set to the instance id\n    mountToApp() runs only on the browser and if the Bronto account id is set, attaches the loadScript to once afterAppendView\n    */\n    return {\n        //@property {String} instanceId\n        instanceId: ''    //@property {String} adapterUrl\n,\n        adapterUrl: ''    //@method loadScript @return {Void}\n,\n        loadScript: function () {\n            jQuery('body').append(jQuery('<script src=\"' + this.adapterUrl + '\" data-bronto-integrations=\"' + this.instanceId + '\"></script>'));\n        }    //@method mountToApp @return {Void}\n,\n        mountToApp: function (application) {\n            if (SC.ENVIRONMENT.jsEnvironment === 'browser') {\n                var bronto_config = Configuration.bronto;\n                if (bronto_config && bronto_config.accountId) {\n                    this.instanceId = bronto_config.accountId;\n                    this.adapterUrl = bronto_config.adapterUrl;\n                    application.getLayout().once('afterAppendView', jQuery.proxy(this, 'loadScript'));\n                }\n            }\n        }\n    };\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module CMSadapter\ndefine('CMSadapter.Landing.View', [\n    'cms_landing_page.tpl',\n    'Backbone'\n], function (cms_landing_page_tpl, Backbone) {\n    'use strict';\n    // @class CMSadapter.Landing.View @extends Backbone.View\n    return Backbone.View.extend({\n        template: cms_landing_page_tpl,\n        title: '',\n        page_header: '',\n        attributes: {\n            'id': 'cms-landing-page',\n            'class': 'cms-landing-page'\n        },\n        initialize: function initialize(options) {\n            Backbone.View.prototype.initialize.apply(this, arguments);\n            this.model = options.model;\n        },\n        getBreadcrumbPages: function getBreadcrumbPages() {\n            var url = this.model.get('url'), path = url[0] === '/' ? url : '/' + url;\n            return [{\n                    href: path,\n                    text: this.model.get('page_title')\n                }];\n        }    // @method getContext\n             // @returns {CMSadapter.Landing.View.Context}\n,\n        getContext: function getContext() {\n            // @class CMSadapter.Landing.View.Context\n            return {\n                // @property {Boolean} inModal\n                inModal: this.inModal,\n                title: this.title,\n                pageHeader: this.page_header,\n                model: this.model\n            };    // @class CMSadapter.Landing.View\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module CMSadapter\ndefine('CMSadapter.Page.Model', ['Backbone'], function (Backbone) {\n    'use strict';\n    // @class CMSadapter.Page.Model Model for handling CMS landing and enhanced pages @extends Backbone.Model\n    return Backbone.Model.extend({});\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module CMSadapter\ndefine('CMSadapter.Page.Collection', [\n    'CMSadapter.Page.Model',\n    'Backbone'\n], function (CMSadapterPageModel, Backbone) {\n    'use strict';\n    // @class CMSadapter.Page.Collection @extends Backbone.Collection\n    return Backbone.Collection.extend({ model: CMSadapterPageModel });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module CMSadapter\ndefine('CMSadapter.Page.Router', [\n    'CMSadapter.Landing.View',\n    'CMSadapter.Page.Collection',\n    'Backbone'\n], function (CMSadapterLandingView, CMSadapterPageCollection, Backbone) {\n    'use strict';\n    // @class CMSadapter.Page.Router @extends Backbone.Router\n    return Backbone.Router.extend({\n        routes: {},\n        initialize: function initialize(application, collection) {\n            this.application = application;\n            this.allPages = collection;\n            this.landingPages = new CMSadapterPageCollection(collection.filter(function (page) {\n                return page.get('type') === 1;\n            }) || []);\n            var self = this;\n            this.landingPages.each(function (landing_page) {\n                self.route(landing_page.get('url') + '?*options', 'displayLandingPage');\n                self.route(landing_page.get('url'), 'displayLandingPage');\n            });\n        }    // @method displayLandingPage uses the DataModels.loadPage to load the data and create the model\n,\n        displayLandingPage: function displayLandingPage(options) {\n            var page = this.getPageForFragment();\n            var view = new CMSadapterLandingView({\n                application: this.application,\n                model: page,\n                options: options\n            });\n            view.showContent();\n            Backbone.Events.trigger('adapter:page:changed');\n        }    // @method getPageForFragment\n             // A handcrafted method for getting the page model given a url.\n,\n        getPageForFragment: function getPageForFragment(fragment, allPages) {\n            fragment = fragment || Backbone.history.fragment || '/';\n            fragment = fragment.split('?')[0];\n            //remove options\n            var collection = allPages ? this.allPages : this.landingPages;\n            return collection.find(function (page) {\n                return page.get('url') === fragment;\n            });\n        },\n        addLandingRoute: function addLandingRoute(page, originalUrl) {\n            var originalPage = this.getPageForFragment(originalUrl || page.url);\n            if (originalPage) {\n                this.landingPages.remove(originalPage);\n            }\n            this.route(page.url, 'displayLandingPage');\n            this.landingPages.add(page);\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n/*\n\n@module CMSadapter\n@class CMSadapterImpl.Enhanced the class that  the enhanced pages of CMS\n*/\ndefine('CMSadapter.Impl.Enhanced', [\n    'Tracker',\n    'underscore',\n    'Backbone',\n    'jQuery'\n], function (Tracker, _, Backbone, jQuery) {\n    'use strict';\n    function AdapterEnhanced(application, router) {\n        this.application = application;\n        this.router = router;\n        var self = this, layout = application.getLayout(), show_content_wrapper = function (fn, view) {\n                var promise = jQuery.Deferred();\n                var args = arguments;\n                var page = router && router.getPageForFragment(Backbone.history.fragment, true);\n                view.enhancedPage = true;\n                Tracker.getInstance().trackPageview('/' + Backbone.history.fragment);\n                // Calls the original function with all the parameters (slice to exclude fn)\n                fn.apply(layout, Array.prototype.slice.call(args, 1)).done(function () {\n                    // once the original function is done this reads the attributes of the view and\n                    // sets title, metas and adds banners\n                    self.enhancePage(view, layout, page);\n                    //only after enhancing the view we resolve the promise\n                    promise.resolveWith(this, arguments);\n                });\n                return promise;\n            };\n        // Wraps the layout.showContent and Layout.showInModal methods\n        // This make sure that every time you try to show content in the\n        // application the page will be enhanced by setting title, header, meta tags and banners\n        layout.showContent = _.wrap(layout.showContent, show_content_wrapper);\n        layout.showInModal = _.wrap(layout.showInModal, show_content_wrapper);\n    }\n    _.extend(AdapterEnhanced.prototype, {\n        enhancePage: function (view, layout, page) {\n            var $head = jQuery('head');\n            // first, initialize head tags if they are not present\n            $head.not(':has(title)').append('<title/>').end().not(':has(link[rel=\"canonical\"])').append('<link rel=\"canonical\"/>').end().not(':has(meta[name=\"keywords\"])').append('<meta name=\"keywords\"/>').end().not(':has(meta[name=\"description\"])').append('<meta name=\"description\"/>').end();\n            view.title = page && page.get('page_title') || view.getTitle();\n            view.metaDescription = page && page.get('meta_description') || view.getMetaDescription();\n            view.metaKeywords = page && page.get('meta_keywords') || view.getMetaKeywords();\n            // set title in DOM\n            var title = view.getTitle();\n            if (title) {\n                document.title = title;\n            }\n            // Sets the text of the title element if we are in the server\n            // we only do it on the server side due to an issue modifying\n            // the title tag on IE :(\n            if (SC.ENVIRONMENT.jsEnvironment === 'server') {\n                $head.find('title').text(title);\n            }\n            // meta keywords and meta description. We aren't adding the tags but reusing existing ones\n            $head.find('meta[name=\"description\"]').attr('content', view.metaDescription || view.getMetaDescription()).end().find('meta[name=\"keywords\"]').attr('content', view.metaKeywords || view.getMetaKeywords()).end().append(view.getMetaTags().not('[name=\"description\"]').not('[name=\"keywords\"]'));\n            $head.find('link[rel=\"canonical\"]').attr('href', view.getCanonical()).end()    // we remove any existing next/prev tags every time\n                                                                                           // a page is rendered in case the previous view was paginated\n.find('link[rel=\"next\"], link[rel=\"prev\"]').remove();\n            // if the current page is paginated\n            // set prev/next link rel\n            this.setLinkRel('prev', view.getRelPrev(), $head);\n            this.setLinkRel('next', view.getRelNext(), $head);\n            // addition to head. Heads up! Each element added is stored and when the view is destroyed we remove these\n            // elements from the DOM. If not the head will be polluted each time the user navigates.\n            var additionToHead = page && page.get('addition_to_head') || view.getAddToHead();\n            view.enhancedNodes = [];\n            if (additionToHead && jQuery.trim(additionToHead + '')) {\n                var $additionToHead = jQuery(additionToHead);\n                $additionToHead.each(function () {\n                    var $node = jQuery(this);\n                    $head.append($node);\n                    view.enhancedNodes.push($node);\n                });\n            }\n            view.destroy = _.wrap(view.destroy, function (fn) {\n                var args = Array.prototype.slice.call(arguments, 1);\n                fn.apply(this, args);\n                _.each(this.enhancedNodes, function ($node) {\n                    $node.remove();\n                });\n            });\n        },\n        setLinkRel: function (rel, link, $head) {\n            link && jQuery('<link />', {\n                rel: rel,\n                href: link\n            }).appendTo($head);\n        }\n    });\n    return AdapterEnhanced;\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module CustomContentType\ndefine('CustomContentType.Container.View', [\n    'custom_content_type_container.tpl',\n    'Backbone'\n], function (custom_content_type_container_tpl, Backbone) {\n    'use strict';\n    //@class CustomContentType.Container.View @extends Backbone.View\n    //inherits the basic render and destroy methods from Backbone.View\n    return Backbone.View.extend({\n        template: custom_content_type_container_tpl,\n        initialize: function initialize(options) {\n            this.addChildViewInstances({\n                'CCT-View': {\n                    'CCT-View': {\n                        childViewInstance: options.innerCustomContentType,\n                        childViewIsExternal: true\n                    }\n                }\n            });\n        }    // @method getContext\n             // @return {CustomContentType.Container.View.Context}\n,\n        getContext: function getContext() {\n            // @class CustomContentType.Container.View.Context\n            return {\n                //@property {String} instanceId\n                instanceId: this.options.instanceId,\n                classes: this.options.classes\n            };    // @class CustomContentType.Container.View\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module CMSadapter\ndefine('CMSadapter.Component', [\n    'CustomContentType.Container.View',\n    'SC.BaseComponent',\n    'Utils',\n    'underscore',\n    'jQuery'\n], function (CustomContentTypeContainerView, SCBaseComponent, Utils, _, jQuery) {\n    'use strict';\n    var placeholder_views = {};\n    var view_ccts_to_rerender = {};\n    return function CMSadapterComponentGenerator(application) {\n        // @class CMSComponent Allows the user to interact with CMS related concepts like enhanced content, landing pages, commerce categories,\n        // custom content types, etc.\n        // @extends SC.BaseComponent\n        return SCBaseComponent.extend({\n            componentName: 'CMS',\n            application: application    //@property {CMSadapter.Component.CustomContentTypeStore} _customContentTypes Custom content type store\n                           //@private\n,\n            _customContentTypes: {}    //@property {CMSadapter.Component.CustomerContentTypeInstance.Store} _customContentTypesInstances Custom content type instances store\n                  //@private\n,\n            _customContentTypesInstances: {}    //@method _createError Internal error to centralize the generation of errors\n                  //@param {String} error_code Code of the error (Capitalized word)\n                  //@param {String} error_message Details error message\n                  //@return {CMSadapter.Component.Error}\n,\n            _createError: function _createError(error_code, error_message) {\n                //@class CMSadapter.Component.Error\n                return {\n                    //@property {String} code\n                    title: error_code    //@property {String} message\n,\n                    message: error_message\n                };    //@class CMSadapterComponent\n            }    //@method _installContent Internal method to handle the installation of a CCT (call the install method)\n                 //@private\n                 //@param {CustomContentType.Base.View} cct A CCT instance\n                 //@param {Object} cct_settings Any object to be sent to the cct instance\n                 //@return {jQuery.Deferred}\n,\n            _installContent: function _installContent(cct, cct_settings, context_data) {\n                var self = this;\n                return jQuery.when(cct.install(cct_settings, context_data)).then(function () {\n                    return jQuery.Deferred().resolve();\n                }, function (e) {\n                    var message = e && _.isFunction(e.toString) && e.toString() || _('Unknown error installing CCT. CCT Instance Id: $(0)').translate(cct.instanceId);\n                    return jQuery.Deferred().reject(self._createError('ERR_INSTALLING_CCT', message));\n                });\n            }    //@method _updateSettings Internal method to handle the update of the CCT settings (call the update method)\n                 //@private\n                 //@param {CustomContentType.Base.View} cct A CCT instance\n                 //@param {Object} cct_settings Any object to be sent to the cct instance\n                 //@return {jQuery.Deferred}\n,\n            _updateSettings: function _updateSettings(cct, cct_settings) {\n                var self = this;\n                return jQuery.when(cct.update(cct_settings)).then(function () {\n                    return jQuery.Deferred().resolve();\n                }, function (e) {\n                    var message = e && _.isFunction(e.toString) && e.toString() || _('Unknown error updating CCT. CCT Instance Id: $(0)').translate(cct.instanceId);\n                    return jQuery.Deferred().reject(self._createError('ERR_UPDATING_CCT', message));\n                });\n            }    //@method _addViewCctsToRerender Internal method for associating views being rendered with their corresponding CCTs.\n                 //We use the template name as the dictionary key.\n                 //@private\n                 //@param {Backbone.View} a view instance\n                 //@param {Object} cctGenerator object with the necessary information for creating a CCT.\n                 //@return {Void}\n,\n            _addViewCctsToRerender: function _addViewCctsToRerender(view, cctGenerator) {\n                if (view.template && view.template.Name) {\n                    if (_.isUndefined(view_ccts_to_rerender[view.template.Name])) {\n                        view_ccts_to_rerender[view.template.Name] = [];\n                    }\n                    view_ccts_to_rerender[view.template.Name].push(cctGenerator);\n                }\n            }    // @method getPlaceholderViews returns an object with the association between selectors and their views.\n                 // @return {PlaceholderViews}\n,\n            placeholderViews: function placeholderViews() {\n                return placeholder_views;\n            }    // @method clears the placeholder_views\n                 // @return {Void}\n,\n            resetPlaceholderViews: function resetPlaceholderViews() {\n                placeholder_views = {};\n            }    //@method registerCustomContentType Register a new CCT for the running application\n                 //@public\n                 //@param {CustomContentType.Base.View} cct Custom Content Type View constructor\n                 //@return {Void}\n,\n            registerCustomContentType: function registerCustomContentType(cct) {\n                this._customContentTypes[cct.id.toLowerCase()] = cct;\n            }    //@method addContents Add multiple CCTs.\n                 // If the CCT was already added, then it just will attach the previous CCT view instance again\n                 // (that means that new settings or render_settings will be ignored)\n                 // Otherwise it will create a new CCT and add it to the current view\n                 //@public\n                 //@param {Array<CustomContentType.Base.View>}  ccts\n                 //@return {jQuery.Deferred}\n,\n            addContents: function addContents(ccts) {\n                var self = this, old_instances = _.keys(this._customContentTypesInstances), async_operations = [];\n                view_ccts_to_rerender = {};\n                ccts = self._sortCCTs(ccts);\n                //Clear all current ccts (detach from DOM) AND those that were taking or will take part of a repetitive context will be removed\n                _.each(_.keys(this._customContentTypesInstances), function (old_instance_id) {\n                    var selector = self._customContentTypesInstances[old_instance_id].length && self._customContentTypesInstances[old_instance_id][0].selector, views = selector && self.getPlaceholderViews(selector), old_instance = self._customContentTypesInstances[old_instance_id];\n                    if (old_instance && old_instance.length > 1 || views && views.length > 1) {\n                        self.removeContent(old_instance_id, true);\n                        old_instances.splice(_.indexOf(old_instances, old_instance_id), 1);\n                    } else {\n                        self.removeContent(old_instance_id, false);\n                    }\n                });\n                //Calculate what ccts needs to be preserved and what ccts are new\n                _.each(ccts, function (cct) {\n                    if (_.indexOf(old_instances, cct.instance_id) >= 0) {\n                        //re add into the parent view\n                        _.each(self._customContentTypesInstances[cct.instance_id], function (cct_container) {\n                            var generator = {}, container_name = cct_container.selector['data-cms-area'];\n                            generator[container_name] = {};\n                            generator[container_name][cct.instance_id] = {\n                                childViewIndex: 1000 + parseInt(cct.render_settings.position, 10),\n                                childViewConstructor: null,\n                                childViewInstance: cct_container.container,\n                                childViewSelector: cct_container.selector,\n                                childViewIsExternal: true\n                            };\n                            var parent_view_instance = cct_container.container.parentView;\n                            parent_view_instance.addChildViewInstances(generator, true);\n                            self._addViewCctsToRerender(parent_view_instance, generator);\n                        });\n                        old_instances.splice(_.indexOf(old_instances, cct.instance_id), 1);\n                    } else {\n                        //add new children view\n                        async_operations.push(self.addContent(cct.id, cct.instance_id, cct.selector, cct.settings, cct.render_settings));\n                    }\n                });\n                //Remove old instances\n                _.each(old_instances, function (old_instance_id) {\n                    async_operations.push(self.removeContent(old_instance_id, true));\n                });\n                return jQuery.when.apply(jQuery, async_operations);\n            }    //@method addContent Adds a new CCT into the specified placeholder\n                 //@public\n                 //@param {String} cct_id Id of the CCT constructor. This value must have been registered previously\n                 //@param {String} cct_instance_id. Unique identifier of the new CCT\n                 //@param {Selector} cct_selector Where the cct should be inserted\n                 //@param {Object} cct_settings Any setting that will be sent to the new cct instance\n                 //@param {CMSadapter.Component.addContent.RenderSettings} render_settings Setting on how the rendering should be done\n                 //@return {jQuery.Deferred}\n,\n            addContent: function addContent(cct_id, cct_instance_id, cct_selector, cct_settings, render_settings) {\n                var self = this, selector = this.getPlaceholder(cct_selector), container = selector ? this.getPlaceholderViews(self.selectorToString(selector)) : null, async_operations = [];\n                cct_id = cct_id.toLowerCase();\n                if (!selector || !container.views || !container.views.length || !self._customContentTypes[cct_id]) {\n                    return jQuery.Deferred().resolve();\n                } else if (self._customContentTypesInstances[cct_instance_id] && self._customContentTypesInstances[cct_instance_id].length) {\n                    return jQuery.Deferred().reject(self._createError('ERR_INVALID_INSTANCE_ID', _('There is already a CCT with the Instance Id $(0). Unable to add CCT: Id: $(1). CCT Instance Id: $(2). Placeholder: $(3)').translate(cct_instance_id, cct_id, cct_instance_id, self.selectorToString(cct_selector))));\n                } else {\n                    if (!self._customContentTypesInstances[cct_instance_id]) {\n                        self._customContentTypesInstances[cct_instance_id] = [];\n                    }\n                    _.each(container.views, function (parent_view_instance) {\n                        var cct_constructor = self._customContentTypes[cct_id].view, cct_constructor_options = self._customContentTypes[cct_id].options || {}, cct_instance = new cct_constructor(_.extend(cct_constructor_options, {\n                                id: cct_id,\n                                instanceId: cct_instance_id\n                            })), cct_container_instance = new CustomContentTypeContainerView({\n                                innerCustomContentType: cct_instance,\n                                instanceId: cct_instance_id,\n                                classes: render_settings.classes\n                            });\n                        var context_data = parent_view_instance.getContextData(cct_instance.getContextDataRequest());\n                        if (cct_instance.validateContextDataRequest(context_data)) {\n                            self._customContentTypesInstances[cct_instance_id].push(//@class CMSadapter.Component.CustomerContentTypeInstance.Container\n                            {\n                                //@property {CustomContentType.Base.View} cct Instance of the inner CCT\n                                cct: cct_instance    //@property {Backbone.View} parent SCA View that will contain the new CCT\n                                                //,\tparent: parent_view_instance\n                                                //@property {CustomContentType.Container.View} cct_container_instance Instance of the View that contains/wrap the CCT instance\n,\n                                container: cct_container_instance    //@property {String} selector Where the new CCT will be injected\n,\n                                selector: container.selector,\n                                render_settings: render_settings\n                            });\n                            // @class CMSadapterComponent\n                            async_operations.push(self._installContent(cct_instance, cct_settings, context_data));\n                            var generator = {}, container_name = container.selector['data-cms-area'];\n                            generator[container_name] = {};\n                            generator[container_name][cct_instance_id] = {\n                                childViewIndex: 1000 + parseInt(render_settings.position, 10),\n                                childViewConstructor: null,\n                                childViewInstance: cct_container_instance,\n                                childViewSelector: container.selector,\n                                childViewIsExternal: true\n                            };\n                            cct_container_instance.parentView = parent_view_instance;\n                            cct_container_instance.hasParent = true;\n                            parent_view_instance.addChildViewInstances(generator, true);\n                            self._addViewCctsToRerender(parent_view_instance, generator);\n                        } else {\n                            async_operations.push(jQuery.Deferred().reject(self._createError('ERR_CONTEXTNOTFOUND_CCT', _('Context for CCT not found. CCT Instance Id: $(0)').translate(cct_instance_id))));\n                        }\n                    });\n                    return jQuery.when.apply(jQuery, async_operations);\n                }\n            }    //@method updateContent Updates a CCT settings and its render settings\n                 //@public\n                 //@param {String} cct_id Id of the CCT constructor. This value must have been registered previously\n                 //@param {String} cct_instance_id. Unique identifier of the new CCT\n                 //@param {Selector} cct_selector Where the cct should be inserted\n                 //@param {Object} cct_settings Any setting that will be sent to the new cct instance\n                 //@param {CMSadapter.Component.addContent.RenderSettings} render_settings Setting on how the rendering should be done\n                 //@return {jQuery.Deferred}\n,\n            updateContent: function updateContent(cct_instance_id, cct_selector, cct_settings, render_settings) {\n                var self = this, cct_views_container = self._customContentTypesInstances[cct_instance_id], selector = self.getPlaceholder(cct_selector), async_operations = [];\n                if (cct_views_container) {\n                    var first_cct_container = cct_views_container[0];\n                    if (!_.isEqual(first_cct_container.selector, cct_selector)) {\n                        if (!selector) {\n                            return jQuery.Deferred().reject(self._createError('ERR_INVALID_SELECTOR', _('Invalid selector. The current view does not contains the specified selector: $(0)').translate(self.selectorToString(cct_selector))));\n                        } else {\n                            var cct_id = first_cct_container.cct.id;\n                            self.removeContent(cct_instance_id, true);\n                            return self.addContent(cct_id, cct_instance_id, cct_selector, cct_settings, render_settings);\n                        }\n                    } else {\n                        _.each(cct_views_container, function (cct_container) {\n                            var cct_container_instance = cct_container.container, parent_view_instance = cct_container_instance.parentView;\n                            async_operations.push(self._updateSettings(cct_container.cct, cct_settings));\n                            if (!_.isEqual(first_cct_container.render_settings, render_settings)) {\n                                var generator = {}, container_name = cct_container.selector['data-cms-area'];\n                                generator[container_name] = {};\n                                generator[container_name][cct_instance_id] = {\n                                    childViewIndex: 1000 + parseInt(render_settings.position, 10),\n                                    childViewConstructor: null,\n                                    childViewInstance: cct_container_instance,\n                                    childViewSelector: cct_container.selector,\n                                    childViewIsExternal: true\n                                };\n                                parent_view_instance.updateChildViewInstances(generator, true);\n                                cct_container.render_settings = render_settings;\n                            } else {\n                                cct_container.cct.render();\n                            }\n                        });\n                        return jQuery.when.apply(jQuery, async_operations);\n                    }\n                }\n                return jQuery.Deferred().reject(self._createError('ERR_INVALID_INSTANCE_ID', _('Invalid content type instance id: $(0)').translate(cct_instance_id)));\n            }    //@method _sortCCTs Internal method to sort a list of cct to be rendered\n                 //@param {Array<CustomContentType.Base.View>} ccts List of ccts to be sorted\n                 //@private\n                 //@return {Array<CustomContentType.Base.View>}\n,\n            _sortCCTs: function _sortCCTs(ccts) {\n                var self = this;\n                // sort first by placeholder and then by position\n                ccts.sort(function (cct_a, cct_b) {\n                    var cct_a_selector = self.getPlaceholder(cct_a.selector), cct_b_selector = self.getPlaceholder(cct_b.selector);\n                    var cct_a_key = cct_a_selector ? self.selectorToString(cct_a_selector) : '', cct_b_key = cct_b_selector ? self.selectorToString(cct_b_selector) : '';\n                    if (cct_a_key === cct_b_key) {\n                        return parseInt(cct_a.render_settings.position, 10) - parseInt(cct_b.render_settings.position, 10);\n                    } else {\n                        return cct_a_key < cct_b_key ? 1 : 0;\n                    }\n                });\n                return ccts;\n            }    //@method removeContent Removes a CCT from its location\n                 //@public\n                 //@param {String} cct_instance_id Unique CCT identifier\n                 //@param {Boolean} skip_destroy_call Indicate if should destroy the instance or not\n                 //@return {jQuery.Deferred}\n,\n            removeContent: function removeContent(cct_instance_id, destroy_call) {\n                var cct_views_generator = this._customContentTypesInstances[cct_instance_id], async_operations = [];\n                if (cct_views_generator) {\n                    _.each(cct_views_generator, function (cct_generator) {\n                        async_operations.push(cct_generator.container.parentView.removeChildViewInstance(cct_generator.selector['data-cms-area'], cct_generator.cct.instanceId, destroy_call));\n                    });\n                    if (destroy_call) {\n                        delete this._customContentTypesInstances[cct_instance_id];\n                    }\n                    return jQuery.when.apply(jQuery, async_operations);\n                }\n                return jQuery.Deferred().reject(this._createError('ERR_INVALID_INSTANCE_ID', _('The specified instance id is not registered. Instance Id: $(0)').translate(cct_instance_id)));\n            },\n            getContentIds: function getContentIds() {\n                return _.keys(this._customContentTypes);\n            }    // @method selectorToString returns the string key for a json selector\n                 // @param {Selector} placeholder\n                 // @return {String} the string key for a json selector\n,\n            selectorToString: function selectorToString(placeholder) {\n                var str = '';\n                _.each(placeholder, function (value, key) {\n                    str += '[' + key + '=\"' + value + '\"]';\n                });\n                return str;\n            }    // @method getPlaceholder Determines if a selector already exist by comparing its JSON representation\n                 // @param {Selector} placeholder\n                 // @return {Selector} if it exist the same combination of selectors as a placeholder or undefined\n,\n            getPlaceholder: function getPlaceholder(placeholder) {\n                var selector_data = _.find(placeholder_views, function (obj) {\n                    return _.isEqual(placeholder, obj.selector);\n                });\n                if (selector_data) {\n                    return selector_data.selector;\n                } else {\n                    return selector_data;\n                }\n            }    // @method registerViewForPlaceholder Receives all the placeholders that appear on a view and registers each one of them\n                 // @param {Array<Selector>} placeholders\n                 // @param {Backbone.View} view a backbone view\n                 // @return {Void}\n,\n            registerViewForPlaceholder: function registerViewForPlaceholder(placeholders, view) {\n                var self = this;\n                _.each(placeholders, function (selector) {\n                    var existent_selector = self.getPlaceholder(selector);\n                    if (existent_selector) {\n                        var key_existent = self.selectorToString(existent_selector);\n                        if (_.indexOf(placeholder_views[key_existent].views, view) < 0) {\n                            placeholder_views[key_existent].views.push(view);\n                        }\n                    } else {\n                        var key = self.selectorToString(selector);\n                        placeholder_views[key] = {\n                            selector: selector,\n                            views: [view]\n                        };\n                    }\n                });\n            }    // @method unregisterViewForPlaceholder removes a view from all the placeholders associations\n                 // @param {Backbone.View} a view\n                 // @return {Void}\n,\n            unregisterViewForPlaceholders: function unregisterViewForPlaceholders(view) {\n                _.each(placeholder_views, function (placeholder, key, selector_views_context) {\n                    selector_views_context[key].views = _.without(placeholder.views, view);\n                });\n            }    // @method getPlaceholderViews Retrieves all the views where a placeholder appears\n                 // @param {string} The placeholder key\n                 // @return {PlaceholderViews} An object with the Selector obj and the array of views\n,\n            getPlaceholderViews: function getPlaceholderViews(placeholder) {\n                return placeholder_views[placeholder] || null;\n            }    // @method getViewCctsToRerender Retrieves all the CCTs associated with a given view.\n                 // @param {Object} The view containing the CCTs.\n                 // @return {Array<Object>} An array containing CCTs related information and CCT-view instances to be re-rendered.\n,\n            getViewCctsToRerender: function getViewCctsToRerender(view) {\n                if (view.template && view.template.Name) {\n                    var cct_generators = view_ccts_to_rerender[view.template.Name];\n                    return _.isUndefined(cct_generators) ? [] : cct_generators;\n                }\n                return [];\n            }\n        });\n    };\n});    //@class Selector an obj with the form { data-cms-attr1: \"placeholder1\", data-cms-attr2: \"placeholder2\" }\n       //@class PlaceholderViews an obj with the form { \"selector_key\": selector: {Selector}, views: Array<Backbone.View>}\n       //@class CMSadapter.Component.CustomContentTypeStore\n       //A dictionary by custom content type id of all CCTs register for the running application\n       //@extend Dictionary<String, CustomContentType.Base.View>\n       //@class CMSadapter.Component.CustomerContentTypeInstance.Store\n       //A dictionary to store the generated CCT instances\n       //@extend Dictionary<String, CMSadapter.Component.CustomerContentTypeInstance.Container>\n       //@class CMSadapter.Component.addContent.RenderSettings\n       //@property {Number} position Indicate where the CCT should be inserted\n","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n/* global CMS: false */\n// @module CMSadapter\ndefine('CMSadapter', [\n    'Backbone',\n    'CMSadapter.Page.Router',\n    'CMSadapter.Page.Collection',\n    'CMSadapter.Impl.Enhanced',\n    'CMSadapter.Component',\n    'SC.Configuration',\n    'jQuery'\n], function (Backbone, CMSadapterPagePageRouter, CMSadapterPagePageCollection, CMSadapterImplEnhanced, CMSadapterComponent, Configuration, jQuery) {\n    'use strict';\n    // @class CMSadapter responsible of starting both the adapter implementation and cms landing pages router.\n    // Assumes cms.js is already loaded\n    // @extend ApplicationModule\n    return {\n        mountAdapter: function (application) {\n            if (Configuration.get('cms.useCMS')) {\n                Backbone.Events.trigger('cmsadapter:ready');\n                application.registerComponent(CMSadapterComponent(application));\n                var router = this.initPageRouter(application), self = this;\n                // instantiate and expose it:\n                if (typeof CMS === 'undefined' || !CMS.on) {\n                    Backbone.Events.on('cms:load', function () {\n                        self.initAdapter(application, router);\n                    });\n                } else {\n                    this.initAdapter(application, router);\n                }\n                this.adapterEnhanced = new CMSadapterImplEnhanced(application, router);\n                this.installBackboneViewPlugins(application);\n            }\n            return this.postMountAdapter(application);\n        }    // @method initAdapter\n             // Heads up! CMS global variable should be already available since we start the\n             // shopping application after cms.js is loaded, see SC.Shopping.Starter.js\n,\n        initAdapter: function initAdapter(application, landingRouter) {\n            if (typeof CMS === 'undefined') {\n                return;\n            }\n            this.initAdapterImpls(application, CMS, landingRouter);\n        }    // @method initPageRouter instantiate the landing pages router using bootstrapped data.\n,\n        initPageRouter: function initPageRouter(application) {\n            if (!SC.ENVIRONMENT.CMS || !SC.ENVIRONMENT.CMS.pages) {\n                return;\n            }\n            var collection = new CMSadapterPagePageCollection(SC.ENVIRONMENT.CMS.pages.pages || []);\n            return new CMSadapterPagePageRouter(application, collection);\n        },\n        installBackboneViewPlugins: jQuery.noop,\n        initAdapterImpls: jQuery.noop,\n        postMountAdapter: jQuery.noop\n    };\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n/*\n@module CMSadapter\n@class CMSadapter.Impl.Core the class that has the core integration using the CMS API.\n*/\ndefine('CMSadapter.Impl.Core', [\n    'underscore',\n    'Backbone',\n    'jQuery'\n], function (_, Backbone, jQuery) {\n    'use strict';\n    var AdapterCore = function (application, CMS) {\n        this.CMS = CMS;\n        this.application = application;\n        this.listenForCMS();\n        this.init();\n    };\n    AdapterCore.prototype.init = jQuery.noop;\n    AdapterCore.prototype.listenForCMS = jQuery.noop;\n    AdapterCore.prototype.getSetupOptions = jQuery.noop;\n    AdapterCore.prototype.getCmsContext = function getCmsContext() {\n        var url = Backbone.history.fragment.split('?')[0], path = url[0] === '/' ? url : '/' + url;\n        var context = {\n            path: path,\n            site_id: this.application.getConfig('siteSettings.siteid'),\n            page_type: this.application.getLayout().currentView ? this.application.getLayout().currentView.el.id : ''\n        };\n        return context;\n    };\n    return AdapterCore;\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n/* global CMS: false */\n/*\n\n@module CMSadapter\n@class CMSadapter.Impl.Core.v2 the class that has the core integration using the CMS API v2.\n*/\ndefine('CMSadapter.Impl.Core.v2', [\n    'CMSadapter.Impl.Core',\n    'SC.Configuration'\n], function (CMSadapterImplCore, Configuration) {\n    'use strict';\n    var CMSadapterImplCore2 = function (application, CMS) {\n        CMSadapterImplCore.call(this, application, CMS);\n    };\n    CMSadapterImplCore2.prototype = Object.create(CMSadapterImplCore.prototype);\n    CMSadapterImplCore2.prototype.init = function init() {\n        var self = this;\n        this.application.getLayout().on('afterAppendView', function () {\n            self.CMS.trigger('adapter:page:changed');\n        });\n        this.CMS.trigger('adapter:ready');\n    };\n    CMSadapterImplCore2.prototype.listenForCMS = function listenForCMS() {\n        // CMS listeners - CMS tells us to do something, could fire anytime.\n        var self = this;\n        self.CMS.on('adapter:get:setup', function () {\n            var setup = self.getSetupOptions();\n            // Config values the adapter can give the cms on startup. Currently nothing is used (cms ignores values).\n            CMS.trigger('adapter:got:setup', setup);\n        });\n        self.CMS.on('adapter:get:context', function () {\n            var context = self.getCmsContext();\n            self.CMS.trigger('adapter:got:context', context);\n        });\n    };\n    CMSadapterImplCore2.prototype.getSetupOptions = function getSetupOptions() {\n        return {\n            esc_to_login_disabled: Configuration.get('cms.escToLoginDisabled', false),\n            features: [\n                'landingPages',\n                'categories'\n            ]\n        };\n    };\n    return CMSadapterImplCore2;\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n/*\n\n@module CMSadapter\n\n@class CMSadapter.Impl.Landing\n*/\ndefine('CMSadapter.Impl.Landing', [\n    'underscore',\n    'Backbone',\n    'jQuery'\n], function (_, Backbone, jQuery) {\n    'use strict';\n    function AdapterLanding(application, CMS, pageRouter) {\n        this.CMS = CMS;\n        this.application = application;\n        this.pageRouter = pageRouter;\n        if (pageRouter) {\n            this.listenForCMS();\n        }\n    }\n    AdapterLanding.prototype.listenForCMS = jQuery.noop;\n    // landing pages handlers\n    // @method realoadLandingPages called when user clicks on 'manage pages mode' in admin.\n    // Remember that might be unpublished landing pages and so in the admin navigation to these ones must work even if they aren't real landing pages.\n    AdapterLanding.prototype.realoadLandingPages = function (data) {\n        var self = this;\n        _.each(data.pages, function (page) {\n            if (page.type === 1) {\n                self.pageRouter.addLandingRoute(page);\n            }\n        });\n    };\n    // @method addLandingPages NOTE: Add a new page(s) to your collection, also passes a bool value (trigger) that should be used to auto-navigate to the new page.\n    AdapterLanding.prototype.addLandingPages = function (data) {\n        this.pageRouter.addLandingRoute(data.page);\n        if (data.trigger) {\n            Backbone.history.navigate(data.page.url, { trigger: true });\n        } else {\n            this.CMS.trigger('adapter:page:changed');\n        }\n    };\n    //@method navigateLandingPage handler called when the user navigates inside the admin. NOTE: Provides url so that the page can be reloaded or navigated to (Backbone History, etc).\n    AdapterLanding.prototype.navigateLandingPage = function (data) {\n        Backbone.history.navigate(data.url, { trigger: true });\n    };\n    AdapterLanding.prototype.updateLandingPage = function (data)\n        // Update an existing page with title, header, meta, etc.\n        {\n            if (data.saving) {\n                if (data.page.type === 1) {\n                    //update the router internally with possible new urls (virtual - they are not published but for the admin navigation to work correctly)\n                    this.pageRouter.addLandingRoute(data.page, data.original_url);\n                }\n                if (data.trigger) {\n                    // Heads up!\n                    // Edit Live Site > Landing Pages > \"Page not found\" error for new published landing page\n                    // navigate wont refresh the page if you are in the same url but it will change the url of the browser\n                    // loadUrl will navigate to the url but won't change the url of the browser, that's why we use both\n                    Backbone.history.navigate(data.page.url, { trigger: false });\n                    Backbone.history.loadUrl(data.page.url);\n                } else {\n                    this.CMS.trigger('adapter:page:changed');\n                }\n            }\n        };\n    return AdapterLanding;\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n/*\n\n@module CMSadapter\n\n@class CMSadapter.Impl.Landing.v2\n*/\ndefine('CMSadapter.Impl.Landing.v2', ['CMSadapter.Impl.Landing'], function (CMSadapterImplLanding) {\n    'use strict';\n    var CMSadapterImplLanding2 = function (application, CMS, pageRouter) {\n        CMSadapterImplLanding.call(this, application, CMS, pageRouter);\n    };\n    CMSadapterImplLanding2.prototype = Object.create(CMSadapterImplLanding.prototype);\n    CMSadapterImplLanding2.prototype.listenForCMS = function listenForCMS() {\n        // CMS listeners - CMS tells us to do something, could fire anytime.\n        var self = this;\n        self.CMS.on('adapter:landing:pages:reload', function (data, callback) {\n            callback(self.realoadLandingPages(data));\n        });\n        self.CMS.on('adapter:landing:pages:add', function (data, callback) {\n            callback(self.addLandingPages(data));\n        });\n        self.CMS.on('adapter:landing:page:navigate', function (data, callback) {\n            // triggered when user selects a landing page in the 'manage pages mode' in cms administrator\n            callback(self.navigateLandingPage(data));\n        });\n        self.CMS.on('adapter:landing:page:update', function (data, callback) {\n            // triggered when user clicks the 'edit' button of a landing page in the 'manage pages mode' in cms administrator\n            callback(self.updateLandingPage(data));\n        });\n    };\n    return CMSadapterImplLanding2;\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module Facets\ndefine('Facets.Model', [\n    'Backbone.CachedModel',\n    'Item.Collection',\n    'Session',\n    'Profile.Model',\n    'SC.Configuration',\n    'underscore',\n    'Utils'\n], function (BackboneCachedModel, ItemCollection, Session, ProfileModel, Configuration, _) {\n    'use strict';\n    var original_fetch = BackboneCachedModel.prototype.fetch;\n    // @class Facets.Model @extends Backbone.CachedModel\n    // Connects to the search api to get all the items and the facets\n    // A Model Contains a Collection of items and the list of facet groups with its values\n    return BackboneCachedModel.extend({\n        options: {},\n        searchApiMasterOptions: Configuration.get('searchApiMasterOptions.Facets', {}),\n        url: function () {\n            var profile = ProfileModel.getInstance(), url = _.addParamsToUrl(profile.getSearchApiUrl(), _.extend(Configuration.get('matrixchilditems.enabled') && Configuration.get('matrixchilditems.fieldset') ? { matrixchilditems_fieldset: Configuration.get('matrixchilditems.fieldset') } : {}, this.searchApiMasterOptions, Session.getSearchApiParams()), profile.isAvoidingDoubleRedirect());\n            return url;\n        },\n        initialize: function (options) {\n            if (options && options.searchApiMasterOptions) {\n                this.searchApiMasterOptions = options.searchApiMasterOptions;\n            }\n            // Listen to the change event of the items and converts it to an ItemCollection\n            this.on('change:items', function (model, items) {\n                if (!(items instanceof ItemCollection)) {\n                    // NOTE: Compact is used to filter null values from response\n                    model.set('items', new ItemCollection(_.compact(items)));\n                }\n            });\n        }    // @method fetch overrides fetch so we make sure that the cache is set to true, so we wrap it\n,\n        fetch: function (options) {\n            options = _.extend(options || {}, this.options);\n            options.cache = true;\n            return original_fetch.apply(this, arguments);\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module Facets\n// @class Facets.Translator\n// Holds the mapping of a url compoment with an api call,\n// is able to translate and to return different configurations of himself with diferent options\ndefine('Facets.Translator', [\n    'underscore',\n    'jQuery',\n    'SC.Configuration',\n    'Utils',\n    'UrlHelper'\n], function (_, jQuery, Configuration) {\n    'use strict';\n    // This is just for internal use only, DO NOT EDIT IT HERE!!\n    // the same options should be somewhere in the configuration file\n    var default_config = {\n        fallbackUrl: 'search',\n        defaultShow: null,\n        defaultOrder: null,\n        defaultDisplay: null,\n        facets: [],\n        facetDelimiters: {\n            betweenFacetNameAndValue: '/',\n            betweenDifferentFacets: '/',\n            betweenDifferentFacetsValues: ',',\n            betweenRangeFacetsValues: 'to',\n            betweenFacetsAndOptions: '?',\n            betweenOptionNameAndValue: '=',\n            betweenDifferentOptions: '&'\n        }\n    };\n    //@constructor @param {Array}facets @param {Object} options @param {Object} configuration\n    function FacetsTranslator(facets, options, configuration, category) {\n        // Enforces new\n        if (!(this instanceof FacetsTranslator)) {\n            return new FacetsTranslator(facets, options, configuration, category);\n        }\n        // Facets go Here\n        this.facets = [];\n        // Other options like page, view, etc. goes here\n        this.options = {};\n        // This is an object that must contain a fallbackUrl and a lists of facet configurations\n        this.configuration = configuration || default_config;\n        // Get the facets that are in the sitesettings but not in the config.\n        // These facets will get a default config (max, behavior, etc.) - Facets.Translator\n        // Include facet aliases to be conisdered as a possible route\n        var facets_data = Configuration.get('siteSettings.facetfield'), facets_to_include = [];\n        _.each(facets_data, function (facet) {\n            if (facet.facetfieldid !== 'commercecategory') {\n                facets_to_include.push(facet.facetfieldid);\n                // If the facet has an urlcomponent defined, then add it to the possible values list.\n                facet.urlcomponent && facets_to_include.push(facet.urlcomponent);\n                // Finally, include URL Component Aliases...\n                _.each(facet.urlcomponentaliases, function (facet_alias) {\n                    facets_to_include.push(facet_alias.urlcomponent);\n                });\n            }\n        });\n        facets_to_include = _.union(facets_to_include, _.pluck(Configuration.get('facets'), 'id'));\n        facets_to_include = _.uniq(facets_to_include);\n        this.facetsToInclude = facets_to_include;\n        this.isCategoryPage = !!category;\n        if (_.isBoolean(category) && category) {\n            var index = facets.length, facetsToInclude = this.facetsToInclude.slice(0);\n            facetsToInclude.push(this.configuration.facetDelimiters.betweenFacetsAndOptions);\n            _.each(facetsToInclude, function (facetname) {\n                var i = facets.indexOf(facetname);\n                if (i !== -1 && i < index) {\n                    index = i;\n                }\n            });\n            var categoryUrl = facets.substring(0, index);\n            facets = facets.substring(index);\n            if (categoryUrl[0] !== '/') {\n                categoryUrl = '/' + categoryUrl;\n            }\n            if (categoryUrl[categoryUrl.length - 1] === '/') {\n                categoryUrl = categoryUrl.substring(0, categoryUrl.length - 1);\n            }\n            this.categoryUrl = categoryUrl;\n        } else if (_.isString(category)) {\n            this.categoryUrl = category;\n        }\n        // We cast on top of the passed in parameters.\n        if (facets && options) {\n            this.facets = facets;\n            this.options = options;\n        } else if (_.isString(facets)) {\n            // It's a url\n            this.parseUrl(facets);\n        } else if (facets) {\n            // It's an API option object\n            this.parseOptions(facets);\n        }\n    }\n    _.extend(FacetsTranslator.prototype, {\n        //@property {Object}defaultFacetConfig\n        defaultFacetConfig: {\n            behavior: 'single',\n            max: 5\n        }    // @method getFacetsToInclude\n,\n        getFacetsToInclude: function getFacetsToInclude() {\n            return this.facetsToInclude;\n        }    // @method parseUrl Url strings get translated into the differnts part of the object, facets and options\n             // @param {String} url\n,\n        parseUrl: function parseUrl(url) {\n            // We remove a posible 1st / (slash)\n            url = url[0] === '/' ? url.substr(1) : url;\n            // given an url with options we split them into 2 strings (options and facets)\n            var facets_n_options = url.split(this.configuration.facetDelimiters.betweenFacetsAndOptions), facets = facets_n_options[0] && facets_n_options[0] !== this.configuration.fallbackUrl ? facets_n_options[0] : '', options = facets_n_options[1] || '';\n            // We treat category as the 1st unnamed facet filter, so if you are using categories\n            // we will try to take that out by comparing the url with the category tree\n            if (this.isCategoryPage) {\n                facets = facets.replace(this.categoryUrl, '');\n                // We remove a posible 1st / (slash) (again, it me be re added by taking the category out)\n                facets = facets[0] === '/' ? facets.substr(1) : facets;\n            }\n            // The facet part of the url gets splitted and computed by pairs\n            var facet_tokens = facets.split(new RegExp('[\\\\' + this.configuration.facetDelimiters.betweenDifferentFacets + '\\\\' + this.configuration.facetDelimiters.betweenFacetNameAndValue + ']+', 'ig'));\n            while (facet_tokens.length > 0) {\n                var facet_name = facet_tokens.shift(), facet_value = facet_tokens.shift();\n                if (!this.facetIsParameter(facet_name)) {\n                    this.parseUrlFacet(facet_name, facet_value);\n                }\n            }\n            // The same for the options part of the url\n            var options_tokens = options.split(new RegExp('[\\\\' + this.configuration.facetDelimiters.betweenOptionNameAndValue + '\\\\' + this.configuration.facetDelimiters.betweenDifferentOptions + ']+', 'ig')), tmp_options = {};\n            while (options_tokens.length > 0) {\n                var option_name = options_tokens.shift(), option_value = options_tokens.shift(), option_is_facet = _.contains(this.facetsToInclude, option_name);\n                if (option_is_facet && this.facetIsParameter(option_name)) {\n                    this.parseUrlFacet(option_name, option_value);\n                }\n                tmp_options[option_name] = option_value;\n            }\n            this.parseUrlOptions(tmp_options);\n        }    // @method facetIsParameter\n             // Given a facet name, returns true if the facet needs to be interpreted as an url parameter, false otherwise.\n             // @param {String} facet_name\n,\n        facetIsParameter: function facetIsParameter(facet_name) {\n            var facet_config = this.getFacetConfig(facet_name);\n            return _.isUndefined(facet_config.isParameter) ? this.configuration.facetsAsUrlParameters : facet_config.isParameter;\n        }    /*\n\t\t@method sanitizeValue\n\t\tTranslates values that came from the url into JS data types that this objects know of\n\t\tExamples for different types:\n\n\t\trange/10to100 gets translated to {from: '10', to: '100'}\n\t\trange/100 gets translated to {from: '0', to: '100'}\n\t\tmulti/1,2,3 gets translated to ['1', '2', '3']\n\t\t*/,\n        sanitizeValue: function sanitizeValue(value, behavior) {\n            var parsed_value;\n            switch (behavior) {\n            case 'range':\n                // we return an object like {from: string, to: string }\n                if (_.isString(value)) {\n                    if (value.indexOf(this.configuration.facetDelimiters.betweenRangeFacetsValues) !== -1) {\n                        var tokens = value.split(this.configuration.facetDelimiters.betweenRangeFacetsValues);\n                        parsed_value = {\n                            from: tokens[0],\n                            to: tokens[1]\n                        };\n                    } else {\n                        parsed_value = {\n                            from: '0',\n                            to: value\n                        };\n                    }\n                } else {\n                    parsed_value = value;\n                }\n                break;\n            case 'multi':\n                // we always return an array for a multi value\n                if (value.indexOf(this.configuration.facetDelimiters.betweenDifferentFacetsValues) !== -1) {\n                    parsed_value = value.split(this.configuration.facetDelimiters.betweenDifferentFacetsValues);\n                } else {\n                    parsed_value = [value];\n                }\n                break;\n            default:\n                parsed_value = value;\n            }\n            return parsed_value;\n        }    // @method getUrlFacetValue\n             // Returns the value of an active facet by the facet URL component\n             // @param {String} facet_url\n,\n        getUrlFacetValue: function getUrlFacetValue(facet_url) {\n            return (_.find(this.facets, function (facet) {\n                return facet.url === facet_url;\n            }) || {}).value;\n        }    // @method getFacetValue:\n             // Returns the value of an active facet by the facet id\n             // @param {String} facet_id\n,\n        getFacetValue: function getFacetValue(facet_id) {\n            return (_.find(this.facets, function (facet) {\n                return facet.id === facet_id;\n            }) || {}).value;\n        }    // @method getAllFacets\n             // @returns {Array} a copy of the internal array of facets containing values and configuration\n,\n        getAllFacets: function getAllFacets() {\n            return this.facets.slice(0);\n        }    // @param getOptionValue\n             // Returns the value of an active options or it's default value\n,\n        getOptionValue: function getOptionValue(option_id) {\n            return this.options[option_id] || null;\n        }    // @param parseUrlFacet\n             // for a given name value, it gets the config, sanitize the value and stores it all in the internal facets array\n             // @param {String} @param {String} value\n,\n        parseUrlFacet: function parseUrlFacet(name, value) {\n            // Gets the config for the current facet\n            var config = this.getFacetConfig(name, 'id'), facets_values;\n            if (config.id === 'commercecategoryname' || config.id === 'category' || !name) {\n                return;\n            }\n            facets_values = value && value.split(this.configuration.facetDelimiters.betweenDifferentFacetsValues);\n            facets_values = _.map(facets_values, function (val) {\n                if (val === decodeURIComponent(val)) {\n                    val = encodeURIComponent(val);\n                }\n                return val;\n            });\n            this.facets.push({\n                config: config,\n                id: config.id,\n                url: config.id,\n                value: this.sanitizeValue(facets_values.join(this.configuration.facetDelimiters.betweenDifferentFacetsValues), config.behavior),\n                isParameter: config.isParameter\n            });\n        }    // @method parseFacet:\n             // Same as parseUrlFacet but from id\n             // @param facet_id @param value\n,\n        parseFacet: function parseFacet(facet_id, value) {\n            // Gets the config for the current facet\n            var config = this.getFacetConfig(facet_id, 'id');\n            this.facets.push({\n                config: config,\n                id: config.id,\n                url: config.id,\n                value: this.sanitizeValue(value, config.behavior),\n                isParameter: config.isParameter\n            });\n        }    // @method parseUrlOptions:\n             // Sets options from the options argument or sets default values\n             // @param {Object} options\n,\n        parseUrlOptions: function parseUrlOptions(options) {\n            this.options.show = options.show || this.configuration.defaultShow;\n            this.options.order = options.order || this.configuration.defaultOrder;\n            this.options.page = parseInt(options.page, 10) || 1;\n            this.options.display = options.display || this.configuration.defaultDisplay;\n            this.options.keywords = options.keywords ? decodeURIComponent(options.keywords) : this.configuration.defaultKeywords;\n        }    // facet@method getFacetConfig\n             // Gets the configuration for a given facet by id,\n             // @param {String}name @param {String}by\n,\n        getFacetConfig: function getFacetConfig(name) {\n            var result = _.find(this.configuration.facets, function (facet) {\n                return facet.id === name;\n            });\n            result = result || _.find(this.configuration.facets, function (facet) {\n                return facet.url === name;\n            });\n            return result || _.extend({\n                id: name,\n                name: name,\n                url: name,\n                isParameter: undefined\n            }, this.defaultFacetConfig);\n        }    // @method getUrl\n             // Gets the url for current state of the object\n,\n        getUrl: function getUrl() {\n            var url = this.categoryUrl || '', self = this;\n            // Prepares seo limits\n            var facets_seo_limits = {};\n            if (SC.ENVIRONMENT.jsEnvironment === 'server') {\n                facets_seo_limits = {\n                    numberOfFacetsGroups: this.configuration.facetsSeoLimits && this.configuration.facetsSeoLimits.numberOfFacetsGroups || false,\n                    numberOfFacetsValues: this.configuration.facetsSeoLimits && this.configuration.facetsSeoLimits.numberOfFacetsValues || false,\n                    options: this.configuration.facetsSeoLimits && this.configuration.facetsSeoLimits.options || false\n                };\n            }\n            // If there are too many facets selected\n            if (facets_seo_limits.numberOfFacetsGroups && this.facets.length > facets_seo_limits.numberOfFacetsGroups) {\n                return '#';\n            }\n            // Encodes the other Facets\n            var sorted_facets = _.sortBy(this.facets, 'url'), facets_as_options = [];\n            for (var i = 0; i < sorted_facets.length; i++) {\n                var facet = sorted_facets[i];\n                // Category should be already added\n                if (facet.id === 'commercecategoryname' || facet.id === 'category') {\n                    break;\n                }\n                var name = facet.url || facet.id, value = '';\n                switch (facet.config.behavior) {\n                case 'range':\n                    facet.value = typeof facet.value === 'object' ? facet.value : {\n                        from: 0,\n                        to: facet.value\n                    };\n                    value = facet.value.from + self.configuration.facetDelimiters.betweenRangeFacetsValues + facet.value.to;\n                    break;\n                case 'multi':\n                    value = facet.value.sort().join(self.configuration.facetDelimiters.betweenDifferentFacetsValues);\n                    if (facets_seo_limits.numberOfFacetsValues && facet.value.length > facets_seo_limits.numberOfFacetsValues) {\n                        return '#';\n                    }\n                    break;\n                default:\n                    value = facet.value;\n                }\n                if (self.facetIsParameter(name)) {\n                    facets_as_options.push({\n                        facetName: name,\n                        facetValue: value\n                    });\n                } else {\n                    // Do not add a facet separator at the begining of an url\n                    if (url !== '') {\n                        url += self.configuration.facetDelimiters.betweenDifferentFacets;\n                    }\n                    url += name + self.configuration.facetDelimiters.betweenFacetNameAndValue + value;\n                }\n            }\n            url = url !== '' ? url : '/' + this.configuration.fallbackUrl;\n            // Encodes the Options\n            var tmp_options = {}, separator = this.configuration.facetDelimiters.betweenOptionNameAndValue;\n            if (this.options.order && this.options.order !== this.configuration.defaultOrder) {\n                tmp_options.order = 'order' + separator + this.options.order;\n            }\n            if (this.options.page && parseInt(this.options.page, 10) !== 1) {\n                tmp_options.page = 'page' + separator + encodeURIComponent(this.options.page);\n            }\n            if (this.options.show && parseInt(this.options.show, 10) !== this.configuration.defaultShow) {\n                tmp_options.show = 'show' + separator + encodeURIComponent(this.options.show);\n            }\n            if (this.options.display && this.options.display !== this.configuration.defaultDisplay) {\n                tmp_options.display = 'display' + separator + encodeURIComponent(this.options.display);\n            }\n            if (this.options.keywords && this.options.keywords !== this.configuration.defaultKeywords) {\n                tmp_options.keywords = 'keywords' + separator + encodeURIComponent(this.options.keywords);\n            }\n            for (i = 0; i < facets_as_options.length; i++) {\n                var facet_option_obj = facets_as_options[i];\n                tmp_options[facet_option_obj.facetName] = facet_option_obj.facetName + separator + facet_option_obj.facetValue;\n            }\n            var tmp_options_keys = _.keys(tmp_options), tmp_options_vals = _.values(tmp_options);\n            // If there are options that should not be indexed also return #\n            if (facets_seo_limits.options && _.difference(tmp_options_keys, facets_seo_limits.options).length) {\n                return '#';\n            }\n            url += tmp_options_vals.length ? this.configuration.facetDelimiters.betweenFacetsAndOptions + tmp_options_vals.join(this.configuration.facetDelimiters.betweenDifferentOptions) : '';\n            if (url && url[0] !== this.configuration.facetDelimiters.betweenDifferentFacets) {\n                url = this.configuration.facetDelimiters.betweenDifferentFacets + url;\n            }\n            return _(url).fixUrl();\n        }    // @method getCategoryUrl Returns the current category url\n,\n        getCategoryUrl: function getCategoryUrl() {\n            return this.categoryUrl;\n        }    // @method getApiParams\n             // Gets the api parameters representing the current status of the object\n,\n        getApiParams: function getApiParams() {\n            var params = {};\n            _.each(this.facets, function (facet) {\n                switch (facet.config.behavior) {\n                case 'range':\n                    var value = typeof facet.value === 'object' ? facet.value : {\n                        from: 0,\n                        to: facet.value\n                    };\n                    params[facet.id + '.from'] = value.from;\n                    params[facet.id + '.to'] = value.to;\n                    break;\n                case 'multi':\n                    params[facet.id] = facet.value.sort().join(',');\n                    // this coma is part of the api call so it should not be removed\n                    break;\n                default:\n                    params[facet.id] = facet.value;\n                }\n            });\n            params.sort = this.options.order;\n            params.limit = this.options.show;\n            params.offset = this.options.show * this.options.page - this.options.show;\n            params.q = this.options.keywords;\n            if (this.isCategoryPage) {\n                params.commercecategoryurl = this.categoryUrl;\n                params.sort = params.sort.replace('relevance', 'commercecategory');\n            }\n            return params;\n        }    // @method cloneForFacetId\n             // retruns a deep copy of this object with a new value for one facet,\n             // if in a name value that is the same as what's in, it will take it out\n,\n        cloneForFacetId: function cloneForFacetId(facet_id, facet_value) {\n            // Using jQuery here because it offers deep cloning\n            var facets = _.toArray(jQuery.extend(true, {}, this.facets)), options = jQuery.extend(true, {}, this.options), current_facet = _.find(facets, function (facet) {\n                    return facet.id === facet_id;\n                });\n            if (current_facet) {\n                if (current_facet.config.behavior === 'multi') {\n                    if (_.indexOf(current_facet.value, facet_value) === -1) {\n                        current_facet.value.push(facet_value);\n                    } else {\n                        current_facet.value = _.without(current_facet.value, facet_value);\n                    }\n                    if (current_facet.value.length === 0) {\n                        facets = _.without(facets, current_facet);\n                    }\n                } else {\n                    if (!_.isEqual(current_facet.value, facet_value)) {\n                        current_facet.value = facet_value;\n                    } else {\n                        facets = _.without(facets, current_facet);\n                    }\n                }\n            }\n            options.page = 1;\n            var translator = new FacetsTranslator(facets, options, this.configuration, this.categoryUrl);\n            if (!current_facet) {\n                translator.parseFacet(facet_id, facet_value);\n            }\n            return translator;\n        }    // @method cloneWithoutFacetId\n             // retruns a deep copy of this object without a facet,\n,\n        cloneWithoutFacetId: function cloneWithoutFacetId(facet_id) {\n            var facets = _.toArray(jQuery.extend(true, {}, this.facets)), options = jQuery.extend(true, {}, this.options);\n            facets = _.without(facets, _.find(facets, function (facet) {\n                return facet.id === facet_id;\n            }));\n            return new FacetsTranslator(facets, options, this.configuration, this.categoryUrl);\n        }    // @method cloneWithoutFacets\n             // Clones the translator removeing all the facets, leaving only options\n,\n        cloneWithoutFacets: function cloneWithoutFacets() {\n            // Creates a new translator with the same params as this;\n            var translator = new FacetsTranslator(this.facets.slice(), this.options, this.configuration, this.categoryUrl);\n            _.each(translator.getAllFacets(), function (facet) {\n                // Categories are not facets, so lets not remove those\n                if (facet.id !== 'commercecategoryname' && facet.id !== 'category') {\n                    translator = translator.cloneWithoutFacetId(facet.id);\n                }\n            });\n            return translator;\n        }    //@method cloneForOption\n,\n        cloneForOption: function cloneForOption(option_id, option_value) {\n            var facets = _.toArray(jQuery.extend(true, {}, this.facets)), options = jQuery.extend(true, {}, this.options);\n            options[option_id] = option_value;\n            return new FacetsTranslator(facets, options, this.configuration, this.categoryUrl);\n        }    // @method cloneForOptions\n             // same as cloneForFacetId but for options instead of facets\n,\n        cloneForOptions: function cloneForOptions(object) {\n            var facets = _.toArray(jQuery.extend(true, {}, this.facets)), options = jQuery.extend(true, {}, this.options, object);\n            return new FacetsTranslator(facets, options, this.configuration, this.categoryUrl);\n        }    // @method cloneWithoutOption\n             // same as cloneWithoutFacetId but for options instead of facets\n,\n        cloneWithoutOption: function cloneWithoutOption(option_id) {\n            var facets = _.toArray(jQuery.extend(true, {}, this.facets)), options = jQuery.extend(true, {}, this.options);\n            delete options[option_id];\n            return new FacetsTranslator(facets, options, this.configuration, this.categoryUrl);\n        }    // @method resetAll\n             // Returns a blank instance of itself\n,\n        resetAll: function resetAll() {\n            return new FacetsTranslator([], {}, this.configuration, false);\n        }    // @method setLabelsFromFacets\n             // This let the translator known about labels the api proportions\n             // Tho this make the translator a bit less API agnostic\n             // this step is totaly optional and it should work regardless of this step\n,\n        setLabelsFromFacets: function setLabelsFromFacets(facets_labels) {\n            this.facetsLabels = facets_labels;\n        }    // @method getLabelForValue\n             // If facets labels have been setted it will try to look for the label for the\n             // [id, value] combination and return it's label, otherways it will return the value\n,\n        getLabelForValue: function getLabelForValue(id, value) {\n            var facet = _.filter(this.facetsLabels || [], function (facet_label) {\n                return facet_label.id === id || facet_label.url === id;\n            });\n            if (facet.length) {\n                var label = _.where(facet[0].values || [], { name: value });\n                // if the value could not be found by name, look for url\n                if (!label.length) {\n                    label = _.where(facet[0].values || [], { url: value });\n                }\n                if (label.length && label[0].label) {\n                    return label[0].label;\n                }\n            }\n            return value;\n        }\n    });\n    return FacetsTranslator;\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module Facets\n// @class Facets.Helper\n// Helps you with the creation of translators\ndefine('Facets.Helper', ['Facets.Translator'], function (Translator) {\n    'use strict';\n    return {\n        settings_stack: []    // @method parseUrl Returns a Facet.Translator for the passed url and configuration @static\n,\n        parseUrl: function (fullurl, configuration, isCategoryPage) {\n            return new Translator(fullurl, null, configuration, isCategoryPage);\n        }    // @method setCurrent @param {Object} settings @static\n,\n        setCurrent: function (settings) {\n            this.settings_stack.push(settings);\n        }    // @method getCurrent @returns {Object} @static\n,\n        getCurrent: function () {\n            return this.settings_stack[this.settings_stack.length - 1];\n        }    // @method getPrevious @returns {Object} @static\n,\n        getPrevious: function () {\n            return this.settings_stack[this.settings_stack.length - 2];\n        }\n    };\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module Facets\ndefine('Facets.FacetedNavigationItem.View', [\n    'SC.Configuration',\n    'facets_faceted_navigation_item.tpl',\n    'Backbone',\n    'Backbone.CompositeView',\n    'Backbone.CollectionView',\n    'underscore',\n    'jQuery',\n    'Bootstrap.Slider'\n], function (Configuration, facets_faceted_navigation_item_tpl, Backbone, BackboneCompositeView, BackboneCollectionView, _, jQuery) {\n    'use strict';\n    // @class Facets.FacetedNavigationItem.View @extends Backbone.View\n    return Backbone.View.extend({\n        template: facets_faceted_navigation_item_tpl,\n        events: {\n            'click [data-action=\"see-more\"]': 'toggleSeeMoreLess',\n            'slide div[data-toggle=\"slider\"]': 'updateRangeValues',\n            'stop div[data-toggle=\"slider\"]': 'updateRangeSelection'\n        },\n        initialize: function () {\n            this.facetId = this.model.get('url') || this.model.get('id');\n            this.facet_config = this.options.translator.getFacetConfig(this.facetId);\n            //this values is configured in the Configuration File (SCA.Shopping.Configuration)\n            if (this.facet_config.template) {\n                this.template = this.facet_config.template;\n            }\n            this.on('afterViewRender', this.renderFacets, this);\n        }    //@method renderFacets\n,\n        renderFacets: function () {\n            this.sliders = this.$('[data-toggle=\"slider\"]').slider();\n            this.$('[data-collapsed=\"true\"]').hide();\n        },\n        destroy: function () {\n            if (this.sliders.data('slider')) {\n                this.sliders.data('slider').stopListen();\n            }\n            Backbone.View.prototype.destroy.apply(this, arguments);\n        },\n        toggleSeeMoreLess: function (event) {\n            var target = jQuery(event.currentTarget), target_see_more = target.find('[data-type=\"see-more\"]'), target_see_less = target.find('[data-type=\"see-less\"]'), target_was_expanded = !!target.data('collapsed');\n            if (target_was_expanded) {\n                target_see_more.show();\n                target_see_less.hide();\n            } else {\n                target_see_more.hide();\n                target_see_less.show();\n            }\n            target.data('collapsed', !target_was_expanded);\n        }    // @method updateRangeValues\n             // Talks to the Bootstrap.Slider.js\n             // Displays the numbers under the slider while you are slider\n,\n        updateRangeValues: function (e, slider) {\n            var parser = this.options.translator.getFacetConfig(this.facetId).parser, start = _.isFunction(parser) ? parser(slider.values.low, true) : slider.values.low, end = _.isFunction(parser) ? parser(slider.values.high, false) : slider.values.high;\n            this.$el.find('span[data-range-indicator=\"start\"]').html(start).end().find('span[data-range-indicator=\"end\"]').html(end);\n        }    // @method updateRangeSelection\n             // Talks to the Bootstrap.Slider.js\n             // Once the user releases the Slider controller this takes care of\n             // generating a new url and of navigating to it\n,\n        updateRangeSelection: function (e, slider) {\n            var translator = this.options.translator, slider_values = slider.values, facet_values = translator.getFacetValue(this.facetId)    // available values for that facet\n, values = _.map(this.model.get('values'), function (item) {\n                    return parseFloat(item.url);\n                });\n            // if the low selected value equals the minimum available value\n            // and the high selected value equals the maximum available value\n            if (_.min(values) === slider_values.low && _.max(values) === slider_values.high) {\n                // then we remove the facet from the selection\n                Backbone.history.navigate(translator.cloneWithoutFacetId(this.facetId).getUrl(), { trigger: true });\n            }    // else, if there are not values selected OR\n                 // the selected from value is different than the slider low value OR\n                 // the selected to value is different than the slider high value\n            else if (!facet_values || parseFloat(facet_values.from) !== slider_values.low || parseFloat(facet_values.to) !== slider_values.high) {\n                // then we navigate to that page\n                Backbone.history.navigate(translator.cloneForFacetId(this.facetId, {\n                    from: slider_values.low.toFixed(2),\n                    to: slider_values.high.toFixed(2)\n                }).getUrl(), { trigger: true });\n            }\n        }    // @method getContext @return {Facets.FacetedNavigationItem.View.Context}\n,\n        getContext: function () {\n            var facet_id = this.facetId, translator = this.options.translator, facet_config = this.facet_config, values = [], range_min = 0, range_max = 0, range_from = 0, range_from_label = '', range_to = 0, range_to_label = '', range_values = [], max_items, display_values, extra_values = [], show_facet, show_remove_link, selected_values = this.options.translator.getFacetValue(facet_id) || [];\n            selected_values = _.isArray(selected_values) ? selected_values : [selected_values];\n            show_remove_link = !!selected_values.length;\n            // Prepears the values for display\n            var original_values = _.isArray(this.model.get('values')) ? this.model.get('values') : [this.model.get('values')];\n            if (facet_config.behavior !== 'range') {\n                _.each(original_values, function (value) {\n                    if (value.url !== '') {\n                        value.isActive = _.contains(selected_values, value.url);\n                        value.link = translator.cloneForFacetId(facet_id, value.url).getUrl();\n                        value.displayName = value.label || decodeURIComponent(value.url) || _('(none)').translate();\n                        value.color = '';\n                        value.isColorTile = false;\n                        value.image = {};\n                        value.isImageTile = false;\n                        if (facet_config.colors) {\n                            value.color = facet_config.colors[value.label] || facet_config.colors.defaultColor;\n                            if (_.isObject(value.color)) {\n                                value.image = value.color;\n                                value.color = '';\n                                value.isImageTile = true;\n                            } else {\n                                value.isColorTile = true;\n                            }\n                        }\n                        values.push(value);\n                    }\n                });\n                max_items = facet_config.max || values.length;\n                display_values = _.first(values, max_items);\n                _(display_values).each(function (value) {\n                    value.isLightColor = _.contains(Configuration.get('layout.lightColors', []), value.label);\n                });\n                extra_values = _.rest(values, max_items);\n                show_facet = !!values.length;\n            } else\n                //if (facet_config.behavior === 'range')\n                {\n                    range_values = _.map(original_values, function (item) {\n                        return parseFloat(item.url);\n                    });\n                    range_min = _.min(range_values);\n                    range_max = _.max(range_values);\n                    show_facet = range_max > range_min;\n                    show_remove_link = this.model.get('max') !== range_max || this.model.get('min') !== range_min;\n                    var translator_value = translator.getFacetValue(facet_id) || {\n                        from: range_min,\n                        to: range_max\n                    };\n                    range_from = translator_value.from;\n                    range_to = translator_value.to;\n                    range_to_label = _.isFunction(facet_config.parser) ? facet_config.parser(range_to, false) : range_to;\n                    range_from_label = _.isFunction(facet_config.parser) ? facet_config.parser(range_from, false) : range_from;\n                }\n            // @class Facets.FacetedNavigationItem.View.Context\n            var context = {\n                //@property {String} htmlId\n                htmlId: _.uniqueId('facetList_')    //@property {String} facetId\n,\n                facetId: facet_id    //@property {Boolean} showFacet\n,\n                showFacet: show_facet    //@property {Boolean} showHeading\n,\n                showHeading: _.isBoolean(facet_config.showHeading) ? facet_config.showHeading : true    //@property {Boolean} isUncollapsible\n,\n                isUncollapsible: !!facet_config.uncollapsible,\n                isCollapsed: !this.facet_config.uncollapsible && this.facet_config.collapsed,\n                isMultiSelect: facet_config.behavior === 'multi'    //@property {Boolean} showRemoveLink\n,\n                showRemoveLink: show_remove_link    //@property {String} removeLink\n,\n                removeLink: translator.cloneWithoutFacetId(facet_id).getUrl()    //@property {String} facetDisplayName\n,\n                facetDisplayName: facet_config.name || facet_id    //@property {Array<Object>} values\n,\n                values: values    //@property {Array<Object>} displayValues\n,\n                displayValues: display_values    //@property {Array<Object>} extraValues\n,\n                extraValues: extra_values    //@property {Boolean} showExtraValues\n,\n                showExtraValues: !!extra_values.length,\n                isRange: facet_config.behavior === 'range'    //@property {Array<Number>} rangeValues\n,\n                rangeValues: range_values    //@property {Number} rangeMin\n,\n                rangeMin: range_min    //@property {Number} rangeMax\n,\n                rangeMax: range_max    //@property {Number} rangeFrom\n,\n                rangeFrom: range_from    //@property {String} rangeFromLabel\n,\n                rangeFromLabel: range_from_label    //@property {Number} rangeTo\n,\n                rangeTo: range_to    //@property {String} rangeToLabel\n,\n                rangeToLabel: range_to_label\n            };\n            // @class Facets.FacetedNavigationItem.View\n            return context;\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module Facets\ndefine('Facets.FacetedNavigation.View', [\n    'Facets.Helper',\n    'Facets.FacetedNavigationItem.View',\n    'Profile.Model',\n    'facets_faceted_navigation.tpl',\n    'SC.Configuration',\n    'Backbone',\n    'Backbone.CompositeView',\n    'Backbone.CollectionView',\n    'underscore'\n], function (FacetsHelper, FacetsFacetedNavigationItemView, ProfileModel, facets_faceted_navigation_tpl, Configuration, Backbone, BackboneCompositeView, BackboneCollectionView, _) {\n    'use strict';\n    // @class Facets.FacetedNavigation.View @extends Backbone.View\n    return Backbone.View.extend({\n        template: facets_faceted_navigation_tpl,\n        initialize: function (options) {\n            BackboneCompositeView.add(this);\n            this.categoryItemId = options.categoryItemId;\n            this.clearAllFacetsLink = options.clearAllFacetsLink;\n            this.hasCategories = options.hasCategories;\n            this.hasItems = options.hasItems;\n            this.hasFacets = options.hasFacets;\n            this.hasCategoriesAndFacets = options.hasCategoriesAndFacets;\n            this.appliedFacets = options.appliedFacets;\n            this.hasFacetsOrAppliedFacets = options.hasFacetsOrAppliedFacets;\n            this.keywords = options.keywords;\n            this.totalProducts = options.totalProducts;\n        },\n        childViews: {\n            'Facets.FacetedNavigationItems': function () {\n                var translator = this.options.translator, ordered_facets = this.options.facets && this.options.facets.sort(function (a, b) {\n                        // Default Priority is 0\n                        return (translator.getFacetConfig(b.url || b.id).priority || 0) - (translator.getFacetConfig(a.url || a.id).priority || 0);\n                    });\n                //if prices aren't to be shown we take out price related facet\n                var hidden_facet_names = Configuration.get('loginToSeePrices.hiddenFacetNames', []);\n                if (ProfileModel.getInstance().hidePrices()) {\n                    ordered_facets = _.reject(ordered_facets, function (item) {\n                        return _.indexOf(hidden_facet_names, item.id) >= 0;\n                    });\n                }\n                return new BackboneCollectionView({\n                    childView: FacetsFacetedNavigationItemView,\n                    viewsPerRow: 1,\n                    collection: new Backbone.Collection(ordered_facets),\n                    childViewOptions: { translator: translator }\n                });\n            }\n        }    // @method getContext\n             // @returns {Facets.FacetedNavigation.View.Context}\n,\n        getContext: function () {\n            // @class Facets.FacetedNavigation.View.Context\n            return {\n                // @property {Number} totalProducts\n                totalProducts: this.totalProducts,\n                isTotalProductsOne: this.totalProducts === 1    // @property {String} keywords\n,\n                keywords: this.keywords,\n                categoryItemId: this.categoryItemId,\n                clearAllFacetsLink: this.clearAllFacetsLink,\n                hasCategories: this.hasCategories,\n                hasItems: this.hasItems,\n                hasFacets: this.hasFacets,\n                hasCategoriesAndFacets: this.hasCategoriesAndFacets,\n                appliedFacets: this.appliedFacets,\n                hasAppliedFacets: this.appliedFacets && this.appliedFacets.length > 0    // @property {Array} hasFacetsOrAppliedFacets\n,\n                hasFacetsOrAppliedFacets: this.hasFacetsOrAppliedFacets\n            };    // @class Facets.FacetedNavigation.View\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module Facets\ndefine('Facets.FacetsDisplay.View', [\n    'Backbone.CollectionView',\n    'facets_facets_display.tpl',\n    'Backbone',\n    'underscore'\n], function (BackboneCollectionView, facets_facets_display_tpl, Backbone, _) {\n    'use strict';\n    // @class Facets.FacetsDisplay.View @extends Backbone.View\n    return Backbone.View.extend({\n        template: facets_facets_display_tpl    // @method getContext @return {Facets.FacetsDisplay.View.Context}\n,\n        getContext: function () {\n            var facets = this.options.facets, translator = this.options.translator;\n            _.each(facets, function (facet) {\n                facet.value = _.isArray(facet.value) ? facet.value : [facet.value];\n            });\n            var facet_values = [];\n            _.each(facets, function (facet) {\n                _.each(facet.value, function (value) {\n                    var value_data = {\n                        facetValueIsObject: _.isObject(value),\n                        from: _.isObject(value) ? _.formatCurrency(value.from) : '',\n                        to: _.isObject(value) ? _.formatCurrency(value.to) : '',\n                        valueLabel: translator.getLabelForValue(facet.id, value),\n                        facetValueUrl: translator.cloneForFacetId(facet.id, value).getUrl(),\n                        facetValue: facet.value\n                    };\n                    facet_values.push(value_data);\n                });\n            });\n            // @class Facets.FacetsDisplay.View.Context\n            return {\n                // @property {Boolean} hasFacets\n                hasFacets: facets.length > 0    // @property {String} clearAllFacetsLink\n,\n                clearAllFacetsLink: translator.cloneWithoutFacets().getUrl()    // @property {Array} values\n,\n                values: facet_values\n            };    // @class Facets.FacetsDisplay.View\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module Facets\ndefine('Facets.ItemListDisplaySelector.View', [\n    'facets_item_list_display_selector.tpl',\n    'Backbone',\n    'underscore'\n], function (facets_item_list_display_selector_tpl, Backbone, _) {\n    'use strict';\n    // @class Facets.ItemListDisplaySelector.View @extends Backbone.View\n    return Backbone.View.extend({\n        template: facets_item_list_display_selector_tpl    // @method getContext @returns {Facets.ItemListDisplaySelector.View.Context}\n,\n        getContext: function () {\n            var option_items = this.options.options, translator = this.options.translator, processed_option_items = [];\n            _.each(option_items, function (option_item) {\n                var processed_option_item = {\n                    configOptionUrl: translator.cloneForOption('display', option_item.id).getUrl(),\n                    isActive: translator.getOptionValue('display') === option_item.id,\n                    isGrid: option_item.id === 'grid',\n                    name: option_item.name,\n                    icon: option_item.icon\n                };\n                processed_option_items.push(processed_option_item);\n            });\n            // @class Facets.ItemListDisplaySelector.View.Context\n            return {\n                // @property {String} configClasses\t\t\t\t\n                configClasses: this.options.configClasses,\n                options: processed_option_items\n            };    // @class Facets.ItemListDisplaySelector.View\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module Facets\ndefine('Facets.ItemListSortSelector.View', [\n    'facets_item_list_sort_selector.tpl',\n    'Profile.Model',\n    'Backbone',\n    'underscore'\n], function (facets_item_list_sort_selector_tpl, ProfileModel, Backbone, _) {\n    'use strict';\n    // @class Facets.ItemListSortSelector.View @extends Backbone.View\n    return Backbone.View.extend({\n        // @property {function} template\n        template: facets_item_list_sort_selector_tpl    // @method getContext @returns {Facets.ItemListSortSelector.View.Context}\n,\n        getContext: function () {\n            var option_items = this.options.options, translator = this.options.translator, processed_option_items = [];\n            //if price display is disabled, left aside the filters about price\n            if (ProfileModel.getInstance().hidePrices()) {\n                option_items = _.filter(option_items, function (item) {\n                    return item.id.search('price') === -1;\n                });\n            }\n            _.each(option_items, function (option_item) {\n                var processed_option_item = {\n                    configOptionUrl: translator.cloneForOptions({\n                        order: option_item.id,\n                        page: 1\n                    }).getUrl(),\n                    isSelected: translator.getOptionValue('order') === option_item.id ? 'selected' : '',\n                    name: option_item.name,\n                    className: option_item.id.replace(':', '-')\n                };\n                processed_option_items.push(processed_option_item);\n            });\n            // @class Facets.ItemListSortSelector.View.Context\n            return {\n                // @property {Array<Object>} options\n                options: processed_option_items\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module Facets\ndefine('Facets.ItemListShowSelector.View', [\n    'facets_item_list_show_selector.tpl',\n    'Backbone',\n    'underscore'\n], function (facets_item_list_show_selector_tpl, Backbone, _) {\n    'use strict';\n    // @class Facets.ItemListShowSelector.View @extends Backbone.View\n    return Backbone.View.extend({\n        template: facets_item_list_show_selector_tpl    // @method getContext @returns {Facets.ItemListShowSelector.View.Context}\n,\n        getContext: function () {\n            var option_items = this.options.options, translator = this.options.translator, processed_option_items = [];\n            _.each(option_items, function (option_item) {\n                var processed_option_item = {\n                    configOptionUrl: translator.cloneForOptions({\n                        show: option_item.items,\n                        page: 1\n                    }).getUrl(),\n                    isSelected: parseInt(translator.getOptionValue('show'), 10) === option_item.items,\n                    name: _(option_item.name).translate(option_item.items),\n                    className: option_item.items\n                };\n                processed_option_items.push(processed_option_item);\n            });\n            // @class Facets.ItemListShowSelector.View.Context\n            return {\n                // @property {Array} options\n                options: processed_option_items\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module Facets\ndefine('Facets.Empty.View', [\n    'SC.Configuration',\n    'facets_empty.tpl',\n    'Utils',\n    'Backbone'\n], function (Configuration, facets_empty_tpl, Utils, Backbone) {\n    'use strict';\n    // @class Facets.Empty.View @extends Backbone.View\n    return Backbone.View.extend({\n        template: facets_empty_tpl    // @method getContext @returns {Facets.Empty.View.Context}\n,\n        getContext: function () {\n            //@class Facets.Empty.View.Context\n            return {\n                // @property {String} keywords\n                keywords: this.options.keywords\n            };    //@classFacets.Empty.View.View\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\ndefine('Facets.Browse.CategoryHeading.View', [\n    'Categories.Utils',\n    'Backbone',\n    'facets_browse_category_heading.tpl'\n], function (CategoriesUtils, Backbone, facetsBrowseCategoryHeadingTpl) {\n    'use strict';\n    return Backbone.View.extend({\n        template: facetsBrowseCategoryHeadingTpl,\n        getContext: function () {\n            var additionalFields = CategoriesUtils.getAdditionalFields(this.model.attributes, 'categories.category.fields');\n            return {\n                // @property {String} name\n                name: this.model.get('name')    // @property {String} banner\n,\n                banner: this.model.get('pagebannerurl')    // @property {String} description\n,\n                description: this.model.get('description')    // @property {String} pageheading\n,\n                pageheading: this.model.get('pageheading') || this.model.get('name')    // @property {Boolean} hasBanner\n,\n                hasBanner: !!this.model.get('pagebannerurl')    // @property {Object} additionalFields\n,\n                additionalFields: additionalFields\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module Facets\ndefine('Facets.CategoryCell.View', [\n    'Categories.Utils',\n    'facets_category_cell.tpl',\n    'Backbone'\n], function (CategoriesUtils, facets_category_cell_tpl, Backbone) {\n    'use strict';\n    // @class Facets.CategoryCell.View @extends Backbone.View\n    return Backbone.View.extend({\n        template: facets_category_cell_tpl    // @method getContext @return Facets.CategoryCell.View.Context\n,\n        getContext: function () {\n            var additionalFields = CategoriesUtils.getAdditionalFields(this.model.attributes, 'categories.subCategories.fields');\n            return {\n                // @property {String} label\n                name: this.model.get('name')    // @property {String} name\n,\n                url: this.model.get('fullurl')    // @property {String} image\n,\n                image: this.model.get('thumbnailurl')    // @property {Boolean} hasImage\n,\n                hasImage: !!this.model.get('thumbnailurl')    // @property {Object} additionalFields\n,\n                additionalFields: additionalFields\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module Facets\ndefine('Facets.FacetedNavigationItemCategory.View', [\n    'Categories.Utils',\n    'SC.Configuration',\n    'facets_faceted_navigation_item_category.tpl',\n    'Backbone',\n    'Backbone.CompositeView',\n    'underscore'\n], function (CategoriesUtils, Configuration, facets_faceted_navigation_item_category_tpl, Backbone, BackboneCompositeView, _) {\n    'use strict';\n    // @class Facets.FacetedNavigationItemCategory.View @extends Backbone.View\n    return Backbone.View.extend({\n        template: facets_faceted_navigation_item_category_tpl,\n        events: { 'click [data-action=\"see-more\"]': 'toggleSeeMoreLess' },\n        initialize: function () {\n            this.categories = this.model && (this.model.get('siblings') || this.model.get('categories')) || [];\n            this.categoryUrl = this.options.categoryUrl;\n            this.on('afterViewRender', this.renderCategories, this);\n        }    //@method renderCategories\n,\n        renderCategories: function () {\n            this.$('[data-collapsed=\"true\"]').hide();\n        },\n        toggleSeeMoreLess: function (event) {\n            var target = this.$(event.currentTarget), target_see_more = target.find('[data-type=\"see-more\"]'), target_see_less = target.find('[data-type=\"see-less\"]'), target_was_expanded = !!target.data('collapsed');\n            if (target_was_expanded) {\n                target_see_more.show();\n                target_see_less.hide();\n            } else {\n                target_see_more.hide();\n                target_see_less.show();\n            }\n            target.data('collapsed', !target_was_expanded);\n        }    // @method getContext @return {Facets.FacetedNavigationItemCategory.View.Context}\n,\n        getContext: function () {\n            var showFacet = this.categories.length, values = [], self = this, showMax = Configuration.get('categories.sideMenu.showMax'), uncollapsible = Configuration.get('categories.sideMenu.uncollapsible'), collapsed = Configuration.get('categories.sideMenu.collapsed');\n            _.each(this.categories, function (category) {\n                values.push({\n                    displayName: category.name,\n                    label: category.name,\n                    link: category.fullurl,\n                    isActive: category.fullurl === self.categoryUrl,\n                    additionalFields: CategoriesUtils.getAdditionalFields(category, 'categories.sideMenu.additionalFields')\n                });\n            });\n            var max = showMax || values.length, displayValues = _.first(values, max), extraValues = _.rest(values, max);\n            var breadcrumb = this.model && (this.model.get('breadcrumb') || []), parentName = '';\n            if (breadcrumb && breadcrumb.length) {\n                var index = breadcrumb.length > 1 ? breadcrumb.length - 2 : breadcrumb.length - 1;\n                parentName = breadcrumb[index].name;\n            }\n            // @class Facets.FacetedNavigationItemCategory.View.Context\n            return {\n                //@property {String} htmlId\n                htmlId: _.uniqueId('commercecategory_')    // @property {String} facetId\n,\n                facetId: 'commercecategory'    // @property {Boolean} showFacet\n,\n                showFacet: !!showFacet    //@property {Array<Object>} values\n,\n                values: values    // @property {Array<Object>} displayValues\n,\n                displayValues: displayValues    //@property {Array<Object>} extraValues\n,\n                extraValues: extraValues    //@property {Boolean} showExtraValues\n,\n                showExtraValues: !!extraValues.length,\n                isUncollapsible: !!uncollapsible    //@property {Boolean} isCollapsed\n,\n                isCollapsed: !uncollapsible && collapsed    //@property {String} parentName\n,\n                parentName: parentName    // @class Facets.FacetedNavigationItemCategory.View\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module Facets\ndefine('Facets.Browse.View', [\n    'SC.Configuration',\n    'LiveOrder.Model',\n    'Facets.Helper',\n    'Categories',\n    'Categories.Utils',\n    'Facets.FacetedNavigation.View',\n    'Facets.FacetedNavigationItem.View',\n    'Facets.FacetsDisplay.View',\n    'Facets.ItemListDisplaySelector.View',\n    'Facets.ItemListSortSelector.View',\n    'Facets.ItemListShowSelector.View',\n    'Facets.ItemCell.View',\n    'Facets.Empty.View',\n    'Facets.Browse.CategoryHeading.View',\n    'Facets.CategoryCell.View',\n    'Facets.FacetedNavigationItemCategory.View',\n    'Facets.Helper',\n    'GlobalViews.Pagination.View',\n    'Tracker',\n    'facets_facet_browse.tpl',\n    'facets_items_collection.tpl',\n    'facets_items_collection_view_cell.tpl',\n    'facets_items_collection_view_row.tpl',\n    'Backbone',\n    'Backbone.CollectionView',\n    'Backbone.CompositeView',\n    'underscore',\n    'jQuery',\n    'Utils',\n    'Bootstrap.Slider'\n], function (Configuration, LiveOrderModel, Helper, Categories, CategoriesUtils, FacetsFacetedNavigationView, FacetsFacetedNavigationItemView, FacetsFacetsDisplayView, FacetsItemListDisplaySelectorView, FacetsItemListSortSelectorView, FacetsItemListShowSelectorView, FacetsItemCellView, FacetsEmptyView, FacetsBrowseCategoryHeadingView, FacetsCategoryCellView, FacetsFacetedNavigationItemCategoryView, FacetsHelper, GlobalViewsPaginationView, Tracker, facets_facet_browse_tpl, facets_items_collection_tpl, facets_items_collection_view_cell_tpl, facets_items_collection_view_row_tpl, Backbone, BackboneCollectionView, BackboneCompositeView, _, jQuery, Utils) {\n    'use strict';\n    // statuses stores the statuses of the collapsible facets\n    var statuses = window.statuses = {}    // collapsable_elements stores the statuses of the collapsible elements. This store elements collapsable that are not facets\n              /*\n\t\teach object should be of the form\n\t\t{\n\t\t\tselector: '' //id of the element that will collapsed/expanded\n\t\t,\tcollapsed: true/false\n\t\t}\n\t\t*/, collapsable_elements = window.collapsable_elements = {};\n    //@class Facets.Browse.View View that handles the item list @extends Backbone.View\n    return Backbone.View.extend({\n        template: facets_facet_browse_tpl,\n        description: _('This is a description').translate(),\n        attributes: {\n            'id': 'facet-browse',\n            'class': 'view facet-browse',\n            'data-root-component-id': 'Facets.Browse.View'\n        },\n        events: {\n            'click [data-toggle=\"facet-navigation\"]': 'toggleFacetNavigation',\n            'click [data-action=\"toggle-filters\"]': 'toggleFilters',\n            'click [data-view=\"Facets.FacetsDisplay\"] a': '_gotoFacets',\n            'click [data-view=\"Facets.FacetedNavigation\"] a': '_gotoFacets',\n            'click [data-view=\"GlobalViews.Pagination\"] a': '_gotoPage',\n            'click [data-view=\"Facets.ItemListDisplaySelector\"] a': '_gotoDisplay',\n            'change [data-view=\"Facets.ItemListShowSelector\"] select': '_gotoShow',\n            'change [data-view=\"Facets.ItemListSortSelector\"] select': '_gotoOrder'\n        },\n        initialize: function (options) {\n            BackboneCompositeView.add(this);\n            this.statuses = statuses;\n            this.collapsable_elements = collapsable_elements;\n            this.translator = this.setOptionsTranslator(options.translator);\n            this.application = options.application;\n            this.itemsDisplayOptions = Utils.deepCopy(options.application.getConfig('itemsDisplayOptions'));\n            this.resultsPerPage = Utils.deepCopy(options.application.getConfig('resultsPerPage'));\n            this.sortOptions = Utils.deepCopy(options.application.getConfig('sortOptions'));\n            _.each(this.resultsPerPage, function (perPage) {\n                perPage.id = String(perPage.items);\n            });\n            this.cart = LiveOrderModel.getInstance();\n            this.collapsable_elements['facet-header'] = this.collapsable_elements['facet-header'] || {\n                selector: 'this.collapsable_elements[\"facet-header\"]',\n                collapsed: false\n            };\n        }    // @method getPagination Return the info of the current options in the PLP\n             // @return {Object}\n,\n        getPagination: function getPagination() {\n            return {\n                currentPage: this.translator.getOptionValue('page'),\n                pageCount: this.totalPages,\n                itemCount: this.model.get('total'),\n                pageSize: parseInt(this.translator.getOptionValue('show'), 10),\n                sorting: this.translator.getOptionValue('order'),\n                display: this.translator.getOptionValue('display'),\n                filters: this._getFacetsTranslator(this.translator),\n                searchText: this.translator.getOptionValue('keywords')\n            };\n        },\n        _setEvent: function _setEvent(options) {\n            this.setEvent(options.eventName, options.value).fail(function () {\n                if (options.event.currentTarget.nodeName === 'SELECT') {\n                    options.event.currentTarget.value = options.valueOriginal;\n                }\n                options.event.stopPropagation();\n                options.event.preventDefault();\n            });\n        },\n        _getFacetsTranslator: function (translator) {\n            var facets = {}, allFacets = translator.getAllFacets();\n            _.each(allFacets, function (facet) {\n                facets[facet.url] = facet.value;\n            });\n            return facets;\n        },\n        _gotoFacets: function _gotoFacet(e) {\n            var url = e.currentTarget.href, translator = FacetsHelper.parseUrl(url, this.translator.configuration, !!this.model.get('category'));\n            this._setEvent({\n                event: e,\n                eventName: 'Filters',\n                value: this._getFacetsTranslator(translator)\n            });\n        },\n        _gotoDisplay: function gotoDisplay(e) {\n            var default_value = _.find(this.itemsDisplayOptions, function (result) {\n                    return result.isDefault;\n                }).id, display = Utils.getParameterByName(e.currentTarget.href, 'display') || default_value;\n            this._setEvent({\n                event: e,\n                eventName: 'Display',\n                value: display\n            });\n        },\n        _gotoShow: function gotoShow(e) {\n            var original = this.translator.getUrl(), default_value = _.find(this.resultsPerPage, function (result) {\n                    return result.isDefault;\n                }).id, show = parseInt(Utils.getParameterByName(e.currentTarget.value, 'show'), 10) || default_value;\n            this._setEvent({\n                event: e,\n                eventName: 'PageSize',\n                value: show,\n                valueOriginal: original\n            });\n        },\n        _gotoOrder: function gotoOrder(e) {\n            var original = this.translator.getUrl(), default_value = _.find(this.sortOptions, function (result) {\n                    return result.isDefault;\n                }).id, order = Utils.getParameterByName(e.currentTarget.value, 'order') || default_value;\n            this._setEvent({\n                event: e,\n                eventName: 'Sorting',\n                value: order,\n                valueOriginal: original\n            });\n        },\n        _gotoPage: function gotoPage(e) {\n            var order = parseInt(Utils.getParameterByName(e.currentTarget.href, 'page'), 10) || 1;\n            this._setEvent({\n                event: e,\n                eventName: 'CurrentPage',\n                value: order\n            });\n        },\n        setEvent: function setEvent(event_name, value) {\n            var self = this, pagination = this.getPagination();\n            pagination['set' + event_name] = value;\n            return this.model.cancelableTrigger('before:FacetModel.set' + event_name, pagination).done(function () {\n                Backbone.history.once('route', function () {\n                    var pagination = self.getPagination();\n                    pagination[event_name.charAt(0).toLowerCase() + event_name.slice(1)] = value;\n                    self.model.cancelableTrigger('after:FacetModel.set' + event_name, pagination);\n                });\n            });\n        }    //@method toggleFilters\n,\n        toggleFilters: function (e) {\n            e.preventDefault();\n            var current_target = jQuery(e.currentTarget);\n            this.collapsable_elements['facet-header'].collapsed = !this.collapsable_elements['facet-header'].collapsed;\n            current_target.find('.filter-icon').toggleClass('icon-chevron-up');\n            current_target.parents('[data-type=\"accordion\"]').toggleClass('well').toggleClass('facet-header-white-well').find('[data-type=\"accordion-body\"]').stop().slideToggle();\n        }    //@method getPath\n,\n        getPath: function () {\n            var base_url = window.location.protocol + '//' + window.location.hostname;\n            if (this.model.get('category')) {\n                var category_canonical = this.model.get('category').get('canonical') || this.model.get('category').get('fullurl');\n                return (category_canonical.indexOf('/') === 0 ? base_url : '') + category_canonical;\n            } else {\n                var canonical = base_url + '/' + Backbone.history.fragment, index_of_query = canonical.indexOf('?');\n                // !~ means: indexOf == -1\n                return !~index_of_query ? canonical : canonical.substring(0, index_of_query);\n            }\n        }    //@method getCanonical\n,\n        getCanonical: function () {\n            var canonical_url = this.getPath(), current_page = this.translator.getOptionValue('page');\n            if (current_page > 1) {\n                canonical_url += '?page=' + current_page;\n            }\n            return canonical_url;\n        }    //@method getRelPrev\n,\n        getRelPrev: function () {\n            var previous_page_url = this.getPath(), current_page = this.translator.getOptionValue('page');\n            if (current_page > 1) {\n                if (current_page === 2) {\n                    return previous_page_url;\n                }\n                if (current_page > 2) {\n                    return previous_page_url += '?page=' + (current_page - 1);\n                }\n            }\n            return null;\n        }    //@method getRelNext\n,\n        getRelNext: function () {\n            var next_page_url = this.getPath(), current_page = this.translator.getOptionValue('page');\n            if (current_page < this.totalPages) {\n                return next_page_url += '?page=' + (current_page + 1);\n            }\n            return null;\n        }    //@method formatFacetTitle: accepts a facet object and returns a string formatted to be displayed on the document's title according with user facet configuration property titleToken\n             //@param {Object} facet @returns {String}\n,\n        formatFacetTitle: function (facet) {\n            var defaults = {\n                range: '$(2): $(0) to $(1)',\n                multi: '$(1): $(0)',\n                single: '$(1): $(0)'\n            };\n            if (!facet.config.titleToken) {\n                facet.config.titleToken = defaults[facet.config.behavior] || defaults.single;\n            }\n            if (_.isFunction(facet.config.titleToken)) {\n                return facet.config.titleToken(facet);\n            } else if (facet.config.behavior === 'range') {\n                return _(facet.config.titleToken).translate(facet.value.to, facet.value.from, facet.config.name);\n            } else if (facet.config.behavior === 'multi') {\n                var buffer = [];\n                _.each(facet.value, function (val) {\n                    buffer.push(val);\n                });\n                return _(facet.config.titleToken).translate(buffer.join(', '), facet.config.name);\n            } else {\n                var value = this.translator.getLabelForValue(facet.config.id, facet.value);\n                return _(facet.config.titleToken).translate(value, facet.config.name);\n            }\n        }    // @method getTitle overrides Backbone.Views.getTitle\n,\n        getTitle: function () {\n            if (this.title) {\n                return this.title;\n            }\n            var facets = this.options.translator.facets, category = this.model.get('category'), title = category ? category.get('pagetitle') || _.pluck(this.getBreadcrumbPages(), 'text').join(' > ') : this.title;\n            if (facets && facets.length) {\n                var buffer = [], facet = null;\n                for (var i = 0; i < facets.length; i++) {\n                    facet = facets[i];\n                    buffer.push(this.formatFacetTitle(facet));\n                    if (i < facets.length - 1) {\n                        buffer.push(facet.config.titleSeparator || ', ');\n                    }\n                }\n                title = title ? title + ' - ' : '';\n                title = this.application.getConfig('searchTitlePrefix', '') + buffer.join('') + this.application.getConfig('searchTitleSuffix', '');\n            } else if (this.translator.getOptionValue('keywords')) {\n                title = _('Search results for \"$(0)\"').translate(this.translator.getOptionValue('keywords'));\n            } else {\n                title = title || this.application.getConfig('defaultSearchTitle', '');\n            }\n            // Update the meta tag 'twitter:title'\n            this.setMetaTwitterTitle(title);\n            return title;\n        }    // @method getMetaDescription Get view's SEO attributes @return {String}\n,\n        getMetaDescription: function () {\n            var category = this.model.get('category');\n            return category && category.get('metadescription') || this.metaDescription;\n        }    // @method getMetaKeywords @return {String}\n,\n        getMetaKeywords: function () {\n            var category = this.model.get('category');\n            return category && category.get('metakeywords') || this.metaKeywords;\n        },\n        getAddToHead: function () {\n            var category = this.model.get('category');\n            return category && category.get('addtohead') || this.addToHead;\n        }    // @method setMetaTwitterTitle @param {Strnig}title\n,\n        setMetaTwitterTitle: function (title) {\n            var seo_twitter_title = jQuery('meta[name=\"twitter:title\"]');\n            seo_twitter_title && seo_twitter_title.attr('content', title);\n        }    //@method setOptionsTranslator Set up the default option for displaying the facets.\n             //If we are in a small device, we've got to omit the 'grid' display option,\n             //for it is not showing in this kind of devices. We must change it for 'table'\n             //@param {Facets.Translator} translator\n             //@return {Facets.Translator}\n,\n        setOptionsTranslator: function (translator) {\n            if (translator.options.display === 'grid' && _.isPhoneDevice()) {\n                translator.options.display = 'table';\n            }\n            return translator;\n        }    // @method showContent overrides Backbone.View.showContent to works with the title to find the proper wording and calls the layout.showContent\n,\n        showContent: function () {\n            // If its a free text search it will work with the title\n            var self = this, keywords = this.translator.getOptionValue('keywords'), resultCount = this.model.get('total');\n            if (keywords) {\n                keywords = decodeURIComponent(keywords);\n                if (resultCount > 0) {\n                    this.subtitle = resultCount > 1 ? _('Results for \"$(0)\"').translate(keywords) : _('Result for \"$(0)\"').translate(keywords);\n                } else {\n                    this.subtitle = _('We couldn\\'t find any items that match \"$(0)\"').translate(keywords);\n                }\n            }\n            this.totalPages = Math.ceil(resultCount / this.translator.getOptionValue('show'));\n            this.application.getLayout().showContent(this).done(function () {\n                if (jQuery.fn.scPush) {\n                    self.$el.find('[data-action=\"pushable\"]').scPush({ target: 'tablet' });\n                }\n                Tracker.getInstance().trackEvent({\n                    category: 'SearchItem-end',\n                    action: 'render',\n                    value: 1\n                });\n            });\n        },\n        render: function () {\n            var list_type = 'Facets';\n            if (this.model.get('category')) {\n                list_type = 'Category';\n            } else if (this.translator.getOptionValue('keywords')) {\n                list_type = 'Search';\n            }\n            Tracker.getInstance().trackProductList(this.model.get('items'), list_type);\n            this._render();\n        }    // @method getBreadcrumbPages\n             // It will generate an array suitable to pass it to the breadcrumb macro\n             // It looks in the category facet value\n             // @return {Array<Object>}\n,\n        getBreadcrumbPages: function () {\n            var breadcrumb = [];\n            if (this.model.get('category')) {\n                var list = this.model.get('category').get('breadcrumb'), self = this;\n                _.each(list, function (bread) {\n                    breadcrumb.push({\n                        'text': bread.name,\n                        'href': bread.fullurl,\n                        'additionalFields': CategoriesUtils.getAdditionalFields(self.model.get('category').attributes, 'categories.breadcrumb.fields')\n                    });\n                });\n                return breadcrumb;\n            } else if (this.translator.getOptionValue('keywords')) {\n                breadcrumb.push({\n                    href: '#',\n                    text: _('Search Results').translate()\n                });\n            } else {\n                breadcrumb.push({\n                    href: '#',\n                    text: _('Shop').translate()\n                });\n            }\n            return breadcrumb;\n        }    // @method toggleFacetNavigation Hides/Shows the facet navigation area\n,\n        toggleFacetNavigation: function () {\n            this.$el.toggleClass('narrow-by');\n            this.toggleNavigationListener(this.$el.hasClass('narrow-by'));\n        }    // @method toggleNavigationListener\n             // adds/removes event listeners to the HTML to hide the facet navigation area\n             // @param {Boolean} isOn\n,\n        toggleNavigationListener: function (isOn) {\n            var self = this, touch_started = null;\n            // turn listeners on\n            if (isOn) {\n                jQuery('html')    // we save the time when the touchstart happened\n.on('touchstart.narrow-by', function () {\n                    touch_started = new Date().getTime();\n                })    // code for touchend and mousdown is the same\n.on('touchend.narrow-by mousedown.narrow-by', function (e) {\n                    // if there wasn't a touch event, or the time difference between\n                    // touch start and touch end is less that 200 miliseconds\n                    // (this is to allow scrolling without closing the facet navigation area)\n                    if (!touch_started || new Date().getTime() - touch_started < 200) {\n                        var $target = jQuery(e.target);\n                        // if we are not touching the narrow by button or the facet navigation area\n                        if (!$target.closest('[data-toggle=\"facet-navigation\"]').length && !$target.closest('#faceted-navigation').length) {\n                            // we hide the navigation\n                            self.toggleFacetNavigation();\n                        }\n                    }\n                });\n            } else {\n                jQuery('html')    // if the navigation area is hidden, we remove the event listeners from the HTML\n.off('mousedown.narrow-by touchstart.narrow-by touchend.narrow-by');\n            }\n        },\n        contextData: {\n            'itemList': function () {\n                return Utils.deepCopy(this.model.get('items'));\n            },\n            'category': function () {\n                return Utils.deepCopy(this.model.get('category'));\n            }\n        },\n        childViews: {\n            'Facets.FacetedNavigation': function (options) {\n                var exclude = _.map((options.excludeFacets || '').split(','), function (facet_id_to_exclude) {\n                        return jQuery.trim(facet_id_to_exclude);\n                    }), has_categories = !!(this.category && this.category.categories), has_items = this.model.get('items').length, has_facets = has_items && this.model.get('facets').length, applied_facets = this.translator.cloneWithoutFacetId('category').facets, has_applied_facets = applied_facets.length;\n                return new FacetsFacetedNavigationView({\n                    categoryItemId: this.category && this.category.itemid,\n                    clearAllFacetsLink: this.translator.cloneWithoutFacets().getUrl(),\n                    hasCategories: has_categories,\n                    hasItems: has_items    // facets box is removed if don't find items\n,\n                    hasFacets: has_facets,\n                    hasCategoriesAndFacets: has_categories && has_facets    // Categories are not a real facet, so lets remove those\n,\n                    appliedFacets: applied_facets,\n                    hasFacetsOrAppliedFacets: has_facets || has_applied_facets    //,\ttranslatorUrl: this.translator.getUrl()\n,\n                    translator: this.translator,\n                    facets: _.filter(this.model.get('facets'), function (facet) {\n                        return !_.contains(exclude, facet.id);\n                    }),\n                    totalProducts: this.model.get('total'),\n                    keywords: this.translator.getOptionValue('keywords')\n                });\n            },\n            'Facets.FacetsDisplay': function () {\n                var facets = this.translator.cloneWithoutFacetId('category').getAllFacets().sort(function (a, b) {\n                    return b.config.priority - a.config.priority;\n                });\n                return new FacetsFacetsDisplayView({\n                    facets: facets,\n                    translator: this.translator\n                });\n            },\n            'Facets.ItemListDisplaySelector': function () {\n                return new FacetsItemListDisplaySelectorView({\n                    configClasses: 'pull-right',\n                    options: this.itemsDisplayOptions,\n                    translator: this.translator\n                });\n            },\n            'Facets.ItemListSortSelector': function () {\n                return new FacetsItemListSortSelectorView({\n                    options: this.sortOptions,\n                    translator: this.translator\n                });\n            }    //Show 'XX products per page' View\n,\n            'Facets.ItemListShowSelector': function () {\n                return new FacetsItemListShowSelectorView({\n                    options: this.resultsPerPage,\n                    translator: this.translator\n                });\n            }    //Extra Facet filter View\n,\n            'Facets.FacetedNavigation.Item': function (options) {\n                var facet_config = this.translator.getFacetConfig(options.facetId), contructor_options = {\n                        model: new Backbone.Model(_.findWhere(this.model.get('facets'), { id: options.facetId })),\n                        translator: this.translator\n                    };\n                if (facet_config.template) {\n                    contructor_options.template = facet_config.template;\n                }\n                return new FacetsFacetedNavigationItemView(contructor_options);\n            },\n            'Facets.Items': function () {\n                var self = this, display_option = _.find(this.itemsDisplayOptions, function (option) {\n                        return option.id === self.options.translator.getOptionValue('display');\n                    });\n                return new BackboneCollectionView({\n                    childTemplate: display_option.template,\n                    childView: FacetsItemCellView,\n                    childViewOptions: { application: this.application },\n                    viewsPerRow: parseInt(display_option.columns, 10),\n                    collection: this.model.get('items'),\n                    cellTemplate: facets_items_collection_view_cell_tpl,\n                    rowTemplate: facets_items_collection_view_row_tpl,\n                    template: facets_items_collection_tpl,\n                    context: { keywords: this.translator.getOptionValue('keywords') }\n                });\n            },\n            'Facets.Items.Empty': function () {\n                return new FacetsEmptyView({ keywords: this.translator.getOptionValue('keywords') });\n            },\n            'GlobalViews.Pagination': function () {\n                var translator = this.translator;\n                return new GlobalViewsPaginationView(_.extend({\n                    currentPage: translator.getOptionValue('page'),\n                    totalPages: this.totalPages,\n                    pager: function (page) {\n                        return translator.cloneForOption('page', page).getUrl();\n                    }\n                }, Configuration.defaultPaginationSettings));\n            },\n            'Facets.Browse.CategoryHeading': function () {\n                return new FacetsBrowseCategoryHeadingView({\n                    model: this.model.get('category'),\n                    showDescription: this.translator.cloneWithoutFacetId('category').getAllFacets().length === 0\n                });\n            },\n            'Facets.CategoryCells': function () {\n                return new BackboneCollectionView({\n                    childView: FacetsCategoryCellView,\n                    collection: this.model.get('category') ? this.model.get('category').get('categories') : []\n                });\n            },\n            'Facets.CategorySidebar': function () {\n                return new FacetsFacetedNavigationItemCategoryView({\n                    model: this.model.get('category'),\n                    categoryUrl: this.translator.getCategoryUrl()\n                });\n            }\n        }    //@method getContext @returns {Facets.Browse.View.Context}\n,\n        getContext: function () {\n            var hasSelectedFacets = this.translator.cloneWithoutFacetId('category').getAllFacets().length, hasSubcategories = this.model.get('category') ? this.model.get('category').get('categories').length : false, hasItems = this.model.get('items') && this.model.get('items').length > 0;\n            // @class Facets.Browse.View.Context\n            return {\n                // @property {Number} total\n                total: this.model.get('total')    // @property {Boolean} isTotalProductsOne\n,\n                isTotalProductsOne: this.model.get('total') === 1    // @property {String} title\n,\n                title: this.getTitle()    // @property {Boolean} hasItemsAndFacets\n,\n                hasItemsAndFacets: !!(hasItems && this.model.get('facets').length)    // @property {Boolean} collapseHeader\n,\n                collapseHeader: !!this.collapsable_elements['facet-header'].collapsed    // @property {String} keywords\n,\n                keywords: this.translator.getOptionValue('keywords')    // @property {Boolean} showResults\n,\n                showResults: _.isNull(this.translator.getOptionValue('keywords')) ? true : this.model.get('total') > 0    // @property {Boolean} isEmptyList\n,\n                isEmptyList: this.model.get('total') <= 0    // @property {Boolean} isCategory\n,\n                isCategory: !!this.model.get('category')    // @property {Boolean} showItems\n,\n                showItems: hasItems || !hasItems && hasSelectedFacets || !(!hasItems && !hasSelectedFacets && hasSubcategories)\n            };    // @class Facets.Browse.View\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module Categories\ndefine('Categories.Model', [\n    'Backbone.CachedModel',\n    'underscore',\n    'Utils'\n], function (BackboneCachedModel, _, Utils) {\n    'use strict';\n    var original_fetch = BackboneCachedModel.prototype.fetch;\n    // @class Categories.Model @extends Backbone.CachedModel\n    // Connects to the search api to get all the items and the facets\n    // A Model Contains a Collection of items and the list of facet groups with its values\n    return BackboneCachedModel.extend({\n        url: Utils.getAbsoluteUrl('services/Categories.Service.ss'),\n        options: {},\n        initialize: function () {\n        }    // @method fetch overrides fetch so we make sure that the cache is set to true, so we wrap it\n,\n        fetch: function (options) {\n            options = _.extend(options || {}, this.options);\n            options.cache = true;\n            return original_fetch.apply(this, arguments);\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module Facets\ndefine('Facets.Router', [\n    'Facets.Browse.View',\n    'Facets.Helper',\n    'Facets.Model',\n    'Categories',\n    'Categories.Model',\n    'AjaxRequestsKiller',\n    'Profile.Model',\n    'underscore',\n    'Backbone',\n    'jQuery',\n    'SC.Configuration'\n], function (BrowseView, Helper, Model, Categories, CategoriesModel, AjaxRequestsKiller, ProfileModel, _, Backbone, jQuery, Configuration) {\n    'use strict';\n    // @class Facets.Router Mixes the Translator, Model and View @extends Backbone.Router\n    return Backbone.Router.extend({\n        initialize: function (application) {\n            this.application = application;\n            this.translatorConfig = application.translatorConfig;\n        },\n        addUrl: function (urls, functionToCall) {\n            if (urls.length) {\n                urls = _.map(urls, function (url) {\n                    return url.replace(/^\\//, '');\n                });\n                var rootRegex = '^\\\\b(' + urls.join('|') + ')\\\\b$', regex = '^\\\\b(' + urls.join('|') + ')\\\\b[\\\\' + Configuration.get('facetDelimiters.betweenFacetNameAndValue') + '\\\\?].*$';\n                this.route(new RegExp(rootRegex), functionToCall);\n                this.route(new RegExp(regex), functionToCall);\n            }\n        }    //@method getFacetsAliasesMapping @param {Array<Object>} corrections\n,\n        getFacetsAliasesMapping: function (corrections) {\n            var facets_aliases_mapping = {};\n            _.each(corrections, function (correction) {\n                facets_aliases_mapping[correction.usedAlias] = {\n                    url: correction.url,\n                    type: correction.type ? correction.type : ''\n                };\n            });\n            return facets_aliases_mapping;\n        },\n        unaliasUrlHelper: function (facet_tokens, facets_aliases_mapping, separator_between_facets, separator_between_facet_name_and_value) {\n            var translated_facets = '';\n            while (facet_tokens.length > 0) {\n                var facet_name = facet_tokens.shift(), facet_value = facet_tokens.shift();\n                if (_.isUndefined(facet_name) || _.isUndefined(facet_value)) {\n                    continue;\n                }\n                var facet_name_correction = facets_aliases_mapping[facet_name], facet_value_correction = facets_aliases_mapping[facet_value]    // Just double check if unalias is correct... not undefined and unalias type matches with the url component being analyzed!\n, facet_name_correction_url = facet_name_correction && facet_name_correction.type.toUpperCase() === 'FACET' ? facet_name_correction.url : null, facet_value_correction_url = facet_value_correction && facet_value_correction.type.toUpperCase() === 'FACET_VALUE' ? facet_value_correction.url : null;\n                if (facet_name_correction_url && facet_value_correction_url) {\n                    translated_facets += facet_name_correction_url + separator_between_facet_name_and_value + facet_value_correction_url;\n                } else if (facet_name_correction_url && !facet_value_correction_url) {\n                    translated_facets += facet_name_correction_url + separator_between_facet_name_and_value + facet_value;\n                } else if (!facet_name_correction_url && facet_value_correction_url) {\n                    translated_facets += facet_name + separator_between_facet_name_and_value + facet_value_correction_url;\n                } else {\n                    translated_facets += facet_name + separator_between_facet_name_and_value + facet_value;\n                }\n                if (facet_tokens.length > 0) {\n                    translated_facets += separator_between_facets;\n                }\n            }\n            return translated_facets;\n        }    //@method unaliasUrl @param {String} aliased_url @param {Array<Object>} corrections\n,\n        unaliasUrl: function (aliased_url, corrections) {\n            if (aliased_url.indexOf('http://') === 0 || aliased_url.indexOf('https://') === 0) {\n                throw new Error('URL must be relative');\n            }\n            aliased_url = aliased_url[0] === '/' ? aliased_url.substr(1) : aliased_url;\n            var facet_delimiters = this.translatorConfig.facetDelimiters, facets_n_options = aliased_url.split(facet_delimiters.betweenFacetsAndOptions), facets = facets_n_options[0] && facets_n_options[0] !== this.translatorConfig.fallbackUrl ? facets_n_options[0] : '', options = facets_n_options[1] || '', facet_tokens = facets.split(new RegExp('[\\\\' + facet_delimiters.betweenDifferentFacets + '\\\\' + facet_delimiters.betweenFacetNameAndValue + ']+', 'ig')), facets_aliases_mapping = this.getFacetsAliasesMapping(corrections), unaliased_url = this.unaliasUrlHelper(facet_tokens, facets_aliases_mapping, facet_delimiters.betweenDifferentFacets, facet_delimiters.betweenFacetNameAndValue);\n            if (options) {\n                var option_tokens = [];\n                options.replace(new RegExp('([^' + facet_delimiters.betweenFacetsAndOptions + facet_delimiters.betweenOptionNameAndValue + facet_delimiters.betweenDifferentOptions + ']+)(' + facet_delimiters.betweenOptionNameAndValue + '([^' + facet_delimiters.betweenDifferentOptions + ']*))?', 'ig'), function ($0, $1, $2, $3) {\n                    option_tokens.push($1);\n                    option_tokens.push($3);\n                });\n                var unaliased_options = this.unaliasUrlHelper(option_tokens, facets_aliases_mapping, facet_delimiters.betweenDifferentOptions, facet_delimiters.betweenOptionNameAndValue);\n                unaliased_url = unaliased_url !== '' ? unaliased_url : this.translatorConfig.fallbackUrl;\n                unaliased_url += facet_delimiters.betweenFacetsAndOptions + unaliased_options;\n            }\n            return unaliased_url;\n        },\n        showPage: function (isCategoryPage) {\n            var self = this, facetModel = new Model(), fullurl = Backbone.history.fragment, models = [facetModel], translator = Helper.parseUrl(fullurl, this.translatorConfig, isCategoryPage);\n            facetModel.options = {\n                data: translator.getApiParams(),\n                killerId: AjaxRequestsKiller.getKillerId(),\n                pageGeneratorPreload: true\n            };\n            //if prices aren't to be shown we take out price related facet\n            //and clean up the url\n            if (ProfileModel.getInstance().hidePrices()) {\n                translator = translator.cloneWithoutFacetId('onlinecustomerprice');\n                Backbone.history.navigate(translator.getUrl());\n            }\n            if (isCategoryPage) {\n                var categoryModel = new CategoriesModel();\n                categoryModel.options = {\n                    data: { 'fullurl': translator.getCategoryUrl() },\n                    killerId: AjaxRequestsKiller.getKillerId()\n                };\n                facetModel.set('category', categoryModel);\n                models.push(categoryModel);\n            }\n            jQuery.when.apply(null, _.invoke(models, 'fetch', {})).then(function (facetResponse) {\n                facetResponse = isCategoryPage ? facetResponse[0] : facetResponse;\n                if (facetResponse.corrections && facetResponse.corrections.length > 0) {\n                    var unaliased_url = self.unaliasUrl(fullurl, facetResponse.corrections);\n                    if (SC.ENVIRONMENT.jsEnvironment === 'server') {\n                        nsglobal.statusCode = 301;\n                        nsglobal.location = '/' + unaliased_url;\n                    } else {\n                        Backbone.history.navigate('#' + unaliased_url, { trigger: true });\n                    }\n                } else {\n                    var view = new BrowseView({\n                        translator: translator,\n                        translatorConfig: self.translatorConfig,\n                        application: self.application,\n                        model: facetModel\n                    });\n                    translator.setLabelsFromFacets(facetModel.get('facets') || []);\n                    view.showContent();\n                }\n            });\n        }    // @method categoryLoading This handles all the routes of the category list\n,\n        categoryLoading: function () {\n            this.showPage(true);\n        }    // @method facetLoading This handles all the routes of the item list\n,\n        facetLoading: function () {\n            this.showPage();\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module Categories\ndefine('Categories.Collection', [\n    'Backbone',\n    'underscore',\n    'Utils',\n    'SC.Configuration'\n], function (Backbone, _, Utils, Configuration) {\n    'use strict';\n    // @class Categories.Collection @extends Backbone.Collection\n    return Backbone.Collection.extend({\n        url: function () {\n            var url = _.addParamsToUrl(Utils.getAbsoluteUrl('services/Categories.Service.ss'), { 'menuLevel': Configuration.get('categories.menuLevel') });\n            return url;\n        },\n        initialize: function () {\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n/*\n\n@module CMSadapter\n\n@class CMSadapter.Impl.Categories the class that do the actual integration job using the CMS API. Usage:\n\n\tvar adapter = new CMSadapterImpl(application, CMS);\n\tadapter.init();\n\nThis will start the cms adapter, for example listening to the ESC key to be pressed to load the CMS\nadministrator and collaborating with with it to accomplish use cases (mostly landing pages).\n\nIn addition the PageRouter must be initialized to implement the full pages experience.\n\n*/\ndefine('CMSadapter.Impl.Categories', [\n    'Facets.Model',\n    'Facets.Helper',\n    'Facets.Browse.View',\n    'Facets.Router',\n    'Categories',\n    'Categories.Model',\n    'Categories.Collection',\n    'SC.Configuration',\n    'AjaxRequestsKiller',\n    'jQuery',\n    'underscore',\n    'Backbone'\n], function (FacetsModel, FacetsHelper, FacetsBrowseView, FacetsRouter, Categories, CategoriesModel, CategoriesCollection, Configuration, AjaxRequestsKiller, jQuery, _, Backbone) {\n    'use strict';\n    function AdapterCategories(application, CMS) {\n        this.CMS = CMS;\n        this.application = application;\n        this.listenForCMS();\n    }\n    AdapterCategories.prototype.listenForCMS = jQuery.noop;\n    AdapterCategories.prototype._convertToCategory = function _convertToCategory(categoryData) {\n        //TODO: manage overrides\n        return {\n            'name': categoryData.name,\n            'description': categoryData.description,\n            'pagetitle': categoryData.page_title,\n            'pageheading': categoryData.page_header,\n            'pagebanner': '',\n            'addtohead': categoryData.add_to_head,\n            'metakeywords': categoryData.meta_keywords,\n            'metadescription': categoryData.meta_description,\n            'categories': [],\n            'breadcrumb': [{\n                    'name': categoryData.name,\n                    'fullurl': ''\n                }]\n        };    /*\n\t\t//TODO: manage add sub category\n\n\t\tvar category = this.category ? this.category : { 'breadcrumb': [{ 'name': '', 'fullurl': '' }] };\n\n\t\tcategory.name = categoryData.overrides && categoryData.overrides.name ? categoryData.overrides.name : categoryData.name;\n\t\tcategory.description = categoryData.overrides && categoryData.overrides.description ? categoryData.overrides.description : categoryData.description;\n\t\tcategory.pagetitle = categoryData.overrides && categoryData.overrides.page_title ? categoryData.overrides.page_title : categoryData.page_title;\n\t\tcategory.pageheading = categoryData.overrides && categoryData.overrides.page_header ? categoryData.overrides.page_header : categoryData.page_header;\n\t\tcategory.addtohead = categoryData.overrides && categoryData.overrides.add_to_head ? categoryData.overrides.add_to_head : categoryData.add_to_head;\n\t\tcategory.metakeywords = categoryData.overrides && categoryData.overrides.meta_keywords ? categoryData.overrides.meta_keywords : categoryData.meta_keywords;\n\t\tcategory.metadescription = categoryData.overrides && categoryData.overrides.meta_description ? categoryData.overrides.meta_description : categoryData.meta_description;\n\n\t\tcategory.breadcrumb[category.breadcrumb.length - 1].name = category.name;\n\n\t\treturn category;\n\n\t\t*/\n    };\n    AdapterCategories.prototype.showCategory = function (categoryData, functionToCallback) {\n        var self = this;\n        var translatorConfig = this.application.translatorConfig;\n        var fullurl = categoryData.urls && categoryData.urls.length && categoryData.urls[0] === 'temp_cms_new_category_url' ? '' : Backbone.history.fragment;\n        var translator = FacetsHelper.parseUrl(fullurl, translatorConfig, true);\n        var categoryModel = new CategoriesModel(this._convertToCategory(categoryData));\n        var facetsModel = new FacetsModel({\n            'items': [],\n            'facets': [],\n            'total': 0\n        });\n        facetsModel.set('category', categoryModel);\n        facetsModel.fetch({\n            data: translator.getApiParams(),\n            killerId: AjaxRequestsKiller.getKillerId()\n        }).done(function () {\n            var view = new FacetsBrowseView({\n                translator: translator,\n                translatorConfig: translatorConfig,\n                application: self.application,\n                model: facetsModel\n            });\n            translator.setLabelsFromFacets(facetsModel.get('facets') || []);\n            view.showContent();\n            functionToCallback();\n        });\n    };\n    AdapterCategories.prototype.updateCategory = function (data, application, functionToCallback) {\n        if (data.saving) {\n            var collection = new CategoriesCollection();\n            collection.fetch().done(function (menu) {\n                Categories.addToNavigationTabs(menu);\n                // IF is a root category AND (it was just created OR the fragment url have changed) THEN we add the url to the router\n                if (!data.category.parents.length && (!data.category.last_modified || data.original_url !== data.category.urls[0])) {\n                    var router = new FacetsRouter(application);\n                    router.addUrl(data.category.urls, 'categoryLoading');\n                }\n                functionToCallback();\n            });\n        } else {\n            // To show the changes before saving it, we need to show the category data that sends the CMS admin\n            this.showCategory(data.category, functionToCallback);\n        }\n    };\n    AdapterCategories.prototype.removeCategory = function (functionToCallback) {\n        var collection = new CategoriesCollection();\n        collection.fetch().done(function (menu) {\n            Categories.addToNavigationTabs(menu);\n            Backbone.history.navigate('/', { trigger: true });\n            functionToCallback();\n        });\n    };\n    AdapterCategories.prototype.navigate = function (data, functionToCallback) {\n        var categoryModel = new CategoriesModel();\n        categoryModel.options = {\n            data: { 'fullurl': data.url[0] !== '/' ? '/' + data.url : data.url },\n            killerId: AjaxRequestsKiller.getKillerId()\n        };\n        var self = this;\n        categoryModel.fetch({}).done(function (cat) {\n            self.category = cat;\n            Backbone.history.navigate(data.url, { trigger: false });\n            Backbone.history.loadUrl(data.url);\n            functionToCallback();\n        });\n    };\n    AdapterCategories.prototype.getItems = function (filters, functionToCallback) {\n        var model = new FacetsModel({ searchApiMasterOptions: Configuration.get('searchApiMasterOptions.CmsAdapterSearch') });\n        model.fetch({\n            data: _.extend(filters, {}),\n            killerId: AjaxRequestsKiller.getKillerId()\n        }).done(function () {\n            var items = [];\n            model.get('items').each(function (item) {\n                items.push({\n                    name: item.get('_name'),\n                    internal_id: item.get('internalid'),\n                    unique_identifier: '' + item.get('internalid'),\n                    price: item.get('_price_formatted'),\n                    image_url: item.get('_thumbnail').url\n                });\n            });\n            functionToCallback(items);\n        });\n    };\n    return AdapterCategories;\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n/*\n@module CMSadapter\n\n@class CMSadapter.Impl.Categories.v2\n*/\ndefine('CMSadapter.Impl.Categories.v2', ['CMSadapter.Impl.Categories'], function (CMSadapterImplCategories) {\n    'use strict';\n    var CMSadapterImplCategories2 = function (application, CMS) {\n        CMSadapterImplCategories.call(this, application, CMS);\n    };\n    CMSadapterImplCategories2.prototype = Object.create(CMSadapterImplCategories.prototype);\n    CMSadapterImplCategories2.prototype.listenForCMS = function listenForCMS() {\n        // CMS listeners - CMS tells us to do something, could fire anytime.\n        var self = this;\n        // Categories\n        self.CMS.on('adapter:category:add', function (data, callback) {\n            self.showCategory(data.category, callback);\n        });\n        self.CMS.on('adapter:category:item:update', function (data, callback) {\n            callback();\n        });\n        self.CMS.on('adapter:category:update', function (data, callback) {\n            self.updateCategory(data, self.application, callback);\n        });\n        self.CMS.on('adapter:category:hierarchy:change', function (data, callback) {\n            callback();\n        });\n        self.CMS.on('adapter:category:remove', function (data, callback) {\n            self.removeCategory(callback);\n        });\n        self.CMS.on('adapter:category:reload', function (data, callback) {\n            callback();\n        });\n        self.CMS.on('adapter:category:navigate', function (data, callback) {\n            self.navigate(data, callback);\n        });\n        self.CMS.on('adapter:get:items', function (filters) {\n            self.getItems(filters, function (items) {\n                self.CMS.trigger('adapter:got:items', items);\n            });\n        });\n    };\n    return CMSadapterImplCategories2;\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n/*\n\n@module CMSadapter\n\n@class CMSadapter.Impl.Merchandising\n*/\ndefine('CMSadapter.Impl.Merchandising', [\n    'underscore',\n    'Backbone',\n    'jQuery'\n], function (_, Backbone, jQuery) {\n    'use strict';\n    function AdapterMerchandising(application, CMS) {\n        this.CMS = CMS;\n        this.application = application;\n        this.listenForCMS();\n    }\n    AdapterMerchandising.prototype.listenForCMS = jQuery.noop;\n    return AdapterMerchandising;\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n/*\n\n@module CMSadapter\n\n@class CMSadapter.Impl.Merchandising.v2\n*/\ndefine('CMSadapter.Impl.Merchandising.v2', [\n    'CMSadapter.Impl.Merchandising',\n    'underscore'\n], function (CMSadapterImplMerchandising, _) {\n    'use strict';\n    var CMSadapterImplMerchandising2 = function (application, CMS) {\n        CMSadapterImplMerchandising.call(this, application, CMS);\n    };\n    CMSadapterImplMerchandising2.prototype = Object.create(CMSadapterImplMerchandising.prototype);\n    CMSadapterImplMerchandising2.prototype.listenForCMS = function listenForCMS() {\n        // CMS listeners - CMS tells us to do something, could fire anytime.\n        var self = this;\n        self.CMS.on('adapter:get:cart:items', function () {\n            var cart = self.application.getComponent('Cart'), linesId = [];\n            if (cart) {\n                cart.getLines().then(function (lines) {\n                    _.each(lines, function (line) {\n                        if (line.item && line.item.internalid) {\n                            linesId.push(line.item.internalid);\n                        }\n                    });\n                    self.CMS.trigger('adapter:got:cart:items', linesId);\n                });\n            } else {\n                self.CMS.trigger('adapter:got:cart:items', linesId);\n            }\n        });\n        self.CMS.on('adapter:get:current:item', function () {\n            var pdp = self.application.getComponent('PDP'), linesId = [];\n            if (pdp) {\n                var product = pdp.getItemInfo();\n                if (product && product.item && product.item.internalid) {\n                    linesId.push(product.item.internalid);\n                }\n            }\n            self.CMS.trigger('adapter:got:current:item', linesId);\n        });\n    };\n    return CMSadapterImplMerchandising2;\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module CMSadapter\n// @class CMSadapter.v2\ndefine('CMSadapter.v2', [\n    'CMSadapter',\n    'CMSadapter.Impl.Core.v2',\n    'CMSadapter.Impl.Landing.v2',\n    'CMSadapter.Impl.Categories.v2',\n    'CMSadapter.Impl.Merchandising.v2',\n    'underscore'\n], function (CMSadapter, CMSadapterImplCore2, CMSadapterImplLanding2, CMSadapterImplCategories2, CMSadapterImplMerchandising2, _) {\n    'use strict';\n    // @class CMSadapter2 responsible of starting both the adapter implementation and cms landing pages router.\n    // Assumes cms.js is already loaded\n    // @extend ApplicationModule\n    return _.extend({}, CMSadapter, {\n        initAdapterImpls: function initAdapterImpls(application, cmsObject, landingRouter) {\n            this.adapterCore = new CMSadapterImplCore2(application, cmsObject);\n            this.adapterLanding = new CMSadapterImplLanding2(application, cmsObject, landingRouter);\n            this.adapterCategories = new CMSadapterImplCategories2(application, cmsObject);\n            this.adapterMerchandising = new CMSadapterImplMerchandising2(application, cmsObject);\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n/*\n@module CMSadapter\n@class CMSadapter.Impl.Core.v3 the class that has the core integration using the CMS API.\n*/\ndefine('CMSadapter.Impl.Core.v3', [\n    'CMSadapter.Impl.Core',\n    'SC.Configuration'\n], function (CMSadapterImplCore, Configuration) {\n    'use strict';\n    var CMSadapterImplCore3 = function (application, CMS) {\n        CMSadapterImplCore.call(this, application, CMS);\n    };\n    CMSadapterImplCore3.prototype = Object.create(CMSadapterImplCore.prototype);\n    CMSadapterImplCore3.prototype.init = function init() {\n        var self = this;\n        this.application.getLayout().on('afterAppendView', function () {\n            self.CMS.trigger('app:page:changed');\n        });\n        self.CMS.trigger('app:ready');\n    };\n    CMSadapterImplCore3.prototype.listenForCMS = function listenForCMS() {\n        // CMS listeners - CMS tells us to do something, could fire anytime.\n        var self = this;\n        self.CMS.on('config:get', function (promise) {\n            promise.resolve(self.getSetupOptions());\n        });\n        self.CMS.on('context:get', function (promise) {\n            var context = self.getCmsContext();\n            promise.resolve(context);\n        });\n    };\n    CMSadapterImplCore3.prototype.getSetupOptions = function getSetupOptions() {\n        return {\n            dontSpamConfigGet: true,\n            esc_to_login_disabled: Configuration.get('cms.escToLoginDisabled', false),\n            features: [\n                'landingPages',\n                'categories',\n                'customContentTypes'\n            ],\n            app_content_override: [\n                'html',\n                'image',\n                'text',\n                'merchzone'\n            ]\n        };\n    };\n    return CMSadapterImplCore3;\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n/*\n@module CMSadapter\n\n@class CMSadapter.Impl.Landing.v3\n*/\ndefine('CMSadapter.Impl.Landing.v3', ['CMSadapter.Impl.Landing'], function (CMSadapterImplLanding) {\n    'use strict';\n    var CMSadapterImplLanding3 = function (application, CMS, pageRouter) {\n        CMSadapterImplLanding.call(this, application, CMS, pageRouter);\n    };\n    CMSadapterImplLanding3.prototype = Object.create(CMSadapterImplLanding.prototype);\n    CMSadapterImplLanding3.prototype.listenForCMS = function listenForCMS() {\n        // CMS listeners - CMS tells us to do something, could fire anytime.\n        var self = this;\n        self.CMS.on('landing-pages:reload', function (promise, data) {\n            self.realoadLandingPages(data);\n            promise.resolve();\n        });\n        self.CMS.on('landing-pages:add', function (promise, data) {\n            self.addLandingPages(data);\n            promise.resolve();\n        });\n        self.CMS.on('landing-pages:navigate', function (promise, data) {\n            // triggered when user selects a landing page in the 'manage pages mode' in cms administrator\n            self.navigateLandingPage(data);\n            promise.resolve();\n        });\n        self.CMS.on('landing-pages:update', function (promise, data) {\n            // triggered when user clicks the 'edit' button of a landing page in the 'manage pages mode' in cms administrator\n            self.updateLandingPage(data);\n            promise.resolve();\n        });\n        self.CMS.on('landing-pages:remove', function (promise) {\n            promise.resolve();\n        });\n    };\n    return CMSadapterImplLanding3;\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n/*\n@module CMSadapter\n\n@class CMSadapter.Impl.Categories.v3\n*/\ndefine('CMSadapter.Impl.Categories.v3', ['CMSadapter.Impl.Categories'], function (CMSadapterImplCategories) {\n    'use strict';\n    var CMSadapterImplCategories3 = function (application, CMS) {\n        CMSadapterImplCategories.call(this, application, CMS);\n    };\n    CMSadapterImplCategories3.prototype = Object.create(CMSadapterImplCategories.prototype);\n    CMSadapterImplCategories3.prototype.listenForCMS = function listenForCMS() {\n        // CMS listeners - CMS tells us to do something, could fire anytime.\n        var self = this;\n        // Categories\n        self.CMS.on('categories:add', function (promise, data) {\n            self.showCategory(data.category, promise);\n        });\n        self.CMS.on('categories:item:update', function (promise) {\n            promise.resolve();\n        });\n        self.CMS.on('categories:update', function (promise, data) {\n            self.updateCategory(data, self.application, function () {\n                promise.resolve();\n            });\n        });\n        self.CMS.on('categories:hierarchy:change', function (promise) {\n            promise.resolve();\n        });\n        self.CMS.on('categories:remove', function (promise) {\n            self.removeCategory(function () {\n                promise.resolve();\n            });\n        });\n        self.CMS.on('categories:reload', function (promise) {\n            promise.resolve();\n        });\n        self.CMS.on('categories:navigate', function (promise, data) {\n            self.navigate(data, function () {\n                promise.resolve();\n            });\n        });\n        self.CMS.on('items:search', function (promise, filters) {\n            self.getItems(filters, function (items) {\n                promise.resolve(items);\n            });\n        });\n    };\n    return CMSadapterImplCategories3;\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n/*\n@module CMSadapter\n@class CMSadapterImpl.CustomContentType the class that has the core integration using the CMS API.\n*/\ndefine('CMSadapter.Impl.CustomContentType', ['underscore'], function (_) {\n    'use strict';\n    function AdapterCustomContentType(application, CMS) {\n        this.CMS = CMS;\n        this.application = application;\n        this.CMSadapterComponent = application.getComponent('CMS');\n        this.listenForCMS();\n    }\n    _.extend(AdapterCustomContentType.prototype, {\n        listenForCMS: function listenForCMS() {\n            // CMS listeners - CMS tells us to do something, could fire anytime.\n            var self = this;\n            self.CMS.on('page:content:set', function (promise, ccts) {\n                //cct_id, cct_instance_id, cct_selector, cct_settings, render_settings\n                self.CMSadapterComponent.addContents(_.map(ccts, function (cct) {\n                    return {\n                        id: cct.type,\n                        instance_id: cct.instance_id,\n                        selector: { 'data-cms-area': cct.context.area },\n                        settings: cct.settings,\n                        render_settings: {\n                            position: cct.context.sequence,\n                            classes: cct.classes\n                        }\n                    };\n                })).then(promise.resolve, promise.reject);\n            });\n            self.CMS.on('content:types:get', function (promise) {\n                var content_types = _.map(self.CMSadapterComponent.getContentIds(), function (cct_id) {\n                    return { type: cct_id };\n                });\n                promise.resolve(content_types);\n            });\n            self.CMS.on('content:add', function (promise, cct) {\n                self.CMSadapterComponent.addContent(cct.type, cct.instance_id, { 'data-cms-area': cct.context.area }, cct.settings, {\n                    position: cct.context.sequence,\n                    classes: cct.classes\n                }).then(promise.resolve, promise.reject);\n            });\n            self.CMS.on('content:update', function (promise, cct) {\n                self.CMSadapterComponent.updateContent(cct.instance_id, { 'data-cms-area': cct.context.area }, cct.settings, {\n                    position: cct.context.sequence,\n                    classes: cct.classes\n                }).then(promise.resolve, promise.reject);\n            });\n            self.CMS.on('content:remove', function (promise, cct) {\n                self.CMSadapterComponent.removeContent(cct.instance_id, true).then(promise.resolve, promise.reject);\n            });\n        }\n    });\n    return AdapterCustomContentType;\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\ndefine('Url', ['underscore'], function (_) {\n    'use strict';\n    var parametersRegex = /([^;]*)(;(.*))*/, queryRegex = /([^?]*)(\\?(.*))*/, netLocRegex = /^\\/\\/([^\\/]*)(.*)/, squemaNameRegex = /^([a-zA-Z+\\-.]+):(.+)/, fragmentRegex = /([^#]*)(#(.*))*/;\n    function parse(url, outputObject) {\n        function parseFragment() {\n            var match = url.match(fragmentRegex);\n            if (match) {\n                outputObject.fragment = match[3];\n                url = match[1];\n            }\n        }\n        function parseSchema() {\n            var match = url.match(squemaNameRegex);\n            if (match) {\n                outputObject.schema = match[1];\n                url = match[2];\n            }\n        }\n        function parseNetLoc() {\n            var match = url.match(netLocRegex);\n            if (match) {\n                outputObject.netLoc = match[1];\n                url = match[2];\n            }\n        }\n        function parseQuery() {\n            var match = url.match(queryRegex);\n            if (match) {\n                outputObject.query = match[3];\n                url = match[1];\n            }\n        }\n        function parseParameters() {\n            var match = url.match(parametersRegex);\n            if (match) {\n                outputObject.parameters = match[3];\n                url = match[1];\n            }\n        }\n        function parsePath() {\n            outputObject.path = url;\n            url = '';\n        }\n        outputObject = outputObject || {};\n        if (url) {\n            //order needs to be preserved\n            parseFragment();\n            parseSchema();\n            parseNetLoc();\n            parseQuery();\n            parseParameters();\n            parsePath();\n        }\n        return outputObject;\n    }\n    /**\n     * REFERENCES\n     * https://tools.ietf.org/html/rfc1808\n     * @class\n     */\n    function Url() {\n        //@property {String} schema\n        this.schema = null;\n        //@property {String} netLoc\n        this.netLoc = null;\n        //@property {String} path\n        this.path = null;\n        //@property {String} parameters\n        this.parameters = null;\n        //@property {String} fragment\n        this.fragment = null;\n        //@property {String} query\n        this.query = null;\n    }\n    Url.prototype = {\n        toString: function () {\n            var url = '';\n            if (this.schema) {\n                url += this.schema + ':';\n            }\n            if (this.netLoc) {\n                url += '//' + this.netLoc;\n            }\n            if (this.path) {\n                url += this.path;\n            }\n            if (this.parameters) {\n                url += ';' + this.parameters;\n            }\n            if (this.query) {\n                url += '?' + this.query;\n            }\n            if (this.fragment) {\n                url += '#' + this.fragment;\n            }\n            return url;\n        }    /**\n         * Parse a string into the current Url object\n         * @param {String} strUrl\n         * @returns {Url} Reference to the Url object that the method bellows to\n         */,\n        parse: function (strUrl) {\n            this.strUrl = strUrl;\n            parse(strUrl, this);\n            return this;\n        }    /**\n         * Get a copy of the current Url object\n         * @returns {Url}\n         */,\n        clone: function () {\n            var url = new Url();\n            return _.extend(url, this);\n        }    /**\n         * @method resolve\n         * Resolve the absolute URL for the current URL taking the base URL as argument\n         * The algorithm is fallowing the steps described in https://tools.ietf.org/html/rfc1808 (Resolving Relative URLs)\n         * @param {String} baseUrl\n         * @returns {URL}\n         */,\n        resolve: function (baseUrl) {\n            baseUrl = baseUrl instanceof Url ? baseUrl : new Url().parse(baseUrl);\n            var relative = this, absoluteUrl = relative.clone();\n            //step 1\n            if (!baseUrl.strUrl) {\n                return relative;\n            }\n            //step 2 - a\n            if (!relative.strUrl) {\n                return baseUrl;\n            }\n            //step 2 - b\n            if (relative.schema) {\n                return relative;\n            }    //step 2 - c\n            else {\n                absoluteUrl.schema = baseUrl.schema;\n            }\n            //step 3\n            if (!relative.netLoc) {\n                absoluteUrl.netLoc = baseUrl.netLoc;\n                //step 4\n                if (relative.path.indexOf('/') !== 0) {\n                    //step 5\n                    if (!relative.path) {\n                        absoluteUrl.path = baseUrl.path;\n                        //step 5 - a\n                        if (!relative.parameters) {\n                            absoluteUrl.parameters = baseUrl.parameters;\n                            if (!relative.query) {\n                                absoluteUrl.query = baseUrl.query;\n                            }\n                        }\n                    } else {\n                        //step 6\n                        var basePath = baseUrl.path.substr(0, baseUrl.path.lastIndexOf('/'));\n                        absoluteUrl.path = basePath + '/' + relative.path;\n                        //step 6 - a,b\n                        absoluteUrl.path = absoluteUrl.path.replace(/(\\/\\.\\/)|(\\/\\.$)/g, '/');\n                        //step 6 - c\n                        var tmpPath = '';\n                        while (tmpPath !== absoluteUrl.path) {\n                            tmpPath = absoluteUrl.path;\n                            absoluteUrl.path = absoluteUrl.path.replace(/\\/*[^.\\/]+\\/\\.\\.\\//, '/');\n                        }\n                        //step 6 - d\n                        absoluteUrl.path = absoluteUrl.path.replace(/\\/*[^.\\/]+\\/\\.\\.$/, '/');\n                    }\n                }\n            }\n            return absoluteUrl;\n        }\n    };\n    return Url;\n});","/*! sass.js - v0.10.8 (eb28f5f) - built 2018-01-21\n  providing libsass 3.4.8 (a1f13edf)\n  via emscripten 1.37.0 ()\n */\n(function (root, factory) {\n    'use strict';\n    if (typeof define === 'function' && define.amd) {\n        define('sass', [], factory);\n    } else if (typeof exports === 'object') {\n        module.exports = factory();\n    } else {\n        root.Sass = factory();\n    }\n}(this, function () {\n    /*global document*/\n    // identify the path sass.js is located at in case we're loaded by a simple\n    // <script src=\"path/to/sass.js\"></script>\n    // this path can be used to identify the location of\n    // * sass.worker.js from sass.js\n    // * libsass.js.mem from sass.sync.js\n    // see https://github.com/medialize/sass.js/pull/32#issuecomment-103142214\n    // see https://github.com/medialize/sass.js/issues/33\n    var SASSJS_RELATIVE_PATH = function () {\n        'use strict';\n        // in Node things are rather simple\n        if (typeof __dirname !== 'undefined') {\n            return __dirname;\n        }\n        // we can only run this test in the browser,\n        // so make sure we actually have a DOM to work with.\n        if (typeof document === 'undefined' || !document.getElementsByTagName) {\n            return null;\n        }\n        // http://www.2ality.com/2014/05/current-script.html\n        var currentScript = document.currentScript || function () {\n            var scripts = document.getElementsByTagName('script');\n            return scripts[scripts.length - 1];\n        }();\n        var path = currentScript && currentScript.src;\n        if (!path) {\n            return null;\n        }\n        // [worker] make sure we're not running in some concatenated thing\n        if (path.slice(-8) === '/sass.js') {\n            return path.slice(0, -8);\n        }\n        // [sync] make sure we're not running in some concatenated thing\n        if (path.slice(-13) === '/sass.sync.js') {\n            return path.slice(0, -13);\n        }\n        return null;\n    }() || '.';\n    /*global Worker, SASSJS_RELATIVE_PATH*/\n    'use strict';\n    var noop = function () {\n    };\n    var slice = [].slice;\n    // defined upon first Sass.initialize() call\n    var globalWorkerUrl;\n    function Sass(workerUrl) {\n        if (!workerUrl && !globalWorkerUrl) {\n            /*jshint laxbreak:true */\n            throw new Error('Sass needs to be initialized with the URL of sass.worker.js - ' + 'either via Sass.setWorkerUrl(url) or by new Sass(url)');    /*jshint laxbreak:false */\n        }\n        if (!globalWorkerUrl) {\n            globalWorkerUrl = workerUrl;\n        }\n        // bind all functions\n        // we're doing this because we used to have a single hard-wired instance that allowed\n        // [].map(Sass.removeFile) and we need to maintain that for now (at least until 1.0.0)\n        for (var key in this) {\n            if (typeof this[key] === 'function') {\n                this[key] = this[key].bind(this);\n            }\n        }\n        this._callbacks = {};\n        this._worker = new Worker(workerUrl || globalWorkerUrl);\n        this._worker.addEventListener('message', this._handleWorkerMessage, false);\n    }\n    // allow setting the workerUrl before the first Sass instance is initialized,\n    // where registering the global workerUrl would've happened automatically\n    Sass.setWorkerUrl = function (workerUrl) {\n        globalWorkerUrl = workerUrl;\n    };\n    Sass.style = {\n        nested: 0,\n        expanded: 1,\n        compact: 2,\n        compressed: 3\n    };\n    Sass.comments = {\n        'none': 0,\n        'default': 1\n    };\n    Sass.prototype = {\n        style: Sass.style,\n        comments: Sass.comments,\n        destroy: function () {\n            this._worker && this._worker.terminate();\n            this._worker = null;\n            this._callbacks = {};\n            this._importer = null;\n        },\n        _handleWorkerMessage: function (event) {\n            if (event.data.command) {\n                this[event.data.command](event.data.args);\n            }\n            this._callbacks[event.data.id] && this._callbacks[event.data.id](event.data.result);\n            delete this._callbacks[event.data.id];\n        },\n        _dispatch: function (options, callback) {\n            if (!this._worker) {\n                throw new Error('Sass worker has been terminated');\n            }\n            options.id = 'cb' + Date.now() + Math.random();\n            this._callbacks[options.id] = callback;\n            this._worker.postMessage(options);\n        },\n        _importerInit: function (args) {\n            // importer API done callback pushing results\n            // back to the worker\n            var done = function done(result) {\n                this._worker.postMessage({\n                    command: '_importerFinish',\n                    args: [result]\n                });\n            }.bind(this);\n            try {\n                this._importer(args[0], done);\n            } catch (e) {\n                done({ error: e.message });\n                throw e;\n            }\n        },\n        importer: function (importerCallback, callback) {\n            if (typeof importerCallback !== 'function' && importerCallback !== null) {\n                throw new Error('importer callback must either be a function or null');\n            }\n            // callback is executed in the main EventLoop\n            this._importer = importerCallback;\n            // tell worker to activate importer callback\n            this._worker.postMessage({\n                command: 'importer',\n                args: [Boolean(importerCallback)]\n            });\n            callback && callback();\n        }\n    };\n    var commands = 'writeFile readFile listFiles removeFile clearFiles lazyFiles preloadFiles options compile compileFile';\n    commands.split(' ').forEach(function (command) {\n        Sass.prototype[command] = function () {\n            var callback = slice.call(arguments, -1)[0];\n            var args = slice.call(arguments, 0, -1);\n            if (typeof callback !== 'function') {\n                args.push(callback);\n                callback = noop;\n            }\n            this._dispatch({\n                command: command,\n                args: args\n            }, callback);\n        };\n    });\n    // automatically set the workerUrl in case we're loaded by a simple\n    // <script src=\"path/to/sass.js\"></script>\n    // see https://github.com/medialize/sass.js/pull/32#issuecomment-103142214\n    Sass.setWorkerUrl(SASSJS_RELATIVE_PATH + '/sass.worker.js');\n    return Sass;\n}));","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n/*\n@module CMSadapter\n@class CMSadapterImpl.CustomContentType the class that has the core integration using the CMS API.\n*/\ndefine('CMSadapter.Impl.ThemeCustomizerPreview', [\n    'CMSadapter.Component',\n    'Utils',\n    'Url',\n    'jQuery',\n    'underscore',\n    'sass'\n], function (CMSadapterComponent, Utils, Url, jQuery, _, Sass) {\n    'use strict';\n    var EDITABLE_REGEX = /\\/\\*\\s+<<\\s+var:([^\\s]+)\\s+\\*\\/\\s+([^\\/]+)\\s+\\/\\*\\s+>>\\s+\\*\\//gi, ESCAPED_INTERPOLATION_REGEX = /\\\\#{/gi, VARIABLE_REGEX = /\\$[A-Za-z0-9_-]*|([_a-zA-Z][A-Za-z0-9_-]*)\\s*\\(/g, FUNCTION_WHITELIST = [\n            'rgb',\n            'rgba',\n            'red',\n            'green',\n            'blue',\n            'mix',\n            'hsl',\n            'hsla',\n            'hue',\n            'saturation',\n            'lightness',\n            'adjust-hue',\n            'lighten',\n            'darken',\n            'saturate',\n            'desaturate',\n            'grayscale',\n            'complement',\n            'invert',\n            'alpha',\n            'rgba',\n            'opacify',\n            'transparentize',\n            'adjust-color',\n            'scale-color',\n            'change-color',\n            'ie-hex-str',\n            'unquote',\n            'quote',\n            'str-length',\n            'str-insert',\n            'str-index',\n            'str-slice',\n            'to-upper-case',\n            'to-lower-case',\n            'percentage',\n            'round',\n            'ceil',\n            'floor',\n            'abs',\n            'min',\n            'max',\n            'random',\n            'length',\n            'nth',\n            'set-nth',\n            'join',\n            'append',\n            'zip',\n            'index',\n            'list-separator',\n            'is-bracketed',\n            'map-get',\n            'map-merge',\n            'map-remove',\n            'map-keys',\n            'map-values',\n            'map-has-key',\n            'keywords',\n            'selector-nest',\n            'selector-append',\n            'selector-extend',\n            'selector-replace',\n            'selector-unify',\n            'is-superselector',\n            'simple-selectors',\n            'selector-parse',\n            'feature-exists',\n            'variable-exists',\n            'global-variable-exists',\n            'function-exists',\n            'mixin-exists',\n            'content-exists',\n            'inspect',\n            'type-of',\n            'unit',\n            'unit-less',\n            'comprable',\n            'call',\n            'get-function',\n            'if',\n            'unique-id',\n            'fade_in',\n            'expression',\n            'calc'\n        ], URL_REGEX = /url\\(([^)]+)(\\))/g, METADATA_REGEX = /\\/\\* values \\*\\/[\\s]*\\/\\*(([^*]|\\*(?!\\/))*)\\*\\/[\\s]*\\/\\* groups \\*\\/[\\s]*\\/\\*(([^*]|\\*(?!\\/))*)\\*\\/([\\s]*\\/\\* warnings \\*\\/[\\s]*\\/\\*(([^*]|\\*(?!\\/))*)\\*\\/)?/;\n    function CMSadapterImplThemeCustomizerPreview(application, CMS) {\n        this.applicationName = application.name;\n        Sass.setWorkerUrl(Utils.getAbsoluteUrl('javascript/sass.worker.js'));\n        this.CMS = CMS;\n        this.sassCompiler = null;\n        this.previewCSS = '';\n        this.originalPreviewCSS = '';\n        this.originalChangedVariables = {};\n        //Ordered list, if element A depends of B, A will appear first\n        this.completeSetOfVariablesInOrder = [];\n        this.toProcess = null;\n        this.isCompiling = false;\n        //URL of the css with the metadata\n        this.stylesheetHref = '';\n        //variables used to synchronize CSS reloading\n        this.reloadCSSRequestId = null;\n        this.listenForCMS();\n    }\n    _.extend(CMSadapterImplThemeCustomizerPreview.prototype, {\n        listenForCMS: function listenForCMS() {\n            var self = this;\n            if (SC.ENVIRONMENT.isExtended) {\n                this.CMS.on('theme:config:get', function (promise) {\n                    self.loadPreviewEnvironment(promise);\n                });\n                this.CMS.on('theme:styles:overrideCss', function (promise, changedVariables) {\n                    if (_.size(changedVariables) > 0) {\n                        self.toProcess = {\n                            promise: promise,\n                            changedVariables: changedVariables\n                        };\n                        self.previewChangedVariables();\n                    } else {\n                        //Restore theme defaults\n                        self.restoreThemeDefaults(promise);\n                    }\n                });\n                this.CMS.on('theme:styles:save', function (promise, changedVariables) {\n                    self.saveThemeStyles(promise, changedVariables);\n                });\n                this.CMS.on('theme:styles:revertCss', function (promise) {\n                    //cancel button click\n                    self.themeRevertCss(promise);\n                });\n            }\n        }    /**\n\t\t * By calling this method the sass.js compiler is going to be loaded as well as\n\t\t * the css+metadata for the current application(shopping, my account, checkout)\n\t\t * This method should be triggered when SMT admin is opened\n\t\t **/,\n        loadPreviewEnvironment: function loadPreviewEnvironment(promise) {\n            //Prevent to get the css url when edition is canceled\n            !this.stylesheetHref && this.setStylesheetHref();\n            var self = this, loadedCSS, variablesCalculatedValuePromise = jQuery.ajax({\n                    url: self.stylesheetHref,\n                    dataType: 'text'\n                }).then(function (css) {\n                    loadedCSS = css;\n                    var variablesMetadata = self.extractVariablesMetadata(css);\n                    self.completeSetOfVariablesInOrder = self.identifyNonCompilableVariables(self.getDependenciesInOrder(variablesMetadata.values));\n                    return variablesMetadata;\n                }), themeDataPromise = jQuery.ajax(SC.ENVIRONMENT.embEndpointUrl).then(function (themeData) {\n                    self.saveEndpoint = themeData.saveEndpoint;\n                    self.compileEndpoint = themeData.compileEndpoint;\n                    return themeData;\n                });\n            jQuery.when(variablesCalculatedValuePromise, themeDataPromise).then(function (variablesMetadata, themeData) {\n                var areEditableVariables = _.findWhere(self.completeSetOfVariablesInOrder, { editable: true });\n                if (areEditableVariables) {\n                    self.applyLoadedCSS(loadedCSS, themeData.editedSettings).then(function (calculatedVariablesValue) {\n                        //Used if theme edition is canceled\n                        self.originalPreviewCSS = self.previewCSS;\n                        self.originalChangedVariables = themeData.editedSettings;\n                        //Remove defaults css from the dom, all stylesheets in the header are going to be removed\n                        self.removeDefaultStyles();\n                        var themeSettings = {\n                            skins: themeData.skins,\n                            formData: {\n                                values: variablesMetadata.values,\n                                structure: variablesMetadata.groups,\n                                warnings: variablesMetadata.warnings\n                            },\n                            editedSettings: themeData.editedSettings,\n                            currentSettings: calculatedVariablesValue\n                        };\n                        promise.resolve(themeSettings);\n                    });\n                } else {\n                    //if there are not editable variables, the theme is not editable\n                    promise.resolve({});\n                }\n            }).fail(function (error) {\n                promise.reject({ errors: 'Error loading or processing metadata. Details: ' + JSON.stringify(error) });\n            });\n        },\n        themeRevertCss: function themeRevertCss(promise) {\n            this.discardReload();\n            this.applyLoadedCSS(this.originalPreviewCSS, this.originalChangedVariables).then(promise.resolve).fail(function (error) {\n                promise.reject({ errors: 'Error reverting the changes. Details: ' + JSON.stringify(error) });\n            });\n        },\n        previewChangedVariables: function previewChangedVariables() {\n            if (this.toProcess !== null && !this.isCompiling) {\n                this.isCompiling = true;\n                var self = this, promise = this.toProcess.promise, changedVariables = this.toProcess.changedVariables;\n                this.toProcess = null;\n                this.getVariablesCalculatedValue(changedVariables, true).then(function (variablesComputedValue) {\n                    if (self.toProcess === null) {\n                        var newCSS = self.replaceVariablesValueOnPreviewCSS(variablesComputedValue);\n                        self.applyPreviewCSS(newCSS);\n                        promise.resolve(self.getEditableVariablesOnly(variablesComputedValue));\n                        self.themeStylesReloadValues(changedVariables);\n                    }\n                }).fail(function (error) {\n                    if (self.toProcess === null) {\n                        promise.reject({ errors: 'Error previewing. Details: ' + JSON.stringify(error) });\n                    }\n                }).always(function () {\n                    self.isCompiling = false;\n                    self.previewChangedVariables();\n                });\n            }\n        },\n        saveThemeStyles: function saveThemeStyles(promise, changedVariables) {\n            var self = this, callbacks = {\n                    then: function (variablesValue) {\n                        promise.resolve(variablesValue);\n                        //Used if theme edition is canceled\n                        self.originalPreviewCSS = self.previewCSS;\n                        self.originalChangedVariables = changedVariables;\n                    },\n                    fail: function (error) {\n                        promise.reject({ errors: 'Error saving the theme. Details: ' + JSON.stringify(error) });\n                    }\n                };\n            self.reloadCSS(changedVariables, true, callbacks);\n        },\n        restoreThemeDefaults: function restoreThemeDefaults(promise) {\n            var self = this, callbacks = {\n                    then: function (variablesValue) {\n                        promise.resolve(variablesValue);\n                    },\n                    fail: function (error) {\n                        promise.reject({ errors: 'Error restoring theme defaults. Details:' + JSON.stringify(error) });\n                    }\n                };\n            self.reloadCSS({}, false, callbacks);\n        },\n        reloadCSS: function reloadCSS(changedVariables, save, callbacks) {\n            var self = this, endPoint = save ? this.saveEndpoint : this.compileEndpoint;\n            //Build endpoint url\n            endPoint.data.skin = JSON.stringify(changedVariables);\n            endPoint.data.app = this.applicationName.toLowerCase();\n            //discard reloadCSS or planned reloadCSS\n            self.discardReload();\n            var reloadCSSRequestId = self.reloadCSSRequestId;\n            function doIfIsLastReloadExec(fn) {\n                reloadCSSRequestId === self.reloadCSSRequestId && fn();\n            }\n            var promise = jQuery.ajax(endPoint).then(function (response) {\n                if (response.header && response.header.status.code !== 'SUCCESS') {\n                    if (callbacks && callbacks.fail) {\n                        doIfIsLastReloadExec(function () {\n                            callbacks.fail(response);\n                        });\n                    }\n                } else {\n                    doIfIsLastReloadExec(function () {\n                        self.applyLoadedCSS(response.css, changedVariables).then(function (variablesValue) {\n                            if (callbacks && callbacks.then) {\n                                callbacks.then(variablesValue);\n                            }\n                        });\n                    });\n                }\n            });\n            if (callbacks) {\n                callbacks.fail && promise.fail(function (error) {\n                    doIfIsLastReloadExec(function () {\n                        callbacks.fail(error);\n                    });\n                });\n                callbacks.always && promise.always(function (result) {\n                    doIfIsLastReloadExec(function () {\n                        callbacks.always(result);\n                    });\n                });\n            }\n        },\n        themeStylesReloadValues: function themeStylesReloadValues(changedVariables) {\n            var self = this;\n            //discard reloadCSS or planned reloadCSS\n            this.discardReload();\n            self.reloadCSSRequestId = setTimeout(function () {\n                var callbacks = {\n                    then: function (variablesValue) {\n                        self.CMS.trigger('theme:styles:reloadValues', {\n                            errors: null,\n                            values: variablesValue\n                        });\n                    },\n                    fail: function (error) {\n                        self.CMS.trigger('theme:styles:reloadValues', { errors: 'Error reloading values from server. Details: ' + JSON.stringify(error) });\n                    }\n                };\n                self.reloadCSS(changedVariables, false, callbacks);\n            }, 5000);\n        },\n        fixRelativeURLs: function fixRelativeURLs(css, baseURL) {\n            var output = css.replace(URL_REGEX, function (matched, relative) {\n                //remove spaces, single and double quotes\n                relative = relative.trim();\n                if (relative[0] === '\\'' || relative[0] === '\"') {\n                    relative = relative.substr(1, relative.length - 2);\n                }\n                return 'url(' + new Url().parse(relative).resolve(baseURL).toString() + ')';\n            });\n            return output;\n        },\n        getEditableVariablesOnly: function getEditableVariablesOnly(variablesCalculatedValue) {\n            //Filter the variables to return only the editable ones\n            var editableVariables = {};\n            _.each(this.completeSetOfVariablesInOrder, function (variable) {\n                if (variable.editable && variablesCalculatedValue[variable.name] !== undefined) {\n                    editableVariables[variable.name] = variablesCalculatedValue[variable.name];\n                }\n            });\n            return editableVariables;\n        },\n        applyPreviewCSS: function applyPreviewCSS(css) {\n            var tagId = 'nsCSSWithMetadata', styleTag = document.getElementById(tagId);\n            if (!styleTag) {\n                styleTag = window.document.createElement('style');\n                styleTag.id = tagId;\n                window.document.body.appendChild(styleTag);\n            }\n            styleTag.innerHTML = css;\n        },\n        applyLoadedCSS: function applyLoadedCSS(css, changedVariables) {\n            var self = this;\n            this.previewCSS = this.fixRelativeURLs(css, this.stylesheetHref);\n            this.applyPreviewCSS(this.previewCSS);\n            var variablesValuesFromCSS = this.extractVariablesValuesFromCSS(this.previewCSS);\n            this.setVariablesDefaultValue(variablesValuesFromCSS);\n            return this.getVariablesCalculatedValue(changedVariables).then(function (calculatedVariablesValue) {\n                return self.getEditableVariablesOnly(calculatedVariablesValue);\n            });\n        },\n        extractVariablesMetadata: function extractVariablesMetadata(css) {\n            var variablesMetadata = {}, matches = css.match(METADATA_REGEX);\n            variablesMetadata.values = JSON.parse(this.unescapeNumberSign(matches[1])).values;\n            variablesMetadata.groups = JSON.parse(matches[3]).groups;\n            variablesMetadata.warnings = matches[5];\n            return variablesMetadata;\n        },\n        getAffectedVariables: function getAffectedVariables(editedVariables) {\n            var affectedVariables = [], derivedVars = {};\n            function addToDerivedVars(derivedVar) {\n                derivedVars[derivedVar.name] = true;\n            }\n            for (var i = this.completeSetOfVariablesInOrder.length - 1; i >= 0; i--) {\n                var variableName = this.completeSetOfVariablesInOrder[i].name;\n                //Avoid to add duplicated variables in \"affectedVariables\" array\n                if (editedVariables[variableName] !== undefined || derivedVars[variableName] !== undefined) {\n                    affectedVariables.push(this.completeSetOfVariablesInOrder[i]);\n                    _.each(this.completeSetOfVariablesInOrder[i].derived, addToDerivedVars);\n                }\n            }\n            return affectedVariables.reverse();\n        },\n        buildDummySass: function buildDummySass(affectedVariables, editedVariables) {\n            var self = this, wrapFunction = '@function quotes-verbatim($value) {\\n' + '  @if (type-of($value) == \"string\") {\\n' + '    // SASS doesn\\'t have str-is-quoted, and quoted and unquoted strings compare\\n' + '    // equal. I noticed that list expressions give away whether a string is quoted,\\n' + '    // though, so here\\'s how we can return a string with explicit quotes.\\n' + '    $list-expr: \"#{inspect(($value, \"\"))}\";\\n' + '    @return str-slice($list-expr, 0, str-length($list-expr) - 4);\\n' + '  }\\n' + '  @else {\\n' + '    @return $value;\\n' + '  }\\n' + '}\\n' + '  \\n' + '@function wrap($name, $value) {\\n' + '  @if (outputstyle() != \"COMPRESSED\") {\\n' + '    @if ($value) {\\n' + '      @return unquote(\"/* << var:\" + $name + \" */ \" + quotes-verbatim($value) + \" /* >> */\");\\n' + '    }\\n' + '    @return null;\\n' + '  }\\n' + '  @return $value;\\n' + '};', variablesDeclaration = '', dummyClassBody = '';\n            for (var i = affectedVariables.length - 1; i >= 0; i--) {\n                var variableName = affectedVariables[i].name, variableValue;\n                if (editedVariables[variableName] !== undefined) {\n                    variableValue = editedVariables[variableName];\n                } else {\n                    if (affectedVariables[i].nonCompilable) {\n                        //use the value in the css\n                        variableValue = affectedVariables[i].defaultValue;\n                    } else {\n                        variableValue = affectedVariables[i].expr;\n                    }\n                }\n                if (variableValue !== undefined) {\n                    variablesDeclaration += self.buildSASSVariableDeclaration(variableName, variableValue);\n                    dummyClassBody += self.buildSASSVariableUsageStatement(variableName);\n                }\n            }\n            return wrapFunction + variablesDeclaration + '\\n' + '.dummyClass {\\n' + dummyClassBody + '\\n}';\n        },\n        buildDummyCSS: function buildDummyCSS(sassStr) {\n            var self = this, promise = jQuery.Deferred(), retried = false;\n            function compilerHandler(compilerOutput) {\n                if (compilerOutput.status === 0) {\n                    promise.resolve(compilerOutput.text);\n                } else {\n                    if (!retried) {\n                        retried = true;\n                        self.getSassCompiler(true).compile(sassStr, compilerHandler);\n                    } else {\n                        promise.reject(compilerOutput.message ? compilerOutput.message : 'Unexpected error compiling front-end SASS variables');\n                    }\n                }\n            }\n            self.getSassCompiler().compile(sassStr, compilerHandler);\n            return promise;\n        },\n        extractVariablesValuesFromCSS: function extractVariablesValuesFromCSS(css) {\n            var result, variables = {};\n            while ((result = EDITABLE_REGEX.exec(css)) !== null) {\n                var name = result[1];\n                variables[name] = result[2];\n            }\n            return variables;\n        }    /**\n\t\t * @method replaceVariablesValueOnPreviewCSS\n\t\t * @param {variableName: String} editedVariables\n\t\t * @returns {string} copy the the attribute \"previewCSS\" with the supplied values changed\n\t\t */,\n        replaceVariablesValueOnPreviewCSS: function replaceVariablesValueOnPreviewCSS(editedVariables) {\n            var output = this.previewCSS.replace(EDITABLE_REGEX, function (matched, name) {\n                var editedValue = editedVariables[name] !== undefined;\n                if (!editedValue) {\n                    return matched;\n                } else {\n                    return '/* << var:' + name + ' */ ' + editedVariables[name] + ' /* >> */';\n                }\n            });\n            return output;\n        }    /**\n\t\t *\t@method getVariablesCalculatedValue For each variable in the metadata compute his value using the supplied changes\"\n\t\t *\t@param changedVariables {Object} Map with all edited variables\n\t\t *\t@return Promise The promise is resolved with an object with each variables and his calculated value\n\t\t * */,\n        getVariablesCalculatedValue: function getVariablesCalculatedValue(changedVariables, affectedsOnly) {\n            var self = this, affectedVariables = affectedsOnly ? this.getAffectedVariables(changedVariables) : this.completeSetOfVariablesInOrder, sass = this.buildDummySass(affectedVariables, changedVariables || {});\n            return this.buildDummyCSS(sass).then(function (css) {\n                return self.extractVariablesValuesFromCSS(css);\n            });\n        }    /**\n\t\t * @method getDependenciesInOrder The method should be called only once, when the environment is initialised\n\t\t * @param Array<Object> siblings SASS variables metadata\n\t\t * @return Array<Object> Ordered list, if element A depends of B, A will appear first\n\t\t * */,\n        getDependenciesInOrder: function getDependenciesInOrder(siblings) {\n            function find(startIndex, array, elementName) {\n                for (var i = startIndex; i < array.length; i++) {\n                    if (array[i].name === elementName) {\n                        return i;\n                    }\n                }\n                return -1;    //not found\n            }\n            function mergeBranches(branch1, branch2) {\n                var branch1Index = 0, branch2Index = 0, mergeResult = [], mergedElements = {};\n                while (branch1Index < branch1.length || branch2Index < branch2.length) {\n                    if (branch1Index < branch1.length) {\n                        var searchedElementIndex = find(branch2Index, branch2, branch1[branch1Index].name);\n                        if (searchedElementIndex >= 0) {\n                            while (branch2Index <= searchedElementIndex) {\n                                if (!mergedElements[branch2[branch2Index].name]) {\n                                    mergeResult.push(branch2[branch2Index]);\n                                    mergedElements[branch2[branch2Index].name] = true;\n                                }\n                                branch2Index++;\n                            }\n                        } else {\n                            if (!mergedElements[orderedDependencies[branch1Index].name]) {\n                                mergeResult.push(orderedDependencies[branch1Index]);\n                                mergedElements[orderedDependencies[branch1Index].name] = true;\n                            }\n                        }\n                        branch1Index++;\n                    } else {\n                        //add all elements in  branch2 that were not included yet\n                        mergeResult = mergeResult.concat(branch2.slice(branch2Index));\n                        branch2Index = branch2.length;\n                    }\n                }\n                return mergeResult;\n            }\n            var self = this, orderedDependencies = [];\n            _.each(siblings, function (sibling) {\n                if (sibling.derived && sibling.derived.length) {\n                    var branchOrderedDependencies = self.getDependenciesInOrder(sibling.derived);\n                    if (orderedDependencies.length) {\n                        //merge two sets of ordered dependencies\n                        orderedDependencies = mergeBranches(orderedDependencies, branchOrderedDependencies);\n                    } else {\n                        orderedDependencies = branchOrderedDependencies;\n                    }\n                }\n            });\n            return mergeBranches(orderedDependencies, siblings);\n        },\n        buildSASSVariableDeclaration: function buildSASSVariableDeclaration(name, value) {\n            return name + ':' + value + ';';\n        },\n        buildSASSVariableUsageStatement: function buildSASSVariableUsageStatement(name) {\n            var cssPropertyName = name.substring(1);\n            return '\\t' + cssPropertyName + ': wrap(\\'' + name + '\\', ' + name + ');';\n        },\n        getSassCompiler: function getSassCompiler(cleanUp) {\n            if (!this.sassCompiler) {\n                this.sassCompiler = new Sass();\n            } else {\n                if (cleanUp) {\n                    this.sassCompiler.destroy();\n                    this.sassCompiler = new Sass();\n                }\n            }\n            return this.sassCompiler;\n        },\n        identifyNonCompilableVariables: function identifyNonCompilableVariables(variables) {\n            var availableVariables = {};\n            function setAsNotCompilable(variable) {\n                variable.nonCompilable = true;\n                _.each(variable.derived, function (derived) {\n                    setAsNotCompilable(derived);\n                });\n            }\n            function findInFunctionsWhiteList(func) {\n                return _.find(FUNCTION_WHITELIST, function (validFunc) {\n                    return validFunc === func;\n                });\n            }\n            for (var i = variables.length - 1; i >= 0; i--) {\n                var variable = variables[i];\n                //if has not been labeled as not compilable yet, check the expression\n                if (!variable.nonCompilable) {\n                    //parse expression to extract variables and functions\n                    var parsed = variable.expr.match(VARIABLE_REGEX);\n                    if (parsed) {\n                        for (var j = 0; j < parsed.length; j++) {\n                            var member = parsed[j];\n                            if (member[0] !== '$') {\n                                //if is a function must exist in the white list\n                                member = member.substring(0, member.indexOf('('));\n                                var isValidFunc = findInFunctionsWhiteList(member);\n                                if (!isValidFunc) {\n                                    setAsNotCompilable(variable);\n                                }\n                            } else {\n                                //if is a variable must exist in \"availableVariables\"\n                                if (!availableVariables[member]) {\n                                    setAsNotCompilable(variable);\n                                }\n                            }\n                        }\n                    }\n                    if (!variable.nonCompilable) {\n                        //set the variable as existing and compilable\n                        availableVariables[variables[i].name] = true;\n                    }\n                }\n            }\n            return variables;\n        },\n        unescapeNumberSign: function unscapeChardInVariablesExpression(str) {\n            return str.replace(ESCAPED_INTERPOLATION_REGEX, '#{');\n        },\n        setVariablesDefaultValue: function setVariablesDefaultValue(variablesDefaultValue) {\n            _.each(this.completeSetOfVariablesInOrder, function (variable) {\n                variable.defaultValue = variablesDefaultValue[variable.name];\n            });\n        },\n        setStylesheetHref: function setStylesheetHref() {\n            var stylesheets = jQuery('link[rel=\"stylesheet\"]', window.document.head)    //Build the path to the css with the metadata\n                                                                          //Get a non IE url\n, stylesheetHref = _.find(stylesheets.get(), function (linkDomElement) {\n                    if (!linkDomElement.href.match(/((_\\d+){2}\\.css(\\?.*)*)$/)) {\n                        return true;\n                    }\n                });\n            //Get the url of the production css without the extension\n            stylesheetHref = stylesheetHref.href.match(/(.*)(\\.css(\\?.*)*)$/)[1];\n            this.stylesheetHref = stylesheetHref.substring(0, stylesheetHref.lastIndexOf('/') + 1) + 'smt_' + stylesheetHref.substring(stylesheetHref.lastIndexOf('/') + 1) + '.css?t=' + new Date().getTime();\n        },\n        removeDefaultStyles: function removeDefaultStyles() {\n            var stylesheets = jQuery('link[rel=\"stylesheet\"]', window.document.head);\n            stylesheets.remove();\n        },\n        discardReload: function discardReload() {\n            //discard reloadCSS or planned reloadCSS\n            clearTimeout(this.reloadCSSRequestId);\n            this.reloadCSSRequestId = _.uniqueId('id_');\n        }\n    });\n    return CMSadapterImplThemeCustomizerPreview;\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n/*\n@module CMSadapter\n\n@class CMSadapter.Impl.Merchandising.v3\n*/\ndefine('CMSadapter.Impl.Merchandising.v3', [\n    'CMSadapter.Impl.Merchandising',\n    'underscore'\n], function (CMSadapterImplMerchandising, _) {\n    'use strict';\n    var CMSadapterImplMerchandising3 = function (application, CMS) {\n        CMSadapterImplMerchandising.call(this, application, CMS);\n    };\n    CMSadapterImplMerchandising3.prototype = Object.create(CMSadapterImplMerchandising.prototype);\n    CMSadapterImplMerchandising3.prototype.listenForCMS = function listenForCMS() {\n        // CMS listeners - CMS tells us to do something, could fire anytime.\n        var self = this;\n        self.CMS.on('cart:items:get', function (promise) {\n            var cart = self.application.getComponent('Cart'), linesId = [];\n            if (cart) {\n                cart.getLines().then(function (lines) {\n                    _.each(lines, function (line) {\n                        if (line.item && line.item.internalid) {\n                            linesId.push(line.item.internalid);\n                        }\n                    });\n                    promise.resolve(linesId);\n                });\n            } else {\n                promise.resolve();\n            }\n        });\n        self.CMS.on('page:items:get', function (promise) {\n            var pdp = self.application.getComponent('PDP'), linesId = [];\n            if (pdp) {\n                var product = pdp.getItemInfo();\n                if (product && product.item && product.item.internalid) {\n                    linesId.push(product.item.internalid);\n                }\n            }\n            promise.resolve(linesId);\n        });\n    };\n    return CMSadapterImplMerchandising3;\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n/*\n\t@module CMSadapter\n\t@class CMSadapter.Plugin.RecollectCMSSelectors\n\n\tLoads the recollectCMSSelectors plugin that iterates through all the tags that contains data-cms in the\n\ttemplate string.\n*/\ndefine('CMSadapter.Plugin.RecollectCMSSelectors', ['underscore'], function (_) {\n    'use strict';\n    return function CMSadapterPluginRecollectCMSSelectorsGenerator(application) {\n        return {\n            name: 'recollectCMSSelectors',\n            priority: 20,\n            execute: function (tmpl_str, view) {\n                var component = application.getComponent('CMS');\n                var unregister = function () {\n                    component.unregisterViewForPlaceholders(view);\n                };\n                view.off('destroy', unregister).on('destroy', unregister);\n                var regex = /<[^>]*(data-cms-area)=\\\"([^\"\\s]+)\\\"[^>]*>/g, match = regex.exec(tmpl_str), selectors_on_ui = [], selector, isEqual = function (obj) {\n                        return _.isEqual(obj, selector);\n                    };\n                component.unregisterViewForPlaceholders(view);\n                while (match !== null) {\n                    selector = { 'data-cms-area': match[2] };\n                    if (!_.find(selectors_on_ui, isEqual)) {\n                        selectors_on_ui.push(selector);\n                    } else {\n                        console.warn('Repeated selector ' + component.selectorToString(selector) + ' in template ' + view.template.Name);\n                    }\n                    match = regex.exec(tmpl_str);\n                }\n                if (selectors_on_ui.length > 0) {\n                    component.registerViewForPlaceholder(selectors_on_ui, view);\n                }\n                return tmpl_str;\n            }\n        };\n    };\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n/*\n\t@module CMSadapter\n\t@class CMSadapter.Plugin.PostRender\n\n\tLoads the cmsPostRender plugin responsible of re-rendering CCTs when views are being updated.\n*/\ndefine('CMSadapter.Plugin.PostRender', ['underscore'], function (_) {\n    'use strict';\n    return function CMSadapterPluginPostRender(application) {\n        return {\n            name: 'cmsPostRender',\n            priority: 10,\n            execute: function (tmpl_str, view) {\n                var cms_component = application.getComponent('CMS');\n                var cct_generators = cms_component.getViewCctsToRerender(view);\n                _.each(cct_generators, function (cct_generator) {\n                    view.addChildViewInstances(cct_generator, false);\n                });\n            }\n        };\n    };\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module CMSadapter\n// @class CMSadapter.v3\ndefine('CMSadapter.v3', [\n    'Backbone',\n    'CMSadapter',\n    'CMSadapter.Impl.Core.v3',\n    'CMSadapter.Impl.Landing.v3',\n    'CMSadapter.Impl.Categories.v3',\n    'CMSadapter.Impl.CustomContentType',\n    'CMSadapter.Impl.ThemeCustomizerPreview',\n    'CMSadapter.Impl.Merchandising.v3',\n    'CMSadapter.Plugin.RecollectCMSSelectors',\n    'CMSadapter.Plugin.PostRender',\n    'underscore'\n], function (Backbone, CMSadapter, CMSadapterImplCore3, CMSadapterImplLanding3, CMSadapterImplCategories3, CMSadapterImplCustomContentType, CMSadapterImplThemeCustomizerPreview, CMSadapterImplMerchandising3, CMSadapterPluginRecollectCMSSelectors, CMSadapterPluginPostRender, _) {\n    'use strict';\n    // @class CMSadapter responsible of starting both the adapter implementation and cms landing pages router.\n    // Assumes cms.js is already loaded\n    // @extend ApplicationModule\n    return _.extend({}, CMSadapter, {\n        installBackboneViewPlugins: function installBackboneViewPlugins(application) {\n            Backbone.View.postCompile.install(CMSadapterPluginRecollectCMSSelectors(application));\n            Backbone.View.postCompile.install(CMSadapterPluginPostRender(application));\n        },\n        initAdapterImpls: function initAdapterImpls(application, cmsObject, landingRouter) {\n            this.adapterLanding = new CMSadapterImplLanding3(application, cmsObject, landingRouter);\n            this.adapterCategories = new CMSadapterImplCategories3(application, cmsObject);\n            this.adapterCustomContentTypes = new CMSadapterImplCustomContentType(application, cmsObject);\n            this.adapterThemeCustomizerPreview = new CMSadapterImplThemeCustomizerPreview(application, cmsObject);\n            this.adapterMerchandising = new CMSadapterImplMerchandising3(application, cmsObject);\n            //CMSadapterImplCore3 must be the last on been created, constructor triggers the \"app:ready\" event\n            this.adapterCore = new CMSadapterImplCore3(application, cmsObject);\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module CMSadapterInstaller\ndefine('CMSadapterInstaller', [\n    'CMSadapter',\n    'CMSadapter.v2',\n    'CMSadapter.v3',\n    'SC.Configuration'\n], function (CMSadapter, CMSadapter2, CMSadapter3, Configuration) {\n    'use strict';\n    // @class CMSadapterInstaller responsible of initializing the CMSAdapter depending on the configured CMS version.\n    return {\n        mountToApp: function (application) {\n            var cms_adapter_version = Configuration.get('cms.adapterVersion'), cms_adapter = null;\n            switch (cms_adapter_version) {\n            case '2':\n                cms_adapter = CMSadapter2;\n                break;\n            case '3':\n                cms_adapter = CMSadapter3;\n                break;\n            }\n            if (cms_adapter) {\n                return cms_adapter.mountAdapter(application);\n            }\n        }\n    };\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module Sensors\ndefine('Sensors.DataExtractor', [\n    'Profile.Model',\n    'Session',\n    'Backbone',\n    'jQuery',\n    'underscore',\n    'Utils'\n], function (ProfileModel, Session, Backbone, jQuery, _, Utils) {\n    'use strict';\n    // @class DataExtractorDefaults This object represent the default named extractors that provides\n    // the default information like site, cart, bundle, etc.\n    return {\n        // @property {Object} site information about the site @public\n        site: {\n            // @class DataExtractor these objects are responsible of returning a subset of the information to \n            // be send to the sensors. For example the default 'bundle' DataExtractor property is responsible of \n            // publishing information about the bundle like version and name. \n            // @property {Boolean} once if true it will be published only on the first application startup rendering but not on indirect navigation (navigation inside the SPA)\n            once: false    // @method extract must return a promise that resolves into an object with name:values . This object\n                     // is what then is mized into the published results. \n                     // @public @param application @return {jQuery.Deferred}\n,\n            extract: function (application) {\n                var site_data = {\n                        sitePage: '',\n                        siteUrl: '',\n                        siteFragment: ''\n                    }, layout = application.getLayout(), site_data_promise = jQuery.Deferred(), view_id = layout.getCurrentView() && layout.getCurrentView().getPageDescription();\n                if (view_id) {\n                    site_data.sitePage = view_id;\n                }\n                site_data.siteUrl = window.location.href;\n                site_data.siteFragment = Backbone.history.fragment;\n                return site_data_promise.resolve(site_data);\n            }\n        }    // @class DataExtractorDefaults \n             // @property {DataExtractor} cart\n,\n        cart: {\n            once: false,\n            extract: function (application) {\n                var cart_data = { cartLines: '' }, cart_data_promise = jQuery.Deferred();\n                application.getCart().done(function (cart) {\n                    cart_data.cartLines = cart.get('lines').length + '';\n                    cart_data_promise.resolve(cart_data);\n                }).fail(function () {\n                    cart_data_promise.resolve(cart_data);\n                });\n                return cart_data_promise;\n            }\n        }    // @property {DataExtractor} bundle\n,\n        bundle: {\n            once: true,\n            extract: function () {\n                var bundle_data_promise = jQuery.Deferred(), bundle_metadata = {}, release_metadata = SC.ENVIRONMENT.RELEASE_METADATA || {};\n                bundle_metadata.bundleId = release_metadata.bundle_id || '';\n                bundle_metadata.bundleName = release_metadata.name || '';\n                bundle_metadata.bundleVersion = release_metadata.version || '';\n                bundle_metadata.buildNo = release_metadata.buildno || '';\n                bundle_metadata.dateLabel = release_metadata.datelabel || '';\n                bundle_metadata.baseLabel = release_metadata.baselabel || '';\n                return bundle_data_promise.resolve(bundle_metadata);\n            }\n        }    // @property {DataExtractor} customer\n,\n        customer: {\n            once: false,\n            extract: function () {\n                var profile_model = ProfileModel.getInstance(), isGuest = profile_model.get('isGuest') === 'T', isLoggedIn = !isGuest && profile_model.get('isLoggedIn') === 'T', isRecognized = !isGuest && profile_model.get('isRecognized') === 'T', isReturning = !isGuest && isLoggedIn, isNew = !isGuest && !isRecognized && !isLoggedIn, customer_data = {};\n                customer_data.customerSessionStatus = isNew ? 'New' : isReturning ? 'Returning' : isGuest ? 'Guest' : isRecognized ? 'Recognized' : '';\n                var regex = new RegExp('[; ]NLVisitorId=([^\\\\s;]*)');\n                var sMatch = (' ' + document.cookie).match(regex);\n                customer_data.visitorId = sMatch ? unescape(sMatch[1]) : '';\n                return jQuery.Deferred().resolve(customer_data);\n            }\n        }    // @property {DataExtractor} shopper\n,\n        shopper: {\n            once: false,\n            extract: function () {\n                var shopper_data = {\n                        shopperInternalId: '',\n                        currencyCode: ''\n                    }, profile_instance = ProfileModel.getInstance();\n                var shopper_id = profile_instance.get('internalid');\n                if (shopper_id && shopper_id !== '0') {\n                    shopper_data.shopperInternalId = shopper_id;\n                }\n                shopper_data.currencyCode = Session.get('currency.code') || '';\n                return jQuery.Deferred().resolve(shopper_data);\n            }\n        }    // @property {DataExtractor} device\n,\n        device: {\n            once: false,\n            extract: function () {\n                return jQuery.Deferred().resolve({ device: Utils.getDeviceType() });\n            }\n        }    // @property {DataExtractor} error_status\n,\n        error_status: {\n            once: false,\n            extract: function (application) {\n                var current_view = application.getLayout().getCurrentView(), errorData = current_view.isErrorView && (current_view.getPageDescription() || 'error');\n                return jQuery.Deferred().resolve({ errorStatus: errorData });\n            }\n        }\n    };\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module Sensors\ndefine('Sensors', [\n    'Sensors.DataExtractor',\n    'SC.Configuration',\n    'jQuery',\n    'underscore',\n    'Backbone'\n], function (SensorsDataExtractor, Configuration, jQuery, _, Backbone) {\n    'use strict';\n    //@class Sensors @extend ApplicationModule\n    var sensors_module = {\n        // @property {Object} nlrum\n        nlrum: null    // @property {Sensors.DataExtractor}\n,\n        dataExtractor: SensorsDataExtractor    // @method loadScript it will nlrum.js and then call sendData(true) @return {Void}\n,\n        loadScript: function () {\n            var self = this;\n            window.NLRUM = window.NLRUM || {};\n            window.NLRUM.bSendBeacon = 0;\n            window.NLRUM.bResourceTimingDataCollection = 1;\n            jQuery.getScript('/nlrum/nlRUM.js').done(function () {\n                if (!window.NLRUM.addSCData) {\n                    console.log('NLRUM has not defined addSCData');\n                    return;\n                }\n                self.nlrum = window.NLRUM;\n                self.sendData(true);\n            }).fail(function () {\n                console.log('nlRUM.js failed to load');\n            });\n        }    // @method getMetadata @param firstLoad is true for the first application view (direct navigation type)\n             // @return {jQuery.Deferred} resolved with the data to be send.\n,\n        getMetadata: function (isFirstLoad) {\n            var data = {}, data_promises = [], metadata_promise = jQuery.Deferred(), self = this;\n            _.each(this.dataExtractor, function (extractor) {\n                // include on first load or if it needs to be sent everytime (not once)\n                if (extractor.extract && (isFirstLoad || !extractor.once)) {\n                    data_promises.push(extractor.extract(self.application));\n                }\n            });\n            jQuery.when.apply(jQuery, data_promises).done(function () {\n                _.each(arguments, function (argument) {\n                    if (argument) {\n                        _.extend(data, argument);\n                    }\n                });\n                metadata_promise.resolve(data);\n            });\n            return metadata_promise;\n        }    // @method sendData @public @param isFirstLoad is true for the first application view (direct navigation type)\n             // @return {jQuery.Deferred} resolved with the data to be send.\n,\n        sendData: function (isFirstLoad) {\n            var promise = jQuery.Deferred();\n            if (this.nlrum && this.nlrum.addSCData) {\n                var self = this;\n                this.getMetadata(isFirstLoad).done(function (data) {\n                    data.linkType = isFirstLoad ? 'direct' : 'indirect';\n                    self.nlrum.addSCData(data);\n                    // @event nlrum:sendData each time data is posted to the nlrum service, listeners will be\n                    // notified. The data is passed as handler first parameter. @public\n                    self.trigger('nlrum:sendData', data, self);\n                    promise.resolve(data);\n                });\n            }\n            return promise;\n        }    // @method mountToApp @param application @return {Void}\n,\n        mountToApp: function (application) {\n            // don't execute in Page Generator\n            if (!(SC.ENVIRONMENT.jsEnvironment === 'browser' && SC.ENVIRONMENT.SENSORS_ENABLED)) {\n                return;\n            }\n            this.application = application;\n            var self = this;\n            application.getLayout().on('afterAppendView', function (view) {\n                self.handleAfterAppendView(application, view);\n                if (!self.nlrum)\n                    // first load\n                    {\n                        self.loadScript();\n                    }\n                else {\n                    self.sendData(false);\n                }\n            });\n            self.registerNavigationEvents(application);\n            if (self.debug) {\n                self.on('nlrum:sendData', _.bind(self.debugLog, self));\n            }\n        }    //NAVIGATION TIMING\n             //@methOd registerNavigationEvents will reset @?property userNavigateEventLastTime\n,\n        registerNavigationEvents: function (application) {\n            var self = this;\n            // Here we are registering to navigation events which we generalize as 'when the url fragment change'.\n            // We are register to this change using several approaches to mark the t0 - history change, navigationhelper click, dom click\n            //browser history just changed.\n            Backbone.history.on('all', _.bind(this.handleNavigationEventStart, this));\n            // navigationhelper way: user just clicked a navigation link! pdp matrix options won't work without this\n            application.getLayout().mouseDown && application.getLayout().mouseDown.install({\n                execute: function () {\n                    self.handleNavigationEventStart();\n                }\n            });\n            application.getLayout().on('afterAppendView', function (view) {\n                view && view.$el.on('mousedown', function () {\n                    self.handleNavigationEventStart();\n                });    // view.$el.unbind() is called automatically\n            });\n        },\n        handleNavigationEventStart: function () {\n            this.userNavigateEventLastTime = new Date().getTime();\n            window.NLRUM && window.NLRUM.markIndirectStart && window.NLRUM.markIndirectStart();\n            this.handleAfterAppendViewCounter = 0;\n        }    // @property userNavigateEventLastTime\n,\n        userNavigateEventLastTime: new Date().getTime(),\n        handleAfterAppendViewCounter: 0,\n        handleAfterAppendView: function () {\n            var showContentTime = new Date().getTime() - this.userNavigateEventLastTime;\n            var extractor = {\n                once: false,\n                value: { showContentTime: showContentTime },\n                extract: function () {\n                    return jQuery.Deferred().resolve(this.value);\n                }\n            };\n            this.dataExtractor.showContentTime = extractor;\n            this.handleAfterAppendViewCounter++;\n            if (this.handleAfterAppendViewCounter > 1) {\n                // this means that this afterAppendView was not triggered by a registered mechanism. This is an issue and it happens in PDP - add-to-cart button.\n                // What we are doing in this case is not tracking the time because is wrong.\n                delete this.dataExtractor.showContentTime;\n            }\n        }    // the following is just for debugging purposes when developing, on the browser console\n             // IMPORTANT: disable or comment in production\n,\n        debug: false,\n        debugRows: [\n            'siteFragment',\n            'sitePage',\n            'showContentTime',\n            'errorStatus'\n        ],\n        debugLog: function (data) {\n            data = _.isArray(data) ? data : [data];\n            var self = this, filteredData = _.map(data, function (entry) {\n                    return _.pick.apply(_, [entry].concat(self.debugRows));\n                });\n            console.table(filteredData);\n        }\n    };\n    _.extend(sensors_module, Backbone.Events);\n    return sensors_module;\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module QuantityPricing\ndefine('QuantityPricing.Utils', ['underscore'], function (_) {\n    'use strict';\n    //@class QuantityPricing.Utils\n    return {\n        //@method rearrangeQuantitySchedule override first minimumquantity from 0 to 1, and sets the maximum to a lower value\n        //@param {Item.Model} item\n        //@param {Array<Item.Model>} children_selection Collection of child items that based on the current selection of the parent can be selected\n        //return {Array<QuantityPricing.PriceRange>}\n        rearrangeQuantitySchedule: function rearrangeQuantitySchedule(item, children_selection) {\n            var price_schedule_exists_in_matrix_child = _.find(children_selection, function (child_item) {\n                    return child_item.get('_priceDetails').priceschedule;\n                }), price_schedule_exists_in_matrix_parent = item && item.get('_priceDetails') && item.get('_priceDetails').priceschedule && item.get('_priceDetails').priceschedule.length;\n            if (price_schedule_exists_in_matrix_parent || price_schedule_exists_in_matrix_child) {\n                var parent_quantity_schedule = item.get('_priceDetails').priceschedule, result_quantity_pricing = [];\n                if (children_selection && children_selection.length === 1) {\n                    result_quantity_pricing = _.first(children_selection).get('_priceDetails').priceschedule;\n                } else if (children_selection && children_selection.length > 1) {\n                    var children_quantity_pricing = _.map(children_selection, function (child) {\n                            return child.get('_priceDetails') && child.get('_priceDetails').priceschedule || [];\n                        }), reference_quantity_pricing = _.first(children_quantity_pricing), self = this, all_children_are_equal = _.every(children_quantity_pricing, function (child_quantity_pricing) {\n                            return self.areQuantityPricingEqual(reference_quantity_pricing, child_quantity_pricing);\n                        });\n                    result_quantity_pricing = all_children_are_equal ? self.computeRanges(children_quantity_pricing) : [];\n                } else {\n                    result_quantity_pricing = parent_quantity_schedule;\n                }\n                if (result_quantity_pricing.length > 0) {\n                    result_quantity_pricing = _.map(result_quantity_pricing, function (price_range) {\n                        return {\n                            maximumquantity: price_range.maximumquantity ? price_range.maximumquantity - 1 : price_range.maximumquantity,\n                            minimumquantity: price_range.minimumquantity,\n                            price: price_range.price,\n                            price_formatted: price_range.price_formatted,\n                            price_range: price_range.price_range,\n                            is_range: !!price_range.is_range\n                        };\n                    });\n                    _.first(result_quantity_pricing).minimumquantity = _.first(result_quantity_pricing).minimumquantity || 1;\n                }\n                return result_quantity_pricing;\n            }\n            return [];\n        }    //@method computeRanges compute price if they are different and make a range\n             //@param {Array<OnlineCustomerPriceDetail>} quantity_pricings\n             //@return {Array<QuantityPricing.PriceRange>}\n,\n        computeRanges: function computeRanges(quantity_pricings) {\n            var ranges = [];\n            _.each(quantity_pricings, function (quantity_pricing) {\n                ranges = ranges.concat(quantity_pricing);\n            });\n            var grouped_ranges = _.groupBy(ranges, function (range) {\n                return range.minimumquantity;\n            });\n            var result = [];\n            _.each(grouped_ranges, function (ranges) {\n                var max = _.max(_.pluck(ranges, 'price')), min = _.min(_.pluck(ranges, 'price')), is_range = min !== max    //@class QuantityPricing.PriceRange\n, range = {\n                        //@property {Number} maximumquantity\n                        maximumquantity: _.first(ranges).maximumquantity,\n                        minimumquantity: _.first(ranges).minimumquantity,\n                        price: is_range ? -1 : _.first(ranges).price,\n                        price_formatted: is_range ? '' : _.first(ranges).price_formatted,\n                        is_range: is_range    //@property {QuantityPricing.PriceRange.Range} price_range\n                                    //@class QuantityPricing.PriceRange.Range\n,\n                        price_range: is_range ? {\n                            //@property {Number} max\n                            max: max    //@property {Number} min\n,\n                            min: min    //@property {String} max_formatted\n,\n                            max_formatted: _.findWhere(ranges, { price: max }).price_formatted,\n                            min_formatted: _.findWhere(ranges, { price: min }).price_formatted\n                        } : null\n                    };\n                result.push(range);    //@class QuantityPricing.Utils\n            });\n            return result;\n        }    //@method areQuantityPricingEqual compare price between childs\n             //@param {OnlineCustomerPriceDetail} quantity_pricing_original\n             //@param {OnlineCustomerPriceDetail} quantity_pricing_to_compare\n             //return {Boolean}\n,\n        areQuantityPricingEqual: function areQuantityPricingEqual(quantity_pricing_original, quantity_pricing_to_compare) {\n            if (quantity_pricing_to_compare && quantity_pricing_original && quantity_pricing_original.length === quantity_pricing_to_compare.length) {\n                var are_equal = true;\n                for (var i = 0; i < quantity_pricing_original.length; i++) {\n                    if (quantity_pricing_original[i].maximumquantity !== quantity_pricing_to_compare[i].maximumquantity || quantity_pricing_original[i].minimumquantity !== quantity_pricing_to_compare[i].minimumquantity) {\n                        are_equal = false;\n                    }\n                }\n                return are_equal;\n            }\n            return false;\n        }\n    };\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module QuantityPricing\ndefine('QuantityPricing.View', [\n    'QuantityPricing.Utils',\n    'SC.Configuration',\n    'Profile.Model',\n    'quantity_pricing.tpl',\n    'Backbone',\n    'underscore'\n], function (QuantityPricingUtils, Configuration, ProfileModel, quantity_pricing_tpl, Backbone, _) {\n    'use strict';\n    //@class QuantityPricing.View @extend Backbone.View\n    return Backbone.View.extend({\n        //@property {Function} template\n        template: quantity_pricing_tpl    //@property {Object} events\n,\n        events: { 'click [data-action=\"toggle\"]': 'toggleAccordion' }    //@method initialize\n                                                                 //@param {QuantityPricing.Initialize.Options} options\n                                                                 //@return {Void}\n,\n        initialize: function () {\n            this.profileModel = ProfileModel.getInstance();\n            this._isEnabled = !(Configuration.getRegistrationType() !== 'disabled' && SC.getSessionInfo('loginToSeePrices') && this.profileModel.get('isLoggedIn') !== 'T');\n            this.price_schedule = QuantityPricingUtils.rearrangeQuantitySchedule(this.model.get('item'), _.isFunction(this.model.getSelectedMatrixChilds) ? this.model.getSelectedMatrixChilds() : []);\n            this.model.on('change', function () {\n                var new_price_schedule = QuantityPricingUtils.rearrangeQuantitySchedule(this.model.get('item'), _.isFunction(this.model.getSelectedMatrixChilds) ? this.model.getSelectedMatrixChilds() : []);\n                if (!_.isEqual(this.price_schedule, new_price_schedule)) {\n                    this.price_schedule = new_price_schedule;\n                    this.render();\n                }\n            }, this);\n            this.item_key = this.model.get('item').id + '' + new Date().getMilliseconds();\n        }    //@property {Boolean} _isEnabled Boolean flag that shows if we are able to show this view\n,\n        _isEnabled: false    //@property {Boolean} _isOpen Boolean flag about if accordion is open or not.\n,\n        _isOpen: false    //@method toggleAccordion Toggle the _isOpen internal flag\n                 //@return {Void}\n,\n        toggleAccordion: function () {\n            this._isOpen = !this._isOpen;\n        }    //@method getContext\n             //@return {QuantityPricing.View.Context}\n,\n        getContext: function () {\n            //@class QuantityPricing.View.Context\n            return {\n                // @property {Boolean} isAccordion\n                isAccordion: !this.options.notUseAccordion,\n                showContent: this._isEnabled && !!this.price_schedule.length,\n                priceSchedule: this.price_schedule,\n                isOpen: this._isOpen,\n                isModal: this.options.isModal,\n                itemKey: this.item_key\n            };    //@class QuantityPricing.View\n        }\n    });\n});    // @class QuantityPricing.Initialize.Options\n       // @property {Product.Model | Transaction.Line.Model} model\n       // @property {Boolean} notUseAccordion\n","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module ProductDetails\ndefine('ProductDetails.QuickView.View', [\n    'ProductDetails.Base.View',\n    'product_details_quickview.tpl',\n    'underscore'\n], function (ProductDetailsBaseView, product_details_quickview_tpl, _) {\n    'use strict';\n    //@class ProductDetails.QuickView.View Handles the PDP and quick view @extend Backbone.View\n    return ProductDetailsBaseView.extend({\n        //@property {Function} template\n        template: product_details_quickview_tpl    //@property {Object} attributes List of HTML attributes applied by Backbone into the $el\n,\n        attributes: {\n            'id': 'ProductDetails.QuickView.View',\n            'class': 'view product-detail',\n            'data-root-component-id': 'ProductDetails.QuickView.View'\n        },\n        bindings: _.extend({}, ProductDetailsBaseView.prototype.bindings, {}),\n        events: _.extend({}, ProductDetailsBaseView.prototype.events, { 'click [data-action=\"go-to-fullview\"]': 'goToFullView' })    //@method goToFullView Fix the url of the Full View link.\n                                                                                                                             //@param {jQuery.Event} e\n                                                                                                                             //@return {void}\n,\n        goToFullView: function goToFullView(e) {\n            this.$(e.target).attr('href', this.model.generateURL());\n        },\n        childViews: _.extend({}, ProductDetailsBaseView.prototype.childViews, {})    //@method getExtraChildrenOptions Allows adding extra option to the child view.\n                                                                         //@return {ProductDetails.QuickView.View.ExtraChildrenOptions}\n,\n        getExtraChildrenOptions: function getExtraChildrenOptions() {\n            //@class ProductDetails.QuickView.View.ExtraChildrenOptions\n            return {\n                //@property {Boolean} isModal\n                isModal: true\n            };    //@class ProductDetails.QuickView.View\n        }    //@method getContext\n             //@return {ProductDetails.QuickView.View.Context}\n,\n        getContext: function () {\n            //@class ProductDetails.QuickView.View.Context @extend ProductDetails.Base.View.Context\n            return _.extend(ProductDetailsBaseView.prototype.getContext.apply(this, arguments), {});    //@class ProductDetails.QuickView.View\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module QuantityPricing\ndefine('QuantityPricing', [\n    'QuantityPricing.View',\n    'ProductDetails.Full.View',\n    'RequestQuoteWizard.Module.Items.Line.Quantity.View',\n    'ReorderItems.Actions.Quantity.View',\n    'ProductDetails.QuickView.View',\n    'Cart.Item.Summary.View'\n], function (QuantityPricingView, ProductDetailsFullView, RequestQuoteWizardModuleItemsLineQuantityView, ReorderItemsActionsQuantityView, ProductDetailsQuickViewView, CartItemSummaryView) {\n    'use strict';\n    //@class QuantityPricing @extend ApplicationModule\n    return {\n        //@method mountToApp\n        //@param {ApplicationSkeleton} application\n        //@return {Void}\n        mountToApp: function () {\n            if (SC.ENVIRONMENT.siteSettings.quantitypricing) {\n                //Set the quantity pricing on PDP\n                ProductDetailsFullView.addChildViews && ProductDetailsFullView.addChildViews({\n                    'Quantity.Pricing': function wrapperFunction(options) {\n                        return function () {\n                            return new QuantityPricingView({\n                                notUseAccordion: false,\n                                model: options.model\n                            });\n                        };\n                    }\n                });\n                //Set the quantity pricing on Request Quote Wizard Module Items Line Quantity\n                RequestQuoteWizardModuleItemsLineQuantityView.addChildViews && RequestQuoteWizardModuleItemsLineQuantityView.addChildViews({\n                    'Quantity.Pricing': function wrapperFunction(options) {\n                        return function () {\n                            return new QuantityPricingView({\n                                notUseAccordion: true,\n                                model: options.model\n                            });\n                        };\n                    }\n                });\n                //Set the quantity pricing on Reorder Item Action Quantity\n                ReorderItemsActionsQuantityView.addChildViews && ReorderItemsActionsQuantityView.addChildViews({\n                    'Quantity.Pricing': function wrapperFunction(options) {\n                        return function () {\n                            return new QuantityPricingView({\n                                notUseAccordion: true,\n                                model: options.model\n                            });\n                        };\n                    }\n                });\n                //Set the quantity pricing on QuickView\n                ProductDetailsQuickViewView.addChildViews && ProductDetailsQuickViewView.addChildViews({\n                    'Quantity.Pricing': function wrapperFunction(options) {\n                        return function () {\n                            return new QuantityPricingView({\n                                notUseAccordion: false,\n                                model: options.model\n                            });\n                        };\n                    }\n                });\n                //Set the quantity pricing on Cart transaction line\n                CartItemSummaryView.addChildViews && CartItemSummaryView.addChildViews({\n                    'Quantity.Pricing': function wrapperFunction(options) {\n                        return function () {\n                            return new QuantityPricingView({\n                                notUseAccordion: false,\n                                model: options.model\n                            });\n                        };\n                    }\n                });\n            }\n        }\n    };\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module QuickOrder\ndefine('QuickOrder.View', [\n    'QuickAdd.View',\n    'Backbone.CompositeView',\n    'LiveOrder.Model',\n    'quick_order.tpl',\n    'Backbone',\n    'underscore'\n], function (QuickAddView, BackboneCompositeView, LiveOrderModel, quick_order_tpl, Backbone, _) {\n    'use strict';\n    //@class QuickOrder.View @extend Backbone.View\n    return Backbone.View.extend({\n        //@property {Function} template\n        template: quick_order_tpl    // @method initialize Overrides default method to convert current view in to composite\n                           // @return {Void}\n,\n        initialize: function () {\n            BackboneCompositeView.add(this);\n            this.cart = LiveOrderModel.getInstance();\n            this.quickAddViewComponent = new QuickAddView({\n                getItemQuantitySet: _.bind(this.getItemQuantitySet, this),\n                showBackorderable: false,\n                validateMaxQty: true\n            });\n            this.quickAddViewComponent.on('selectedLine', this.addNewLine, this);\n        }    //@method getItemQuantitySet Auxiliary method used to provide the amount of already added items into the transaction to the quick add component\n             //@param {Number} item_id\n             //@return {Number}\n,\n        getItemQuantitySet: function (item_id) {\n            var selected_line = this.cart.get('lines').find(function (line) {\n                return line.get('item').id === item_id;\n            });\n            return selected_line ? parseInt(selected_line.get('quantity'), 10) : 0;\n        }    //@method addNewLine\n             //@param {QuickAdd.View.SelectedLine.Properties} options\n             //@return {Void}\n,\n        addNewLine: function (options) {\n            this.cart.addLine(options.selectedLine);\n        }    // @property {ChildViews} childViews\n,\n        childViews: {\n            'QuickAddView': function () {\n                return this.quickAddViewComponent;\n            }\n        }    //@method destroy Override default implementation to clean up all attached events of the initialize\n             //@return {Void}\n,\n        destroy: function () {\n            this.quickAddViewComponent.off('selectedLine');\n            this._destroy();\n        }    // @method getContext\n             // @return {QuickOrder.View.Context}\n,\n        getContext: function () {\n            // @class QuickOrder.View.Context\n            return {\n                // @property {Boolean} showOpenedAccordion\n                showOpenedAccordion: !!this.options.openQuickOrder\n            };    //@class QuickOrder.View\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module QuickOrder\ndefine('QuickOrder.EmptyCart.View', [\n    'quick_order_empty_cart.tpl',\n    'Backbone'\n], function (quick_order_empty_cart_tpl, Backbone) {\n    'use strict';\n    //@class QuickOrder.EmptyCart.View @extend Backbone.View\n    return Backbone.View.extend({\n        //@property {Function} template\n        template: quick_order_empty_cart_tpl\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module QuickOrder\ndefine('QuickOrder', [\n    'QuickOrder.View',\n    'Cart.Detailed.View',\n    'QuickOrder.EmptyCart.View'\n], function (QuickOrderView, CartDetailedView, QuickOrderEmptyCartView) {\n    'use strict';\n    //@class QuickOrder @extend ApplicationModule\n    return {\n        //@method mountToApp\n        //@param {ApplicationSkeleton} application\n        //@return {Void}\n        mountToApp: function () {\n            //Show Quick Order in Cart\n            CartDetailedView.addChildViews && CartDetailedView.addChildViews({\n                'Quick.Order': function wrapperFunction(options) {\n                    options = options || {};\n                    options.urlOptions = options.urlOptions || {};\n                    return function () {\n                        return new QuickOrderView({ openQuickOrder: options.urlOptions.openQuickOrder === 'true' });\n                    };\n                }\n            });\n            //Show Quick Order Empty Cart Message in Cart\n            CartDetailedView.addChildViews && CartDetailedView.addChildViews({\n                'Quick.Order.EmptyCart': function wrapperFunction() {\n                    return function () {\n                        return new QuickOrderEmptyCartView({});\n                    };\n                }\n            });\n        }\n    };\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module StoreLocator\ndefine('StoreLocator.Tooltip.View', [\n    'ReferenceMap',\n    'store_locator_tooltip.tpl',\n    'underscore',\n    'Backbone.CollectionView',\n    'Backbone'\n], function (ReferenceMap, store_locator_tooltip_tpl, _, BackboneCollectionView, Backbone) {\n    'use strict';\n    return Backbone.View.extend({\n        template: store_locator_tooltip_tpl    //@method initialize\n                                     //@param {Object} options\n,\n        initialize: function initialize(options) {\n            this.application = options.application;\n            this.index = options.index;\n        }    //@method getContext\n             //@return StoreLocator.Tooltip.View.Context\n,\n        getContext: function getContext() {\n            return {\n                model: this.model,\n                storeName: this.model.get('name'),\n                showStoreDistance: !!this.model.get('distance'),\n                distanceUnit: this.model.get('distanceunit'),\n                storeDistance: this.model.get('distance'),\n                showStoreAddress: !!this.model.get('address1'),\n                storeAddress: this.model.get('address1'),\n                storeId: this.model.get('internalid'),\n                index: this.index\n            };\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module StoreLocatorReferenceMapsImplementation\ndefine('ReferenceMap.Promise.Handler', [], function () {\n    'use strict';\n    var instance = null;\n    function ReferenceMapPromiseHandler() {\n        if (instance !== null) {\n            throw new Error('Cannot instantiate more than one ReferenceMapPromiseHandler, use ReferenceMapPromiseHandler.getInstance()');\n        }\n        this.initialize();\n    }\n    ReferenceMapPromiseHandler.prototype = {\n        initialize: function () {\n            this.promise = null;\n        },\n        setPromise: function (promise) {\n            this.promise = promise;\n        },\n        getPromise: function () {\n            return this.promise;\n        }\n    };\n    ReferenceMapPromiseHandler.getInstance = function () {\n        if (instance === null) {\n            instance = new ReferenceMapPromiseHandler();\n        }\n        return instance;\n    };\n    return ReferenceMapPromiseHandler.getInstance();\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// GoogleMap.js\n//@module StoreLocatorReferenceMapImplementation @class GoogleMap\ndefine('GoogleMap', [\n    'Backbone',\n    'jQuery',\n    'underscore',\n    'ReferenceMap',\n    'StoreLocator.Tooltip.View',\n    'ReferenceMap.Promise.Handler'\n], function (Backbone, jQuery, _, ReferenceMap, StoreLocatorTooltip, PromiseHandler) {\n    'use strict';\n    ReferenceMap.prototype.isInitialized = function isInitialized() {\n        return typeof google === 'object' && typeof google.maps === 'object';\n    };\n    ReferenceMap.prototype.load = function load() {\n        var url = this.configuration.getUrl(), handler = PromiseHandler;\n        if (!handler.getPromise() && !this.isInitialized()) {\n            var promise = jQuery.getScript(url).done(function () {\n                ReferenceMap.prototype.initialized = true;\n            });\n            this.load_promise = promise;\n            handler.setPromise(promise);\n        }\n        return handler.getPromise();\n    };\n    ReferenceMap.prototype.showMap = function showMap(container) {\n        var map_configuration = this.configuration.mapOptions(), map_options = {\n                center: new google.maps.LatLng(map_configuration.centerPosition.latitude, map_configuration.centerPosition.longitude),\n                zoom: map_configuration.zoom,\n                mapTypeControl: map_configuration.mapTypeControl,\n                streetViewControl: map_configuration.streetViewControl,\n                mapTypeId: google.maps.MapTypeId[map_configuration.mapTypeId],\n                disableDefaultUI: true\n            };\n        var map = new google.maps.Map(container, map_options);\n        var self = this;\n        google.maps.event.addListener(map, 'tilt_changed', _.bind(function () {\n            google.maps.event.trigger(map, 'resize');\n            if (!!this.points.length) {\n                this.fitBounds(map);\n            } else if (this.detail_point) {\n                this.fitBounds(map);\n                map.setCenter(map.getCenter());\n                map.setZoom(this.configuration.zoomInDetails());\n            } else {\n                this.centerMapToDefault(map);\n            }\n        }, this));\n        this.map = map;\n        return map;\n    };\n    ReferenceMap.prototype.centerMapToDefault = function centerMapToDefault(map) {\n        map = this.map || map;\n        if (!map) {\n            return;\n        }\n        map.myPositionMarker && map.myPositionMarker.setMap(null);\n        var map_options = this.configuration.mapOptions();\n        map.setZoom(map_options.zoom);\n        map.setCenter(new google.maps.LatLng(parseInt(map_options.centerPosition.latitude, 10), parseInt(map_options.centerPosition.longitude, 10)));\n    };\n    ReferenceMap.prototype.getInfoWindow = function getInfoWindow() {\n        if (!this.infowindow) {\n            this.infowindow = new google.maps.InfoWindow();\n        }\n        return this.infowindow;\n    };\n    ReferenceMap.prototype.getTooltip = function getTooltip(model, index) {\n        if (!this.tooltip) {\n            this.tooltip = new StoreLocatorTooltip({\n                model: model,\n                index: index\n            });\n        } else {\n            this.tooltip.index = index;\n            this.tooltip.model = model;\n        }\n        return this.tooltip;\n    };\n    ReferenceMap.prototype.showPoint = function showPoint(point, map) {\n        map = map || this.map;\n        if (!map) {\n            return;\n        }\n        var location = point.get('location'), marker = new google.maps.Marker({\n                store_id: point.get('internalid'),\n                icon: this.configuration.iconOptions('stores'),\n                map: map\n            });\n        marker.setPosition(new google.maps.LatLng(location.latitude, location.longitude));\n        marker.setVisible(true);\n        marker.addListener('click', _.bind(function () {\n            this.showInfoWindowOnClick(marker, map);\n        }, this));\n        return marker;\n    };\n    ReferenceMap.prototype.showPointWithoutInfoWindow = function showPointWithoutInfoWindow(point, map) {\n        map = map || this.map;\n        if (!map) {\n            return;\n        }\n        var location = point.get('location'), marker = new google.maps.Marker({\n                store_id: point.get('internalid'),\n                icon: this.configuration.iconOptions('stores'),\n                map: map\n            });\n        marker.setPosition(new google.maps.LatLng(location.latitude, location.longitude));\n        marker.setVisible(true);\n        this.detail_point = marker;\n        return marker;\n    };\n    ReferenceMap.prototype.showInfoWindowOnClick = function showInfoWindowOnClick(marker, map) {\n        var point = this.collection.find({ 'id': marker.store_id }), index = this.collection.indexOf(point) + 1;\n        this.showInfoWindow(marker, point, index, map);\n    };\n    ReferenceMap.prototype.showInfoWindow = function showInfoWindow(marker, model, index, map) {\n        map = map || this.map;\n        if (!map) {\n            return;\n        }\n        var tooltip = this.getTooltip(model, index), info_window = this.getInfoWindow();\n        info_window.setContent(tooltip.template(tooltip.getContext()));\n        info_window.open(map, marker);\n    };\n    ReferenceMap.prototype.showMyPosition = function showMyPosition(position, map) {\n        position = position || this.myposition;\n        map = map || this.map;\n        if (!position || !map) {\n            return;\n        }\n        if (map.myPositionMarker) {\n            map.myPositionMarker.setMap(null);\n        }\n        map.myPositionMarker = new google.maps.Marker({\n            icon: this.configuration.iconOptions('position'),\n            map: map\n        });\n        position.location = position.location || new google.maps.LatLng(position.latitude, position.longitude);\n        map.myPositionMarker.setPosition(position.location);\n        map.myPositionMarker.setVisible(true);\n        if (position.viewport) {\n            map.fitBounds(position.viewport);\n        } else {\n            var map_options = this.configuration.mapOptions();\n            map.setCenter(position.location);\n            map.setZoom(map_options.zoom);\n        }\n        return map.myPositionMarker;\n    };\n    ReferenceMap.prototype.removePoint = function removePoint(point) {\n        point.setMap(null);\n    };\n    ReferenceMap.prototype.showAutoCompleteInput = function showAutoCompleteInput(input) {\n        var self = this;\n        if (input) {\n            this.autocomplete = new google.maps.places.SearchBox(input);\n            google.maps.event.addListener(this.autocomplete, 'places_changed', function () {\n                self.autocompleteChange();\n                self.trigger('change:places', self.autocomplete.getPlaces());\n            });\n        }\n        return this.autocomplete;\n    };\n    ReferenceMap.prototype.autocompleteChange = function autocompleteChange() {\n        var place = this.autocomplete && this.autocomplete.getPlaces() && this.autocomplete.getPlaces()[0];\n        if (!place || _.size(place) === 0) {\n            console.warn('Autocomplete returned place contains no geometry');\n            return;\n        }\n        if (!place.geometry) {\n            console.warn('Autocomplete returned place contains no geometry');\n            return;\n        }\n        //set autocomplete coordinates\n        if (place.geometry.location) {\n            this.setPosition({\n                latitude: place.geometry.location.lat(),\n                longitude: place.geometry.location.lng(),\n                address: place.formatted_address,\n                viewport: place.geometry.viewport,\n                location: place.geometry.location\n            });\n        }\n    };\n    ReferenceMap.prototype.fitBounds = function fitBounds(map) {\n        map = map || this.map;\n        if (!map) {\n            return;\n        }\n        var bounds = new google.maps.LatLngBounds();\n        _.each(this.points, function (point) {\n            var location = point.getPosition();\n            bounds.extend(new google.maps.LatLng(location.lat(), location.lng()));\n        });\n        if (!_.isUndefined(this.myposition.latitude) && !_.isUndefined(this.myposition.longitude)) {\n            bounds.extend(new google.maps.LatLng(this.myposition.latitude, this.myposition.longitude));\n        }\n        if (!!this.detail_point) {\n            bounds.extend(new google.maps.LatLng(this.detail_point.position.lat(), this.detail_point.position.lng()));\n        }\n        map.fitBounds(bounds);\n    };\n    ReferenceMap.prototype.getCityGeoCode = function getCityGeoCode() {\n        var promise = jQuery.Deferred(), geoCoder = new google.maps.Geocoder(), position = this.myposition, latlng = {\n                lat: parseFloat(position.latitude),\n                lng: parseFloat(position.longitude)\n            }, self = this;\n        geoCoder.geocode({ location: latlng }, function (results, status) {\n            if (status === google.maps.GeocoderStatus.OK) {\n                var city = _(results).find(function (result) {\n                    return !_.indexOf(result.types, 'locality');\n                });\n                if (city) {\n                    self.myposition.address = city.formatted_address;\n                } else {\n                    self.myposition.address = results[0].formatted_address;\n                }\n                self.trigger('change:position', self.myposition);\n                promise.resolve();\n            } else {\n                promise.always();\n                console.warn('Geocoder failed due to: ' + status);\n            }\n        });\n        return promise;\n    };\n    ReferenceMap.prototype.zoomToPoint = function zoomToPoint(marker, map) {\n        map = map || this.map;\n        if (!map) {\n            return;\n        }\n        map.setZoom(this.configuration.zoomInDetails());\n        map.panTo(marker.position);\n    };\n    ReferenceMap.prototype.getDirectionsUrl = function getDirectionsUrl(source, destination) {\n        var source_parameter = source ? source.latitude + ',' + source.longitude : 'Current+Location', destination_parameter = (destination && destination.latitude) + ',' + (destination && destination.longitude);\n        return 'https://maps.google.com?saddr=' + source_parameter + '&daddr=' + destination_parameter;\n    };\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module StoreLocatorGoogleMapsImplementation\n// Specific configuration redefinition for Google Maps implementation\ndefine('GoogleMap.Configuration', [\n    'ReferenceMap.Configuration',\n    'SC.Configuration',\n    'underscore',\n    'Utils'\n], function (ReferenceMapConfiguration, Configuration, _) {\n    'use strict';\n    ReferenceMapConfiguration.mapOptions = function mapOptions() {\n        return Configuration.get('storeLocator.mapOptions');\n    };\n    ReferenceMapConfiguration.iconOptions = function iconOptions(attr) {\n        if (attr) {\n            return Configuration.get('storeLocator.icons')[attr];\n        } else {\n            return Configuration.get('storeLocator.icons');\n        }\n    };\n    ReferenceMapConfiguration.zoomInDetails = function zoomInDetails() {\n        return Configuration.get('storeLocator.zoomInDetails');\n    };\n    ReferenceMapConfiguration.title = function title() {\n        return Configuration.get('storeLocator.title');\n    };\n    ReferenceMapConfiguration.isEnabled = function isEnabled() {\n        return Configuration.get('storeLocator.isEnabled');\n    };\n    ReferenceMapConfiguration.getUrl = function getUrl() {\n        return 'https://maps.googleapis.com/maps/api/js?v=3.21&key=' + Configuration.get('storeLocator.apiKey') + '&signed_in=false&libraries=places';\n    };\n    ReferenceMapConfiguration.getApiKey = function getApiKey() {\n        return Configuration.get('storeLocator.apiKey');\n    };\n    ReferenceMapConfiguration.getExtraData = function getExtraData() {\n        return Configuration.get('storeLocator.additionalStoresData');\n    };\n    ReferenceMapConfiguration.getRadius = function getRadius() {\n        return Configuration.get('storeLocator.radius');\n    };\n    ReferenceMapConfiguration.openPopupOnMouseOver = function openPopupOnMouseOver() {\n        return Configuration.get('storeLocator.openPopupOnMouseOver');\n    };\n    ReferenceMapConfiguration.showLocalizationMap = function showLocalizationMap() {\n        return Configuration.get('storeLocator.showLocalizationMap');\n    };\n    ReferenceMapConfiguration.showAllStoresRecordsPerPage = function showAllStoresRecordsPerPage() {\n        return Configuration.get('storeLocator.showAllStoresRecordsPerPage');\n    };\n    return ReferenceMapConfiguration;\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module StoreLocatorAccessPoints\ndefine('StoreLocatorAccessPoints.HeaderLink.View', [\n    'ReferenceMap.Configuration',\n    'storelocator_accesspoints_headerlink.tpl',\n    'Backbone',\n    'SC.Configuration'\n], function (ReferenceConfiguration, storelocator_accesspoints_headerlink_tpl, Backbone, Configuration) {\n    'use strict';\n    //@class StoreLocatorAccessPoints.HeaderLink.View @extend Backbone.View\n    return Backbone.View.extend({\n        //@property {Function} template\n        template: storelocator_accesspoints_headerlink_tpl    //@method getContext\n                                                    //@return {StoreLocatorAccessPoints.HeaderLink.View.Context}\n,\n        getContext: function () {\n            //@class StoreLocatorAccessPoints.HeaderLink.View.Context\n            return {\n                //@Property {String} title\n                title: ReferenceConfiguration.title()    //@property {Boolean} hasClass\n,\n                hasClass: !!this.options.className,\n                className: this.options.className,\n                touchpoint: Configuration.get('siteSettings.isHttpsSupported') ? 'home' : 'storelocator'\n            };    //@class StoreLocatorAccessPoints.HeaderLink.View\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n// @module StoreLocatorAccessPoints\ndefine('StoreLocatorAccessPoints', [\n    'ReferenceMap.Configuration',\n    'StoreLocatorAccessPoints.HeaderLink.View',\n    'Header.View',\n    'Header.Menu.View'\n], function (ReferenceConfiguration, StoreLocatorWizardHeaderLinkView, HeaderView, HeaderMenuView) {\n    'use strict';\n    //@class StoreLocatorAccessPoints @extend ApplicationModule\n    return {\n        //@method mountToApp\n        //@param {ApplicationSkeleton} application\n        //@return {Void}\n        mountToApp: function () {\n            if (!ReferenceConfiguration.isEnabled()) {\n                return;\n            }\n            HeaderView.addChildViews && HeaderView.addChildViews({\n                'StoreLocatorHeaderLink': function wrapperFunction() {\n                    return function () {\n                        return new StoreLocatorWizardHeaderLinkView({});\n                    };\n                }\n            });\n            HeaderMenuView.addChildViews && HeaderMenuView.addChildViews({\n                'StoreLocatorHeaderLink': function wrapperFunction() {\n                    return function () {\n                        return new StoreLocatorWizardHeaderLinkView({ className: ' ' });\n                    };\n                }\n            });\n        }\n    };\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module CustomContentType\ndefine('CustomContentType.Base.View', [\n    'Backbone',\n    'underscore',\n    'jQuery'\n], function (Backbone, _, jQuery) {\n    'use strict';\n    //@class CustomContentType.Base.View @extends Backbone.View\n    //Base CCT class from where all the custom CCT extend from\n    //inherits the basic render and destroy methods from Backbone.View\n    var CustomContentTypeBaseView = Backbone.View.extend({\n        initialize: function initialize(options) {\n            this._initialize(options);\n        }    // @method install called the first time a CCT is dragged from the admin panel to the application.\n             // It indicates when does the CCT instance has finished making all the ajax call that are necessary.\n             // Also it initializes the CCT settings.\n             // If in a custom CCT is there any ajax calls or other logic, then the CCT has to override this method\n             // and return a jQuery.deferred.\n             // Any error that cause that the CustomContentType object could not be installed, means that the cct will be\n             // removed from the DOM (call the destroy method -to be defined??- ) and it will return a deferred rejected.\n             // @param {CustomContentType.Settings} settings the settings of the CCT\n             // @return {jQuery.Deferred}\n,\n        install: function install(settings, context_data) {\n            return this._install(settings, context_data);\n        }    // @method _instal\n             // @param {CustomContentType.Settings} settings the new settings of the CCT\n             // @return {Void}\n,\n        _install: function _install(settings, context_data) {\n            this.settings = settings;\n            this.contextData = context_data;\n            return jQuery.Deferred().resolve();\n        }    // @method update used every time the user wants to edit a CCT.\n             // To do this, the user will select one, interact with the CMS configuration side panel,\n             // CMS will in turn trigger the adapter:cct:update event, and SCA code will call this method to finally\n             // update the settings of the CCT.\n             // Each specific CCT will have to override this method in order to update the settings,\n             // trigger a re-render of the CCT View, and return a deferred resolved or rejected.\n             // @param {CustomContentType.Settings} settings the new settings of the CCT\n             // @return {jQuery.Deferred}\n,\n        update: function update(settings) {\n            return this._update(settings);\n        }    // @method _update\n             // @param {CustomContentType.Settings} settings the new settings of the CCT\n             // @return {Void}\n,\n        _update: function _update(settings) {\n            this.settings = settings;\n            return jQuery.Deferred().resolve();\n        },\n        destroy: function destroy() {\n            this._destroy();\n            return jQuery.Deferred().resolve();\n        }    // @method getContext\n             // @return {CustomContentType.Base.View.Context}\n,\n        getContext: function getContext() {\n            // @class CustomContentType.Base.View.Context\n            return {\n                //@property {CustomContentType.Settings} settings\n                settings: this.settings\n            };    // @class CustomContentType.Base.View\n        }\n    });\n    CustomContentTypeBaseView.beforeInitialize.install({\n        name: 'customContentTypeBaseViewInit',\n        priority: 1,\n        execute: function () {\n            this.settings = {};\n            this.instanceId = this.options.instanceId;\n            this.id = this.options.id;\n        }\n    });\n    return CustomContentTypeBaseView;    //@class CustomContentType.Settings This class defines the available settings that a CustomContentType object support.\n                                         //It is an obj of the form\n                                         // {\n                                         //\t\ttemplate: {String} name of the template/path to the module in the file cabinet?\n                                         //\t\thtml: to be defined, in case of the four core CCT\n                                         //\t\t....\n                                         // }\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module SC.CCT.Html\ndefine('SC.CCT.Html.View', [\n    'CustomContentType.Base.View',\n    'sc_cct_html.tpl'\n], function (CustomContentTypeBaseView, sc_cct_html_tpl) {\n    'use strict';\n    //@class SC.CCT.Html.View @extend CustomContentType.Base.View\n    return CustomContentTypeBaseView.extend({\n        template: sc_cct_html_tpl,\n        getContext: function getContext() {\n            // @class SC.CCT.Html.View.Context\n            return {\n                //@property {String} htmlString\n                htmlString: this.settings.html_string,\n                hasHtmlString: !!this.settings.html_string\n            };    // @class SC.CCT.Html.View\n        }\n    });\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n//@module SC.CCT.Html\ndefine('SC.CCT.Html', ['SC.CCT.Html.View'], function (SCCCTHtmlView) {\n    'use strict';\n    return {\n        mountToApp: function mountToApp(application) {\n            var component = application.getComponent('CMS');\n            if (!component) {\n                return;\n            }\n            component.registerCustomContentType({\n                id: 'CMS',\n                view: SCCCTHtmlView\n            });\n        }\n    };\n});","define('SC.MyAccount.Starter.Dependencies', [\n    'Backbone.View.Plugins',\n    'Location',\n    'PickupInStore',\n    'jQuery.html',\n    'MyAccount.Profile',\n    'Overview',\n    'Item',\n    'ProductViews',\n    'Transaction.Line.Views',\n    'Cart',\n    'Address',\n    'Content',\n    'CreditCard',\n    'Categories',\n    'ExternalPayment',\n    'OrderHistory',\n    'ReturnAuthorization',\n    'ReorderItems',\n    'Receipt',\n    'NavigationHelper',\n    'NavigationHelper.Plugins.Standard',\n    'NavigationHelper.Plugins.DataTouchPoint',\n    'NavigationHelper.Plugins.Modals',\n    'NavigationHelper.Plugins.Pushers',\n    'AjaxRequestsKiller',\n    'ErrorManagement',\n    'GoogleUniversalAnalytics',\n    'GoogleTagManager',\n    'Merchandising',\n    'Balance',\n    'Invoice',\n    'LivePayment',\n    'PaymentWizard',\n    'TransactionHistory',\n    'ProductList',\n    'PrintStatement',\n    'Quote',\n    'QuoteToSalesOrderWizard',\n    'RequestQuoteAccessPoints',\n    'QuickOrderAccessPoints',\n    'RequestQuoteWizard',\n    'Case',\n    'BrontoIntegration',\n    'CMSadapterInstaller',\n    'Sensors',\n    'QuantityPricing',\n    'QuickOrder',\n    'GoogleMap',\n    'GoogleMap.Configuration',\n    'StoreLocatorAccessPoints',\n    'SC.CCT.Html'\n], function (a0, a1, a2, a3, a4, a5, a6, a7, a8, a9, a10, a11, a12, a13, a14, a15, a16, a17, a18, a19, a20, a21, a22, a23, a24, a25, a26, a27, a28, a29, a30, a31, a32, a33, a34, a35, a36, a37, a38, a39, a40, a41, a42, a43, a44, a45, a46, a47, a48, a49, a50) {\n    return Array.prototype.slice.call(arguments);\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\ndefine('SC.Extensions', ['underscore'], function (_) {\n    'use strict';\n    if (SC && SC.extensionModules) {\n        return _.map(SC.extensionModules, function (appModuleName) {\n            try {\n                return require(appModuleName);\n            } catch (error) {\n                console.error(error);\n            }\n        });\n    }\n    return [];\n});","/*\n\t© 2017 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\ndefine('SC.MyAccount.Starter', [\n    'SC.MyAccount',\n    'jQuery',\n    'underscore',\n    'Backbone',\n    'SC.MyAccount.Starter.Dependencies'    // Auto generated at build time using configuration from distro.json\n,\n    'SC.Extensions'\n], function (MyAccount, jQuery, _, Backbone, entryPointModules, entryPointExtensionsModules) {\n    'use strict';\n    // At starting time all the modules Array is initialized\n    entryPointModules = entryPointModules.concat(entryPointExtensionsModules);\n    jQuery(function () {\n        MyAccount.getConfig().siteSettings = SC.ENVIRONMENT.siteSettings || {};\n        MyAccount.start(entryPointModules, function () {\n            // Checks for errors in the context\n            if (SC.ENVIRONMENT.contextError) {\n                // Hide the header and footer.\n                MyAccount.getLayout().$('#site-header').hide();\n                MyAccount.getLayout().$('#site-footer').hide();\n                // Shows the error.\n                MyAccount.getLayout().internalError(SC.ENVIRONMENT.contextError.errorMessage, 'Error ' + SC.ENVIRONMENT.contextError.errorStatusCode + ': ' + SC.ENVIRONMENT.contextError.errorCode);\n            } else {\n                var fragment = _.parseUrlOptions(location.search).fragment;\n                if (fragment && !location.hash) {\n                    location.hash = decodeURIComponent(fragment);\n                }\n                Backbone.history.start();\n            }\n            MyAccount.getLayout().appendToDom();\n        });\n    });\n});","require.config({\n    'paths': {\n        'jQuery': 'jquery-1.11.1.custom',\n        'jasmine-ajax': 'mock-ajax',\n        'Backbone': 'backbone.custom',\n        'Backbone.Validation': 'backbone-validation',\n        'jQuery.bxSlider': 'jquery.bxslider.custom',\n        'Handlebars': 'handlebars.runtime-v4.0.10',\n        'typeahead': 'typeahead.bundle'\n    },\n    'shim': {\n        'jQuery': { 'exports': 'jQuery' },\n        'json2': { 'exports': 'JSON' },\n        'jquery.zoom': { 'deps': ['jQuery'] },\n        'jQuery.bxSlider': { 'deps': ['jQuery'] },\n        'bootstrap': { 'deps': ['jQuery'] },\n        'bootstrap-datepicker': {\n            'deps': [\n                'jQuery',\n                'bootstrap'\n            ]\n        },\n        'Backbone.Validation': { 'deps': ['Backbone'] },\n        'typeahead': { 'deps': ['jQuery'] }\n    },\n    'map': { 'jquery.cookie': { 'jquery': 'jQuery' } },\n    'findNestedDependencies': true,\n    'preserveComments': true,\n    'preserveFiles': false,\n    'baseUrl': '',\n    'configFile': null,\n    'exclude': [],\n    'excludeShallow': [],\n    'wrapShim': true\n});\nvar SCMyAccountStarter = require(['SC.MyAccount.Starter']);\ndefine('SC.MyAccount.Starter.index', ['SC.MyAccount.Starter'], function () {\n    return;\n});"]}